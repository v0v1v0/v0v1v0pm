<div class="container">

<table style="width: 100%;"><tr>
<td>get.map.lines.M3.proj</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get map lines in the model projection units</h2>

<h3>Description</h3>

<p>Get map lines in the model projection units.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get.map.lines.M3.proj(file, database = "state", units, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File name of Models3-formatted file providing the model
projection.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>
<p>Geographical database to use.  Choices include
“state” (default), “world”, “worldHires”,
“canusamex”, etc.  Use “canusamex” to get the national
boundaries of the Canada, the USA, and Mexico, along with the
boundaries of the states.  The other choices (“state”,
“world”, etc.) are the names of databases included with the
<span class="pkg">maps</span> and <span class="pkg">mapdata</span> packages. (See the
<code>map</code> function.)  Default is “state”.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Units for coordinates of grid rows or columns.  Must be
one of “m”, “km”, or “deg”.  If
unspecified, the default is “deg” if the file has a
longitude/latitude grid, and “km” otherwise.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass to <code>get.proj.info.M3</code>
function.  In this case, the only relevant argument would be the
earth radius to use for the projection in <code>file</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function depends on the <span class="pkg">maps</span> and <span class="pkg">mapdata</span>
packages to get the appropriate map boundary lines (for states,
countries, etc.), <span class="pkg">ncdf4</span> to read the projection information from
the Models3-formatted file (using a call to function
<code>get.proj.info.M3</code>), and <span class="pkg">sf</span> to project the boundary lines to the
specified projection.
</p>


<h3>Value</h3>

<p>Map lines for the projection described in <code>file</code> in either
kilometers or meters (depending on value of units.km).  This is a
matrix, with x-coordinates in the first column and y-coordinates in
the second column.
</p>


<h3>Warning</h3>

<p>This function will only work with Lambert conic
conformal or polar stereographic projections.
</p>


<h3>Author(s)</h3>

<p>Jenise Swall</p>


<h3>See Also</h3>

<p><code>get.proj.info.M3</code>, <code>map</code>,
<code>sf_project</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Find the path to the demo file.
polar.file &lt;- system.file("extdata/surfinfo_polar.ncf", package="M3")

## Read in the terrain elevation variable.
elev &lt;- get.M3.var(file=polar.file, var="HT")
## Make a plot.
image(elev$x.cell.ctr, elev$y.cell.ctr, elev$data[,,1],
      xlab="Projection x-coord (km)", ylab="Projection y-coord (km)",
      zlim=range(elev$data[,,1]), col=heat.colors(15))

## Superimpose national boundaries on the plot
nat.bds &lt;- get.map.lines.M3.proj(file=polar.file, database="world")$coords
lines(nat.bds)


## Subset to a smaller geographic area in southwestern U.S.
subset.elev &lt;- var.subset(elev, llx=-2000, urx=0, lly=-6500, ury=-4000)
## Make a plot of this subset.
image(subset.elev$x.cell.ctr, subset.elev$y.cell.ctr,
      subset.elev$data[,,1], xlab="Projection x-coord (km)",
      ylab="Projection y-coord (km)", zlim=range(subset.elev$data[,,1]),
      col=heat.colors(15))

## Superimpose Mexico, US, and Candadian national borders on the plot,
## along with state borders.
canusamex.borders &lt;- get.map.lines.M3.proj(file=polar.file, "canusamex")$coords
lines(canusamex.borders)
</code></pre>


</div>