<div class="container">

<table style="width: 100%;"><tr>
<td>project.M3.1.to.M3.2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Project coordinates based on projection in the first file to
the projection given in the second
</h2>

<h3>Description</h3>

<p>Project coordinates based on projection in the first
Models3-formatted file to the projection given in the second
Models3-formatted file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">project.M3.1.to.M3.2(x, y, from.file, to.file, units, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>x-coordinates in model units from projection in first file
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>y-coordinates in model units from projection in first file
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from.file</code></td>
<td>
<p>Name of Models3-formatted file with the same
model projection as <code>x</code> and <code>y</code>.  These coordinates will
be re-projected to the projection given in file2.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to.file</code></td>
<td>
<p>Name of Models3-formatted file with the model
projection to which you want <code>x</code> and <code>y</code> to be projected.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Units of <code>x</code> and <code>y</code>.  The coordinates returned
will also be in these units.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass to <code>get.proj.info.M3</code>
function.  In this case, the only relevant argument would be the
earth radius to use when doing the projections.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function calls <code>get.proj.info.M3</code> which reads
the projection information (using the package <span class="pkg">ncdf4</span>) and
transforms it to strings that are understood by functions in
<span class="pkg">sf</span>.
</p>


<h3>Value</h3>

<p> A list containing the elements <code>coords</code> and <code>units</code>.
The element <code>coords</code> contains a matrix of coordinates using
projection in <code>to.file</code>.  The element <code>units</code> contains
the units of the coordinates, which are the same as those specified
for input <code>x</code> and <code>y</code>.
</p>


<h3>Warning</h3>

<p>This function assumes the projections in
<code>from.file</code> and <code>to.file</code> are Lambert conic conformal or
polar stereographic.
</p>


<h3>Author(s)</h3>

<p>Jenise Swall</p>


<h3>See Also</h3>

<p><code>project.lonlat.to.M3</code>, <code>project.M3.to.lonlat</code>, <code>get.proj.info.M3</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Find the path to a demo file with lambert conic conformal projection.
lcc.file &lt;- system.file("extdata/ozone_lcc.ncf", package="M3")

## Read in the ozone for July 4 for eastern U.S.
lcc.oz &lt;- get.M3.var(file=lcc.file, var="O3",
                      lcol=90, ucol=130, lrow=30, urow=80,
                      ldatetime=as.Date("2001-07-04"),
                      udatetime=as.Date("2001-07-04"))

## Get the cell centers for this subset.
east.ctrs &lt;- expand.grid(lcc.oz$x.cell.ctr, lcc.oz$y.cell.ctr)
plot(east.ctrs, cex=0.3, xlab="x", ylab="y")

## Find map lines on this projection, superplot.
lcc.state.bds &lt;- get.map.lines.M3.proj(file=lcc.file)$coords
lines(lcc.state.bds, col="darkblue")


## Find the path to a demo file with polar stereographic projection.
polar.file &lt;- system.file("extdata/surfinfo_polar.ncf", package="M3")

## Put the cell centers from the subsetted ozone data on this polar
## stereographic projection.
polar.oz &lt;- project.M3.1.to.M3.2(east.ctrs[,1], east.ctrs[,2],
                                 from.file=lcc.file,
                                 to.file=polar.file,
                                 units=lcc.oz$hz.units)

## Plot the cells centers and boundary lines on the polar
## stereographic projection.
dev.new()
plot(polar.oz$coords)
polar.state.bds &lt;- get.map.lines.M3.proj(file=polar.file)$coords
lines(polar.state.bds, col="darkblue")
</code></pre>


</div>