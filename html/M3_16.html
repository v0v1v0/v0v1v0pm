<div class="container">

<table style="width: 100%;"><tr>
<td>project.M3.to.lonlat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Project coordinates from model units to longitude/latitude</h2>

<h3>Description</h3>

<p>Project coordinates from model units (as specified
according to the projection given by a user-designated
Models3-formatted file) to longitude/latitude.
</p>


<h3>Usage</h3>

<pre><code class="language-R">project.M3.to.lonlat(x, y, file, units, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>x-coordinates of points in model units (meters or kilometers,
depeding on the value of <code>units</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>y-coordinates of points in model units  (meters or kilometers,
depeding on the value of <code>units</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Name of Models3-formatted file with the same projection as
<code>x</code> and <code>y</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Units of <code>x</code> and <code>y</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass to <code>get.proj.info.M3</code>
function.  In this case, the only relevant argument would be the
earth radius to use for the projection in <code>file</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the function <code>sf_project</code>
from the package <span class="pkg">sf</span> to project to longitude/latitude given
the projection defined by the Models3-formatted file.
</p>


<h3>Value</h3>

<p>A list containing the elements <code>coords</code> and <code>units</code>.
The element <code>coords</code> contains a matrix of coordinates in
longitude/latitude.  The element <code>units</code> contains the string
"deg" to designate that <code>coords</code> is in degrees of
longitude/latitude.
</p>


<h3>Author(s)</h3>

<p>Jenise Swall</p>


<h3>See Also</h3>

<p><code>project.lonlat.to.M3</code>,
<code>project.M3.1.to.M3.2</code>, <code>get.proj.info.M3</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## List of state capital longitudes/latitudes
## (from http://www.xfront.com/us_states).
capitals &lt;- data.frame(x=c(-84.39,-86.28,-81.04,-86.78,-78.64,-84.86),
                       y=c(33.76,32.36,34.00,36.17,35.77,38.20),
                       name=c("Atlanta", "Montgomery", "Columbia",
                                 "Nashville", "Raleigh", "Frankfort")
                        )
## Plot these on a map, with state lines.
plot(capitals$x, capitals$y)
map("state", add=TRUE)

## Now, put these on the same Lambert conic conformal projection used
## in the demo file below.
lcc.file &lt;- system.file("extdata/ozone_lcc.ncf", package="M3")
lcc.capitals &lt;- project.lonlat.to.M3(capitals$x, capitals$y, lcc.file)

## Now, project them back to longitude/latitude, make sure we get the
## same thing we started with.
chk.capitals &lt;- project.M3.to.lonlat(lcc.capitals$coords[,"x"],
                                     lcc.capitals$coords[,"y"],
                                     lcc.file,
                                     units=lcc.capitals$units)
## These differences should be 0 or something very tiny.
summary(capitals[,c("x", "y")] - chk.capitals$coords)
</code></pre>


</div>