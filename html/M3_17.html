<div class="container">

<table style="width: 100%;"><tr>
<td>var.subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subset the array resulting from a call to <code>get.M3.var</code>.
</h2>

<h3>Description</h3>

<p>Subset the array resulting from a call to
<code>get.M3.var</code> using projection units and/or human-readable
dates and times.
</p>


<h3>Usage</h3>

<pre><code class="language-R">var.subset(var.info, llx, urx, lly, ury, ldatetime, udatetime,
           hz.strict=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var.info</code></td>
<td>
<p>Variable list given by function <code>get.M3.var</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>llx</code></td>
<td>
<p>Lower x-coordinate bound for the subsetted grid
using the same units given in element <code>hz.units</code> of
<code>var.info</code>.  Default is the left boundary of the grid.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>urx</code></td>
<td>
<p>Upper x-coordinate bound for the subsetted grid
using the same units given in element <code>hz.units</code> of
<code>var.info</code>.  Default is the right boundary of the grid.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lly</code></td>
<td>
<p>Lower y-coordinate bound for the subsetted grid
using the same units given in element <code>hz.units</code> of
<code>var.info</code>.  Default is the lower boundary of the grid.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ury</code></td>
<td>
<p>Upper y-coordinate bound for the subsetted grid
using the same units given in element <code>hz.units</code> of
<code>var.info</code>.  Default is the upper boundary of the grid.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ldatetime</code></td>
<td>
<p>Beginning date-time (either Date or POSIX
class) bound for the subset.  Default is earliest date-time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>udatetime</code></td>
<td>
<p>Ending date-time (either Date or POSIX
class) bound for the subset.  Default is latest date-time.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hz.strict</code></td>
<td>
<p>If TRUE (default), to be allowed in the
subset, the whole grid cell must fit within the bounds given by
llx, urx, lly, and ury.  If FALSE, grid cells will be included
in the subset if any portion of the grid cell's area falls
within the given bounds.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the user wants to subset the variable by row, column, layer,
or time step number, this can be accomplished easily using standard R
methods for subsetting the array of variable values.  This function
was written to help the user who does not know the row, column, or
time step numbers, but who wants to subset according to human-readable
dates and times or according to projection units.
</p>


<h3>Value</h3>

<p>Subsetted array of variable values.  (The array's format is
preserved.)
</p>


<h3>Author(s)</h3>

<p>Jenise Swall</p>


<h3>References</h3>

<p><a href="https://www.cmascenter.org/ioapi/documentation/all_versions/html/VBLE.html">https://www.cmascenter.org/ioapi/documentation/all_versions/html/VBLE.html</a>, <br><a href="https://www.cmascenter.org/ioapi/documentation/all_versions/html/DATETIME.html">https://www.cmascenter.org/ioapi/documentation/all_versions/html/DATETIME.html</a>
</p>


<h3>See Also</h3>

<p><code>get.M3.var</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Find the path to the demo file.
polar.file &lt;- system.file("extdata/surfinfo_polar.ncf", package="M3")

## Read in the terrain elevation variable.
elev &lt;- get.M3.var(file=polar.file, var="HT")
## Make a plot.
image(elev$x.cell.ctr, elev$y.cell.ctr, elev$data[,,1],
      xlab="Projection x-coord (km)", ylab="Projection y-coord (km)",
      zlim=range(elev$data[,,1]), col=heat.colors(15))

## Subset to a smaller geographic area in southwestern U.S.
subset.elev &lt;- var.subset(elev, llx=-2000, urx=0, lly=-6500, ury=-4000)
## Make a plot of this subset.
image(subset.elev$x.cell.ctr, subset.elev$y.cell.ctr,
      subset.elev$data[,,1], xlab="Projection x-coord (km)",
      ylab="Projection y-coord (km)", zlim=range(subset.elev$data[,,1]),
      col=heat.colors(15))

## Superimpose U.S. state boundaries on the plot.
state.bds &lt;- get.map.lines.M3.proj(file=polar.file)$coords
lines(state.bds)
</code></pre>


</div>