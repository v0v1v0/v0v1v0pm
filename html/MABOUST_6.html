<div class="container">

<table style="width: 100%;"><tr>
<td>SimMABOUST</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate the MABOUST Trial design.</h2>

<h3>Description</h3>

<p>Simulates trial replicates of the MABOUST trial and reports Operating Characteristics (OCs).
</p>


<h3>Usage</h3>

<pre><code class="language-R">SimMABOUST(
  nSims,
  NLOOK,
  nTreat,
  nCat,
  UT,
  DeltaVEC,
  gamma,
  PSPIKE,
  ADJ,
  B,
  PROBS,
  Beta,
  XPROB
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>Number of trial replications to complete.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NLOOK</code></td>
<td>
<p>Vector containing how many patients should be evaluated before each interim decision.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nTreat</code></td>
<td>
<p>Number of treatments in consideration, i.e. K.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCat</code></td>
<td>
<p>Number of ordinal outcome categories, i.e. J.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UT</code></td>
<td>
<p>Vector of numerical utility scores to give outcomes 1,...,J.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DeltaVEC</code></td>
<td>
<p>Vector of <code class="reqn">\bf{\Delta}</code> values to test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>Length 3 vector of cutoff parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PSPIKE</code></td>
<td>
<p>Prior probability of a pairwise null effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ADJ</code></td>
<td>
<p>Binary indicator of whether covariate adjustment is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of MCMC iterations to perform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PROBS</code></td>
<td>
<p>K-list of J-vectors containing ordinal outcome probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Beta</code></td>
<td>
<p>Covariate Effect Vector on Outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XPROB</code></td>
<td>
<p>List of matrices containing discrete values various covariates can take, along with their probabilities.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The set of active treatments to continue, an optimal treatment, or a set of equally optimal treatments. Also reports posterior mean utilities and ordinal outcome probabilities as well as pairwise comparisons of utility similarity, when appropriate.
</p>


<h3>References</h3>

<p>Chapple, A.G., Bennani, Y., Clement, M. (2020). "MABOUST: A Multi-Armed Bayesian Ordinal Outcome Utility-Based Sequential Trial". Submitted.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Clinical Parameters
nCat = 6
nTreat = 3
UT = c(0,10,20,80,90,100)  ###Utilities
DeltaVEC  = c(5,10)   ###Vector of deltas to try
NLOOK = c(20,50)  ###Interim Looks
###Which treatments are active?
ACTIVE = c(1,0,1) ###Treatments 1, 3 are active
FUTILITY = 1 ###Futility look is allowed.
###Design parameters
gamma= c(.5, .05, .05)
PSPIKE = .9
set.seed(1)
##Generate Random Data
n=300
Y=sample(1:nCat,n,replace=TRUE)
T1 = sample(1:nTreat,n,replace=TRUE)
XPROB = as.list(rep(NA,3))
XPROB[[1]]=rbind(0:10,round(dpois(0:10,2),2)) ###CCI
XPROB[[2]]=rbind(c(-1,0,1),c(.5,.4,.1)) ###O2 Status
XPROB[[3]]=rbind(c(-2,-1,0,1),c(.27,.38,.18,.17))
Beta =
###Number of iterations
B=100
##Get Simulation Parameters
 #' ##Get Simulation Parameters
 PROBS = as.list(rep(NA,3))
 PROBS[[1]]=c(.33,.11,.42,.02,.11,.01)
 PROBS[[2]]=c(.24,.11,.48,.05,.11,.01)
 PROBS[[3]]=c(.14, .20, .48, .03, .12, .03)
 Beta=c(-.13, -.07, -.10)
 nSims=1 ##Number of sims to run
 ADJ=1
 SimMABOUST(nSims,NLOOK, nTreat,nCat, UT, DeltaVEC,gamma,PSPIKE,ADJ, B, PROBS, Beta, XPROB)
</code></pre>


</div>