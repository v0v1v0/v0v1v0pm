<div class="container">

<table style="width: 100%;"><tr>
<td>intensityMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Converts a list of MassPeaks objects into a matrix.
</h2>

<h3>Description</h3>

<p>This function converts a <code>list</code> of
<code>MassPeaks</code> objects into a <code>matrix</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">intensityMatrix(peaks, spectra)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>peaks</code></td>
<td>

<p><code>list</code>, list of <code>MassPeaks</code> objects.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spectra</code></td>
<td>

<p><code>list</code>, list of <code>MassSpectrum</code> objects. If a peak
is missing the corresponding intensity value of the spectrum is used. If
<code>spectra</code> is missing <code>NA</code> is used instead.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>peaks</code> have to be binned by <code>binPeaks</code> before
calling <code>intensityMatrix</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>matrix</code> containing intensities of all
<code>MassPeaks</code> objects of <code>peaks</code> and interpolated
intensity values for missing peaks if <code>spectra</code> was given or <code>NA</code>
otherwise. <br>
The <code>matrix</code> has <code>length(peaks)</code> rows
(one row for each sample) and <code>length(unique(mass))</code> columns.
There is an additional attribute <code>"mass"</code> that stores the mass values.
</p>


<h3>Author(s)</h3>

<p>Sebastian Gibb <a href="mailto:mail@sebastiangibb.de">mail@sebastiangibb.de</a>
</p>


<h3>See Also</h3>

<p><code>binPeaks</code>,
<code>MassPeaks</code>,
<code>MassSpectrum</code>
</p>
<p>Website: <a href="https://strimmerlab.github.io/software/maldiquant/">https://strimmerlab.github.io/software/maldiquant/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load package
library("MALDIquant")

## create example MassPeaks objects
p &lt;- list(createMassPeaks(mass=1:4,
                          intensity=11:14,
                          metaData=list(name="test mass peaks 1")),
          createMassPeaks(mass=2:5,
                          intensity=22:25,
                          metaData=list(name="test mass peaks 2")))

## converts MassPeaks objects into a matrix
intensityMatrix(p)


## realistic example

## load example data
data("fiedler2009subset", package="MALDIquant")

## transform intensities
s &lt;- transformIntensity(fiedler2009subset, method="sqrt")

## smoothing spectrum
s &lt;- smoothIntensity(s, method="MovingAverage")

## remove baseline
s &lt;- removeBaseline(s)

## call peak detection
p &lt;- detectPeaks(s)

## bin peaks
p &lt;- binPeaks(p)

## convert MassPeaks objects into a matrix with missing intensity
## values
intensityMatrix(p)

## convert MassPeaks and MassSpectrum objects into a matrix without
## missing intensity values
intensityMatrix(p, s)
</code></pre>


</div>