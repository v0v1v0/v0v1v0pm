<div class="container">

<table style="width: 100%;"><tr>
<td>msiSlices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Turn a list of AbstractMassObjects into a mass spectrometry imaging
slice.</h2>

<h3>Description</h3>

<p>This function turns a mass spectrometry imaging dataset represented by a
<code>list</code> of <code>AbstractMassObject</code> objects into an
<code>intensityMatrix</code> for each slice (stored in an
<code>array</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">msiSlices(x, center, tolerance, method=c("sum", "mean", "median"), adjust=TRUE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>list</code> of <code>MassSpectrum</code>/
<code>MassPeaks</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p><code>double</code>, the <code>center</code> mass value of each slice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p><code>double</code>, specifies the thickness of the slices
(<code>center + c(-tolerance, tolerance)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>used aggregation function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p><code>logical</code>, if <code>TRUE</code> the lowest coordinates of the
mass spectrometry imaging dataset are set to <code>c(x=1, y=1)</code> to avoid
<code>NA</code> values at the borders.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each <code>MassSpectrum</code>/<code>MassPeaks</code> object in
<code>x</code> must contain a <code>list</code> named <code>imaging</code> with an element
<code>pos</code> that stores the <code>x</code> and <code>y</code> value of the spectrum, e.g.:
</p>
<pre>
&gt; metaData(spectra[[1]])$imaging$pos
x y
1 5
</pre>


<h3>Value</h3>

<p>Returns an <code>array</code> of three dimensions. The first and second
dimensions contains the x and y coordinates of the image. The third dimension
represents the index of the <code>center</code> of each slice. There are two
additional attributes, namely <code>"center"</code> and <code>"tolerance"</code> which store
the original <code>center</code> and <code>tolerance</code> information.
</p>


<h3>Author(s)</h3>

<p>Sebastian Gibb <a href="mailto:mail@sebastiangibb.de">mail@sebastiangibb.de</a>
</p>


<h3>See Also</h3>

<p><code>AbstractMassObject</code>,
<code>MassSpectrum</code>,
<code>MassPeaks</code>,
<code>coordinates,AbstractMassObject-method</code>,
<code>plotMsiSlice,list-method</code>
</p>
<p>Please find real examples on:
</p>
<p>Website: <a href="https://strimmerlab.github.io/software/maldiquant/">https://strimmerlab.github.io/software/maldiquant/</a>
</p>
<p>Vignette: <a href="https://github.com/sgibb/MALDIquantExamples/raw/master/inst/doc/nyakas2013.pdf">https://github.com/sgibb/MALDIquantExamples/raw/master/inst/doc/nyakas2013.pdf</a>
</p>
<p>Shiny: <a href="https://github.com/sgibb/ims-shiny/">https://github.com/sgibb/ims-shiny/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load package
library("MALDIquant")

## load example data
data("fiedler2009subset", package="MALDIquant")

## please note: this is NOT a MSI data set
## we just add some coordinates for demonstration
coordinates(fiedler2009subset) &lt;- cbind(x=rep(1:4, 2), y=rep(1:2, each=4))

slices &lt;- msiSlices(fiedler2009subset, center=c(5864.49, 8936.97),
                    tolerance=0.25)

slices
</code></pre>


</div>