<div class="container">

<table style="width: 100%;"><tr>
<td>plotMsiSlice-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots a Mass Spectrometry Imaging dataset.</h2>

<h3>Description</h3>

<p>This function allows to plot a slice of a mass spectrometry imaging dataset
represented by a <code>list</code> of <code>AbstractMassObject</code> objects
or an <code>array</code> or a <code>matrix</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'list'
plotMsiSlice(x, center, tolerance,
  colRamp=colorRamp(c("black", "blue", "green", "yellow", "red")),
  interpolate=FALSE, legend=TRUE, alignLabels=FALSE, combine=FALSE,
  ...)
## S4 method for signature 'array'
plotMsiSlice(x,
  colRamp=colorRamp(c("black", "blue", "green", "yellow", "red")),
  interpolate=FALSE, legend=TRUE, alignLabels=FALSE, combine=FALSE,
  plotInteractive=FALSE, ...)
## S4 method for signature 'matrix'
plotMsiSlice(x,
  colRamp=colorRamp(c("black", "blue", "green", "yellow", "red")),
  interpolate=FALSE, scale=TRUE, legend=scale, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The mass spectrometry imaging dataset. It could be a <code>list</code> of
<code>MassSpectrum</code>/<code>MassPeaks</code> objects or
an <code>array</code> (e.g. generated by <code>msiSlices</code>) or
a <code>matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p><code>double</code>, if <code>x</code> is a <code>list</code> of
<code>MassSpectrum</code>/<code>MassPeaks</code> objects
this argument represent the <em>center</em> mass value of the slices,
see <code>msiSlices</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tolerance</code></td>
<td>
<p><code>double</code>, if <code>center</code> is given <code>tolerance</code>
specifies the thickness of the slices (<code>center + c(-tolerance,
    tolerance)</code>), see <code>msiSlices</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colRamp</code></td>
<td>
<p>colours as <code>colorRamp</code> <code>function</code>, see
<code>colorRamp</code> for details. If <code>combine=TRUE</code>
multiple colour functions must be applied as <code>list</code> with an length that
equals the number of given centers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpolate</code></td>
<td>
<p><code>logical</code>, use linear interpolation when drawing the
image, see <code>rasterImage</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p><code>logical</code>, if <code>TRUE</code> all values are divided by the
maximal value of the slice to get values between 0 and 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p><code>logical</code>, if <code>TRUE</code> a reference color gradient is
plotted on the right hand side of the plot. The upper color represents the
highest value in the slice and the lower color the lowest value
respectively. The <code>legend</code> is disabled if <code>scale=FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alignLabels</code></td>
<td>
<p><code>logical</code>, if <code>combine=TRUE</code> and
<code>alignLabels=TRUE</code> the center positions below the legend are aligned
on the right margin otherwise the aligned to their corresponding gradient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>combine</code></td>
<td>
<p><code>logical</code>, if <code>TRUE</code> multiple centers are plotted in
one image. Therefore it would be necessary to apply a list of <code>colRamp</code>
functions (one function for each center). The intensity values for each
center of each pixel are compared against each other and the highest scaled
intensity determines the center (and the corresponding <code>colRamp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotInteractive</code></td>
<td>

<p><code>logical</code>, if the slice <code>array</code> contains multiple centers,
<code>combine=FALSE</code> and an interactive plotting device is used a warning is
thrown and only the first center would be plotted. Use
<code>plotInteractive=TRUE</code> to overwrite this behaviour and to plot multiple
centers on an interactive device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed to <code>plot</code>, e.g.
<code>main</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each <code>MassSpectrum</code>/<code>MassPeaks</code> object in
<code>x</code> must contain a <code>list</code> named <code>imaging</code> with an element
<code>pos</code> that stores the <code>x</code> and <code>y</code> value of the spectrum, e.g.:
</p>
<pre>
&gt; metaData(spectra[[1]])$imaging$pos
x y
1 5
</pre>


<h3>Author(s)</h3>

<p>Sebastian Gibb <a href="mailto:mail@sebastiangibb.de">mail@sebastiangibb.de</a>
</p>


<h3>See Also</h3>

<p><code>AbstractMassObject</code>,
<code>MassSpectrum</code>,
<code>MassPeaks</code>,
<code>coordinates,AbstractMassObject-method</code>,
<code>msiSlices</code>,
<code>plot,MassSpectrum,missing-method</code>
</p>
<p>Please find real examples on:
</p>
<p>Website: <a href="https://strimmerlab.github.io/software/maldiquant/">https://strimmerlab.github.io/software/maldiquant/</a>
</p>
<p>Vignette: <a href="https://github.com/sgibb/MALDIquantExamples/raw/master/inst/doc/nyakas2013.pdf">https://github.com/sgibb/MALDIquantExamples/raw/master/inst/doc/nyakas2013.pdf</a>
</p>
<p>Shiny: <a href="https://github.com/sgibb/ims-shiny/">https://github.com/sgibb/ims-shiny/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load package
library("MALDIquant")

## load example data
data("fiedler2009subset", package="MALDIquant")

## please note: this is NOT a MSI data set
## we just add some coordinates for demonstration
coordinates(fiedler2009subset) &lt;- cbind(x=rep(1:4, 2), y=rep(1:2, each=4))

plotMsiSlice(fiedler2009subset, center=8936.97, tolerance=0.25)

plotMsiSlice(fiedler2009subset, center=c(5864.49, 8936.97), tolerance=0.25,
             combine=TRUE,
             colRamp=list(colorRamp(c("#000000", "#FF00FF")),
                          colorRamp(c("#000000", "#00FF00"))))
</code></pre>


</div>