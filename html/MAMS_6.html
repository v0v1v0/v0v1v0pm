<div class="container">

<table style="width: 100%;"><tr>
<td>ordinal.mams</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to design multi-arm multi-stage studies with ordinal or binary
endpoints</h2>

<h3>Description</h3>

<p>The function determines (approximately) the boundaries of a
multi-arm multi-stage study with ordinal or binary endpoints for a given
boundary shape and finds the required number of subjects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ordinal.mams(
  prob = c(0.35, 0.4, 0.25),
  or = 2,
  or0 = 1.2,
  K = 4,
  J = 2,
  alpha = 0.05,
  power = 0.9,
  r = 1:2,
  r0 = 1:2,
  ushape = "obf",
  lshape = "fixed",
  ufix = NULL,
  lfix = 0,
  nstart = 1,
  nstop = NULL,
  sample.size = TRUE,
  Q = 20,
  parallel = TRUE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Vector of expected probabilities of falling into each category
under control conditions. The elements must sum up to one
(default=c(0.35, 0.4, 0.25)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>or</code></td>
<td>
<p>Interesting treatment effect on the scale of odds ratios
(default=2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>or0</code></td>
<td>
<p>Uninteresting treatment effect on the scale of odds ratios
(default=1.2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Number of experimental treatments (default=4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>Number of stages (default=2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>One-sided familywise error rate (default=0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Desired power (default=0.9).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Vector of allocation ratios (default=1:2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r0</code></td>
<td>
<p>Vector ratio on control (default=1:2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ushape</code></td>
<td>
<p>Shape of upper boundary. Either a function specifying the
shape or one of "pocock", "obf" (the default), "triangular" and "fixed".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lshape</code></td>
<td>
<p>Shape of lower boundary. Either a function specifying the
shape or one of "pocock", "obf", "triangular" and "fixed" (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ufix</code></td>
<td>
<p>Fixed upper boundary (default=NULL). Only used if shape="fixed".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lfix</code></td>
<td>
<p>Fixed lower boundary (default=0). Only used if shape="fixed".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstart</code></td>
<td>
<p>Starting point for finding the sample size (default=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstop</code></td>
<td>
<p>Stopping point for finding the sample size (default=NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>
<p>Logical if sample size should be found as well
(default=TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>Number of quadrature points per dimension in the outer integral
(default=20).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>if TRUE (default), allows parallelisation of the computation
via a user-defined strategy specified by means of the function
future::plan(). If not set differently, the default strategy is sequential,
which corresponds to a computation without parallelisation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>if TRUE (default), indicate at which stage the computation is.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function finds the (approximate) boundaries and sample size of
a multi-arm multi-stage study with ordinal or binary endpoints with K active
treatments plus control in which all promising treatments are continued at
interim analyses as described in Magirr et al (2012). It is a wrapper around
the basic mams function to facilitate its use with ordinal and binary
endpoints, following ideas of Whitehead &amp; Jaki (2009) and Jaki &amp; Magirr
(2013). For a binary endpoint the vector prob has only two elements
(success/failure, yes/no, etc.). See mams for further details on the basic
methodology.
</p>


<h3>Value</h3>

<p>An object of the class MAMS containing the following components: <br></p>
<table>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>Vector of expected probabilities of falling into each category
under control conditions. The elements must sum up to one
(default=<code>c(0.35, 0.4, 0.25)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>or</code></td>
<td>
<p>Interesting treatment effect on the scale of odds ratios
(default=<code>2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>or0</code></td>
<td>
<p>Uninteresting treatment effect on the scale of odds ratios
(default=<code>1.2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Number of experimental treatments (default=<code>4</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>J</code></td>
<td>
<p>Number of stages (default=<code>2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>One-sided familywise error rate (default=<code>0.05</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>Desired power (default=<code>0.9</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>Vector of allocation ratios (default=<code>1:2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r0</code></td>
<td>
<p>Vector ratio on control (default=<code>1:2</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ushape</code></td>
<td>
<p>Shape of upper boundary. Either a function specifying the
shape or one of <code>"pocock"</code>, <code>"obf"</code> (the default),
<code>"triangular"</code> and <code>"fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lshape</code></td>
<td>
<p>Shape of lower boundary. Either a function specifying the
shape or one of <code>"pocock"</code>, <code>"obf"</code>, <code>"triangular"</code> and
<code>"fixed"</code> (the default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ufix</code></td>
<td>
<p>Fixed upper boundary (default=<code>NULL</code>). Only used if
<code>shape="fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lfix</code></td>
<td>
<p>Fixed lower boundary (default=<code>0</code>). Only used if
<code>shape="fixed"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstart</code></td>
<td>
<p>Starting point for finding the sample size
(default=<code>1</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstop</code></td>
<td>
<p>Stopping point for finding the sample size
(default=<code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>
<p>Logical if sample size should be found as well
(default=<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Number of quadrature points per dimension in the outer integral
(default=<code>20</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>if <code>TRUE</code> (default), allows parallelisation of the
computation via a user-defined strategy specified by means of the function
<code>future::plan()</code>. If not set differently,
the default strategy is <code>sequential</code>, which corresponds to a
computation without parallelisation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>if <code>TRUE</code> (default), indicate at which stage the
computation is.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Philip Pallmann
</p>


<h3>References</h3>

<p>Jaki T., Pallmann P. and Magirr D. (2019), The R Package MAMS for Designing
Multi-Arm Multi-Stage Clinical Trials, Journal of Statistical Software,
88(4), 1-25. Link: doi:10.18637/jss.v088.i04
</p>
<p>Magirr D., Jaki T. and Whitehead J. (2012), A generalized Dunnett test for
multi-arm multi-stage clinical studies with treatment selection, Biometrika,
99(2), 494-501. Link: doi:10.1093/biomet/ass002
</p>
<p>Magirr D., Stallard N. and Jaki T. (2014), Flexible sequential designs for
multi-arm clinical trials, Statistics in Medicine, 33(19), 3269-3279. Link:
doi:10.1002/sim.6183
</p>
<p>Pocock S.J. (1977), Group sequential methods in the design and analysis of
clinical trials, Biometrika, 64(2), 191-199.
</p>
<p>O'Brien P.C., Fleming T.R. (1979), A multiple testing procedure for clinical
trials, Biometrics, 35(3), 549-556.
</p>
<p>Whitehead J. (1997), The Design and Analysis of Sequential Clinical Trials,
Wiley: Chichester, UK.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## An example based on the example in Whitehead &amp; Jaki (2009)
# 2-stage design with triangular efficacy and futility boundaries
prob &lt;- c(0.075, 0.182, 0.319, 0.243, 0.015, 0.166)
ordinal.mams(prob=prob, or=3.06, or0=1.32, K=3, J=2, alpha=0.05,
                 power=0.9, r=1:2, r0=1:2, ushape="triangular",
                 lshape="triangular")
# same example with parallelisation via separate R sessions running in the
# background
future::plan(multisession)
ordinal.mams(prob=prob, or=3.06, or0=1.32, K=3, J=2, alpha=0.05,
                 power=0.9, r=1:2, r0=1:2, ushape="triangular",
                 lshape="triangular", parallel=TRUE)
future::plan("default")

</code></pre>


</div>