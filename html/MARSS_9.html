<div class="container">

<table style="width: 100%;"><tr>
<td>plot.marssResiduals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Plot MARSS marssResiduals objects </h2>

<h3>Description</h3>

<p>Plots residuals using the output from a <code>residuals()</code> call. By default all available residuals plots are plotted.  Individual plots can be plotted by passing in <code>plot.type</code>.  If an individual plot is made using <code>autoplot()</code>, the ggplot object is returned which can be further manipulated. Plots are only shown for those residual types in the <code>marssResiduals</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'marssResiduals'
plot(x, plot.type = c("all", "residuals", "qqplot", "acf"), 
                   conf.int = TRUE, conf.level = 0.95, decorate = TRUE,
                   plot.par = list(), silent = FALSE, ...)
## S3 method for class 'marssResiduals'
autoplot(x, 
           plot.type = c("all", "residuals", "qqplot", "acf"), 
           conf.int = TRUE, conf.level = 0.95, decorate = TRUE, 
           plot.par = list(), 
           silent = FALSE)
  </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> A <code>marssResiduals</code> object.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.type</code></td>
<td>
<p> Type of plot.  If not passed in, all plots are drawn. See details for plot types.  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p> TRUE/FALSE. Whether to include a confidence interval. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p> Confidence level for CIs. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decorate</code></td>
<td>
<p> TRUE/FALSE. Add smoothing lines to residuals plots or qqline to qqplots and add data points plus residuals confidence intervals to states and observations plots. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.par</code></td>
<td>
<p> A list of plot parameters to adjust the look of the plots.  The default is list(point.pch = 19, point.col = "blue", point.fill = "blue", point.size = 1,
line.col = "black", line.size = 1, line.linetype = "solid",
ci.fill = "grey70", ci.col = "grey70", ci.linetype = "solid", 
ci.linesize = 0, ci.alpha = 0.6). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p> No console interaction or output. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Not used. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>resids &lt;- residuals(x)</code> is used (default) where <code>x</code> is a <code>marssMLE</code> object from a <code>MARSS()</code> call, then <code>resids</code> has the innovations residuals, or one-step-ahead residuals. These are what are commonly used for residuals diagnostics in state-space modeling. However, other types of residuals are possible for state-space models; see <code>MARSSresiduals()</code> for details. The plot function for <code>marssResiduals</code> objects will handle all types of residuals that might be in the <code>marssResiduals</code> object. However if you simply use the default behavior, <code>resids &lt;- residuals(x)</code> and <code>plot(resids)</code>, you will get the standard model residuals diagnostics plots for state-space models, i.e. only model residuals plots and only plots for innovations model residuals (no smoothations model residuals).
</p>
<p>The plot types are as follows:
</p>

<dl>
<dt><code>"all"</code></dt>
<dd>
<p> All the residuals in the residuals object plus QQ plots and ACF plots. </p>
</dd>
<dt><code>"residuals"</code></dt>
<dd>
<p> Only residuals versus time. </p>
</dd>
<dt><code>"qqplot"</code></dt>
<dd>
<p> Only QQ plots. Visual normality test for the residuals.</p>
</dd> 
<dt><code>"acf"</code></dt>
<dd>
<p> ACF of the residuals. If <code>x$type is "ytt1"</code>, these are the one-step-ahead (aka innovations) residuals and they should be temporally independent. </p>
</dd>
</dl>
<h3>Value</h3>

<p>If an individual plot is selected using <code>plot.type</code> and <code>autoplot()</code> is called, then the ggplot object is returned invisibly.
</p>


<h3>Author(s)</h3>

 
<p>Eli Holmes
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(harborSealWA)
model.list &lt;- list( Z = as.factor(c(1, 1, 1, 1, 2)), R = "diagonal and equal")
fit &lt;- MARSS(t(harborSealWA[, -1]), model = model.list)
resids &lt;- residuals(fit)

require(ggplot2)
# plots of residuals versus time, QQ-norm plot, and ACF
autoplot(resids)

# only the ACF plots
# autoplot(resids, plot.type = "acf")

</code></pre>


</div>