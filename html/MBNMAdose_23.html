<div class="container">

<table style="width: 100%;"><tr>
<td>dspline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Spline dose-response functions</h2>

<h3>Description</h3>

<p>Used to fit B-splines, natural cubic splines, and
piecewise linear splines(Perperoglu et al. 2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">dspline(
  type = "bs",
  knots = 1,
  degree = 1,
  beta.1 = "rel",
  beta.2 = "rel",
  beta.3 = "rel",
  beta.4 = "rel"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of spline. Can take <code>"bs"</code> (<a href="https://mathworld.wolfram.com/B-Spline.html">B-spline</a>),
<code>"ns"</code> (<a href="https://mathworld.wolfram.com/CubicSpline.html">natural cubic spline</a>),
or <code>"ls"</code> (piecewise linear spline)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>The number/location of spline internal knots. If a single number is given it indicates the number of knots (they will
be equally spaced across the range of doses <em>for each agent</em>). If a numeric vector is given it indicates the location of the knots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>The degree of the piecewise B-spline polynomial - e.g. <code>degree=1</code> for linear, <code>degree=2</code> for quadratic, <code>degree=3</code> for cubic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.1</code></td>
<td>
<p>Pooling for the 1st coefficient. Can take <code>"rel"</code>, <code>"common"</code>, <code>"random"</code> or be
assigned a numeric value (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.2</code></td>
<td>
<p>Pooling for the 2nd coefficient. Can take <code>"rel"</code>, <code>"common"</code>, <code>"random"</code> or be
assigned a numeric value (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.3</code></td>
<td>
<p>Pooling for the 3rd coefficient. Can take <code>"rel"</code>, <code>"common"</code>, <code>"random"</code> or be
assigned a numeric value (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta.4</code></td>
<td>
<p>Pooling for the 4th coefficient. Can take <code>"rel"</code>, <code>"common"</code>, <code>"random"</code> or be
assigned a numeric value (see details).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of <code>class("dosefun")</code>
</p>


<h3>Dose-response parameters</h3>


<table>
<tr>
<td style="text-align: left;">
   <strong>Argument</strong> </td>
<td style="text-align: left;"> <strong>Model specification</strong> </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"rel"</code> </td>
<td style="text-align: left;"> Implies that <em>relative</em> effects should be pooled for this dose-response parameter separately for each agent in the network. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"common"</code> </td>
<td style="text-align: left;"> Implies that all agents share the same common effect for this dose-response parameter. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>"random"</code> </td>
<td style="text-align: left;"> Implies that all agents share a similar (exchangeable) effect for this dose-response parameter. This approach allows for modelling of variability between agents. </td>
</tr>
<tr>
<td style="text-align: left;">
   <code>numeric()</code> </td>
<td style="text-align: left;"> Assigned a numeric value, indicating that this dose-response parameter should not be estimated from the data but should be assigned the numeric value determined by the user. This can be useful for fixing specific dose-response parameters (e.g. Hill parameters in Emax functions) to a single value. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>When relative effects are modelled on more than one dose-response parameter,
correlation between them is automatically estimated using a vague inverse-Wishart prior.
This prior can be made slightly more informative by specifying the scale matrix <code>omega</code>
and by changing the degrees of freedom of the inverse-Wishart prior
using the <code>priors</code> argument in <code>mbnma.run()</code>.
</p>


<h3>References</h3>

<p>Perperoglu A, Sauerbrei W, Abrahamowicz M, Schmid M (2019).
“A review of spline function procedures in R.”
<em>BMC Medical Research Methodology</em>, <b>19</b>(46), 1-16.
<a href="https://doi.org/10.1186/s12874-019-0666-3">doi:10.1186/s12874-019-0666-3</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Second order B spline with 2 knots and random effects on the 2nd coefficient
dspline(type="bs", knots=2, degree=2,
  beta.1="rel", beta.2="rel")

# Piecewise linear spline with knots at 0.1 and 0.5 quantiles
# Single parameter independent of treatment estimated for 1st coefficient
#with random effects
dspline(type="ls", knots=c(0.1,0.5),
  beta.1="random", beta.2="rel")

</code></pre>


</div>