<div class="container">

<table style="width: 100%;"><tr>
<td>genspline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generates spline basis matrices for fitting to dose-response function</h2>

<h3>Description</h3>

<p>Generates spline basis matrices for fitting to dose-response function
</p>


<h3>Usage</h3>

<pre><code class="language-R">genspline(
  x,
  spline = "bs",
  knots = 1,
  degree = 1,
  max.dose = max(x),
  boundaries = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector indicating all time points available in the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spline</code></td>
<td>
<p>Indicates the type of spline function. Can be either a piecewise linear spline (<code>"ls"</code>),
natural cubic spline (<code>"ns"</code>), or B-spline (<code>"bs"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>The number/location of internal knots. If a single integer is given it indicates the number of knots (they will
be equally spaced across the range of doses <em>for each agent</em>). If a numeric vector is given it indicates the quantiles of the knots as
a proportion of the maximum dose in the dataset. For example, if the maximum dose in the dataset
is 100mg/d, <code>knots=c(0.1,0.5)</code> would indicate knots should be fitted at 10mg/d and 50mg/d.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>a positive integer giving the degree of the polynomial from which the spline function is composed
(e.g. <code>degree=3</code> represents a cubic spline).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.dose</code></td>
<td>
<p>A number indicating the maximum dose between which to calculate the spline function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundaries</code></td>
<td>
<p>A positive numeric vector of length 2 that represents the doses at which to anchor the B-spline or natural
cubic spline basis matrix. This allows data to extend beyond the boundary knots, or for the basis parameters to not depend on <code>x</code>.
The default (<code>boundaries=NULL</code>) is the range of <code>x</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A spline basis matrix with number of rows equal to <code>length(x)</code> and the number of columns equal to the number
of coefficients in the spline.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- 0:100

genspline(x)

# Generate a quadratic B-spline with 1 equally spaced internal knot
genspline(x, spline="bs", knots=2, degree=2)

# Generate a natural cubic spline with 3 knots at selected quantiles
genspline(x, spline="ns", knots=c(0.1, 0.5, 0.7))

# Generate a piecewise linear spline with 3 equally spaced knots
genspline(x, spline="ls", knots=3)

</code></pre>


</div>