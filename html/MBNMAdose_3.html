<div class="container">

<table style="width: 100%;"><tr>
<td>add_index</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add arm indices and agent identifiers to a dataset</h2>

<h3>Description</h3>

<p>Adds arm indices (<code>arms</code>, <code>narms</code>) to a dataset and adds numeric identifiers for
agent and class (if included in the data).
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_index(data.ab, agents = NULL, treatments = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.ab</code></td>
<td>
<p>A data frame of arm-level data in "long" format containing the columns:
</p>

<ul>
<li> <p><code>studyID</code> Study identifiers
</p>
</li>
<li> <p><code>dose</code> Numeric data indicating the dose (must take positive values)
</p>
</li>
<li> <p><code>agent</code> Agent identifiers (can be numeric, factor or character)
</p>
</li>
<li> <p><code>y</code> Numeric data indicating the aggregate response for a continuous outcome. Required for
continuous data.
</p>
</li>
<li> <p><code>se</code> Numeric data indicating the standard error for a given observation. Required for
continuous data.
</p>
</li>
<li> <p><code>r</code> Numeric data indicating the number of responders within a study arm. Required for
binomial or poisson data.
</p>
</li>
<li> <p><code>n</code> Numeric data indicating the total number of participants within a study arm. Required for
binomial data or when modelling Standardised Mean Differences
</p>
</li>
<li> <p><code>E</code> Numeric data indicating the total exposure time for participants within a study arm. Required
for poisson data.
</p>
</li>
<li> <p><code>class</code> An optional column indicating a particular class code. Agents with the same identifier
must also have the same class code.
</p>
</li>
<li> <p><code>standsd</code> An optional column of numeric data indicating reference SDs used to standardise
treatment effects when modelling using Standardised Mean Differences (SMD).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agents</code></td>
<td>
<p>A character string of agent names used to force a particular agent ordering.
Default is <code>NULL</code>, which automatically orders <code>Placebo</code> (dose=0) as agent <code>1</code> and then
subsequent agents by the order given in <code>data.ab</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatments</code></td>
<td>
<p>A character string of treatment names used to force a particular treatment ordering.
Default is <code>NULL</code>, which automatically orders <code>Placebo</code> (dose=0) as treatment <code>1</code> and then
subsequent treatments by the order of agents and doses (smallest to highest) given in <code>data.ab</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame similar to <code>data.ab</code> but with additional columns:
</p>

<ul>
<li> <p><code>arm</code> Arm identifiers coded for each study
</p>
</li>
<li> <p><code>narm</code> The total number of arms in each study
</p>
</li>
</ul>
<p>If <code>agent</code> or <code>class</code> are non-numeric or non-sequential (i.e. with missing numeric codes),
agents/classes in the returned data frame will be numbered and recoded to enforce sequential
numbering (a warning will be shown stating this).
</p>


</div>