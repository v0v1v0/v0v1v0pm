<div class="container">

<table style="width: 100%;"><tr>
<td>rank.mbnma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rank parameter estimates</h2>

<h3>Description</h3>

<p>Only parameters that vary by agent/class can be ranked.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mbnma'
rank(
  x,
  params = NULL,
  lower_better = TRUE,
  level = "agent",
  to.rank = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object on which to apply the rank method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A character vector of named parameters in the model that vary by either agent
or class (depending on the value assigned to <code>level</code>). If left as <code>NULL</code> (the default), then
ranking will be calculated for all available parameters that vary by agent/class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_better</code></td>
<td>
<p>Indicates whether negative responses are better (<code>TRUE</code>) or positive responses are better (<code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Can be set to <code>"agent"</code> to rank across different agents or <code>"class"</code> to rank
across different classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to.rank</code></td>
<td>
<p>A numeric vector containing the codes for the agents/classes you wish to rank.
If left <code>NULL</code> then all agents/classes (depending on the value assigned to <code>level</code>) in
the model will be ranked. Included codes must be greater than
<code>2</code> if placebo has been modelled, since placebo cannot be included in the ranking</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Ranking cannot currently be performed on non-parametric dose-response MBNMA
</p>


<h3>Value</h3>

<p>An object of <code>class("mbnma.rank")</code> which is a list containing a summary data
frame, a matrix of rankings for each MCMC iteration, a matrix of probabilities
that each agent has a particular rank, and a matrix of cumulative ranking probabilities
for each agent, for each parameter that has been ranked.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Using the triptans data
network &lt;- mbnma.network(triptans)

# Rank selected agents from a log-linear dose-response MBNMA
loglin &lt;- mbnma.run(network, fun=dloglin())
ranks &lt;- rank(loglin, to.rank=c("zolmitriptan", "eletriptan", "sumatriptan"))
summary(ranks)

# Rank only ED50 parameters from an Emax dose-response MBNMA
emax &lt;- mbnma.run(network, fun=demax(), method="random")
ranks &lt;- rank(emax, params="ed50")
summary(ranks)


#### Ranking by class ####
# Generate some classes for the data
class.df &lt;- triptans
class.df$class &lt;- ifelse(class.df$agent=="placebo", "placebo", "active1")
class.df$class &lt;- ifelse(class.df$agent=="eletriptan", "active2", class.df$class)
netclass &lt;- mbnma.network(class.df)
emax &lt;- mbnma.run(netclass, fun=demax(), method="random",
            class.effect=list("ed50"="common"))

# Rank by class, with negative responses being worse
ranks &lt;- rank(emax, level="class", lower_better=FALSE)
print(ranks)

# Print and generate summary data frame for `mbnma.rank` object
summary(ranks)
print(ranks)

# Plot `mbnma.rank` object
plot(ranks)


</code></pre>


</div>