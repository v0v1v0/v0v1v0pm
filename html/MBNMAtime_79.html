<div class="container">

<table style="width: 100%;"><tr>
<td>write.ref.synth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write MBNMA time-course models JAGS code for synthesis of studies
investigating reference treatment</h2>

<h3>Description</h3>

<p>Writes JAGS code for a Bayesian time-course model for model-based network
meta-analysis (MBNMA) that pools reference treatment effects from different
studies. This model only pools single study arms and therefore does not pool
relative effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write.ref.synth(
  fun = tpoly(degree = 1),
  link = "identity",
  positive.scale = TRUE,
  intercept = TRUE,
  rho = 0,
  covar = "varadj",
  mu.synth = "random",
  priors = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>An object of class <code>"timefun"</code> generated (see Details) using any of
<code>tloglin()</code>, <code>tpoly()</code>, <code>titp()</code>, <code>temax()</code>, <code>tfpoly()</code>, <code>tspline()</code> or <code>tuser()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p>Can take either <code>"identity"</code> (the default),
<code>"log"</code> (for modelling Ratios of Means (Friedrich et al. 2011)) or
<code>"smd"</code> (for modelling Standardised Mean Differences - although this also corresponds to an identity link function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>positive.scale</code></td>
<td>
<p>A boolean object that indicates whether all continuous
mean responses (y) are positive and therefore whether the baseline response
should be given a prior that constrains it to be positive (e.g. for scales that cannot be &lt;0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>A boolean object that indicates whether an intercept (written
as <code>alpha</code> in the model) is to be included. If left as <code>NULL</code> (the default), an intercept will
be included only for studies reporting absolute means, and will be excluded for
studies reporting change from baseline (as indicated in <code>network$cfb</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>The correlation coefficient when modelling within-study correlation between time points. The default is a string representing a
prior distribution in JAGS, indicating that it be estimated from the data (e.g. <code>rho="dunif(0,1)"</code>). <code>rho</code> also be assigned a
numeric value (e.g. <code>rho=0.7</code>), which fixes <code>rho</code> in the model to this value (e.g. for use in a deterministic sensitivity analysis).
If set to <code>rho=0</code> (the default) then this implies modelling no correlation between time points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar</code></td>
<td>
<p>A character specifying the covariance structure to use for modelling within-study correlation between time-points. This can
be done by specifying one of the following:
</p>

<ul>
<li> <p><code>"varadj"</code> - a univariate likelihood with a variance adjustment to assume a constant correlation between subsequent
time points (Jansen et al. 2015). This is the default.
</p>
</li>
<li> <p><code>"CS"</code> - a multivariate normal likelihood with a
<a href="https://support.sas.com/resources/papers/proceedings/proceedings/sugi30/198-30.pdf">compound symmetry</a> structure
</p>
</li>
<li> <p><code>"AR1"</code> - a multivariate normal likelihood with an
<a href="https://support.sas.com/resources/papers/proceedings/proceedings/sugi30/198-30.pdf">autoregressive AR1</a> structure
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu.synth</code></td>
<td>
<p>A string that takes the value <code>fixed</code> or <code>random</code>, indicating
the type of synthesis model to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priors</code></td>
<td>
<p>A named list of parameter values (without indices) and
replacement prior distribution values given as strings
<strong>using distributions as specified in JAGS syntax</strong> (see Plummer (2017)).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A character object of JAGS MBNMA model code that includes beta
parameter components of the model
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Write a log-linear time-course MBNMA synthesis model with:
# Common effects for synthesis of mu
# Modelled as ratio of means
model &lt;- write.ref.synth(fun=tloglin(pool.rate="rel", method.rate="common"),
  mu.synth="common", link="log")

cat(model) # Concatenates model representations making code more easily readable

</code></pre>


</div>