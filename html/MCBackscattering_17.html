<div class="container">

<table style="width: 100%;"><tr>
<td>Randomize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Random Numbers Selection for Single Photon Trajectory</h2>

<h3>Description</h3>

<p>This function prepares vectors of random numbers to accelerate trajectory computation. Random numbers are selected from uniform distribution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Randomize(myObject)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>myObject</code></td>
<td>
<p>The mandatory parameter of this function is the MCBS class created by <code>MCBS</code> constructor function.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>The <code>Randomize</code> function, alias <code>Randomize.MCBS</code>, puts random numbers into the container vectors created with the object. During trajectory computation, each interaction event occurs randomly. Prepared container vectors accelerate computation, since values for each event are accessible with <code>myObject$midx</code> move index. Vector length <code>myObject$MAXLEN</code> is adjusted by <code>Setup</code> function based on transport albedo and limiting energy.
</p>


<h3>Value</h3>

<p>The <code>Randomize</code> function returns an MCBS object as <code>class</code>. Typically the same object is used in argument and result.
There are five containers of random numbers. Values are in the range of 0 to +1 unless indicated in description.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>rmv</code></td>
<td>
<p>length of linear section between interaction events. Used by <code>Move</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rabs</code></td>
<td>
<p>decision values for roulette algorithm. Used by <code>Absorb</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rx1</code></td>
<td>
<p>new scattering direction in the range of -1 to +1. Used by <code>Scatter</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rx1</code></td>
<td>
<p>new scattering direction in the range of -1 to +1. Used by <code>Scatter</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmu</code></td>
<td>
<p>variable for Heyney-Greenstein phase function. Used by <code>Scatter</code> function.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Please note that this function is designed to be used in <code>Simulation</code> function. You may use it separately in case you design your own procedure. In such a case, please note that function <code>Randomize</code> prepares random values for one photon and has to be run always before calculating single photon trajectory.
</p>


<h3>See Also</h3>

<p><code>MCBS</code> for construction of object with initial input parameters.
<code>Simulation</code> for running the simulation with adjusted parameters.
<code>Chart</code> for plot of calculated photon flux profile.
<code>Export</code> for export of photon flux with corresponding radii.
<code>Setup</code> for initial computation of specular reflection and transport albedo.
<code>Move</code> for moving single photon forward.
<code>Absorb</code> for absorption of single photon energy in interaction with media.
<code>Scatter</code> for single photon scattering interaction with media.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Apple simulation data according to Qin and Lu (2006).
## DOI: 10.13031/2013.20862

# create object
cfgMedia &lt;- c(0.63,30,0,1.4)
cfgSimulation &lt;- c(1e6,0.05,1e-9,3,0.012)
apple &lt;- MCBS(cfgMedia,cfgSimulation)
apple &lt;- Setup(apple)

# first five random values of move length
apple &lt;- Randomize(apple)
apple$rmv[1:5]
</code></pre>


</div>