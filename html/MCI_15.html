<div class="container">

<table style="width: 100%;"><tr>
<td>huff.shares</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Huff model market share/market area simulations
</h2>

<h3>Description</h3>

<p>Calculating market areas/local market shares using the probabilistic market area model by Huff
</p>


<h3>Usage</h3>

<pre><code class="language-R">huff.shares(huffdataset, origins, locations, attrac, dist, gamma = 1, lambda = -2, 
atype = "pow", dtype = "pow", gamma2 = NULL, lambda2 = NULL, check_df = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>huffdataset</code></td>
<td>

<p>an interaction matrix which is a <code>data.frame</code> containing the origins, locations and the explanatory variables (attraction, transport costs)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origins</code></td>
<td>

<p>the column in the interaction matrix <code>huffdataset</code> containing the origins (e.g. ZIP codes)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locations</code></td>
<td>

<p>the column in the interaction matrix <code>huffdataset</code> containing the locations (e.g. store codes)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attrac</code></td>
<td>

<p>the column in the interaction matrix <code>huffdataset</code> containing the attraction variable (e.g. sales area)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>

<p>the column in the interaction matrix <code>huffdataset</code> containing the transport costs (e.g. travelling time or street distance)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>

<p>a single numeric value of <code class="reqn">\gamma</code> for the exponential weighting of the attraction variable (default: 1)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>

<p>a single numeric value of <code class="reqn">\lambda</code> for the (exponential) weighting of distance (transport costs, default: -2)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atype</code></td>
<td>

<p>Type of attraction weighting function: <code>atype = "pow"</code> (power function), <code>atype = "exp"</code> (exponential function) or <code>atype = "logistic"</code> (default: <code>atype = "pow"</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dtype</code></td>
<td>

<p>Type of distance weighting function: <code>dtype = "pow"</code> (power function), <code>dtype = "exp"</code> (exponential function) or <code>dtype = "logistic"</code> (default: <code>dtype = "pow"</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma2</code></td>
<td>

<p>if <code>atype = "logistic"</code> a second <code class="reqn">\gamma</code> parameter is needed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2</code></td>
<td>

<p>if <code>dtype = "logistic"</code> a second <code class="reqn">\lambda</code> parameter is needed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_df</code></td>
<td>

<p>logical argument that indicates if the given dataset is checked for correct input, only for internal use, should not be deselected (default: <code>TRUE</code>)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function computes the market shares from a given interaction matrix and given weighting parameters. The result matrix can be processed by the function <code>shares.total()</code> to calculate the total values (e.g. annual sales) and shares.
</p>


<h3>Value</h3>

<p>Returns the input interaction matrix including the calculated shares (<code>p_ij</code>) as <code>data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>Huff, D. L. (1962): “Determination of Intra-Urban Retail Trade Areas”. Los Angeles : University of California.
</p>
<p>Huff, D. L. (1963): “A Probabilistic Analysis of Shopping Center Trade Areas”. In: <em>Land Economics</em>, <b>39</b>, 1, p. 81-90.
</p>
<p>Huff, D. L. (1964): “Defining and Estimating a Trading Area”. In: <em>Journal of Marketing</em>, <b>28</b>, 4, p. 34-38.
</p>
<p>Loeffler, G. (1998): “Market areas - a methodological reflection on their boundaries”. In: <em>GeoJournal</em>, <b>45</b>, 4, p. 265-272.
</p>
<p>Wieland, T. (2015): “Nahversorgung im Kontext raumoekonomischer Entwicklungen im Lebensmitteleinzelhandel - Konzeption und Durchfuehrung einer GIS-gestuetzten Analyse der Strukturen des Lebensmitteleinzelhandels und der Nahversorgung in Freiburg im Breisgau”. Projektbericht. Goettingen : GOEDOC, Dokumenten- und Publikationsserver der Georg-August-Universitaet Goettingen. <a href="http://webdoc.sub.gwdg.de/pub/mon/2015/5-wieland.pdf">http://webdoc.sub.gwdg.de/pub/mon/2015/5-wieland.pdf</a>
</p>


<h3>See Also</h3>

<p><code>huff.attrac</code>, <code>huff.fit</code>, <code>huff.decay</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Freiburg1)
data(Freiburg2)
# Loads the data

huff.shares (Freiburg1, "district", "store", "salesarea", "distance")
# Standard weighting (power function with gamma=1 and lambda=-2)
</code></pre>


</div>