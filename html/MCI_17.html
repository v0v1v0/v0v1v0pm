<div class="container">

<table style="width: 100%;"><tr>
<td>ijmatrix.crosstab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Converting interaction matrix with market shares to crosstable
</h2>

<h3>Description</h3>

<p>This function converts a given interaction matrix with (local) market shares to a crosstable where the rows are the submarkets and the columns contain the market shares 
</p>


<h3>Usage</h3>

<pre><code class="language-R">ijmatrix.crosstab(mcidataset, submarkets, suppliers, shares)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mcidataset</code></td>
<td>

<p>The interaction matrix containing the submarkets/origins, suppliers/locations and local market shares
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>submarkets</code></td>
<td>

<p>the column in the dataset containing the submarkets (e.g. ZIP codes)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppliers</code></td>
<td>

<p>the column in the dataset containing the suppliers (e.g. store codes)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shares</code></td>
<td>

<p>the column in the dataset containing the local market shares
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In many cases the results of a market area analysis shall be visualized in a map, e.g. by pie charts or contour lines which belongs to the standard map types in Geographical Information Systems (GIS). An interaction matrix can not be processed directly in a GIS due to its linear character. This function converts an interaction matrix into a special kind of crosstable where the rows contain the origins <code class="reqn">i</code> and the local market shares <code class="reqn">p_{ij}</code> are represented by the columns. The submarkets/origins ID (rows) can be joined directly to the geodata (e.g. point shapefile) while the columns can be used for visualization.    
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing <code class="reqn">i</code> rows and <code class="reqn">j+1</code> columns (suppliers/locations and one column containing the submarkets/origins).
</p>


<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>Cooper, L. G./Nakanishi, M. (2010): “Market-Share Analysis: Evaluating competitive marketing effectiveness”. Boston, Dordrecht, London : Kluwer (first published 1988). E-book version from 2010: <a href="http://www.anderson.ucla.edu/faculty/lee.cooper/MCI_Book/BOOKI2010.pdf">http://www.anderson.ucla.edu/faculty/lee.cooper/MCI_Book/BOOKI2010.pdf</a>
</p>
<p>Huff, D. L./McCallum, D. (2008): “Calibrating the Huff Model Using ArcGIS Business Analyst”. <em>ESRI White Paper</em>, September 2008. <a href="https://www.esri.com/library/whitepapers/pdfs/calibrating-huff-model.pdf">https://www.esri.com/library/whitepapers/pdfs/calibrating-huff-model.pdf</a>
</p>
<p>Wieland, T. (2015): “Raeumliches Einkaufsverhalten und Standortpolitik im Einzelhandel unter Beruecksichtigung von Agglomerationseffekten. Theoretische Erklaerungsansaetze, modellanalytische Zugaenge und eine empirisch-oekonometrische Marktgebietsanalyse anhand eines Fallbeispiels aus dem laendlichen Raum Ostwestfalens/Suedniedersachsens”. <em>Geographische Handelsforschung</em>, <b>23</b>. 289 pages. Mannheim : MetaGIS.
</p>


<h3>See Also</h3>

<p><code>ijmatrix.create</code>, <code>ijmatrix.shares</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(grocery2)
# Loads the data

grocery2_cross &lt;- ijmatrix.crosstab(grocery2, "plz_submarket", "store_code", "p_ij_obs")
# Converts the market shares in the grocery2 dataset to a crosstable
</code></pre>


</div>