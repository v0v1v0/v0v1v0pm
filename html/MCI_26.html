<div class="container">

<table style="width: 100%;"><tr>
<td>model.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Goodness of fit statistics for the Huff model
</h2>

<h3>Description</h3>

<p>This function calculates several goodness of fit values to evaluate how good the observed values fit the empirical observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">model.fit(y_obs, y_exp, plotVal = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y_obs</code></td>
<td>

<p>Observed values of the dependent variable <code class="reqn">y</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_exp</code></td>
<td>

<p>Expected values of the dependent variable <code class="reqn">y</code> (model results)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotVal</code></td>
<td>

<p>Logical argument that indicates if the function plots a graph comparing observed and expected values
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function computes several goodness of fit statistics to evaluate the results of non-linear fitting procedures for the Huff model (see the functions <code>huff.attrac</code> and <code>huff.fit</code>). Besides the sum of squared residuals, the function also calculates a <em>Pseudo-R-squared</em> measure and the <em>MAPE (mean average percentage error)</em>, both used by De Beule et al. (2014), and the <em>global error</em> used by Klein (1988).
</p>


<h3>Value</h3>

<p>list:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>resids_sq_sum </code></td>
<td>
<p>Sum of squared residuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pseudorsq </code></td>
<td>
<p>Pseudo-R-squared</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globerr </code></td>
<td>
<p>Global error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mape </code></td>
<td>
<p>Mean average percentage error</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>De Beule, M./Van den Poel, D./Van de Weghe, N. (2014): “An extended Huff-model for robustly benchmarking and predicting retail network performance”. In: <em>Applied Geography</em>, <b>46</b>, 1, p. 80-89.
</p>
<p>Klein, R. (1988): “Der Lebensmittel-Einzelhandel im Raum Verden. Raeumliches Einkaufsverhalten unter sich wandelnden Bedingungen”. <em>Flensburger Arbeitspapiere zur Landeskunde und Raumordnung</em>, <b>6</b>. Flensburg.
</p>


<h3>See Also</h3>

<p><code>huff.fit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Controlling the fit of a Huff Model market area estimation #

data(Freiburg1)
data(Freiburg2)
data(Freiburg3)
# Loads the data

huff_mat &lt;- huff.shares (Freiburg1, "district", "store", "salesarea", "distance")
# Market area estimation using the Huff Model with standard parameters
# (gamma = 1, lambda = -2)

huff_mat_pp &lt;- merge (huff_mat, Freiburg2)
# Adding the purchasing power data for the city districts

huff_total &lt;- shares.total (huff_mat_pp, "district", "store", "p_ij", "ppower")
# Total expected sales and shares

huff_total_control &lt;- merge (huff_total, Freiburg3, by.x = "suppliers_single",
by.y = "store")

model.fit(huff_total_control$annualsales, huff_total_control$sum_E_j, plotVal = TRUE)
# Observed vs. expected

# Results can be adressed directly:
huff_fit &lt;- model.fit(huff_total_control$annualsales, huff_total_control$sum_E_j, plotVal = TRUE)
huff_fit$mape
</code></pre>


</div>