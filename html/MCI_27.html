<div class="container">

<table style="width: 100%;"><tr>
<td>shares.segm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Segmentation of market areas by a criterion
</h2>

<h3>Description</h3>

<p>This function segments the contents of an interaction matrix based on a criterion, such as distance or market penetration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">shares.segm(mcidataset, submarkets, suppliers, segmentation, observations, 
..., check_df = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mcidataset</code></td>
<td>

<p>an interaction matrix which is a <code>data.frame</code> containing the submarkets, suppliers, the total values (e.g. shopping trips, expenditures) and a variable containing the criterion for the segmentation (e.g. distance, travel time, market penetration)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>submarkets</code></td>
<td>

<p>the column in the interaction matrix <code>mcidataset</code> containing the submarkets
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppliers</code></td>
<td>

<p>the column in the interaction matrix <code>mcidataset</code> containing the suppliers
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segmentation</code></td>
<td>

<p>The column in the interaction matrix <code>mcidataset</code> containing the variable which is to be used for segmentation
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observations</code></td>
<td>

<p>The column in the interaction matrix <code>mcidataset</code> containing the total values which have to segmented
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>The stated limits of class segments (e.g. 0, 10, 20, 30)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_df</code></td>
<td>

<p>logical argument that indicates if the input (dataset, column names) is checked (default: <code>check_df = TRUE</code> (should not be changed, only for internal use))
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For practical reasons, a market/market area can be zoned into segments based on a criterion (such as distance or travel time zones, zones of market penetration). Based on an existing interaction matrix, this function returns zones of a market/market area.
</p>


<h3>Value</h3>

<p>Returns a new <code>data.frame</code> with the classification segments, the sum of the total observed values with respect to each class and the corresponding percentage.
</p>


<h3>Author(s)</h3>

<p>Thomas Wieland
</p>


<h3>References</h3>

<p>Berman, B. R./Evans, J. R. (2013): “Retail Management: A Strategic Approach”. Pearson, 12 edition, 2013.
</p>


<h3>See Also</h3>

<p><code>shares.total</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Market area segmentation based on the POS survey in shopping1 #

data(shopping1)
# The survey dataset
data(shopping2)
# Dataset with distances and travel times

shopping1_adj &lt;- shopping1[(shopping1$weekday != 3) &amp; (shopping1$holiday != 1) 
&amp; (shopping1$survey != "pretest"),]
# Removing every case from tuesday, holidays and the ones belonging to the pretest

ijmatrix_POS &lt;- ijmatrix.create(shopping1_adj, "resid_code", "POS", "POS_expen")
# Creates an interaction matrix based on the observed frequencies (automatically)
# and the POS expenditures (Variable "POS_expen" separately stated)

ijmatrix_POS_data &lt;- merge(ijmatrix_POS, shopping2, by.x="interaction", by.y="route", 
all.x = TRUE)
# Adding the distances and travel times

ijmatrix_POS_data_segm_visit &lt;- shares.segm(ijmatrix_POS_data, "resid_code", "POS",
"d_time", "freq_ij_abs", 0,10,20,30)
# Segmentation by travel time using the number of customers/visitors
# Parameters: interaction matrix (data frame), columns with origins and destinations,
# variable to divide in classes, absolute frequencies/expenditures, class segments

ijmatrix_POS_data_segm_exp &lt;- shares.segm(ijmatrix_POS_data, "resid_code", "POS",
"d_time", "freq_ij_abs_POS_expen", 0,10,20,30)
# Segmentation by travel time using the POS expenditures
</code></pre>


</div>