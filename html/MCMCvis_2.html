<div class="container">

<table style="width: 100%;"><tr>
<td>MCMCchains</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract posterior chains from MCMC output</h2>

<h3>Description</h3>

<p>Extract posterior chains from MCMC output for specific parameters of interest.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MCMCchains(
  object,
  params = "all",
  excl = NULL,
  ISB = TRUE,
  exact = TRUE,
  mcmc.list = FALSE,
  chain_num = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object containing MCMC output. See DETAILS below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Character string (or vector of character strings) denoting parameters of interest.
</p>
<p>Default <code>'all'</code> returns chains for all parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excl</code></td>
<td>
<p>Character string (or vector of character strings) denoting parameters to exclude. Used in conjunction with <code>params</code> argument to select parameters of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ISB</code></td>
<td>
<p>Ignore Square Brackets (ISB). Logical specifying whether square brackets should be ignored in the <code>params</code> and <code>excl</code> arguments. If <code>TRUE</code>, square brackets are ignored. If <code>FALSE</code>, square brackets are not ignored.  This allows partial names to be used when specifying parameters of interest. Use <code>exact</code> argument to specify whether input from <code>params</code> and <code>excl</code> arguments should be matched exactly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>Logical specifying whether input from <code>params</code> and <code>excl</code> arguments should be matched exactly (after ignoring square brackets if <code>ISB = FALSE</code>). If <code>TRUE</code>, input from <code>params</code> and <code>excl</code> are matched exactly (after taking <code>ISB</code> argument into account). If <code>FALSE</code>, input from <code>params</code> and <code>excl</code> are matched using regular expression format (after taking <code>ISB</code> argument into account).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcmc.list</code></td>
<td>
<p>Logical specifying whether to return an mcmc.list. If <code>TRUE</code>, an <code>mcmc.list</code> object is returned, rather than a matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chain_num</code></td>
<td>
<p>Numeric - specifies posterior chain number. When a value is specified, posterior for only that chain is output. Useful for determining the last iteration for each parameter, to be used as initial values in a subsequent model, to effectively 'continue' a model run.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function returns matrix with one parameter per column (for specified parameters). Each iteration is represented as a row. Multiple chains for each parameter are combined to one posterior chain (unless <code>chain_num</code> is specified, in which case only the specified chain will be returned). Parameters are arranged in columns alphabetically.
</p>
<p><code>object</code> argument can be a <code>stanfit</code> object (<code>rstan</code> package), a <code>CmdStanMCMC</code> object (<code>cmdstanr</code> package), a <code>stanreg</code> object (<code>rstanarm</code> package), a <code>brmsfit</code> object (<code>brms</code> package), an <code>mcmc.list</code> object (<code>coda</code> and <code>rjags</code> packages), <code>mcmc</code> object (<code>coda</code> and <code>nimble</code> packages), <code>list</code> object (<code>nimble</code> package), an <code>R2jags</code> model object (<code>R2jags</code> package), a <code>jagsUI</code> model object (<code>jagsUI</code> package), or a matrix containing MCMC chains (each column representing MCMC output for a single parameter, rows representing iterations in the chain). The function automatically detects the object type and proceeds accordingly.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Load data
data(MCMC_data)

#Extract MCMC chains
ex &lt;- MCMCchains(MCMC_data)
apply(ex, 2, mean)

#Extract MCMC chains for just 'beta' parameters
ex2 &lt;- MCMCchains(MCMC_data, params = 'beta')
apply(ex2, 2, mean)

#Just 'beta[1]', 'beta[4]', and 'alpha[3]'
ex3 &lt;- MCMCchains(MCMC_data, params = c('beta[1]', 'beta[4]', 'alpha[3]'), 
                 ISB = FALSE, exact = TRUE)
apply(ex3, 2, sd)

</code></pre>


</div>