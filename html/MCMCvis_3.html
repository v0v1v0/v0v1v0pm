<div class="container">

<table style="width: 100%;"><tr>
<td>MCMCdiag</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostics summaries for models</h2>

<h3>Description</h3>

<p>Model diagnostics and summary. Function reads information embedded in model fit object. Output varies by model fit object type but includes model run inputs, diagnostic information, and parameter summary. See DETAILS below for more information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MCMCdiag(
  object,
  file_name,
  dir = getwd(),
  mkdir,
  add_field,
  add_field_names,
  save_object = FALSE,
  obj_name,
  add_obj,
  add_obj_names,
  cp_file,
  cp_file_names,
  open_txt = TRUE,
  summary = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object containing MCMC output. See DETAILS below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>Character string with name of .txt file to be saved to <code>dir</code> (or <code>mkdir</code> if specified). If not specified, 'MCMCdiag.txt' will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>Character string with directory where file(s) (or directory is argument for <code>mkdir</code> is specified) will be created. Defaults to working directory. An absolute or relative (to the working directory) path can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mkdir</code></td>
<td>
<p>Character string with name of directory to be created. If specified, a directory will be created within the directory specified by <code>dir</code>. If directory exists, '_1' will be appended to specified name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_field</code></td>
<td>
<p>Object (or vector of objects) to be added to the .txt file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_field_names</code></td>
<td>
<p>Character string (or vector of character strings) specifying the name(s) of the <code>add_field</code> object(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_object</code></td>
<td>
<p>Logical specifying whether the model output provided to the function (<code>object</code>) should be saved as a <code>.rds</code> file to <code>dir</code> (or <code>mkdir</code> if specified). Note that <code>.rds</code> files can be opened with <code>rdsRDS()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obj_name</code></td>
<td>
<p>Character string specifying the file name of the <code>.rds</code> file (created from <code>object</code>) if <code>save_object = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_obj</code></td>
<td>
<p>List with additional object(s) to be saved as <code>.rds</code> files to <code>dir</code> (or <code>mkdir</code> if specified). Objects can be of any types. Multiple objects can be specified. Note that <code>.rds</code> files can be opened with <code>rdsRDS()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_obj_names</code></td>
<td>
<p>Character string (or vector of character strings) specifying the name(s) of the objects to be saved as <code>.rds</code> files, specified with <code>add_obj</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp_file</code></td>
<td>
<p>Character string (or vector of character strings) specifying file(s) to be copied to <code>dir</code> (or <code>mkdir</code> if specified). Absolute or relative (to the working directory) paths can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cp_file_names</code></td>
<td>
<p>Character string (or vector of character strings) specifying new names for files to be copied specified by <code>cp_file</code>. If no argument is provided, the copy names will be identical to the originals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open_txt</code></td>
<td>
<p>Logical - if <code>open_txt = TRUE</code> .txt file will open in default .txt viewer after being generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>Logical specifying whether or not to output summary information from MCMCsummary at the bottom of the .txt file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed to MCMCsummary when generating summary if <code>summary = TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some diagnostic information is only provided for models fit with particular pieces of software. For example, <code>rstan</code> output includes additional diagnostics related to the NUTS sampler. Output from <code>jagsUI</code> includes runtime information, but output from <code>rjags</code> does not. Note that this information could be fed manually to the function using the <code>add_field</code> argument.
</p>
<p><code>object</code> argument can be a <code>stanfit</code> object (<code>rstan</code> package), a <code>CmdStanMCMC</code> object (<code>cmdstanr</code> package), a <code>stanreg</code> object (<code>rstanarm</code> package), a <code>brmsfit</code> object (<code>brms</code> package), an <code>mcmc.list</code> object (<code>coda</code> and <code>rjags</code> packages), <code>mcmc</code> object (<code>coda</code> and <code>nimble</code> packages), <code>list</code> object (<code>nimble</code> package), an <code>R2jags</code> model object (<code>R2jags</code> package), a <code>jagsUI</code> model object (<code>jagsUI</code> package), or a matrix containing MCMC chains (each column representing MCMC output for a single parameter, rows representing iterations in the chain). The function automatically detects the object type and proceeds accordingly.
</p>
<p>Output presented in .txt file varies by model fit object type but includes: model run time, number of warmup/burn-in iterations, total iterations, thinning rate, number of chains, specified adapt delta, specified max tree depth, specific initial step size, mean accept stat, mean tree depth, mean step size, number of divergent transitions, number max tree depth exceeds, number of chains with BFMI warnings, max Rhat (maximum Rhat of any parameter printed), min n.eff (minimum n.eff of any parameter printed), parameter summary information (passed from <code>MCMCsummary</code>), and any additional information fed to the <code>add_field</code> argument. See documentation for specific software used to fit model for more information on particular diagnostics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Load data
data(MCMC_data)

# MCMCdiag(MCMC_data,
#          #name of .txt file to be saved
#          file_name = 'blog-model-summary-2021-01-15',
#          #directory within which to save .txt file
#          dir = '~/Desktop',
#          #round MCMCsummary output in .txt file to two digits
#          round = 2,
#          #add two fields to .txt file
#          add_field = c(50, '1.0'),
#          #names of two additional fields to add to .txt file
#          add_field_names = c('Time (min)', 'Data version'))

</code></pre>


</div>