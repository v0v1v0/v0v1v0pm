<div class="container">

<table style="width: 100%;"><tr>
<td>MCMCsummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize MCMC output</h2>

<h3>Description</h3>

<p>Extract summary information from MCMC output (mean, median, quantiles, Gelman-Rubin convergence statistic, number of effective samples, and specified custom metrics)
for specific parameters of interest.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MCMCsummary(
  object,
  params = "all",
  excl = NULL,
  ISB = TRUE,
  exact = TRUE,
  probs = c(0.025, 0.5, 0.975),
  hpd_prob = 0.95,
  HPD = FALSE,
  pg0 = FALSE,
  digits = NULL,
  round = NULL,
  Rhat = TRUE,
  n.eff = TRUE,
  func = NULL,
  func_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object containing MCMC output. See DETAILS below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>Character string (or vector of character strings) denoting parameters to be returned in summary output.
</p>
<p>Default <code>'all'</code> returns all parameters in summary output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excl</code></td>
<td>
<p>Character string (or vector of character strings) denoting parameters to exclude. Used in conjunction with <code>params</code> argument to select parameters of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ISB</code></td>
<td>
<p>Ignore Square Brackets (ISB). Logical specifying whether square brackets should be ignored in the <code>params</code> and <code>excl</code> arguments. If <code>TRUE</code>, square brackets are ignored. If <code>FALSE</code>, square brackets are not ignored.  This allows partial names to be used when specifying parameters of interest. Use <code>exact</code> argument to specify whether input from <code>params</code> and <code>excl</code> arguments should be matched exactly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>Logical specifying whether input from <code>params</code> and <code>excl</code> arguments should be matched exactly (after ignoring square brackets if <code>ISB = FALSE</code>). If <code>TRUE</code>, input from <code>params</code> and <code>excl</code> are matched exactly (after taking <code>ISB</code> argument into account). If <code>FALSE</code>, input from <code>params</code> and <code>excl</code> are matched using regular expression format (after taking <code>ISB</code> argument into account).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Numeric vector where each element in (0,1) representing probabilities used to calculate posterior sample quantiles for the selected parameters. Default is c(0.025, 0.5, 0.975).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hpd_prob</code></td>
<td>
<p>Scalar in (0,1) representing probability used to calculate highest posterior density intervals for the selected parameters. Default is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HPD</code></td>
<td>
<p>Logical specifying whether to calculate equal-tailed credible intervals (<code>HPD = FALSE</code>) or highest posterior density intervals (<code>HPD = TRUE</code>) for the selected parameters. Default is <code>HPD = FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pg0</code></td>
<td>
<p>Logical specifying whether to calculate the proportion of the posterior that is greater than 0, rounded to 2 digits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of significant digits to include for posterior summary. All computed digits will be included by default. Note that Rhat is always rounded to 2 decimal places.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round</code></td>
<td>
<p>Number of decimal places to round to for posterior summary. Cannot be used in conjunction with <code>digits</code> argument. Note that Rhat is always rounded to 2 decimal places.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rhat</code></td>
<td>
<p>Logical specifying whether to calculate and display the potential scale reduction statistic (Rhat). Values near 1 suggest convergence (Brooks and Gelman 1998). <code>Rhat = FALSE</code> will prevent display of this column in summary output. Specifying <code>Rhat = FALSE</code>, may increase function speed for very large <code>mcmc.list</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.eff</code></td>
<td>
<p>Logical specifying whether to calculate and display the number of effective samples for each parameter. <code>n.eff = FALSE</code> will prevent display of this column in summary output. Specifying <code>n.eff = FALSE</code>, may increase function speed for very large <code>mcmc.list</code> objects. Default is <code>n.eff = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>Function to be performed on MCMC output. If a function is specified, it will be evaluated on posteriors for each specified parameter and returned as a column in the summary output (or multiple columns if the function returns more than one value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func_name</code></td>
<td>
<p>Character string (or vector of character strings) specifying labels for output from <code>func</code> argument. If <code>func_name</code> is not specified, columns with <code>func</code> argument will be labeled 'func'.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Function returns summary information (including parameter posterior mean, posterior sd, quantiles, potential scale reduction statistic (Rhat), number of effective samples, and other specified metrics) for specified parameters.
</p>


<h3>Details</h3>

<p><code>object</code> argument can be a <code>stanfit</code> object (<code>rstan</code> package), a <code>CmdStanMCMC</code> object (<code>cmdstanr</code> package), a <code>stanreg</code> object (<code>rstanarm</code> package), a <code>brmsfit</code> object (<code>brms</code> package), an <code>mcmc.list</code> object (<code>coda</code> and <code>rjags</code> packages), <code>mcmc</code> object (<code>coda</code> and <code>nimble</code> packages), <code>list</code> object (<code>nimble</code> package), an <code>R2jags</code> model object (<code>R2jags</code> package), a <code>jagsUI</code> model object (<code>jagsUI</code> package), or a matrix containing MCMC chains (each column representing MCMC output for a single parameter, rows representing iterations in the chain). The function automatically detects the object type and proceeds accordingly.
</p>


<h3>Notes</h3>

<p>For <code>mcmc.list</code>, <code>mcmc</code>, and <code>list</code> objects, the potential scale reduction statistic statistic (Rhat) is calculated using the <code>gelman.diag</code> function in the <code>coda</code> package (what is typically displayed in the summary output from models fit with JAGS). For <code>stanfit</code> (as well as <code>CmdStanMCMC</code>, <code>stanreg</code>, and <code>brmsfit</code> objects) and <code>jagsUI</code> objects, Rhat is calculated using a 'split chain' Rhat (in their respective packages), which is thought to be a more conservative diagnostic (Stan Development Team 2018).
</p>
<p>For <code>mcmc.list</code>, <code>mcmc</code>, and <code>list</code> objects, the number of effective samples is calculated using the <code>effectiveSize</code> function in the <code>coda</code> package. For <code>stanfit</code> (as well as <code>CmdStanMCMC</code>, <code>stanreg</code>, and <code>brmsfit</code> objects) and <code>jagsUI</code> objects, n.eff is calculated using a slightly different method of computation for the number of effective samples (Stan Development Team 2018). For <code>CmdStanMCMC</code> objects, both bulk and tail n.eff is calculated.
</p>


<h3>References</h3>

<p>Brooks, S. P., and A. Gelman. 1998. General methods for monitoring convergence of iterative simulations. Journal of Computational and Graphical Statistics 7:434.
</p>
<p>Stan Development Team. 2018. Stan Modeling Language Users Guide and Reference Manual, Version 2.18.0.   https://mc-stan.org
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Load data
data(MCMC_data)

#Summary information for MCMC output - display 2 significant digits
MCMCsummary(MCMC_data, digits = 2)

#Just 'beta' parameters - round to 2 decimal places
MCMCsummary(MCMC_data, params = 'beta', round = 2)

#Just 'beta[1]', 'beta[4]', and 'alpha[3]'
MCMCsummary(MCMC_data, params = c('beta[1]', 'beta[4]', 'alpha[3]'), ISB = FALSE, exact = TRUE)

</code></pre>


</div>