<div class="container">

<table style="width: 100%;"><tr>
<td>mcm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate and Test Inter-generational Social Mobility
Effect on an Outcome</h2>

<h3>Description</h3>

<p>This function implements the mobility contrast model
designed for estimating and testing inter-generational
mobility effect on an outcome.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcm(
  formula,
  data,
  weights = 1,
  na.action = na.omit,
  origin,
  destination,
  family = gaussian(),
  contrasts = NULL,
  gee = FALSE,
  id = NULL,
  corstr = "exchangeable",
  displayresult = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class "formula" (or one that can
be coerced to that class): a symbolic description of the model
to be fitted. A typical model used in studying social mobility
takes the form <code>response ~ origin*destination</code>, where
<code>respose</code> is the numeric response vector and <code>origin</code>
(<code>destination</code>) is a vector indicating the origin (destination).
The specification of <code>origin*destination</code> indicates the cross of
<code>origin</code> and <code>destination</code>, which is the same as <code>
origin + destination + origin:destination</code> where
<code>origin:destination</code> indicates the interaction of <code>origin</code>
and <code>destination</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an optional data frame, list or environment
(or object coercible by as.data.frame to a data frame)
containing the variables in the model. If not found in data,
the variables are taken from environment(formula),
typically the environment from which the function is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of unit-level sampling weights to
be used in analysis.
Should be NULL or a numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>a function which indicates what should
happen when the data contain NAs.The default is set by the
<code>na.action</code> setting in <code>options</code> and is
<code>na.fail</code> if that is unset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>a character indicating the column name of origin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination</code></td>
<td>
<p>a character indicating the column name of destination.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>a character string, a function or the result of a call
to a family function describing the error distribution and link function
to be used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>an optional list. The default is set as sum-to-zero
contrast.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gee</code></td>
<td>
<p>logical. Should gee be used in estimating the model?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>a vector which identifies the clusters, which is required while
<code>gee</code> is used. The length of <code>id</code> should be the same as
the number of observations. Data are assumed to be sorted
so that observations on a cluster are contiguous rows for
all entities in the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corstr</code></td>
<td>
<p>a character string specifying
the correlation structure.
The following are permitted: <code>"independence"</code>,
<code>"fixed"</code>,
<code>"stat_M_dep"</code>,
<code>"non_stat_M_dep"</code>, <code>"exchangeable"</code>,
<code>"AR-M"</code> and <code>"unstructured"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displayresult</code></td>
<td>
<p>logical. Should model results be displayed
after estimation. The default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to the function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Fitted generalized models of outcome on predictors.
See more on function <code>glm</code> in package <code>stats</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin_main</code></td>
<td>
<p>Estimated main effects of origin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination_main</code></td>
<td>
<p>Estimated main effects of destination.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mobility_estimates</code></td>
<td>
<p>Estimated mobility effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mobility_se</code></td>
<td>
<p>Standard errors of the estimated mobility effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mobility_sig</code></td>
<td>
<p>Statistical significance of the the
estimated mobility effects.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(MCM)
data('sim_moderate_het')
mcm(response ~ origin * destination, data = sim_moderate_het,
    origin = "origin",destination="destination")
</code></pre>


</div>