<div class="container">

<table style="width: 100%;"><tr>
<td>rrisk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate resampling risk and expected resampling size</h2>

<h3>Description</h3>

<p>Calculates for a particular stopping boundary the resampling risk of making the wrong 
accept/reject decision. Can be calculated for different distributions of the p-value.
If type="p" then assume point mass at pparms. If type="b" then assume a beta distribution
with two shape parameters given by pparms.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rrisk(bound, pparms, sig.level = 0.05, type = "b")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bound</code></td>
<td>
<p>an object of class MCbound, i.e., a stopping boundary. See <code>MCbound</code> to create</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pparms</code></td>
<td>
<p>either a vector of possible point mass p-value distributions (type="p"), or a vector (or matrix with two columns) representing two beta shape parameters (type="b")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>significance level for defining resampling risk</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>either "p" for point mass p-value distributions, or "b" for a beta distribution</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The resampling risk (RR) is defined as the probability of making an accept/reject decision different from complete enumeration.
In other words, for any Monte Carlo test the true p-value for any data is either below the sig.level (reject the null) or above
the sig.level (accept the null), and the RR is the probability of either deciding p&lt;=sig.level when p&gt;sig.level or vise versa.
We also calculate the expected resampling size for the assumed distributions on the p-values. As a check of the MCbound, we sum 
the probability of stopping at any point in the boundary over the entire stopping boundary for each assumed distribution on the 
p-values; the ouput value check should give a vector of all ones if the MCbound is calculated correctly. 
</p>


<h3>Value</h3>

<p>A list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Sum of the probabilities of the stopping boundary corresponding to the p-value distribution(s). Should be a vector with all values equal to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rr</code></td>
<td>
<p>resampling risk corresponding to the p-value distribution(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>EN</code></td>
<td>
<p>expected resampling size corresponding to the p-value distribution(s)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael P. Fay</p>


<h3>References</h3>

<p>Fay, M.P., Kim, H-J. and Hachey, M. (2007). Using truncated sequential probability ratio test boundaries 
for Monte Carlo implementation of hypothesis tests. Journal of Computational and Graphical 
Statistics. 16(4):946-967. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">### caculate resampling risk and E(N) under null, i.e., uniform distribution on p-values 
rrisk(MCbound.precalc1,c(1,1))
</code></pre>


</div>