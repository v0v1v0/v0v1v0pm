<div class="container">

<table style="width: 100%;"><tr>
<td>delta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute univariate MDMR effect sizes</h2>

<h3>Description</h3>

<p><code>delta</code> computes permutation-based effect sizes on individual items
comprising the distance matrix outcome used in multivariate distance matrix
regression. It returns the omnibus estimates of delta (i.e. effect size of
the entire design matrix on each outcome) as well as estimates of each
pair-wise effect size (i.e. the effect of each predictor on each outcome
variable, conditional on the rest of the predictors).
</p>


<h3>Usage</h3>

<pre><code class="language-R">delta(X, Y = NULL, dtype = NULL, niter = 10, x.inds = NULL,
  y.inds = NULL, G = NULL, G.list = NULL, ncores = 1, seed = NULL,
  plot.res = F, grayscale = F, cex = 1, y.las = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A <code class="reqn">n x p</code> matrix or data frame of predictors. Unordered factors
will be tested with contrast-codes by default, and ordered factors will be
tested with polynomial contrasts. For finer control of how categorical
predictors are handled, or if higher-order effects are desired, the output
from a call to <code>model.matrix()</code> can be supplied to this argument as
well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Outcome data: <code class="reqn">n x q</code> matrix of scores along the
dependent variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dtype</code></td>
<td>
<p>Measure of dissimilarity that will be used by <code>dist</code>
to compute the distance matrix based on <code>Y</code>. As is the case when calling
<code>dist</code> directly, this must be one of <code>"euclidean"</code>,
<code>"maximum"</code>, <code>"manhattan"</code>, <code>"canberra"</code>, <code>"binary"</code> or
<code>"minkowski"</code>, and unambiguous substring can be given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>Number of times to permute each outcome item in the procedure
to compute delta. The final result is the average of all <code>niter</code>
iterations. Higher values of <code>niter</code> require more computation time, but
result in more precise estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.inds</code></td>
<td>
<p>Vector indicating which columns of X should have their
conditional effect sizes computed. Default value of <code>NULL</code> results in
all effects being computed, and a value of <code>0</code> results in no conditional
effects being computed, such that only the omnibus effect sizes will be
reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.inds</code></td>
<td>
<p>Vector indicating which columns of Y effect sizes should be
computed on. Default value of <code>NULL</code> results in all columns being
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>Gower's centered similarity matrix computed from <code>D</code>.
Either <code>D</code> or <code>G</code> must be passed to <code>mdmr()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G.list</code></td>
<td>
<p>List of length <code class="reqn">q</code> where the <code class="reqn">i^{th}</code>
element contains the <code>G</code> matrix computed from distance a matrix that
was computed on a version of <code>Y</code> where the <code class="reqn">i^{th}</code>
column has been randomly permuted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>Integer; if <code>ncores</code> &gt; 1, the <code>parallel</code>
package is used to speed computation. Note: Windows users must set
<code>ncores = 1</code> because the <code>parallel</code> pacakge relies on forking. See
<code>mc.cores</code> in the <code>mclapply</code> function in the
<code>parallel</code> pacakge for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer; sets seed for the permutations of each variable
comprising Y so that results can be replicated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.res</code></td>
<td>
<p>Logical; Indicates whether or not a heat-map of the results
should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grayscale</code></td>
<td>
<p>Logical; Indicates whether or not the heat-map should be
plotted in grayscale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>Multiplier for cex.axis, cex.lab, cex.main, and cex that are
passed to the plotted result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.las</code></td>
<td>
<p>Orientation of labels for the outcome items. Defaults to
vertical (2). Value of 1 prints horizontal labels, and is only recommended
if the multivariate outcome is comprised of few variables.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See McArtor et al. (2017) for a detailed description of how delta is
computed. Note that it is a relative measure of effect, quantifying which
effects are strong (high values of delta) and weak (low values of delta)
within a single analysis, but estimates of delta cannot be directly compared
across different datasets.
</p>
<p>There are two options for using this function. The first option is to
specify the predictor matrix <code>X</code>, the outcome matrix <code>Y</code>, the
distance type <code>dtype</code> (supported by "dist" in R), and number of
iterations <code>niter</code>. This option conducts the permutation of each Y-item
<code>niter</code> times (to average out random association in each permutation)
and reports the median estimates of delta over the <code>niter</code> reps.
</p>
<p>The second option is to specify <code>X</code>, <code>G</code>, and <code>G.list</code>, a
list of G matrices where the permutation has already been done for each item
comprising Y. The names of the elements in <code>G.list</code> should correspond
to the names of the variables that were permuted. This option is implemented
so that delta can be computed when MDMR is being used in conjunction with
distance metrics not supported by <code>dist</code>.
</p>


<h3>Value</h3>

<p>A data frame whose rows correspond to the omnibus effects and the
effect of each individual predictor (conditional on the rest), and whose
columns correspond to each outcome variable whose effect sizes are being
quantified. If <code>plot.res = TRUE</code>, a heat-map is plotted of this data
frame to easily identify the strongest effects. Note that the heatmap is
partitioned into the omnibus effect (first row) and pair-wise effects
(remaining rows), because otherwise the omnibus effect would dominate the
heatmap.
</p>


<h3>Author(s)</h3>

<p>Daniel B. McArtor (dmcartor@gmail.com) [aut, cre]
</p>


<h3>References</h3>

<p>McArtor, D. B., Lubke, G. H., &amp; Bergeman, C. S. (2017). Extending
multivariate distance matrix regression with an effect size measure and the
distribution of the test statistic. Psychometrika, 82, 1052-1077.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mdmrdata)
# --- Method 1 --- #
delta(X.mdmr, Y = Y.mdmr, dtype = "euclidean", niter = 1, seed = 12345)

# --- Method 2 --- #
D &lt;- dist(Y.mdmr, method = "euclidean")
G &lt;- gower(D)
q &lt;- ncol(Y.mdmr)
G.list &lt;- vector(mode = "list", length = q)
names(G.list) &lt;- names(Y.mdmr)
for(i in 1:q) {
   Y.shuf &lt;- Y.mdmr
   Y.shuf[,i] &lt;- sample(Y.shuf[,i])
   G.list[[i]] &lt;- gower(dist(Y.shuf, method = "euclidean"))
}
delta(X.mdmr, G = G, G.list = G.list)

</code></pre>


</div>