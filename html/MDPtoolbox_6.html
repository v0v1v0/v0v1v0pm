<div class="container">

<table style="width: 100%;"><tr>
<td>mdp_computePpolicyPRpolicy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Computes the transition matrix and the reward matrix for a fixed policy
</h2>

<h3>Description</h3>

<p>Computes the transition matrix and the reward matrix for a given policy.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mdp_computePpolicyPRpolicy(P, R, policy)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>

<p>transition probability array. P can be a 3 dimensions array [S,S,A] or a list [[A]], each element containing a sparse matrix [S,S].
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>

<p>reward array. R can be a 3 dimensions array [S,S,A] or a list [[A]], each element containing a sparse matrix [S,S] or a 2 dimensional matrix [S,A] possibly sparse.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>policy</code></td>
<td>

<p>a policy. policy is a length S vector of integer representing actions.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>mdp_computePpolicyPRpolicy computes the state transition matrix and the reward matrix of a policy, given a probability matrix P and a reward matrix.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Ppolicy</code></td>
<td>
<p>transition probability array of the policy. Ppolicy is a [S,S] matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PRpolicy</code></td>
<td>
<p>reward matrix of the policy. PRpolicy is a vector of length S.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
# With a non-sparse matrix
P &lt;- array(0, c(2,2,2))
P[,,1] &lt;- matrix(c(0.6116, 0.3884, 0, 1.0000), 2, 2, byrow=TRUE)
P[,,2] &lt;- matrix(c(0.6674, 0.3326, 0, 1.0000), 2, 2, byrow=TRUE)
R &lt;- array(0, c(2,2,2))
R[,,1] &lt;- matrix(c(-0.2433, 0.7073, 0, 0.1871), 2, 2, byrow=TRUE)
R[,,2] &lt;- matrix(c(-0.0069, 0.6433, 0, 0.2898), 2, 2, byrow=TRUE)
policy &lt;- c(2,2)
mdp_computePpolicyPRpolicy(P, R, policy)

# With a sparse matrix (P)
P &lt;- list()
P[[1]] &lt;- Matrix(c(0.6116, 0.3884, 0, 1.0000), 2, 2, byrow=TRUE, sparse=TRUE)
P[[2]] &lt;- Matrix(c(0.6674, 0.3326, 0, 1.0000), 2, 2, byrow=TRUE, sparse=TRUE)
mdp_computePpolicyPRpolicy(P, R, policy)
</code></pre>


</div>