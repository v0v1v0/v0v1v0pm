<div class="container">

<table style="width: 100%;"><tr>
<td>MEDseq_meantime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the mean time spent in each sequence category</h2>

<h3>Description</h3>

<p>Computes the mean time (per cluster) spent in each sequence category (i.e. state value) for a fitted <code>MEDseq</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MEDseq_meantime(x,
                MAP = FALSE,
                weighted = TRUE, 
                norm = TRUE,
                prop = FALSE, 
                map.size = FALSE,
                wt.size = FALSE,
                SPS = FALSE)

## S3 method for class 'MEDseqMeanTime'
print(x,
      digits = 3L,
      ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>"MEDseq"</code> generated by <code>MEDseq_fit</code> or an object of class <code>"MEDseqCompare"</code> generated by <code>MEDseq_compare</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAP</code></td>
<td>
<p>A logical indicating whether to use the MAP classification in the computation of the averages, or the 'soft' clustering assignment probabilities given by <code>x$z</code>. Defaults to <code>FALSE</code>, but is always <code>TRUE</code> for models fitted by the CEM algorithm (see <code>MEDseq_control</code>). See <code>weighted</code> for incorporating the sampling weights (regardless of the value of <code>MAP</code>). See <code>map.size</code> below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>A logical indicating whether the sampling weights (if used during model fitting) are used to compute the weighted averages. These can be used alone (when <code>MAP</code> is <code>TRUE</code>) or in conjunction with the 'soft' clustering assignment probabilities (when <code>MAP</code> is <code>FALSE</code>). Defaults to <code>TRUE</code>. Note that, <em>by default</em>, the first column of the output is not affected by the value of <code>weighted</code> (see <code>wt.size</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>A logical indicating whether the mean times (outputted values after the first column) are normalised to sum to the sequence length within each cluster (defaults to <code>TRUE</code>). Otherwise, when <code>FALSE</code>, entries beyond the first column give the total (weighted) number of times a given sequence category was observed in a given cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>A logical (defaulting to <code>FALSE</code> and only invoked when <code>norm</code> is also <code>TRUE</code>) which further normalises the output to give the <em>proportions</em> of time spent in each state on average instead of the absolute values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map.size</code></td>
<td>
<p>A logical (defaulting to <code>FALSE</code>, unless the model was fitted by the CEM algorithm (see <code>MEDseq_control</code>)) which overrides <code>MAP</code> in the <code>Size</code> column (or <code>Weighted.Size</code> column, see <code>wt.size</code>) of the output, e.g. if <code>MAP=FALSE</code> and <code>map.size=TRUE</code>, the MAP classification is used to determine the cluster sizes but the soft cluster-membership probabilities are used to calculate quantities in remaining columns. Only relevant when <code>MAP=FALSE</code> or <code>wt.size=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt.size</code></td>
<td>
<p>A logical (defaults to <code>FALSE</code> and only invoked when when <code>weighted</code> is also <code>TRUE</code>) which toggles whether the weights are <em>also</em> used in the computation of the cluster sizes in the first column of the output (regardless of the values of <code>MAP</code> or <code>map.size</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SPS</code></td>
<td>
<p>A logical indicating whether the output should be labelled according to the state-permanence-sequence representation of the central sequences. Defaults to <code>FALSE</code>. See <code>MEDseq_clustnames</code> and <code>seqformat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Minimum number of significant digits to be printed in values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Catches unused arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Models with weights, covariates, &amp;/or a noise component are also accounted for.
</p>


<h3>Value</h3>

<p>A matrix with sequence category and cluster-specific mean times, giving clusters on the rows, corresponding cluster sizes (or weighted cluster sizes) in the first column, and sequence categories in the remaining columns.
</p>


<h3>Note</h3>

<p>The function <code>plot.MEDseq</code> with the option <code>type="mt"</code> can be used to visualise the mean times (by cluster). However, the results displayed therein (at present) always assume <code>norm=TRUE</code>, <code>prop=FALSE</code>, and <code>wt.size=TRUE</code>, while the <code>MAP</code> argument is renamed to <code>soft</code>, where <code>MAP=!soft</code>.
</p>


<h3>Author(s)</h3>

<p>Keefe Murphy - &lt;<a href="mailto:keefe.murphy@mu.ie">keefe.murphy@mu.ie</a>&gt;
</p>


<h3>References</h3>

<p>Murphy, K., Murphy, T. B., Piccarreta, R., and Gormley, I. C. (2021). Clustering longitudinal life-course sequences using mixtures of exponential-distance models. <em>Journal of the Royal Statistical Society: Series A (Statistics in Society)</em>, 184(4): 1414-1451. &lt;<a href="https://doi.org/10.1111/rssa.12712">doi:10.1111/rssa.12712</a>&gt;.
</p>


<h3>See Also</h3>

<p><code>MEDseq_fit</code>, <code>MEDseq_control</code>, <code>plot.MEDseq</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(biofam)
seqs &lt;- seqdef(biofam[10:25] + 1L,
               states = c("P", "L", "M", "L+M", "C", 
                          "L+C", "L+M+C", "D"))
mod  &lt;- MEDseq_fit(seqs, G=10, modtype="UUN")

MEDseq_meantime(mod)
MEDseq_meantime(mod, prop=TRUE)
MEDseq_meantime(mod, map.size=TRUE)
MEDseq_meantime(mod, MAP=TRUE, norm=FALSE, SPS=TRUE)
</code></pre>


</div>