<div class="container">

<table style="width: 100%;"><tr>
<td>MEDseq_AvePP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Average posterior probabilities of a fitted MEDseq model</h2>

<h3>Description</h3>

<p>Calculates the per-component average posterior probabilities of a fitted MEDseq model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MEDseq_AvePP(x,
             group = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>"MEDseq"</code> generated by <code>MEDseq_fit</code> or an object of class <code>"MEDseqCompare"</code> generated by <code>MEDseq_compare</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>A logical indicating whether the average posterior probabilities should be computed <em>per component</em>. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>group=TRUE</code>, this function calculates AvePP, the average posterior probabilities of membership for each component for the observations assigned to that component via MAP probabilities. Otherwise, an overall measure of clustering certainty is returned.
</p>


<h3>Value</h3>

<p>When <code>group=TRUE</code>, a named vector of numbers, of length equal to the number of components (G), in the range [1/G,1], such that <em>larger</em> values indicate clearer separation of the clusters. When <code>group=FALSE</code>, a single number in the same range is returned.
</p>


<h3>Note</h3>

<p>This function will always return values of <code>1</code> for all components for models fitted using the <code>"CEM"</code> algorithm (see <code>MEDseq_control</code>), or models with only one component.
</p>


<h3>Author(s)</h3>

<p>Keefe Murphy - &lt;<a href="mailto:keefe.murphy@mu.ie">keefe.murphy@mu.ie</a>&gt;
</p>


<h3>References</h3>

<p>Murphy, K., Murphy, T. B., Piccarreta, R., and Gormley, I. C. (2021). Clustering longitudinal life-course sequences using mixtures of exponential-distance models. <em>Journal of the Royal Statistical Society: Series A (Statistics in Society)</em>, 184(4): 1414-1451. &lt;<a href="https://doi.org/10.1111/rssa.12712">doi:10.1111/rssa.12712</a>&gt;.
</p>


<h3>See Also</h3>

<p><code>MEDseq_fit</code>, <code>MEDseq_control</code>, <code>MEDseq_entropy</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load the MVAD data
data(mvad)
mvad$Location &lt;- factor(apply(mvad[,5:9], 1L, function(x) 
                 which(x == "yes")), labels = colnames(mvad[,5:9]))
mvad          &lt;- list(covariates = mvad[c(3:4,10:14,87)],
                      sequences = mvad[,15:86], 
                      weights = mvad[,2])
mvad.cov      &lt;- mvad$covariates

# Create a state sequence object with the first two (summer) time points removed
states        &lt;- c("EM", "FE", "HE", "JL", "SC", "TR")
labels        &lt;- c("Employment", "Further Education", "Higher Education", 
                   "Joblessness", "School", "Training")
mvad.seq      &lt;- seqdef(mvad$sequences[-c(1,2)], states=states, labels=labels)

# Fit a model with weights and a gating covariate
# Have the probability of noise-component membership be constant
mod           &lt;- MEDseq_fit(mvad.seq, G=11, modtype="UUN", weights=mvad$weights, 
                            gating=~ gcse5eq, covars=mvad.cov, noise.gate=FALSE)

# Calculate the AvePP per component
MEDseq_AvePP(mod)

# Calculte an overall measure of clustering certainty
MEDseq_AvePP(mod, group=FALSE)
</code></pre>


</div>