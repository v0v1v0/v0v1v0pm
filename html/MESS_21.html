<div class="container">

<table style="width: 100%;"><tr>
<td>cumsumbinning</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Binning based on cumulative sum with reset above threshold</h2>

<h3>Description</h3>

<p>Fast binning of cumulative vector sum with new groups when the sum passes a threshold or the group size becomes too large
</p>


<h3>Usage</h3>

<pre><code class="language-R">cumsumbinning(x, threshold, cutwhenpassed = FALSE, maxgroupsize = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix of regressor variables. Must have the same number of rows as the length of y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>The value of the threshold that the cumulative group sum must not cross OR the threshold that each group sum must pass (when the argument cuwhatpassed is set to TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutwhenpassed</code></td>
<td>
<p>A boolean. Should the threshold be the upper limit of the group sum (the default) or the value that each group sum needs to pass (when set to TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxgroupsize</code></td>
<td>
<p>An integer that defines the maximum number of elements in each group. NAs count as part of each group but do not add to the group sum. NULL (the default) corresponds to no group size limits.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Missing values (NA, Inf, NaN) are completely disregarded and pairwise complete cases are used f
</p>


<h3>Value</h3>

<p>An integer vector giving the group indices
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom &lt;claus@rprimer.dk&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1)
x &lt;- sample(10, 20, replace = TRUE)
cumsumbinning(x, 15)
cumsumbinning(x, 15, 3)

x &lt;- c(3, 4, 5, 12, 1, 5, 3)
cumsumbinning(x, 10)
cumsumbinning(x, 10, cutwhenpassed=TRUE)

</code></pre>


</div>