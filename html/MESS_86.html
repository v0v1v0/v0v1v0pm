<div class="container">

<table style="width: 100%;"><tr>
<td>residual_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots a standardized residual</h2>

<h3>Description</h3>

<p>Plots a standardized residual plot from an lm or glm object and provides additional
graphics to help evaluate the variance homogeneity and mean.
</p>


<h3>Usage</h3>

<pre><code class="language-R">residual_plot(
  x,
  y = NULL,
  candy = TRUE,
  bandwidth = 0.3,
  xlab = "Fitted values",
  ylab = "Std.res.",
  col.sd = "blue",
  alpha = 0.1,
  ylim = NA,
  ...
)

## Default S3 method:
residual_plot(
  x,
  y = NULL,
  candy = TRUE,
  bandwidth = 0.3,
  xlab = "Fitted values",
  ylab = "Std.res.",
  col.sd = "blue",
  alpha = 0.1,
  ylim = NA,
  ...
)

## S3 method for class 'lm'
residual_plot(
  x,
  y,
  candy = TRUE,
  bandwidth = 0.3,
  xlab = "Fitted values",
  ylab = "Stud.res.",
  col.sd = "blue",
  alpha = 0.1,
  ...
)

## S3 method for class 'glm'
residual_plot(
  x,
  y,
  candy = TRUE,
  bandwidth = 0.4,
  xlab = "Fitted values",
  ylab = "Std. dev. res.",
  col.sd = "blue",
  alpha = 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>lm object or a numeric vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric vector for the y axis values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>candy</code></td>
<td>
<p>logical. Should a lowess curve and local standard deviation of
the residual be added to the plot. Defaults to <code>TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bandwidth</code></td>
<td>
<p>The width of the window used to calculate the local
smoothed version of the mean and the variance. Value should be between 0 and
1 and determines the percentage of the window width used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y axis label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.sd</code></td>
<td>
<p>color for the background residual deviation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>number between 0 and 1 determining the transprency of the
standard deviation plotting color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>pair of observations that set the minimum and maximum of the y axis. If set to NA (the default) then the limits are computed from the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments passed to the plot function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The y axis shows the studentized residuals (for lm objects) or
standardized deviance residuals (for glm objects). The x axis shows the linear predictor, i.e., the
predicted values for lm objects.
</p>
<p>The blue area is a smoothed estimate of 1.96*SD of the standardized
residuals in a window around the predicted value. The blue area should
largely be rectangular if the standardized residuals have more or less the
same variance.
</p>
<p>The dashed line shows the smoothed mean of the standardized residuals and
should generally follow the horizontal line through (0,0).
</p>
<p>Solid circles correspond to standardized residuals outside the range from [-1.96; 1.96] while open circles are inside that interval. Roughly 5
</p>


<h3>Value</h3>

<p>Produces a standardized residual plot
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom &lt;claus@rprimer.dk&gt;
</p>


<h3>See Also</h3>

<p><code>rstandard</code>, <code>predict</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Linear regression example
data(trees)
model &lt;- lm(Volume ~ Girth + Height, data=trees)
residual_plot(model)
model2 &lt;- lm(Volume ~ Girth + I(Girth^2) + Height, data=trees)
residual_plot(model2)

# Add extra information about points by adding geom_text to the object produced

m &lt;- lm(mpg ~ hp + factor(vs), data=mtcars)
residual_plot(m) + ggplot2::geom_point(ggplot2::aes(color=factor(cyl)), data=mtcars) 

</code></pre>


</div>