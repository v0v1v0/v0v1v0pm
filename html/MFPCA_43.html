<div class="container">

<table style="width: 100%;"><tr>
<td>ttv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tensor times vector calculation</h2>

<h3>Description</h3>

<p>Functionality adapted from the MATLAB tensor toolbox 
(<a href="https://www.tensortoolbox.org/">https://www.tensortoolbox.org/</a>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ttv(A, v, dim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>An array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>A list of the same length as <code>dim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>A vector specifying the dimensions for the multiplication.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let <code>A</code> be a tensor with dimensions <code class="reqn">d_1 \times d_2 \times \ldots 
\times d_p</code> and let <code>v</code> be a vector of length 
<code class="reqn">d_i</code>. Then the tensor-vector-product along the <code class="reqn">i</code>-th dimension is 
defined as </p>
<p style="text-align: center;"><code class="reqn">B_{j_1 \ldots j_{i-1}j_{i+1} \ldots j_d} = \sum_{i=1}^{d_i} 
A_{j_1 \ldots j_{i-1} i j_{i+1} \ldots j_d} \cdot v_i.</code>
</p>
<p> It can hence be seen as a generalization of the 
matrix-vector product.
</p>
<p>The tensor-vector-product along several dimensions between a tensor <code>A</code> 
and multiple vectors <code>v_1,...,v_k</code> (<code class="reqn">k \le p</code>) is defined as a 
series of consecutive tensor-vector-product along the different dimensions.
For consistency, the multiplications are calculated from the dimension of the
highest order to the lowest.
</p>


<h3>Value</h3>

<p>An array, the result of the multiplication.
</p>


<h3>References</h3>

<p>B. W. Bader and T. G. Kolda. Algorithm 862: MATLAB tensor classes
for fast algorithm prototyping, ACM Transactions on Mathematical Software 
32(4):635-653, December 2006.
</p>


<h3>See Also</h3>

<p><code>UMPCA</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create a three-mode tensor
a1 &lt;- seq(0,1, length.out = 10)
a2 &lt;- seq(-1,1, length.out = 20)
a3 &lt;- seq(-pi, pi, length.out = 15)
A &lt;-a1 %o% a2 %o% a3
dim(A)

# multiply along different dimensions
dim(ttv(A = A, v = list(rnorm(10)), dim = 1))
dim(ttv(A = A, v = list(rnorm(20)), dim = 2))
dim(ttv(A = A, v = list(rnorm(15)), dim = 3))

# multiply along more than one dimension
length(ttv(A = A, v = list(rnorm(10), rnorm(15)), dim = c(1,3)))
</code></pre>


</div>