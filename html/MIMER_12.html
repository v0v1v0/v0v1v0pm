<div class="container">

<table style="width: 100%;"><tr>
<td>transpose_microbioevents</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transpose microbiology events dataset</h2>

<h3>Description</h3>

<p>This function helps to transpose (rows to columns) microbiology events.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transpose_microbioevents(raw_df,
                                 key_columns,
                                 required_columns,
                                 transpose_key_column,
                                 transpose_value_column,
                                 fill="NA",
                                 non_empty_filter_column,
                                 remove_duplicates=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>key_columns</code></td>
<td>
<p>(Optional) Primary Key/ Key columns for duplicate check
: Default Value = c('subject_id','micro_specimen_id','isolate_num',
'org_name','ab_itemid')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw_df</code></td>
<td>
<p>A data frame containing microbiology events</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>required_columns</code></td>
<td>
<p>(Optional) columns should contain in final dataset
: Default Value c('subject_id','hadm_id','micro_specimen_id',
'order_provider_id', 'chartdate','charttime',
'spec_itemid','spec_type_desc','storedate',
'storetime','test_itemid','test_name',
'org_itemid','isolate_num','org_name')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transpose_key_column</code></td>
<td>
<p>(Optional) The column that should be transposed
(                        - distinct values of that column will become separate columns)
:Default 'ab_name'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transpose_value_column</code></td>
<td>
<p>(optional) Values of 'transpose_key_column' column
:Default 'interpretation'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>(optional) Fill character for empty columns- Default : "NA"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>non_empty_filter_column</code></td>
<td>
<p>(optional) Filter input dataframe
where 'non_empty_filter_column' is not empty
or na. Default :'ab_itemid'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_duplicates</code></td>
<td>
<p>(optional) Default :TRUE</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data Frame
</p>


<h3>Examples</h3>

<pre><code class="language-R">test_data &lt;- data.frame(subject_id=c('10016742','10016742','10016742',
                                     '10016742','10016742','10038332',
                                     '10038332','10038332','10038332',
                                     '10038332','10038332'),
                       chartdate= c('2178-07-03','2178-08-01','2178-08-01',
                                    '2178-08-01','2178-09-25','2164-07-31',
                                    '2164-12-22','2164-12-22','2165-01-07',
                                    '2165-04-17','2165-05-05'),
                       ab_name=c('CEFEPIME','CEFTAZIDIME','CEFEPIME',
                                'CEFEPIME','CEFTAZIDIME','CEFTAZIDIME',
                                'CEFEPIME','CEFEPIME','CEFTAZIDIME',
                                'CEFTAZIDIME','CEFEPIME'),
                       interpretation=c('S','R','S','R','R','S','S','S','R','R','S'))

transpose_microbioevents(test_data,
                         key_columns = c('subject_id','chartdate','ab_name'),
                         required_columns = c('subject_id','chartdate'),
                         transpose_key_column = 'ab_name',
                         transpose_value_column = 'interpretation',
                         fill = "N/A",
                         non_empty_filter_column = 'subject_id')
</code></pre>


</div>