<div class="container">

<table style="width: 100%;"><tr>
<td>extrapolate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extrapolate input multi-channel accelerometer data</h2>

<h3>Description</h3>

<p><code>extrapolate</code> applies the extrapolation algorithm to a multi-channel
accelerometer data, trying to reconstruct the true movement from the
maxed-out samples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extrapolate(df, ...)

extrapolate_single_col(
  t,
  value,
  range,
  noise_level = 0.03,
  k = 0.05,
  spar = 0.6
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>dataframe. Input multi-channel accelerometer data. Used in
<code>extrapolate</code>.  The first column should be the date/time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>see following parameter list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>POSIXct or numeric vector. Input index or timestamp sequence Used in
<code>extrapolate_single_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>numeric vector. Value vector used in
<code>extrapolate_single_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>numeric vector. The dynamic ranges of the input signal. Should
be a 2-element numeric vector. <code>c(low, high)</code>, where <code>low</code> is
the negative max value the device can reach and <code>high</code> is the positive
max value the device can reach.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>noise_level</code></td>
<td>
<p>number. The tolerable noise level in <code class="reqn">g</code> unit, should
be between 0 and 1. Default is 0.03, which applies to most devices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number. Duration of neighborhood to be used in local spline
regression for each side, in seconds. Default is 0.05, as optimized by
MIMS-unit algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spar</code></td>
<td>
<p>number. Between 0 and 1, to control how smooth we want to fit
local spline regression, 0 is linear and 1 matches all local points.
Default is 0.6, as optimized by MIMS-unit algorithm.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function first linearly interpolates the input signal to 100Hz, and then
applies the extrapolation algorithm (see the manuscript) to recover the
maxed-out samples. Maxed-out samples are samples that are cut off because the
intensity of the underlying movement exceeds the dynamic range of the device.
</p>
<p><code>extrapolate</code> processes a dataframe of a multi-channel accelerometer
signal. <code>extrapolate_single_col</code> processes a single-channel signal with
its timestamps and values specified in the first and second arguments.
</p>


<h3>Value</h3>

<p><code>extraplate</code> returns a dataframe with extrapolated multi-channel
signal. <code>extrapolate_single_col</code> returns a dataframe with extrapolated
single-channel signal, the timestamp col is in numeric values instead of
POSIXct format.
</p>


<h3>How is it used in MIMS-unit algorithm?</h3>

<p>This function is the first
step during MIMS-unit algorithm, applied before filtering.
</p>


<h3>See Also</h3>

<p>Other extrapolation related functions: 
<code>extrapolate_rate()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Use the maxed-out data for the conceptual diagram
  df = conceptual_diagram_data[
          conceptual_diagram_data['GRANGE'] == 4,
          c("HEADER_TIME_STAMP", "X")]

  # Plot input
  illustrate_signal(df, range=c(-4, 4))

  # Use the default parameter settings as in MIMunit algorithms
  # The dynamic range of the input data is -4g to 4g.
  output = extrapolate(df, range=c(-4, 4))

  # Plot output
  illustrate_signal(output, range=c(-4, 4))
</code></pre>


</div>