<div class="container">

<table style="width: 100%;"><tr>
<td>compute_orientation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the accelerometer orientation</h2>

<h3>Description</h3>

<p><code>compute_orientation</code> returns a dataframe with accelerometer
orientations estimated by
<a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=1241424">Mizell,
2003</a> for the input dataframe.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_orientation(df, estimation_window = 2, unit = "deg")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>dataframe. Input multi-channel signal. First column should be
timestamps in POSIXt format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimation_window</code></td>
<td>
<p>number. window size in seconds to be used to
estimate orientations. Default is 2 (seconds), as suggested by
<a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=1241424">Mizell,
2003</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>string. The unit of orientation angles. Can be "deg" (degree) or
"rad" (radian). Default is "deg".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function accepts a dataframe (in mhealth accelerometer data format) and
computes the estimated acclerometer orientations (in x, y, and z angles) for
every <code>estimation_window</code> seconds of the entire sequence, and outputs
the mean of these angles. The returned dataframe will have the same format as
input dataframe, including four columns, and have the same datetime format as
input dataframe in the timestamp column. The orientation estimation method
used in the function is based on
<a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=1241424">Mizell,
2003</a>.
</p>


<h3>Value</h3>

<p>dataframe. The returned dataframe will have the same format as input
dataframe.
</p>


<h3>How is it used in mims-unit algorithm?</h3>

<p>This function is used in
function (<code>aggregate_for_orientation</code>).
</p>


<h3>See Also</h3>

<p>Other transformation functions: 
<code>sum_up()</code>,
<code>vector_magnitude()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Use first 10 second sample data for testing
  df = sample_raw_accel_data
  df = clip_data(df, start_time = df[1,1], stop_time = df[1, 1] + 600)

  # compute orientation angles in degrees
  compute_orientation(df)

  # compute orientation angles in radian angles
  compute_orientation(df, unit='rad')
</code></pre>


</div>