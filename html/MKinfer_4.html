<div class="container">

<table style="width: 100%;"><tr>
<td>binomDiffCI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Confidence Intervals for Difference of Two Binomial Proportions </h2>

<h3>Description</h3>

<p>This function can be used to compute confidence intervals for the difference 
of two binomial proportions. It includes methods for the independent and the 
paired case.
</p>


<h3>Usage</h3>

<pre><code class="language-R">binomDiffCI(a, b, c, d, conf.level = 0.95, paired = FALSE, 
            method = ifelse(paired, "wilson-cc", "wilson"), 
            R = 9999, bootci.type = "all", 
            alternative = c("two.sided", "less", "greater"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p> independent: number of successes of group 1; 
paired: number of cases with success in group 1 and 2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p> independent: number of successes of group 2; 
paired: number of cases with success in group 1 and failure in group 2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p> independent: number of failures of group 1; 
paired: number of cases with failure in group 1 and success in group 2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p> independent: number of failures of group 2; 
paired: number of cases with failure in group 1 and 2. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p> confidence level </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p> a logical value indicating whether the two groups are paired. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p> character string specifing which method to use; see details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p> number of bootstrap replicates. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bootci.type</code></td>
<td>
<p> type of bootstrap interval; see <code>boot.ci</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p> a character string specifying one- or two-sided confidence intervals. 
Must be one of "two.sided" (default), "greater" or "less" (one-sided intervals). 
You can specify just the initial letter. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> further arguments passed to function <code>boot</code>,
e.g. for parallel computing. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Wald intervals (independent and paired) are obtained by applying the normal 
approximation. There are also Wald intervals with continuity correction.
</p>
<p>The Wilson intervals are recommended by Newcombe and Altman (2000); see
Chapter 6 of Altman et al. (2000). In the paired case, the continuity corrected
version of the interval is recommended. The intervals are proposed in 
Newcombe (1998a) and Newcombe (1998b).
</p>
<p>The bootstrap interval is calculated by using function <code>boot.ci</code>.
</p>


<h3>Value</h3>

<p>A list with class <code>"confint"</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p> the estimated probability of success. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p> a confidence interval for the probability of success. </p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Matthias Kohl <a href="mailto:Matthias.Kohl@stamats.de">Matthias.Kohl@stamats.de</a></p>


<h3>References</h3>

<p>D. Altman, D. Machin, T. Bryant, M. Gardner (eds). <em>Statistics with Confidence:
Confidence Intervals and Statistical Guidelines</em>, 2nd edition.
John Wiley and Sons 2000.
</p>
<p>R.G. Newcombe (1998a). Interval estimation for the difference between independent 
proportions: comparison of eleven methods. <em>Stat Med</em>, <b>17</b>(8), 873-890.
</p>
<p>R.G. Newcombe (1998b). Improved confidence intervals for the difference between 
binomial proportions based on paired data. <em>Stat Med</em>, <b>17</b>(22), 2635-2650.
</p>


<h3>See Also</h3>

<p><code>prop.test</code>, <code>boot.ci</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Example 1: Altman et al. (2000, p. 49)
## the confidence interval computed by prop.test
prop.test(c(63, 38), c(93, 92))$conf.int
## wald / simple asymptotic interval
binomDiffCI(a = 63, b = 38, c = 30, d = 54, method = "wald")
## wald / simple asymptotic interval with continuity correction
binomDiffCI(a = 63, b = 38, c = 30, d = 54, method = "wald-cc")
## wilson
binomDiffCI(a = 63, b = 38, c = 30, d = 54)
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 63, b = 38, c = 30, d = 54, method = "boot", R = 999)
## one-sided
binomDiffCI(a = 63, b = 38, c = 30, d = 54, alternative = "greater")
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 63, b = 38, c = 30, d = 54, method = "boot", R = 999,
            bootci.type = "bca", alternative = "greater")


## Example 2: Altman et al. (2000, p. 50)
## the confidence interval computed by prop.test
prop.test(c(5, 0), c(56, 29))$conf.int
## wald / simple asymptotic interval
binomDiffCI(a = 5, b = 0, c = 51, d = 29, method = "wald")
## wald / simple asymptotic interval with continuity correction
binomDiffCI(a = 5, b = 0, c = 51, d = 29, method = "wald-cc")
## wilson
binomDiffCI(a = 5, b = 0, c = 51, d = 29)
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 5, b = 0, c = 51, d = 29, method = "boot", R = 999)
## one-sided
binomDiffCI(a = 5, b = 0, c = 51, d = 29, alternative = "less")
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 5, b = 0, c = 51, d = 29, method = "boot", R = 999,
            bootci.type = "perc", alternative = "less")


## Example 3: Altman et al. (2000, p. 51)
## wald / simple asymptotic interval
binomDiffCI(a = 14, b = 5, c = 0, d = 22, paired = TRUE, method = "wald")
## wald / simple asymptotic interval with continuity correction
binomDiffCI(a = 14, b = 5, c = 0, d = 22, paired = TRUE, method = "wald-cc")
## wilson
binomDiffCI(a = 14, b = 5, c = 0, d = 22, paired = TRUE, method = "wilson")
## wilson with continuity correction
binomDiffCI(a = 14, b = 5, c = 0, d = 22, paired = TRUE)
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 14, b = 5, c = 0, d = 22, paired = TRUE, method = "boot", R = 999)

## Example 4: Altman et al. (2000, p. 51)
## wald / simple asymptotic interval
binomDiffCI(a = 212, b = 144, c = 256, d = 707, paired = TRUE, method = "wald")
## wald / simple asymptotic interval with continuity correction
binomDiffCI(a = 212, b = 144, c = 256, d = 707, paired = TRUE, method = "wald-cc")
## wilson
binomDiffCI(a = 212, b = 144, c = 256, d = 707, paired = TRUE, method = "wilson")
## wilson with continuity correction
binomDiffCI(a = 212, b = 144, c = 256, d = 707, paired = TRUE)
## bootstrap intervals (R = 999 to reduce computation time for R checks)
binomDiffCI(a = 212, b = 144, c = 256, d = 707, paired = TRUE, method = "boot",
            bootci.type = c("norm", "basic", "stud", "perc"), R = 999) ## type = "bca" gives error


binomDiffCI(a = 63, b = 38, c = 30, d = 54, method = "boot", R = 9999, 
        parallel = "multicore", ncpus = 2)

</code></pre>


</div>