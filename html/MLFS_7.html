<div class="container">

<table style="width: 100%;"><tr>
<td>crownHeight_prediction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>crownHeight_prediction</h2>

<h3>Description</h3>

<p>Model for predicting crown height
</p>


<h3>Usage</h3>

<pre><code class="language-R">crownHeight_prediction(
  df_fit,
  df_predict,
  site_vars = site_vars,
  species_n_threshold = 100,
  k = 10,
  eval_model_crownHeight = TRUE,
  crownHeight_model = "lm",
  BRNN_neurons = 3,
  blocked_cv = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_fit</code></td>
<td>
<p>data frame with tree heights and basal areas for individual
trees</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_predict</code></td>
<td>
<p>data frame which will be used for predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>site_vars</code></td>
<td>
<p>optional, character vector with names of site variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species_n_threshold</code></td>
<td>
<p>a positive integer defining the minimum number of
observations required to treat a species as an independent group</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eval_model_crownHeight</code></td>
<td>
<p>logical, should the crown height model be
evaluated and returned as the output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crownHeight_model</code></td>
<td>
<p>character string defining the model to be used for
crown heights. Available are ANN with Bayesian regularization (brnn) or
linear regression (lm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BRNN_neurons</code></td>
<td>
<p>positive integer defining the number of neurons to be
used in the brnn method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with four elements:
</p>

<ol>
<li>
<p> $predicted_crownHeight - a data frame with imputed crown heights
</p>
</li>
<li>
<p> $eval_crownHeight - a data frame with predicted and observed crown heights, or a character string indicating that crown height model was not evaluated
</p>
</li>
<li>
<p> $model_species - the output model for crown heights (species level)
</p>
</li>
<li>
<p> $model_speciesGroups - the output model for crown heights (species group level)
</p>
</li>
</ol>
<h3>Examples</h3>

<pre><code class="language-R">library(MLFS)
data(data_tree_heights)
data(data_v3)

# A) Example with linear model
Crown_h_predictions &lt;- crownHeight_prediction(df_fit = data_tree_heights,
    df_predict = data_v3,
    crownHeight_model = "lm",
    site_vars = c(),
    species_n_threshold = 100,
    k = 10, blocked_cv = TRUE,
    eval_model_crownHeight = TRUE)

predicted_df &lt;- Crown_h_predictions$predicted_crownHeight # df with imputed heights
evaluation_df &lt;- Crown_h_predictions$eval_crownHeight # df with evaluation results

# B) Example with non-linear BRNN model
Crown_h_predictions &lt;- crownHeight_prediction(df_fit = data_tree_heights,
    df_predict = data_v3,
    crownHeight_model = "brnn",
    BRNN_neurons = 3,
    site_vars = c(),
    species_n_threshold = 100,
    k = 10, blocked_cv = TRUE,
    eval_model_crownHeight = TRUE)

</code></pre>


</div>