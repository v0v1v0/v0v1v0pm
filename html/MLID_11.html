<div class="container">

<table style="width: 100%;"><tr>
<td>impacts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Impact calculations</h2>

<h3>Description</h3>

<p>Calculates the total contribution to the index of dissimilarity of
neighbourhoods grouped by regions or other higher-level geographies
</p>


<h3>Usage</h3>

<pre><code class="language-R">impacts(data, vars, levels, omit = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame with <code>ncol(data) &gt;= 2</code>. Each row of the data
represents a neighbourhood or some other areal unit for which counts of
population have been made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a character or numeric vector of length 2 or 3 giving either
the names or columns positions of the variables in <code>data</code> in the
following order
</p>

<ol>
<li>
<p> the number of population group Y in each neighbourhood
</p>
</li>
<li>
<p> the number of population group X in each neighbourhood
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>a character or numeric vector of minimum length 1 identifying
either the names or columns positions of the variables in <code>data</code> that
record to which higher-level grouping each lower-lower level unit belongs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omit</code></td>
<td>
<p>(optional) a character vector containing the names of places to
search for in the data and to omit from the calculations</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When the index of dissimilarity (ID) is estimated as a regression model
the residuals from that model are the differences between the share of
population group Y and the share of population group X that are observed in
each neighbourhood. The <code>impacts</code> function summaries those differences
by higher-level geographies to consider which places or regions have the
neighbourhoods that contribute most to the ID. The measures are useful
for understanding where the seperations of the two population groups are
greatest. However, to look at scale effects, where the effect of each level
<em>net</em> of the other levels is wanted, fit a multilevel index using
function <code>id</code>.
</p>


<h3>Value</h3>

<p>A list of data.frames, each containing the impact calculations for
the higher-level geographies. The variables are
</p>

<ul>
<li> <p><code>pcntID</code> The total contribution of the neighbourhoods within
the region to the overall ID score, expressed as a percentage
</p>
</li>
<li> <p><code>pcntN</code> The number of neighbourhoods within the region,
expressed as a percentage of the total number in <code>data</code>
</p>
</li>
<li> <p><code>impact</code> The ratio of <code>pcntID</code> to <code>pcntN</code> multiplied
by 100. Values over 100 indicate a group of neighbourhoods that have a
disproportionately high impact on the ID
</p>
</li>
<li> <p><code>scldMean</code> The average difference between the share of the Y
population and the share of the X population, scaled by the standard error
of the differences for the whole data set (to give a z-value). Positive
values mean that, on average, the region has a greater share of the Y
population than the X. Negative values mean it has less.
</p>
</li>
<li> <p><code>scldSD</code> A measure of how much the differences between the
shares of the two populations vary within the region. It is the standard
deviation of those differences scaled by the standard error for the whole
data set. Higher values indicate greater variability within the region.
</p>
</li>
<li> <p><code>scldMin</code> The minimum difference between the share of the Y
population and the share of the X for neighbourhoods within the region,
scaled by the standard error
</p>
</li>
<li> <p><code>scldMax</code> The maximum difference between the share of the Y
population and the share of the X for neighbourhoods within the region,
scaled by the standard error
</p>
</li>
<li> <p><code>pNYgtrNX</code> The percentage of neighbourhoods within the region
where the count of population group Y (as opposed to the share) is
greater than the count of population group X
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data(aggdata)
impx &lt;- impacts(aggdata, c("Bangladeshi", "WhiteBrit"), c("LAD","RGN"))
head(impx)
# sorted by impact score
# For $RGN London has the greatest impact on the ID
# The 'excess' share of the Bangladeshi population is not especially
# significant (see scldMean) but there is a lot of variation between
# neighbourhoods (see scldSD)
# For $LAD note the impacts of Tower Hamlets and Newham
</code></pre>


</div>