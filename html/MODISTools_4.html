<div class="container">

<table style="width: 100%;"><tr>
<td>mt_batch_subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Batch download MODIS Land Products subsets</h2>

<h3>Description</h3>

<p>Lists all available dates for a MODIS Land Products Subset product
at a particular location.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_batch_subset(
  df,
  product,
  band,
  start = "2000-01-01",
  end = format(Sys.time(), "%Y-%m-%d"),
  km_lr = 0,
  km_ab = 0,
  out_dir = tempdir(),
  internal = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a CSV file or data frame holding locations and their sitenames to
batch process with column names site_name, lat, lon holding the respective
sitenames, latitude and longitude. When providing a CSV make sure that the
data are comma separated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>product</code></td>
<td>
<p>a valid MODIS product name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>band</code></td>
<td>
<p>band to download</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>start date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>end date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>km_lr</code></td>
<td>
<p>km left-right to sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>km_ab</code></td>
<td>
<p>km above-below to sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_dir</code></td>
<td>
<p>location where to store all data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>internal</code></td>
<td>
<p>should the data be returned as an internal data structure
<code>TRUE</code> or <code>FALSE</code> (default = <code>TRUE</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame combining meta-data and actual data values, data from
different sites is concatenated into one large dataframe. Subsets can be
created by searching on sitename.
</p>


<h3>See Also</h3>

<p><code>mt_sites</code>
<code>mt_dates</code> <code>mt_bands</code>
<code>mt_products</code>
<code>mt_subset</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# create data frame with a site_name, lat and lon column
# holding the respective names of sites and their location
df &lt;- data.frame("site_name" = paste("test",1:2))
df$lat &lt;- 40
df$lon &lt;- -110

print(df)

# test batch download
subsets &lt;- mt_batch_subset(df = df,
                        product = "MOD11A2",
                        band = "LST_Day_1km",
                        internal = TRUE,
                        start = "2004-01-01",
                        end = "2004-03-31")

# the same can be done using a CSV file with
# a data structure similar to the dataframe above

write.table(df, file.path(tempdir(),"my_sites.csv"),
 quote = FALSE,
 row.names = FALSE,
 col.names = TRUE,
 sep = ",")

# test batch download form CSV
subsets &lt;- mt_batch_subset(df = file.path(tempdir(),"my_sites.csv"),
                        product = "MOD11A2",
                        band = "LST_Day_1km",
                        internal = TRUE,
                        start = "2004-01-01",
                        end = "2004-03-31"
                        )

head(subsets)

## End(Not run)
</code></pre>


</div>