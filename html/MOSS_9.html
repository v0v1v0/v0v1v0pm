<div class="container">

<table style="width: 100%;"><tr>
<td>pca2tsne</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mapping principal components onto a 2D map via tSNE.</h2>

<h3>Description</h3>

<p>This function is called by moss whenever 'moss(tSNE=TRUE)' to project
latent factors onto two dimensions via t-stochastic neighbor embedding
(tSNE) However, it can be used on any generic data matrix.
The function uses the Barnes-Hut tSNE algorithm from Rtsne package,
and uses an iterative procedure to select a tSNE map minimizing the
projection cost across several random initial conditions.
The function is inspired by the iterative procedure discussed in
Taskesen et al. 2016 and code originally provided with the publication.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pca2tsne(Z, perp = 50, n.samples = 1, n.iter = 1000, parallel = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>A matrix with axes of variation (typically PCs) as columns
and subjects as rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perp</code></td>
<td>
<p>Perplexity value. Defaults to 50.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.samples</code></td>
<td>
<p>Number of times the algorithm starts from 
different random initial conditions. Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.iter</code></td>
<td>
<p>Number of iterations for each run of the algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Should random starts be done in parallel? Logical. 
Default to FALSE.
Defaults to 1000.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns output of function 'Rtsne::Rtsne' from the random initial
condition with the smallest 'reconstruction error'.
</p>


<h3>References</h3>


<ul>
<li>
<p> van der Maaten L, Hinton G. Visualizing Data using t-SNE.
J Mach Learn Res. 2008;9: 2579â€“2605
</p>
</li>
<li>
<p> Krijthe JH. Rtsne: T-Distributed Stochastic Neighbor
Embedding using a Barnes-Hut Implementation. 2015
</p>
</li>
<li>
<p> Taskesen, Erdogan, Sjoerd M. H. Huisman, Ahmed Mahfouz,
Jesse H. Krijthe, Jeroen de Ridder, Anja van de Stolpe,
Erik van den Akker, Wim Verheagh, and Marcel J. T. Reinders. 2016.
Pan-Cancer Subtyping in a 2D-Map Shows Substructures
That Are Driven by Specific Combinations of Molecular
Characteristics. Scientific Reports 6 (1):24949.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
library("MOSS")
sim_blocks &lt;- simulate_data()$sim_blocks

# Example of pca2tsne usage.
Z &lt;- pca2tsne(sim_blocks$`Block 3`, 
              perp = 50, 
              n.samples = 1,
              n.iter = 1e3)$Y
plot(Z, xlab = "x_tSNE(X)", ylab = "y_tSNE(X)")

# Example of usage within moss.
set.seed(34)
moss(sim_blocks[-4],
  tSNE = list(
    perp = 50,
    n.samples = 1,
    n.iter = 1e3
  ),
  plot = TRUE
)$tSNE_plot

</code></pre>


</div>