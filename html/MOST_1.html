<div class="container">

<table style="width: 100%;"><tr>
<td>FactorialPowerPlan</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sample size, power and effect size calculations for a factorial or fractional
factorial experiment</h2>

<h3>Description</h3>

<p>There are three ways to use this function:
</p>

<ol>
<li>
<p> Estimate power available from a given sample size and a given effect size.
</p>
</li>
<li>
<p> Estimate sample size needed for a given power and a given effect size.
</p>
</li>
<li>
<p> Estimate effect size detectable from a given power at a given sample size.
</p>
</li>
</ol>
<p>That is, there are three main pieces of information: power, sample size, and effect size.
The user provides two of them, and this function calculates the third.
</p>


<h3>Usage</h3>

<pre><code class="language-R">FactorialPowerPlan(
  alpha = 0.05,
  assignment = "unclustered",
  change_score_icc = NULL,
  cluster_size = NULL,
  cluster_size_sd = NULL,
  d_main = NULL,
  effect_size_ratio = NULL,
  icc = NULL,
  model_order = 1,
  nclusters = NULL,
  nfactors = 1,
  ntotal = NULL,
  power = NULL,
  pre_post_corr = NULL,
  pretest = "none",
  raw_coef = NULL,
  raw_main = NULL,
  sigma_y = NULL,
  std_coef = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Two sided Type I error level for the test to be performed(default=0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assignment</code></td>
<td>
<p>One of three options: (default=unclustered)
</p>

<ol>
<li> <p>“independent” or equivalently “unclustered”
</p>
</li>
<li> <p>“within” or equivalently “within_clusters”
</p>
</li>
<li> <p>“between” or equivalently “between_clusters”
</p>
</li>
</ol>
<p>Clusters in this context are preexisting units within which responses may
be dependent (e.g., clinics or schools).  A within-cluster experiment involves
randomizing individual members, while a between-cluster experiment involves
randomizing clusters as whole units (see Dziak, Nahum-Shani, and Collins, 2012)
&lt;DOI:10.1037/a0026972&gt;</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>change_score_icc</code></td>
<td>
<p>The intraclass correlation of the change scores (posttest
minus pretest). Relevant only if assignment is between clusters and there is a pretest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_size</code></td>
<td>
<p>The mean number of members in each cluster. Relevant only
if assignment is between clusters or within clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_size_sd</code></td>
<td>
<p>Relevant only if assignment is between clusters. The standard deviation
of the number of members in each cluster (the default is 0
which means that the clusters are expected to be of equal size).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d_main</code></td>
<td>
<p>Effect size measure: standardized mean difference raw_main/sigma_y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_size_ratio</code></td>
<td>
<p>Effect size measure: signal to noise ratio raw_coef^2/sigma_y^2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>icc</code></td>
<td>
<p>Relevant only if assignment is between clusters or within clusters. The intraclass
correlation of the variable of interest in the absence of treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_order</code></td>
<td>
<p>The highest order term to be included in the regression model in the planned analysis
(1=main effects, 2=two-way interactions, 3=three-way interactions, etc.); must be &gt;= 1 and
&lt;= nfactors (default=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nclusters</code></td>
<td>
<p>The total number of clusters available (for between clusters or within clusters assignment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfactors</code></td>
<td>
<p>The number of factors (independent variables) in the planned experiment(default=1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntotal</code></td>
<td>
<p>The total sample size available (for unclustered assignment. For clustered assignment, use
“cluster_size” and “nclusters.”</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>If specified: The desired power of the test. If returned in the output list: The expected power of the test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_post_corr</code></td>
<td>
<p>Relevant only if there is a pretest. The correlation between the pretest and the posttest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pretest</code></td>
<td>
<p>One of three options:
</p>

<ol>
<li> <p>“no” or “none” for no pretest.
</p>
</li>
<li> <p>“covariate” for pretest to be entered as a covariate in the model.
</p>
</li>
<li> <p>“repeated” for pretest to be considered as a repeated measure.
</p>
</li>
</ol>
<p>The option “yes” is also allowed and is interpreted as “repeated.”
The option “covariate” is not allowed if assignment is between clusters.  This
is because predicting power for covariate-adjusted cluster-level randomization is
somewhat complicated, although it can be approximated in practice by using the
formula for the repeated-measures cluster-level randomization (see simulations in Dziak,
Nahum-Shani, and Collins, 2012).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw_coef</code></td>
<td>
<p>Effect size measure: unstandardized effect-coded regression coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw_main</code></td>
<td>
<p>Effect size measure: unstandardized mean difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma_y</code></td>
<td>
<p>The assumed standard deviation of the response variable after treatment, within each
treatment condition (i.e., adjusting for treatment but not adjusting for post-test).
This statement must be used if the effect size argument used is either “raw_main” or
“raw_coef”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std_coef</code></td>
<td>
<p>Effect size measure: standardized effect-coded regression coefficient raw_coef/sigma_y.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with power, sample size and effect size.
</p>


<h3>Examples</h3>

<pre><code class="language-R">FactorialPowerPlan(assignment="independent",
                   model_order=2,
                   nfactors=5,
                   ntotal=300,
                   raw_main=3,
                   sigma_y=10)

FactorialPowerPlan(assignment="independent",
                   model_order=2,
                   nfactors=5,
                   ntotal=300,
                   pre_post_corr=.6,
                   pretest="covariate",
                   raw_main=3,
                   sigma_y=10)

</code></pre>


</div>