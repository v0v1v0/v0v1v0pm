<div class="container">

<table style="width: 100%;"><tr>
<td>plotspmmod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plotspmmod plots an spm model fit given parameters and data</h2>

<h3>Description</h3>

<p>plotspmmod takes a parameter set and the spmdat matrix
and plots the predicted depletion, catch, the CPUE and the model 
fit to CPUE. If plotprod=TRUE, it also plots the productivity curves
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotspmmod(
  inp,
  indat,
  schaefer = TRUE,
  limit = 0.2,
  target = 0.48,
  addrmse = FALSE,
  fnt = 7,
  plotout = TRUE,
  vline = 0,
  plotprod = FALSE,
  maxy = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inp</code></td>
<td>
<p>a vector of model parameters at least (r,K,B0)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indat</code></td>
<td>
<p>a matrix with at least columns 'year', 'catch', and 'cpue'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schaefer</code></td>
<td>
<p>if TRUE, the default, then the Schaefer SPM is used. 
If FALSE then an approximate Fox SPM would be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>defaults to the Commonwealth limit of 0.2B0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>defaults to the Commonwealth target of 0.48B0. Determines
the green line plotted on the exploitable biomass plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addrmse</code></td>
<td>
<p>default is FALSE but if set TRUE this will add the loess
curve to the CPUE trend for comparison with the fitted line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fnt</code></td>
<td>
<p>the font used in the plot and axes. Default=7, bold Times. 
Using 6 gives Times, 1 will give SansSerif, 2 = bold Sans</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotout</code></td>
<td>
<p>should one generate a plot or only do the calculations; 
default is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vline</code></td>
<td>
<p>defaults to 0 = no action but if a year is inserted,
which should generally be between two years to designate some
change in the time-series between two years, then a vertical line
will be added on year-based plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotprod</code></td>
<td>
<p>if FALSE, the default, the productivity curves are 
not plotted. If TRUE, two extra plots are produced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxy</code></td>
<td>
<p>defaults to 0, if &gt; 0 then that value will be used in the
plot of CPUE</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>invisibly a list of dynamics, production curve, MSY, and Bmsy
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(dataspm)
pars &lt;- log(c(0.264,4740,3064,0.2))
ans &lt;- plotspmmod(pars,dataspm,schaefer=TRUE,plotprod=TRUE)
best &lt;- nlm(negLL,pars,funk=simpspm,indat=dataspm,
       logobs=log(dataspm[,"cpue"]),steptol=1e-05)
outfit(best,backtran = TRUE)
ans &lt;- plotspmmod(best$estimate,dataspm,schaefer=TRUE,plotout=TRUE,
                 plotprod=FALSE,addrmse=TRUE)
str(ans)
</code></pre>


</div>