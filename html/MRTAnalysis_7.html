<div class="container">

<table style="width: 100%;"><tr>
<td>wcls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimates the causal excursion effect for continuous outcome MRT</h2>

<h3>Description</h3>

<p>Returns the estimated causal excursion effect (on additive scale) and the estimated standard error.
Small sample correction using the "Hat" matrix in the variance estimate is implemented.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wcls(
  data,
  id,
  outcome,
  treatment,
  rand_prob,
  moderator_formula,
  control_formula,
  availability = NULL,
  numerator_prob = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data set in long format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>The subject id variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>The outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>The binary treatment assignment variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rand_prob</code></td>
<td>
<p>The randomization probability variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator_formula</code></td>
<td>
<p>A formula for the moderator variables. This should
start with ~ followed by the moderator variables. When set to <code>~ 1</code>, a fully
marginal excursion effect (no moderators) is estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control_formula</code></td>
<td>
<p>A formula for the control variables. This should
start with ~ followed by the control variables. When set to <code>~ 1</code>, only an
intercept is included as the control variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>availability</code></td>
<td>
<p>The availability variable. Use the default value (<code>NULL</code>)
if your MRT doesn't have availability considerations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numerator_prob</code></td>
<td>
<p>Either a number between 0 and 1, or a variable name for
a column in data. If you are not sure what this is, use the default value (<code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If default ('TRUE'), additional messages will be printed
during data preprocessing.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of type "wcls_fit"
</p>


<h3>Examples</h3>

<pre><code class="language-R">wcls(
    data = data_mimicHeartSteps,
    id = "userid",
    outcome = "logstep_30min",
    treatment = "intervention",
    rand_prob = 0.6,
    moderator_formula = ~1,
    control_formula = ~logstep_pre30min,
    availability = "avail",
    numerator_prob = 0.6
)
</code></pre>


</div>