<div class="container">

<table style="width: 100%;"><tr>
<td>calculateSampleSize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate sample size for micro-randomized trials</h2>

<h3>Description</h3>

<p>This function calculates the sample size for micro-randomized trials (MRTs)
based on methodology developed in Sample Size Calculations for Micro-randomized Trials in
mHealth by Liao et al. (2016) &lt;DOI:10.1002/sim.6847&gt;.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculateSampleSize(
  days,
  occ_per_day,
  prob,
  beta_shape,
  beta_mean,
  beta_initial,
  beta_quadratic_max,
  tau_shape,
  tau_mean,
  tau_initial,
  tau_quadratic_max,
  dimB,
  power,
  sigLev
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>The duration of the study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>occ_per_day</code></td>
<td>
<p>The number of decision time points per day.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>The randomization probability, i.e. the probability of assigning the treatment at a decision time
point. This can be constant, or time-varying probabilities can be specified by by a vector
specifying randomization probabilities for each day or decision time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_shape</code></td>
<td>
<p>The trend for the proximal treatment effect; choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li>
<p>Constant The proximal treatment effect stays constant over the study.
</p>
</li>
<li>
<p>Linear The linearly increasing form of a proximal treatment effect might be
used if participants will get more enthusiastically engage in the apps and thus
the proximal effect will increase as the study goes. The linearly decreasing form
of a proximal treatment effect might be used if participants are likely to disengage
the activity suggestionss and thus the proximal effect will decrease as the study goes.
</p>
</li>
<li>
<p>Quadratic  The quadratic form of a proximal treatment effect might be used if
you expect that initially participants will enthusiastically engage in the apps and
thus the proximal effect will get higher. Then, as the study goes on, some participants
are likely to disengage or begin to ignore the activity suggestions and hence a downward
trend.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_mean</code></td>
<td>
<p>The average of proximal treatment effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_initial</code></td>
<td>
<p>The initial value of proximal treatment effect when beta_shape is linear or quadratic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_quadratic_max</code></td>
<td>
<p>Day of maximal proximal treatment effect when beta_shape is quadratic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_shape</code></td>
<td>
<p>The pattern for expected availability; choices are constant, linear or quadratic.
Note:
</p>

<ol>
<li>
<p>Constant The expected availability stays constant over the study.
</p>
</li>
<li>
<p>Linear A linearly increasing pattern of expected availability might be used if
participants will find the intervention useful and thus more likely to turn the
intervention on. A linearly decreasing pattern of expected availability might be used
if participants learn more about the intervetion and get bored through the course of
the study and thus getting less likely to turn on the invervention.
</p>
</li>
<li>
<p>Quadratic A quadratic pattern of availability. Here the changing point of
availability refers to day of either maximal of minimal availability, depending on the
input values of initial and average availability.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_mean</code></td>
<td>
<p>The average of expected availability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_initial</code></td>
<td>
<p>The initial Value of expected availability when tau_shape is linear or quadratic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau_quadratic_max</code></td>
<td>
<p>The changing point of availability when tau_shape is quadratic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimB</code></td>
<td>
<p>The number of parameters used in the main/average effect of proximal outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>The desired power to achieve.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigLev</code></td>
<td>
<p>The significance level or type I error rate.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The minimal sample size to achieve the desired power.
</p>


<h3>References</h3>

<p>Seewald, N.J.; Sun, J.; Liao, P. "MRT-SS Calculator: An R Shiny Application for Sample Size
Calculation in Micro-Randomized Trials". arXiv:1609.00695
</p>


<h3>Examples</h3>

<pre><code class="language-R">calculateSampleSize(days=42,
                    occ_per_day=5,
                    prob=0.4,
                    beta_shape="quadratic",
                    beta_mean=0.1,
                    beta_initial=0,
                    beta_quadratic_max=28,
                    tau_shape="quadratic",
                    tau_mean=0.5,
                    tau_initial=0.7,
                    tau_quadratic_max=42,
                    dimB=3,
                    power=0.8,
                    sigLev=0.05)

prob1 &lt;- c(replicate(35,0.7),replicate(35,0.6),replicate(35,0.5),replicate(35,0.4))
calculateSampleSize(days=28,
                    occ_per_day=5,
                    prob=prob1,
                    beta_shape="quadratic",
                    beta_mean=0.1,
                    beta_initial=0,
                    beta_quadratic_max=28,
                    tau_shape="quadratic",
                    tau_mean=0.5,
                    tau_initial=0.7,
                    tau_quadratic_max=42,
                    dimB=3,
                    power=0.8,
                    sigLev=0.05)
</code></pre>


</div>