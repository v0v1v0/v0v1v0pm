<div class="container">

<table style="width: 100%;"><tr>
<td>SS2MOM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import Stock Synthesis to MOM (2-sex multi-fleet) or OM (single-sex, single-fleet)</h2>

<h3>Description</h3>

<p>Functions that uses the file location or the r4ss output list of a fitted SS3 model including input files to populate the
various slots of an MOM or OM object. <code>SS2MOM</code> and <code>SS2OM</code> mainly populates the Stock and Fleet components
components of the operating model. <code>SS2MOM</code> creates a 2-sex model and multiple fleets with discarding behavior.
<code>SS2OM</code> returns a single sex (either male, female, or averaged biological parameters) and single fleet (aggregate selectivity and mortality,
no explicit discarding modeled). For either, the user still needs to parameterize most of the observation and
implementation portions. <code>SSMOM2OM</code> is the internal function that simplifies the MOM object to an OM object.
<code>plot_SS2OM</code> generates a markdown report to compare the OM and SS output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SS2MOM(
  SSdir,
  nsim = 48,
  proyears = 50,
  reps = 1,
  maxF = 3,
  seed = 1,
  interval = 1,
  pstar = 0.5,
  Obs = MSEtool::Generic_Obs,
  Imp = MSEtool::Perfect_Imp,
  silent = FALSE,
  Name = "MOM generated by SS2MOM",
  Source = "No Source provided",
  ...
)

plot_SS2MOM(
  x,
  SSdir,
  gender = 1:2,
  filename = "SS2MOM",
  dir = tempdir(),
  open_file = TRUE,
  silent = FALSE,
  ...
)

SS2OM(
  SSdir,
  nsim = 48,
  proyears = 50,
  reps = 1,
  maxF = 3,
  seed = 1,
  interval = 1,
  pstar = 0.5,
  Obs = MSEtool::Generic_Obs,
  Imp = MSEtool::Perfect_Imp,
  import_mov = TRUE,
  gender = 1:2,
  seasons_to_years = TRUE,
  model_discards = TRUE,
  silent = FALSE,
  Name = "OM generated by SS2OM function",
  Source = "No source provided",
  Author = "No author provided",
  report = FALSE,
  filename = "SS2OM",
  dir = tempdir(),
  open_file = TRUE,
  ...
)

SSMOM2OM(
  MOM,
  SSdir,
  gender = 1:2,
  import_mov = TRUE,
  seed = 1,
  silent = FALSE,
  model_discards = TRUE
)

plot_SS2OM(
  x,
  SSdir,
  gender = 1:2,
  filename = "SS2OM",
  dir = tempdir(),
  open_file = TRUE,
  silent = FALSE,
  ...
)

MOM_agg_fleets(MOM)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>SSdir</code></td>
<td>
<p>A folder with Stock Synthesis input and output files in it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>The number of simulations to take for parameters with uncertainty (for OM@cpars custom parameters).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proyears</code></td>
<td>
<p>The number of projection years for MSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>The number of stochastic replicates within each simulation in the operating model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxF</code></td>
<td>
<p>The maximum allowable F in the operating model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>The random seed for the operating model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>The interval at which management procedures will update the management advice in multiMSE, e.g., 1 = annual updates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pstar</code></td>
<td>
<p>The percentile of the sample of the management recommendation for the MP/MMP.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Obs</code></td>
<td>
<p>The observation model (class Obs). These functions do not update implementation parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Imp</code></td>
<td>
<p>The implementation model (class Imp). These functions do not update implementation parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Whether to silence messages to the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Name</code></td>
<td>
<p>The name of the operating model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Source</code></td>
<td>
<p>Reference to assessment documentation e.g. a url</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to pass to SS_output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>plot_SS2OM</code>, an object of either class OM or Hist.
For <code>plot_SS2MOM</code>, an object of either class MOM or <code>multiHist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gender</code></td>
<td>
<p>An integer that indexes the sex for importing life history parameters (1 = usually female, 2 = usually male, 1:2 = mean across both sexes).
Only used for <code>SS2OM</code> only in a 2-sex model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>If <code>report = TRUE</code>, character string for the name of the markdown and HTML files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>If <code>report = TRUE</code>, the directory in which the markdown and HTML files will be saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open_file</code></td>
<td>
<p>If <code>report = TRUE</code>, whether the HTML document is opened after it is rendered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_mov</code></td>
<td>
<p>Logical. Import movement matrix?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seasons_to_years</code></td>
<td>
<p>Logical, when season is the time step, whether to convert OM from a seasonal model to annual model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_discards</code></td>
<td>
<p>Logical, how to simplify a multi-fleet SS model to an OM object. If TRUE, OM will still model discards using
the mean retention across fleets (weighted by fleet F). Otherwise, no discards are modeled and all fishing removals are calculated in the OM
from the SS F-at-age matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Author</code></td>
<td>
<p>Who did the assessment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p>Logical, if TRUE, the function will run runMSE to generate the Hist object from the operating model
to compare against SS output. A markdown report will be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MOM</code></td>
<td>
<p>MOM object</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>SS2MOM returns an object of class MOM. SS2OM returns an object of class OM.
</p>


<h3>Functions</h3>


<ul><li> <p><code>MOM_agg_fleets()</code>: Aggregate all fleets in an MOM object.
</p>
</li></ul>
<h3>Note</h3>

<p>Currently tested on r4ss version 1.38.1-40.0 and SS 3.30.14.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>See Also</h3>

<p>SS2Data SS2DataMOM
</p>


</div>