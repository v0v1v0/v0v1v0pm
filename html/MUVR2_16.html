<div class="container">

<table style="width: 100%;"><tr>
<td>MUVR2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MUVR2 with PLS and RF</h2>

<h3>Description</h3>

<p>"Multivariate modelling with Unbiased Variable selection" using PLS and RF.
Repeated double cross validation with tuning of variables in the inner loop.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MUVR2(
  X,
  Y,
  ID,
  scale = TRUE,
  nRep = 5,
  nOuter = 6,
  nInner,
  varRatio = 0.75,
  DA = FALSE,
  fitness = c("AUROC", "MISS", "BER", "RMSEP", "wBER", "wMISS"),
  method = c("PLS", " RF", "ANN", "SVM"),
  methParam,
  ML = FALSE,
  modReturn = FALSE,
  logg = FALSE,
  parallel = TRUE,
  weigh_added = FALSE,
  weighing_matrix = NULL,
  keep,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Predictor variables. NB: Variables (columns) must have names/unique identifiers. NAs not allowed in data. For multilevel, only the positive half of the difference matrix is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Response vector (Dependent variable). For classification, a factor (or character) variable should be used. For multilevel, Y is calculated automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>Subject identifier (for sampling by subject; Assumption of independence if not specified)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>If TRUE, the predictor variable matrix is scaled to unit variance for PLS modeling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nRep</code></td>
<td>
<p>Number of repetitions of double CV. (Defaults to 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nOuter</code></td>
<td>
<p>Number of outer CV loop segments. (Defaults to 6)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nInner</code></td>
<td>
<p>Number of inner CV loop segments. (Defaults to nOuter - 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varRatio</code></td>
<td>
<p>Ratio of variables to include in subsequent inner loop iteration. (Defaults to 0.75)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DA</code></td>
<td>
<p>Boolean for Classification (discriminant analysis) (By default, if Y is numeric -&gt; DA = FALSE. If Y is factor (or character) -&gt; DA = TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitness</code></td>
<td>
<p>Fitness function for model tuning (choose either 'AUROC' or 'MISS' (default) for classification; or 'RMSEP' (default) for regression.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Multivariate method. Supports 'PLS' and 'RF' (default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>methParam</code></td>
<td>
<p>List with parameter settings for specified MV method (see function code for details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ML</code></td>
<td>
<p>Boolean for multilevel analysis (defaults to FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modReturn</code></td>
<td>
<p>Boolean for returning outer segment models (defaults to FALSE). Setting modReturn = TRUE is required for making MUVR predictions using predMV().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logg</code></td>
<td>
<p>Boolean for whether to sink model progressions to 'log.txt'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Boolean for whether to perform 'foreach' parallel processing (Requires a registered parallel backend; Defaults to 'TRUE')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weigh_added</code></td>
<td>
<p>To add a weighing matrix when it is classfication</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighing_matrix</code></td>
<td>
<p>The matrix used for get a miss classfication score</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep</code></td>
<td>
<p>Confounder variables can be added. NB: Variables (columns) must match column names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional argument</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A 'MUVR' object
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(freelive2)
nRep &lt;- 2 # Number of MUVR2 repetitions
nOuter &lt;- 3 # Number of outer cross-validation segments
varRatio &lt;- 0.6 # Proportion of variables kept per iteration
method &lt;- 'PLS' # Selected core modeling algorithm
regrModel &lt;- MUVR2(X = XRVIP2,
                   Y = YR2,
                   nRep = nRep,
                   nOuter = nOuter,
                   varRatio = varRatio,
                   method = method,
                   modReturn = TRUE)

</code></pre>


</div>