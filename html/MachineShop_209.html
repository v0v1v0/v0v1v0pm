<div class="container">

<table style="width: 100%;"><tr>
<td>rfe</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recursive Feature Elimination</h2>

<h3>Description</h3>

<p>A wrapper method of backward feature selection in which a given model is fit
to nested subsets of most important predictor variables in order to select
the subset whose resampled predictive performance is optimal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rfe(...)

## S3 method for class 'formula'
rfe(formula, data, model, ...)

## S3 method for class 'matrix'
rfe(x, y, model, ...)

## S3 method for class 'ModelFrame'
rfe(input, model, ...)

## S3 method for class 'recipe'
rfe(input, model, ...)

## S3 method for class 'ModelSpecification'
rfe(
  object,
  select = NULL,
  control = MachineShop::settings("control"),
  props = 4,
  sizes = integer(),
  random = FALSE,
  recompute = TRUE,
  optimize = c("global", "local"),
  samples = c(rfe = 1, varimp = 1),
  metrics = NULL,
  stat = c(resample = MachineShop::settings("stat.Resample"), permute =
    MachineShop::settings("stat.TrainingParams")),
  progress = FALSE,
  ...
)

## S3 method for class 'MLModel'
rfe(model, ...)

## S3 method for class 'MLModelFunction'
rfe(model, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed from the generic function to its methods, from
the <code>MLModel</code> and <code>MLModelFunction</code> methods to first arguments of
others, and from others to the <code>ModelSpecification</code> method.  The
first argument of each <code>fit</code> method is positional and, as such, must
be given first in calls to them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula, data</code></td>
<td>
<p>formula defining the model predictor and
response variables and a data frame containing them.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>model function, function name, or object; or
another object that can be coerced to a model.  A model
can be given first followed by any of the variable specifications.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>matrix and object containing predictor and response
variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>input object defining and containing the model
predictor and response variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>model input or
specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>expression indicating predictor variables that can be
eliminated (see <code>subset</code> for syntax) [default: all].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>control function, function name, or object
defining the resampling method to be employed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>props</code></td>
<td>
<p>numeric vector of the proportions of most important predictor
variables to retain in fitted models or an integer number of equal spaced
proportions to generate automatically; ignored if <code>sizes</code> are given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizes</code></td>
<td>
<p>integer vector of the set sizes of most important predictor
variables to retain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>logical indicating whether to eliminate variables at random
with probabilities proportional to their importance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recompute</code></td>
<td>
<p>logical indicating whether to recompute variable importance
after eliminating each set of variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>
<p>character string specifying a search through all <code>props</code>
to identify the globally optimal model (<code>"global"</code>) or a search that
stops after identifying the first locally optimal model (<code>"local"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>numeric vector or list giving the number of permutation
samples for each of the <code>rfe</code> and <code>varimp</code> algorithms.
One or both of the values may be specified as named arguments or in the
order in which their defaults appear.  Larger numbers of samples decrease
variability in estimated model performances and variable importances at the
expense of increased computation time.  Samples are more expensive
computationally for <code>rfe</code> than for <code>varimp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>metric function, function name, or vector of
these with which to calculate performance.  If not specified, default
metrics defined in the performance functions are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>functions or character strings naming functions to compute
summary statistics on resampled metric values and permuted samples.  One or
both of the values may be specified as named arguments or in the order in
which their defaults appear.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>logical indicating whether to display iterative progress
during elimination.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>TrainingStep</code> class object containing a summary of the numbers
of predictor variables retained (size), their names (terms), logical
indicators for the optimal model selected (selected), and associated
performance metrics (metrics).
</p>


<h3>See Also</h3>

<p><code>performance</code>, <code>plot</code>,
<code>summary</code>, <code>varimp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Requires prior installation of suggested package gbm to run

(res &lt;- rfe(sale_amount ~ ., data = ICHomes, model = GBMModel))
summary(res)
summary(performance(res))
plot(res, type = "line")


</code></pre>


</div>