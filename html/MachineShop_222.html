<div class="container">

<table style="width: 100%;"><tr>
<td>recipe_roles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set Recipe Roles</h2>

<h3>Description</h3>

<p>Add to or replace the roles of variables in a preprocessing recipe.
</p>


<h3>Usage</h3>

<pre><code class="language-R">role_binom(recipe, x, size)

role_case(recipe, group, stratum, weight, replace = FALSE)

role_pred(recipe, offset, replace = FALSE)

role_surv(recipe, time, event)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recipe</code></td>
<td>
<p>existing recipe object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, size</code></td>
<td>
<p>number of counts and trials for the specification of a
<code>BinomialVariate</code> outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>variable defining groupings of case observations, such as
repeated measurements, to keep together during resampling [default: none].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stratum</code></td>
<td>
<p>variable to use in conducting stratified resample
estimation of model performance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>numeric variable of case weights for model
fitting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>logical indicating whether to replace existing roles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>numeric variable to be added to a linear predictor, such as in
a generalized linear model, with known coefficient 1 rather than an
estimated coefficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time, event</code></td>
<td>
<p>numeric follow up time and 0-1 numeric or logical event
indicator for specification of a <code>Surv</code> outcome.  If
the event indicator is omitted, all cases are assumed to have events.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An updated recipe object.
</p>


<h3>See Also</h3>

<p><code>recipe</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survival)
library(recipes)

df &lt;- within(veteran, {
  y &lt;- Surv(time, status)
  remove(time, status)
})
rec &lt;- recipe(y ~ ., data = df) %&gt;%
  role_case(stratum = y)

(res &lt;- resample(rec, model = CoxModel))
summary(res)

</code></pre>


</div>