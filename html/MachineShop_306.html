<div class="container">

<table style="width: 100%;"><tr>
<td>step_kmedoids</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>K-Medoids Clustering Variable Selection</h2>

<h3>Description</h3>

<p>Creates a <em>specification</em> of a recipe step that will partition numeric
variables according to k-medoids clustering and select the cluster medoids.
</p>


<h3>Usage</h3>

<pre><code class="language-R">step_kmedoids(
  recipe,
  ...,
  k = 5,
  center = TRUE,
  scale = TRUE,
  method = c("pam", "clara"),
  metric = "euclidean",
  optimize = FALSE,
  num_samp = 50,
  samp_size = 40 + 2 * k,
  replace = TRUE,
  prefix = "KMedoids",
  role = "predictor",
  skip = FALSE,
  id = recipes::rand_id("kmedoids")
)

## S3 method for class 'step_kmedoids'
tunable(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recipe</code></td>
<td>
<p>recipe object to which the step will be added.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>one or more selector functions to choose which variables will be
used to compute the components.  See <code>selections</code> for
more details.  These are not currently used by the <code>tidy</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>number of k-medoids clusterings of the variables.  The value of
<code>k</code> is constrained to be between 1 and one less than the number of
original variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center, scale</code></td>
<td>
<p>logicals indicating whether to mean center and median
absolute deviation scale the original variables prior to cluster
partitioning, or functions or names of functions for the centering and
scaling; not applied to selected variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character string specifying one of the clustering methods
provided by the <span class="pkg">cluster</span> package.  The <code>clara</code> (clustering
large applications) method is an extension of <code>pam</code> (partitioning
around medoids) designed to handle large datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>character string specifying the distance metric for calculating
dissimilarities between observations as <code>"euclidean"</code>,
<code>"manhattan"</code>, or <code>"jaccard"</code> (<code>clara</code> only).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>
<p>logical indicator or 0:5 integer level specifying
optimization for the <code>pam</code> clustering method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_samp</code></td>
<td>
<p>number of sub-datasets to sample for the
<code>clara</code> clustering method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samp_size</code></td>
<td>
<p>number of cases to include in each sub-dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>logical indicating whether to replace the original variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>if the original variables are not replaced, the selected
variables are added to the dataset with the character string prefix added
to their names; otherwise, the original variable names are retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>role</code></td>
<td>
<p>analysis role that added step variables should be assigned.  By
default, they are designated as model predictors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip</code></td>
<td>
<p>logical indicating whether to skip the step when the recipe is
baked.  While all operations are baked when <code>prep</code> is
run, some operations may not be applicable to new data (e.g. processing
outcome variables).  Care should be taken when using <code>skip = TRUE</code> as
it may affect the computations for subsequent operations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>unique character string to identify the step.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>step_kmedoids</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>K-medoids clustering partitions variables into k groups such that the
dissimilarity between the variables and their assigned cluster medoids is
minimized.  Cluster medoids are then returned as a set of k variables.
</p>


<h3>Value</h3>

<p>Function <code>step_kmedoids</code> creates a new step whose class is of
the same name and inherits from <code>step_sbf</code>, adds it to the
sequence of existing steps (if any) in the recipe, and returns the updated
recipe.  For the <code>tidy</code> method, a tibble with columns <code>terms</code>
(selectors or variables selected), <code>cluster</code> assignments,
<code>selected</code> (logical indicator of selected cluster medoids),
<code>silhouette</code> (silhouette values), and <code>name</code> of the selected
variable names.
</p>


<h3>References</h3>

<p>Kaufman, L., &amp; Rousseeuw, P. J. (1990). <em>Finding groups in data: An
introduction to cluster analysis</em>. Wiley.
</p>
<p>Reynolds, A., Richards, G., de la Iglesia, B., &amp; Rayward-Smith, V. (1992).
Clustering rules: A comparison of partitioning and hierarchical clustering
algorithms. <em>Journal of Mathematical Modelling and Algorithms</em>,
<em>5</em>, 475-504.
</p>


<h3>See Also</h3>

<p><code>pam</code>, <code>clara</code>,
<code>recipe</code>, <code>prep</code>,
<code>bake</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(recipes)

rec &lt;- recipe(rating ~ ., data = attitude)
kmedoids_rec &lt;- rec %&gt;%
  step_kmedoids(all_predictors(), k = 3)
kmedoids_prep &lt;- prep(kmedoids_rec, training = attitude)
kmedoids_data &lt;- bake(kmedoids_prep, attitude)

pairs(kmedoids_data, lower.panel = NULL)

tidy(kmedoids_rec, number = 1)
tidy(kmedoids_prep, number = 1)

</code></pre>


</div>