<div class="container">

<table style="width: 100%;"><tr>
<td>case_weights</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract Case Weights</h2>

<h3>Description</h3>

<p>Extract the case weights from an object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">case_weights(object, newdata = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>model fit result, <code>ModelFrame</code>, or
<code>recipe</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>dataset from which to extract the weights if given; otherwise,
<code>object</code> is used.  The dataset should be given as a <code>ModelFrame</code>
or as a data frame if <code>object</code> contains a
<code>ModelFrame</code> or a <code>recipe</code>, respectively.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Training and test sets
inds &lt;- sample(nrow(ICHomes), nrow(ICHomes) * 2 / 3)
trainset &lt;- ICHomes[inds, ]
testset &lt;- ICHomes[-inds, ]

## ModelFrame case weights
trainmf &lt;- ModelFrame(sale_amount ~ . - built, data = trainset, weights = built)
testmf &lt;- ModelFrame(formula(trainmf), data = testset, weights = built)
mf_fit &lt;- fit(trainmf, model = GLMModel)
rmse(response(mf_fit, testmf), predict(mf_fit, testmf),
     case_weights(mf_fit, testmf))

## Recipe case weights
library(recipes)
rec &lt;- recipe(sale_amount ~ ., data = trainset) %&gt;%
  role_case(weight = built, replace = TRUE)
rec_fit &lt;- fit(rec, model = GLMModel)
rmse(response(rec_fit, testset), predict(rec_fit, testset),
     case_weights(rec_fit, testset))

</code></pre>


</div>