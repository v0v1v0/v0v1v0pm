<div class="container">

<table style="width: 100%;"><tr>
<td>Problem definition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Problem definition</h2>

<h3>Description</h3>

<p>Define a problem for ManifoldOptim to solve.
</p>


<h3>Details</h3>

<p>A problem definition contains an objective function <code class="reqn">f</code> and a gradient
function <code class="reqn">g</code>. The gradient <code class="reqn">g</code> is computed as if <code class="reqn">f</code> is defined
on a Euclidean space. If <code class="reqn">g</code> is not specified it will be computed
numerically, which is potentially much slower.
</p>
<p>The easiest way to define a problem is completely in R. Example 1
below illustrates how to construct a problem using a given <code class="reqn">f</code> and
<code class="reqn">g</code>. Example 2 constructs the same problem without providing <code class="reqn">g</code>.
The <code>Rcpp Module</code> framework (Eddelbuettel, 2013) creates underlying
C++ objects necessary to invoke the <code>ROPTLIB</code> library.
</p>
<p>The performance of solving an <code>RProblem</code> may be too slow for some
applications; here, the C++ optimizer calls R functions,
which requires some overhead. A faster alternative is to code your problem
in C++ directly, and allow it to be manipulated in R. An
example is provided in this package, under
<code>tests/brockett/cpp_standalone/</code>. Example 3 below shows how to
instantiate this problem.
</p>
<p>Package authors may want to use <code>ManifoldOptim</code> within a package to solve
a problem written in C++. In this case, the author would probably
not want to use <code>sourceCpp</code>, but instead have the problem compiled
when the package was installed. An example is provided within this package;
<code>tests/brockett/cpp_pkg/driver.R</code> instantiates the problem defined in:
</p>
<p><code>src/ManifoldOptim/BrockettProblem.cpp</code>.
</p>


<h3>References</h3>

<p>Dirk Eddelbuettel. Seamless R and C++ Integration with Rcpp,
Chapter 7: Modules, pages 83-102. Springer New York, New York, NY, 2013.
</p>
<p>Wen Huang, P.A. Absil, K.A. Gallivan, Paul Hand (2016a). "ROPTLIB: an
object-oriented C++ library for optimization on Riemannian manifolds."
Technical Report FSU16-14, Florida State University.
</p>
<p>S. Martin, A. Raim, W. Huang, and K. Adragni (2020). "ManifoldOptim: 
An R Interface to the ROPTLIB Library for Riemannian Manifold Optimization."
Journal of Statistical Software, 93(1):1-32.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# --- Example 1: Define a problem in R ---
f &lt;- function(x) { ... }
g &lt;- function(x) { ... }
mod &lt;- Module("ManifoldOptim_module", PACKAGE = "ManifoldOptim")
prob &lt;- new(mod$RProblem, f, g)

# --- Example 2: Define a problem in R without specifying gradient ---
f &lt;- function(x) { ... }
mod &lt;- Module("ManifoldOptim_module", PACKAGE = "ManifoldOptim")
prob &lt;- new(mod$RProblem, f)

# --- Example 3: Instantiate a problem written in C++ ---
p &lt;- 5; n &lt;- 150
B &lt;- matrix(rnorm(n*n), nrow=n)
B &lt;- B + t(B) # force symmetric
D &lt;- diag(p:1, p)
Rcpp::sourceCpp("brockett_problem.cpp")
prob &lt;- new(BrockettProblem, B, D)

## End(Not run)

</code></pre>


</div>