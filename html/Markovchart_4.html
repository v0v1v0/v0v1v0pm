<div class="container">

<table style="width: 100%;"><tr>
<td>Markovsim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Progression and monitoring simulation of a process with random shift size, random repair and random sampling time.
</h2>

<h3>Description</h3>

<p>Wrapper for simulation of processes with a Markov chain-based control chart setup. Includes methods for different shift size distributions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Markovsim(shiftfun = c("exp", "exp-geo"), num = 100, h, k, sigma,
          s, delta, probmix = 0, probnbin = 0.5, disj=1,
          RanRep = FALSE, alpha = NULL, beta = NULL, RanSam = FALSE,
          StateDep = FALSE, a = NULL, b = NULL, q = NULL,
          z = NULL, detail = 100, Vd = 50, V, burnin = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shiftfun</code></td>
<td>

<p>A string defining the shift size distribution to be used. Must be either "exp", "exp-geo".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num</code></td>
<td>

<p>Integer. The number of sampling intervals simulated. This means that the time elapsed in the simulation is <code>num*h</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>

<p>The time between samplings. Must be a positive value.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>

<p>The control limit (critical value). Must be a positive value. Only one sided shifts are allowed, thus there is only one control limit.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>

<p>Process standard deviation (the distribution is normal).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>

<p>Expected number of shifts in an unit time interval.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>

<p>Expected shift size.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probmix</code></td>
<td>

<p>The weight of the geometric distribution in case of exponential-geometric mixture shift distribution and should be between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probnbin</code></td>
<td>

<p>The probability parameter of the geometric distribution in case of exponential-geometric mixture shift distribution and should be between 0 and 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disj</code></td>
<td>

<p>The size of a discrete jump in case of exponential-geometric mixture shift distribution, must be a positive number.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RanRep</code></td>
<td>

<p>Logical. Should the repair be random? Default is FALSE (no).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>First shape parameter for the random repair beta distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>

<p>Second shape parameter for the random repair beta distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RanSam</code></td>
<td>

<p>Logical. Should the sampling be random? Default is FALSE (no).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>StateDep</code></td>
<td>

<p>Logical. Should the sampling probability also depend on the distance from the target value (state dependency)? (If TRUE, a beta distribution is used for the sampling probability, if FALSE then a logistic function.)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>

<p>First parameter*<code>h</code>  for the random sampling time beta distribution. The first shape parameter is <code>a/h</code> to create dependency on the time between samplings.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>

<p>Second shape parameter for the random sampling time beta distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>

<p>The steepness of the curve of the random sampling time logistic function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>

<p>The logistic sigmoid's midpoint of the random sampling time logistic function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail</code></td>
<td>

<p>The detail of the simulation, i.e. how many data points (including the moment of the sampling itself) should be simulated within a unit time. Should be a positive integer greater than 1, and the user should consider the length of the sampling interval <code>h</code>, as a shorter interval leads to less datapoints.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Vd</code></td>
<td>

<p>Integer discretisation parameter: the number of states after the equidistant discretisation of the state space. Should be an integer value greater than 2. This parameter is needed to calculate a stationary distibution that can be compared to results of the <code>Markovchart</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>

<p>Numeric discretisation parameter: the maximum (positive) distance from the target value taken into account. This parameter is needed to calculate a stationary distibution that can be compared to results of the <code>Markovchart</code> function and for the calculation of sampling probabilities in the case of random sampling.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnin</code></td>
<td>

<p>Numeric burn-in parameter: the number of samplings deemed as a burn-in period. Should be an integer greater than one.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The simulation only includes the more complicated process and control chart cases and is meant for model checking and for situations when the exact calculation is problematic (such as low probabilities in the stationary distribution leading to rounding errors).
</p>


<h3>Value</h3>

<p>A <code>Markov_sim</code> object which is a list of length 4.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Value_at_samplings </code></td>
<td>
<p>The process value at sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sampling_event </code></td>
<td>
<p>The event at sampling, each can either be success (there was a sampling but no alarm), alarm (sampling with alarm) or failure (no sampling occurred).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Simulation_data </code></td>
<td>
<p>The simulated data (distances from the target value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Stationary_distribution </code></td>
<td>
<p>The stationary distribution of the Markov chain, created by discretising the simulated data. See the documentaion of the <code>Markovchart</code> function.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Balazs Dobi and Andras Zempleni
</p>


<h3>References</h3>

<p>Zempleni A, Veber M, Duarte B and Saraiva P. (2004) Control charts: a cost-optimization approach for processes with random shifts. <em>Applied Stochastic Models in Business and Industry</em>, 20(3), 185-200.
</p>
<p>Dobi B and Zempleni A. (2019) Markov chain-based cost-optimal
control charts for health care data. <em>Quality and Reliability Engineering
International</em>, 35(5), 1379-1395.
</p>
<p>Dobi B and Zempleni A. (2019) Markov chain-based cost-optimal
control charts with different shift size distributions. <em>Annales Univ. Sci.
Budapest., Sect. Comp.</em>, 49, 129-146.
</p>


<h3>See Also</h3>

<p><code>Markovstat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Simulation using exponential shifts, random repair and random samling.
simres1	&lt;-	Markovsim(shiftfun="exp", num=500, h=1, k=1, sigma=1, s=0.2, delta=2,
                          RanRep=TRUE, alpha=1, beta=3, RanSam=TRUE, StateDep=TRUE,
                          a=0.1, b=1, V=10)
simres1
hist(simres1[[1]], 20, freq=FALSE)

#Simulation using exponential-geometric mixture shifts, random repair and random samling.
simres2	&lt;-	Markovsim(shiftfun="exp-geo", num=500, h=1, k=1, sigma=1, s=0.2, delta=2,
                          probmix=0.9, probnbin=0.6, RanRep=TRUE, alpha=1, beta=3, RanSam=TRUE,
                          StateDep=TRUE, a=0.1, b=1, V=10)
simres2
hist(simres2[[1]], 20, freq=FALSE)
</code></pre>


</div>