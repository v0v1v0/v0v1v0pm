<div class="container">

<table style="width: 100%;"><tr>
<td>utilMWRsummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize a results data frame by a grouping variable</h2>

<h3>Description</h3>

<p>Summarize a results data frame by a grouping variable
</p>


<h3>Usage</h3>

<pre><code class="language-R">utilMWRsummary(dat, accdat, param, sumfun = "auto", confint)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>input data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accdat</code></td>
<td>
<p><code>data.frame</code> for data quality objectives file for accuracy as returned by <code>readMWRacc</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param</code></td>
<td>
<p>character string for the parameter to evaluate as provided in the <code>"Parameter"</code> column of <code>"accdat"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sumfun</code></td>
<td>
<p>character indicating one of <code>"auto"</code> (default), <code>"mean"</code>, <code>"geomean"</code>, <code>"median"</code>, <code>"min"</code>, or <code>"max"</code>, see details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confint</code></td>
<td>
<p>logical if user expects a confidence interval to be returned with the summary</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function summarizes a results data frame by an existing grouping variable using the function supplied to <code>sumfun</code>. The mean or geometric mean is used for <code>sumfun = "auto"</code> based on information in the data quality objective file for accuracy, i.e., parameters with "log" in any of the columns are summarized with the geometric mean, otherwise arithmetic. Using <code>"mean"</code> or <code>"geomean"</code> for <code>sumfun</code> will apply the appropriate function regardless of information in the data quality objective file for accuracy.
</p>


<h3>Value</h3>

<p>A summarized data frame, a warning will be returned if the confidence interval cannot be estimated and <code>confint = TRUE</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)

# results data path
respth &lt;- system.file('extdata/ExampleResults.xlsx', package = 'MassWateR')

# results data
resdat &lt;- readMWRresults(respth)

# accuracy path
accpth &lt;- system.file('extdata/ExampleDQOAccuracy.xlsx', 
     package = 'MassWateR')

# accuracy data
accdat &lt;- readMWRacc(accpth)

# fill BDL, AQL
resdat &lt;- utilMWRlimits(resdat = resdat, accdat = accdat, param = "DO")

dat &lt;- resdat %&gt;% 
  group_by(`Monitoring Location ID`)
 
# summarize sites by mean 
utilMWRsummary(dat, accdat, param = 'DO', sumfun = 'auto', confint = TRUE)

# summarize sites by minimum
utilMWRsummary(dat, accdat, param = 'DO', sumfun = 'min', confint = FALSE)
</code></pre>


</div>