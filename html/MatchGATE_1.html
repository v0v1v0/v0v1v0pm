<div class="container">

<table style="width: 100%;"><tr>
<td>EstGATE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimating Group Average Treatment Effects</h2>

<h3>Description</h3>

<p>When imputed values for <code class="reqn">Y^1</code> and <code class="reqn">Y^0</code> are available
for each individual, we can use <code>EstGATE</code> to estimate the
group average treatment effects (GATE) defined by
</p>
<p style="text-align: center;"><code class="reqn">GATE(z) = E[Y^1 - Y^0 | Z=z]</code>
</p>

<p>for some for possible values <code class="reqn">z</code> of <code class="reqn">Z</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">EstGATE(Y1_Y0, Z, Zeval, h)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y1_Y0</code></td>
<td>
<p>A vector in which each element is a treatment effect for each
individual.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>A subvector of the covariates <code>X</code>, which is used to define the subgroup
of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Zeval</code></td>
<td>
<p>Vector of evaluation points of <code>Z</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>
<p>A smoothing parameter, bandwidth.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The value of the corresponding GATE at different evaluation points.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(691)
n &lt;- 2000
X1 &lt;- runif(n, -0.5,0.5)
X2 &lt;- rnorm(n, sd = 0.5)
X = cbind(X1, X2)
A = sample(c(0,1), n, TRUE)
Y0 &lt;- X2 + X1*X2/2 + rnorm(n, sd = 0.25)
Y1 &lt;- A * (2*X1^2) + X2 + X1*X2/2 + rnorm(n, sd = 0.25)
Y &lt;- A * Y1 + (1-A)*Y0
res.match &lt;- match_y1y0(X, A, Y, K = 5)
y1_y0 &lt;- res.match$Y1 - res.match$Y0
Z &lt;- X1
Zeval = seq(min(Z), max(Z), len = 101)
h &lt;- 0.5 * n^(-1/5)
res &lt;- EstGATE(Y1_Y0 = y1_y0, Z, Zeval, h = h)
plot(x = Zeval, y = 2*Zeval^2,
     type = "l", xlim = c(-0.6, 0.5),
     main = "Estimated value vs. true value",
     xlab = "Zeval", ylab = "GATE",
     col = "DeepPink", lwd = "2")
lines(x = res$Zeval, y = res$GATE,
      col="DarkTurquoise", lwd = "2")
legend('bottomleft', c("Estimated GATE","True GATE"),
       col=c("DarkTurquoise","DeepPink"),
       text.col=c("DarkTurquoise","DeepPink"), cex = 0.8)


</code></pre>


</div>