<div class="container">

<table style="width: 100%;"><tr>
<td>mlr.power</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Power analysis for causal inference using linear regression
</h2>

<h3>Description</h3>

<p>Monte Carlo based calculation of study power for treatment effect estimation using linear regression on treatment indicator and adjustment covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mlr.power(tr, Z.i = NULL, d, sig.level = 0.05, niter = 1000
  , verbose = FALSE, idx = 1:length(tr), rnd = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>Binary treatment indicator vector (1=treatment, 0=control), whose coefficient in the linear regression model is TE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z.i</code></td>
<td>
<p>Matrix of adjustment covariates included in linear regression. We must have <code>nrow(Z.i) == length(tr)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>Standardized effect size, equal to treatment effect divided by standard deviation of generative noise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level for rejecting null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>niter</code></td>
<td>
<p>Number of Monte Carlo simulations used for calculating power.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, calculated power is printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idx</code></td>
<td>
<p>Subset of observations to use for power calculation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rnd</code></td>
<td>
<p>Boolean flag. If <code>TRUE</code>, power is also calculated for random subsampling of observations, using same treatment and control group sizes as indicated by <code>idx</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In each Monte Carlo iteration, response variable is generated from a normal distribution whose mean is equal to <code>d * tr</code> (other coefficients are assumed to be zero since their value does not affect power calculation), and whose standard deviation is <code>1.0</code>. Then OLS-based regression is performed on data, and p-value for treatment effect is compared to <code>sig.level</code>, based on which null hypothesis (no effect) is rejected or accepted. The fraction of iterations where null hypothesis is rejected is taken to be power. Standard error is calculated using a binomial-distribution assumption.
</p>


<h3>Value</h3>

<p>A numeric vector is returned. If <code>rnd</code> is <code>FALSE</code>, meand and standard error of calculated power is returned. If <code>rnd</code> is <code>TRUE</code>, mean and standard error of power calculated for random subsampling of observations is returned as well.
</p>


<h3>Author(s)</h3>

<p>Alireza S. Mahani, Mansour T.A. Sharabiani
</p>


</div>