<div class="container">

<table style="width: 100%;"><tr>
<td>dateSequence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a POSIXct date sequence</h2>

<h3>Description</h3>

<p>Uses incoming parameters to return a seqeunce of <code>POSIXct</code> times at
local midnight in the specified <code>timezone</code>. The first returned time will
be midnight of the requested <code>startdate</code>. The final returned time will
be midnight (<em>at the beginning</em>) of the requested <code>enddate</code>.
</p>
<p>The <code>ceilingEnd</code> argument addresses the ambiguity of a phrase like:
"August 1-8". With <code>ceilingEnd = FALSE</code> (default) this pharse means
"through the beginning of Aug 8". With <code>ceilingEnd = TRUE</code> it means
"through the end of Aug 8".
</p>
<p>The required <code>timezone</code> parameter must be one of those found in
<code>OlsonNames</code>.
</p>
<p>Dates can be anything that is understood by
<code>lubrdiate::parse_date_time()</code> using the <code>Ymd[HMS]</code> orders. This
includes:
</p>

<ul>
<li>
<p><code>"YYYYmmdd"</code>
</p>
</li>
<li>
<p><code>"YYYYmmddHHMMSS"</code>
</p>
</li>
<li>
<p><code>"YYYY-mm-dd"</code>
</p>
</li>
<li>
<p><code>"YYYY-mm-dd H"</code>
</p>
</li>
<li>
<p><code>"YYYY-mm-dd H:M"</code>
</p>
</li>
<li>
<p><code>"YYYY-mm-dd H:M:S"</code>
</p>
</li>
</ul>
<p>All hour-minute-second information is removed after parsing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dateSequence(
  startdate = NULL,
  enddate = NULL,
  timezone = NULL,
  ceilingEnd = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>startdate</code></td>
<td>
<p>Desired start datetime (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enddate</code></td>
<td>
<p>Desired end datetime (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>Olson timezone used to interpret dates (required).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ceilingEnd</code></td>
<td>
<p>Logical instruction to apply
<code>ceiling_date</code> to the <code>enddate</code> rather than
<code>floor_date</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of <code>POSIXct</code>s at midnight local time.
</p>


<h3>POSIXct inputs</h3>

<p>When <code>startdate</code> or <code>enddate</code> are already <code>POSIXct</code> values,
they are converted to the timezone specified by <code>timezone</code> without
altering the physical instant in time the input represents. Only after
conversion are they floored to midnight local time
</p>


<h3>Note</h3>

<p>The main utility of this function is that it respects "clock time" and
returns times associated with midnight regardless of daylight savings. This
is in contrast to 'seq.Date(from, to, by = "day")' which creates a sequence
of datetimes always separated by 24 hours.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MazamaCoreUtils)

dateSequence("2019-11-01", "2019-11-08", timezone = "America/Los_Angeles")
dateSequence("2019-11-01", "2019-11-07", timezone = "America/Los_Angeles",
             ceilingEnd = TRUE)

# Observe the handling of daylight savings
datetime &lt;- dateSequence("2019-11-01", "2019-11-08",
                         timezone = "America/Los_Angeles")

datetime
lubridate::with_tz(datetime, "UTC")

# Passing in POSIXct values preserves the instant in time before flooring --
#   midnight Tokyo time is the day before in UTC
jst &lt;- dateSequence(20190307, 20190315, timezone = "Asia/Tokyo")
jst
dateSequence(jst[1], jst[7], timezone = "UTC")

</code></pre>


</div>