<div class="container">

<table style="width: 100%;"><tr>
<td>table_addSingleLocation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a single new known location record to a table</h2>

<h3>Description</h3>

<p>Incoming <code>longitude</code> and <code>latitude</code> values are compared
against the incoming <code>locationTbl</code> to see if they are already within
<code>distanceThreshold</code> meters of an existing entry.  A new record is created for
if the location is not already found in <code>locationTbl</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">table_addSingleLocation(
  locationTbl = NULL,
  longitude = NULL,
  latitude = NULL,
  distanceThreshold = NULL,
  stateDataset = "NaturalEarthAdm1",
  elevationService = NULL,
  addressService = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>locationTbl</code></td>
<td>
<p>Tibble of known locations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>longitude</code></td>
<td>
<p>Single longitude in decimal degrees E.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>latitude</code></td>
<td>
<p>Single latitude in decimal degrees N.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distanceThreshold</code></td>
<td>
<p>Distance in meters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stateDataset</code></td>
<td>
<p>Name of spatial dataset to use for determining state
codes, Default: "NaturalEarthAdm1".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elevationService</code></td>
<td>
<p>Name of the elevation service to use for determining
the elevation. Default: NULL. Accepted values: "usgs".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addressService</code></td>
<td>
<p>Name of the address service to use for determining
the street address. Default: NULL. Accepted values: "photon".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical controlling the generation of progress messages.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Updated tibble of known locations.
</p>


<h3>See Also</h3>

<p>table_addLocation
</p>
<p>table_removeRecord
</p>
<p>table_updateSingleRecord
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(MazamaLocationUtils)

# Fail gracefully if any resources are not available
try({

  # Set up standard directories and spatial data
  spatialDataDir &lt;- tempdir() # typically "~/Data/Spatial"
  initializeMazamaSpatialUtils(spatialDataDir)

  locationTbl &lt;- get(data("wa_monitors_500"))
  
  nrow(locationTbl)

  # Coulee City, WA
  lon &lt;- -119.290904
  lat &lt;- 47.611942

  locationTbl &lt;- 
    locationTbl %&gt;%
    table_addSingleLocation(lon, lat, distanceThreshold = 500)
    
  nrow(locationTbl)
  
}, silent = FALSE)


</code></pre>


</div>