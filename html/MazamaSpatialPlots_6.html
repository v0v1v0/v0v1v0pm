<div class="container">

<table style="width: 100%;"><tr>
<td>stateMap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>State level thematic map</h2>

<h3>Description</h3>

<p>Uses the <span class="pkg">tmap</span> package to generate a thematic map at the
state level. Input consists of a dataframe with <code>stateCode</code> identifiers.
</p>
<p>Data to plot is specified with <code>parameter</code> argument. If <code>parameter</code>
is mult-valued, mutliple plots will be generated and displayed in a
"small multiples" matrix.
</p>
<p>The returned object is a <span class="pkg">tmap</span> ggplot object which can be further
modified with ggplot options.
</p>


<h3>Usage</h3>

<pre><code class="language-R">stateMap(
  data = NULL,
  parameter = NULL,
  state_SFDF = "USCensusStates_02",
  palette = "YlOrBr",
  breaks = NULL,
  conusOnly = TRUE,
  stateCode = NULL,
  projection = NULL,
  stateBorderColor = "gray50",
  title = NULL,
  main.title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataframe containing values to plot. This dataframe
must contain a column named <code>stateCode</code> with the 2-character state code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parameter</code></td>
<td>
<p>Name of the column in <code>data</code> to use for coloring the map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state_SFDF</code></td>
<td>
<p>simple features data frame with US states. It's data
<code>@slot</code> must contain a column named <code>stateCode</code> with the
2-character state code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>Palette name or a vector of colors based on RColorBrewer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>Numeric vector of break points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conusOnly</code></td>
<td>
<p>Logical specifying Continental US state codes. Ignored when
the <code>stateCode</code> argument is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stateCode</code></td>
<td>
<p>Vector of state codes to include on the map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projection</code></td>
<td>
<p>Specified method to represent surface of Earth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stateBorderColor</code></td>
<td>
<p>Color used for state borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Vector of text strings to use as individual plot titles.
This must be the same length as 'parameter'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.title</code></td>
<td>
<p>Text string to use as an overall title for all plots.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See <code>tmap::tm_fill()</code> for a more detailed description of
the following parameters:
</p>

<ul>
<li>
<p><code>palette</code>
</p>
</li>
<li>
<p><code>breaks</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MazamaSpatialPlots)

stateMap(
  data = example_US_stateObesity,
  parameter = "obesityRate",
  palette = "BuPu",
  stateBorderColor = "white",
  main.title = "2018 Obesity by State"
)

# Example of customization using tm_layout and breaks parameter
stateMap(
  data = example_US_stateObesity,
  parameter = "obesityRate",
  breaks = seq(20,38,3),
  stateBorderColor = 'black'
) +
  tmap::tm_layout(
    frame = TRUE,
    frame.double.line = TRUE,
    main.title = 'Obesity Rate by State',
    main.title.position = c("center", "top"),
    fontfamily = "serif",
    bg.color = "grey85",
    inner.margins  = .05
  )

# Example using stateCode
stateMap(
  data = example_US_stateObesity,
  parameter = "obesityRate",
  stateCode = c('ME', 'NH', 'VT', 'MA', 'RI', 'CT'),
  stateBorderColor = 'black',
  title = 'Obesity Rates in New England'
) +
  tmap::tm_layout(
    frame = TRUE,
    frame.double.line = TRUE,
    title.size = 1.2,
    title.fontface = 2,
    fontfamily = "serif",
    bg.color = "grey85",
    inner.margins  = .08
  )
</code></pre>


</div>