<div class="container">

<table style="width: 100%;"><tr>
<td>mts_setTimeAxis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extend/contract <em>mts</em> time series to new start and end times</h2>

<h3>Description</h3>

<p>Extends or contracts the time range of an <em>mts</em> object by
adding/removing time steps at the start and end and filling any new time
steps with missing values. The resulting time axis is guaranteed to be
a regular, hourly axis with no gaps using the same timezone as the incoming
<em>mts</em> object. This is useful when you want to place separate <em>mts</em>
objects on the same time axis for plotting.
</p>
<p>Dates can be anything that is understood by <code>MazamaCoreUtils::parseDatetime()</code>
including either of the following recommended formats:
</p>

<ul>
<li>
<p><code>"YYYYmmdd"</code>
</p>
</li>
<li>
<p><code>"YYYY-mm-dd"</code>
</p>
</li>
</ul>
<p>Timezone determination precedence assumes that if you are passing in
<code>POSIXct</code> values then you know what you are doing:
</p>

<ol>
<li>
<p>get timezone from <code>startdate</code> if it is <code>POSIXct</code>
</p>
</li>
<li>
<p>use passed in <code>timezone</code>
</p>
</li>
<li>
<p>get timezone from <code>mts</code>
</p>
</li>
</ol>
<p>If either <code>startdate</code> or <code>enddate</code> is missing, the start or end of
the timeseries in <code>mts</code> will be used.
</p>
<p>If neither <code>startdate</code> nor <code>enddate</code> is a <code>POSIXct</code> value
AND no <code>timezone</code> is supplied, the timezone will be inferred from
the most common timezone found in <code>mts</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mts_setTimeAxis(mts = NULL, startdate = NULL, enddate = NULL, timezone = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mts</code></td>
<td>
<p><em>mts</em> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startdate</code></td>
<td>
<p>Desired start date (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enddate</code></td>
<td>
<p>Desired end date (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>Olson timezone used to interpret <code>startdate</code> and <code>enddate</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The incoming <em>mts</em> time series object defined on a new time axis.
(A list with <code>meta</code> and <code>data</code> dataframes.)
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MazamaTimeSeries)

# Default range
range(example_mts$data$datetime)

# One-sided extend with user specified timezone
example_mts %&gt;%
  mts_setTimeAxis(enddate = 20190815, timezone = "UTC") %&gt;%
  mts_extractData() %&gt;%
  dplyr::pull(datetime) %&gt;%
  range()

# Two-sided extend with user specified timezone
example_mts %&gt;%
  mts_setTimeAxis(20190615, 20190815, timezone = "UTC") %&gt;%
  mts_extractData() %&gt;%
  dplyr::pull(datetime) %&gt;%
  range()

# Two-sided extend without timezone (uses timezone from mts$meta$timezone)
example_mts %&gt;%
  mts_setTimeAxis(20190615, 20190815) %&gt;%
  mts_extractData() %&gt;%
  dplyr::pull(datetime) %&gt;%
  range()

</code></pre>


</div>