<div class="container">

<table style="width: 100%;"><tr>
<td>sts_filterDatetime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Datetime filtering for <em>sts</em> time series objects</h2>

<h3>Description</h3>

<p>Subsets a MazamaSingleTimeseries object by datetime. This function
allows for sub-day filtering as opposed to <code>sts_filterDate()</code> which
always filters to day-boundaries.
</p>
<p>Datetimes can be anything that is understood by
<code>MazamaCoreUtils::parseDatetime()</code>. For non-<code>POSIXct</code> values,
the recommended format is <code>"YYYY-mm-dd HH:MM:SS"</code>.
</p>
<p>Timezone determination precedence assumes that if you are passing in
<code>POSIXct</code> values then you know what you are doing.
</p>

<ol>
<li>
<p>get timezone from <code>startdate</code> if it is <code>POSIXct</code>
</p>
</li>
<li>
<p>use passed in <code>timezone</code>
</p>
</li>
<li>
<p>get timezone from <code>sts</code>
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">sts_filterDatetime(
  sts = NULL,
  startdate = NULL,
  enddate = NULL,
  timezone = NULL,
  unit = "sec",
  ceilingStart = FALSE,
  ceilingEnd = FALSE,
  includeEnd = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sts</code></td>
<td>
<p>MazamaSingleTimeseries <em>sts</em> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>startdate</code></td>
<td>
<p>Desired start datetime (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enddate</code></td>
<td>
<p>Desired end datetime (ISO 8601).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timezone</code></td>
<td>
<p>Olson timezone used to interpret dates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>Units used to determine time at end-of-day.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ceilingStart</code></td>
<td>
<p>Logical instruction to apply
<code>ceiling_date</code> to the <code>startdate</code> rather than
<code>floor_date</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ceilingEnd</code></td>
<td>
<p>Logical instruction to apply
<code>ceiling_date</code> to the <code>enddate</code> rather than
<code>floor_date</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeEnd</code></td>
<td>
<p>Logical specifying that records associated with <code>enddate</code>
should be included.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A subset of the incoming <em>sts</em> time series object.
(A list with <code>meta</code> and <code>data</code> dataframes.)
</p>


<h3>Note</h3>

<p>The returned <code>sts</code> object will contain data running from the
beginning of <code>startdate</code> until
the <strong>beginning</strong> of <code>enddate</code> â€“ <em>i.e.</em> no values associated
with <code>enddate</code> will be returned. To include <code>enddate</code> you can
specify <code>includeEnd = TRUE</code>.
</p>


<h3>See Also</h3>

<p>sts_filter
</p>
<p>sts_filterDate
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MazamaTimeSeries)

example_sts %&gt;%
  sts_filterDatetime(
    startdate = "2018-08-08 06:00:00",
    enddate = "2018-08-14 18:00:00"
  ) %&gt;%
  sts_extractData() %&gt;%
  head()

</code></pre>


</div>