<div class="container">

<table style="width: 100%;"><tr>
<td>AnalysisStack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AnalysisStack object
</h2>

<h3>Description</h3>

<p>This function generates analysis results according to the specified data and analysis models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">AnalysisStack(data.model,
              analysis.model,
              sim.parameters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data.model</code></td>
<td>

<p>defines a <code>DataModel</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis.model</code></td>
<td>

<p>defines a <code>AnalysisModel</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.parameters</code></td>
<td>

<p>defines a <code>SimParameters</code> object.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>This function generates an analysis stack according to the data and analysis models and the simulation parameters objetcs. The object returned by the function is a AnalysisStack object containing:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>description </code></td>
<td>
<p>a description of the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis.set </code></td>
<td>
<p>a list of size <code>n.sims</code> defined in the <code>SimParameters</code> object. This list contains the analysis results generated for each data scenario (first level), and for each test and statistic defined in the <code>AnalysisModel</code> object. The results generated for the <code>i</code>th simulation runs and the <code>j</code>th data scenario are stored in <code>analysis.stack$analysis.set[[i]][[j]]$result</code> (where <code>analysis.stack</code> is a <code>AnalysisStack</code> object). Then, this list is composed of three lists:
</p>

<ul>
<li> <p><code>tests</code> return the unadjusted p-values for to the tests defined in the <code>AnalysisModel</code> object.
</p>
</li>
<li> <p><code>statistic</code> return the statistic defined in the <code>AnalysisModel</code> object.
</p>
</li>
<li> <p><code>test.adjust</code> return a list of adjusted p-values according to the multiple testing procedure defined in the <code>AnalysisModel</code> object. The lenght of this list corresponds to the number of <code>MultAdjProc</code> objects defined in the <code>AnalysisModel</code> object. Note that if no <code>MultAdjProc</code> objects have been defined, this list contains the unadjusted p-values.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis.scenario.grid</code></td>
<td>
<p>a data frame indicating all data and analysis scenarios according to the <code>DataModel</code> and <code>AnalysisModel</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis.structure</code></td>
<td>
<p>a list containing the analysis structure according to the <code>AnalysisModel</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim.parameters </code></td>
<td>
<p>a list containing the simulation parameters according to <code>SimParameters</code> object.</p>
</td>
</tr>
</table>
<p>A specific <code>analysis.set</code> of a <code>AnalysisStack</code> object can be extracted using the <code>ExtractAnalysisStack</code> function.
</p>


<h3>References</h3>

<p>http://gpaux.github.io/Mediana/
</p>


<h3>See Also</h3>

<p>See Also <code>DataModel</code>, <code>AnalysisModel</code> and <code>SimParameters</code> and <code>ExtractAnalysisStack</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Generation of an AnalysisStack object
##################################

# Outcome parameter set 1
outcome1.placebo = parameters(mean = 0, sd = 70)
outcome1.treatment = parameters(mean = 40, sd = 70)

# Outcome parameter set 2
outcome2.placebo = parameters(mean = 0, sd = 70)
outcome2.treatment = parameters(mean = 50, sd = 70)

# Data model
case.study1.data.model = DataModel() +
  OutcomeDist(outcome.dist = "NormalDist") +
  SampleSize(c(50, 55, 60, 65, 70)) +
  Sample(id = "Placebo",
         outcome.par = parameters(outcome1.placebo, outcome2.placebo)) +
  Sample(id = "Treatment",
         outcome.par = parameters(outcome1.treatment, outcome2.treatment))

# Analysis model
case.study1.analysis.model = AnalysisModel() +
  Test(id = "Placebo vs treatment",
       samples = samples("Placebo", "Treatment"),
       method = "TTest") +
  Statistic(id = "Mean Treatment",
            method = "MeanStat",
            samples = samples("Treatment"))


# Simulation Parameters
case.study1.sim.parameters = SimParameters(n.sims = 1000,
                                           proc.load = 2,
                                           seed = 42938001)

# Generate results
case.study1.analysis.stack = AnalysisStack(data.model = case.study1.data.model,
                                           analysis.model = case.study1.analysis.model,
                                           sim.parameters = case.study1.sim.parameters)

# Print the analysis results generated in the 100th simulation run
# for the 2nd data scenario for both samples
case.study1.analysis.stack$analysis.set[[100]][[2]]

# Extract the same set of data
case.study1.extracted.analysis.stack =
  ExtractAnalysisStack(analysis.stack = case.study1.analysis.stack,
                       data.scenario = 2,
                       simulation.run = 100)

# A carefull attention should be paid on the index of the result.
# As only one data.scenario has been requested
# the result for data.scenario = 2 is now in the first position ($analysis.set[[1]][[1]]).

## End(Not run)
</code></pre>


</div>