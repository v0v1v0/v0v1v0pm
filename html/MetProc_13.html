<div class="container">

<table style="width: 100%;"><tr>
<td>subset_met</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group Metabolites based on Pooled Plasma Missing Rate</h2>

<h3>Description</h3>

<p>Separates metabolites into groups based on pooled plasma missing rates so that different thresholds of metrics can be applied to each group.</p>


<h3>Usage</h3>

<pre><code class="language-R">subset_met(df, miss, numsplit = 5, mincut = 0.02, maxcut = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>The metabolomics dataset, ideally read from the <code>read.met</code> function. Each column represents a sample and each row represents a metabolite. Columns should be labeled with some unique prefix denoting whether the column is from a biological sample or pooled plasma sample. For example, all pooled plasma samples may have columns identified by the prefix “PPP” and all biological samples may have columns identified by the prefix “X”. Missing data must be coded as NA. Columns must be ordered by injection order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>miss</code></td>
<td>
<p>Vector of missing rates of equal length to number of rows in <code>df</code> representing the pooled plasma missing rate for each metabolite.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numsplit</code></td>
<td>
<p>The number of equal sized sections to divide metabolites into based on missing rate of pooled plasma columns. Divides the range of missing rates between <code>mincut</code> and <code>maxcut</code> into equal sections. Default is <code>5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mincut</code></td>
<td>
<p>A cutoff to specify that any metabolite with pooled plasma missing rate less than or equal to this value should be retained. Default is <code>0.02</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcut</code></td>
<td>
<p>A cutoff to specify that any metabolite with pooled plasma missing rate greater than this values should be removed. Default is <code>0.95</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list consisting of a number of elements equal to <code>numsplit</code>. Each element contains a matrix of the given metabolite group based on the pooled plasma missing rate. The list keys are simple integers corresponding to the split number.</p>


<h3>See Also</h3>

<p>See <code>MetProc-package</code> for examples of running the full process.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MetProc)

#Read in metabolomics data
metdata &lt;- read.met(system.file("extdata/sampledata.csv", package="MetProc"),
headrow=3, metidcol=1, fvalue=8, sep=",", ppkey="PPP", ippkey="BPP")

#Get indices of pooled plasma and samples
groups &lt;- get_group(metdata,"PPP","X")

#Calculate a pooled plasma missing rate and sample missing rate
#for each metabolite in data
missrate &lt;- get_missing(metdata,groups[['pp']],groups[['sid']])

#Group metabolites into 5 groups based on pooled plasma
#missing rate
subsets &lt;- subset_met(metdata,missrate[['ppmiss']],5,.02,.95)
</code></pre>


</div>