<div class="container">

<table style="width: 100%;"><tr>
<td>CVLasoelacox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross Validations for Lasso Elastic Net Survival predictive models and
Classification</h2>

<h3>Description</h3>

<p>The function does cross validation for Lasso, Elastic net and Ridge
regressions models before the survial analysis and classification.
The survival analysis is based on the selected metabolites in the
presence or absene of prognostic factors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVLasoelacox(
  Survival,
  Censor,
  Mdata,
  Prognostic,
  Quantile = 0.5,
  Metlist = NULL,
  Standardize = TRUE,
  Reduce = TRUE,
  Select = 15,
  Alpha = 1,
  Fold = 4,
  Ncv = 10,
  nlambda = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Survival</code></td>
<td>
<p>A vector of survival time with length equals to number of
subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Censor</code></td>
<td>
<p>A vector of censoring indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mdata</code></td>
<td>
<p>A large or small metabolic profile matrix. A matrix with metabolic profiles where the number of rows should be equal to the number of metabolites and number of columns should be equal to number of patients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Prognostic</code></td>
<td>
<p>A dataframe containing possible prognostic(s) factor and/or treatment effect to be used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Quantile</code></td>
<td>
<p>The cut off value for the classifier, default is the median cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Metlist</code></td>
<td>
<p>A list of metabolites to be considered in the model
usually smaller than the metabolites in the Mdata .
Default is to use all metabolites available and it is advisable
to be greater than 17.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Standardize</code></td>
<td>
<p>A Logical flag for the standardization of the
metabolite matrix, prior to fitting the model sequence.
The coefficients are always returned on the original scale.
Default is standardize=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Reduce</code></td>
<td>
<p>A boolean parameter indicating if the metabolic profile
matrix should be reduced, default is TRUE and larger metabolic profile
matrix is reduced by supervised pca approach and first pca is extracted
from the reduced matrix to be used in the classifier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Select</code></td>
<td>
<p>Number of metabolites (default is 15) to be selected
from supervised PCA. This is valid only if the argument Reduce=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Alpha</code></td>
<td>
<p>The mixing parameter for glmnet
(see <code>glmnet</code>). The range is 0&lt;= Alpha &lt;= 1.
The Default is 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fold</code></td>
<td>
<p>number of folds to be used for the cross validation.
Its value ranges between 3 and the numbe rof subjects in the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncv</code></td>
<td>
<p>Number of validations to be carried out. The default is 25.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda</code></td>
<td>
<p>The number of lambda values - default is 100 as in glmnet.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function performs the cross validations for Lasso, Elastic net and
Ridge regressions models for Cox proportional hazard model. Metabolites
are selected at each iteration and then use for the classifier.
This implies that predictive metabolites signature is varied from one
cross validation to the other depending on selection.
The underline idea is to investigate the Hazard Ratio for the train and
test data based on the optimal lambda selected for the
non-zero shrinkage coefficients, the nonzero selected metabolites will
thus be used in the survival analysis and in calculation of the risk
scores for each sets of data.
</p>


<h3>Value</h3>

<p>A object of class <code>cvle</code> is
returned with the following values </p>

<ul>
<li>
<p>Coef.mat :A matrix of coefficients with rows equals to number
of cross validations and columns equals to number of metabolites.
</p>
</li>
<li>
<p>RuntimeA vector of runtime for each iteration measured in
seconds.
</p>
</li>
<li>
<p>lambdaA vector of estimated optimum lambda for each iterations.
</p>
</li>
<li>
<p>nA vector of the number of selected metabolites
</p>
</li>
<li>
<p>HRTrainA matrix of survival information for the training
dataset. It has three columns representing the estimated HR, the
95% lower confidence interval and the 95% upper confidence interval.
</p>
</li>
<li>
<p>HRTestA matrix of survival information for the test dataset.
It has three columns representing the estimated HR, the 95%
lower confidence interval and the 95% upper confidence interval.
</p>
</li>
<li>
<p>pldA vector of partial likelihood deviance at each cross
validations.
</p>
</li>
<li>
<p>Met.matA matrix with 0 and 1. Number of rows equals to
number of iterations and number of columns equals to number of
metabolites. 1 indicates that the particular metabolite was
selected or had nonzero coefficient and otherwise it is zero.
</p>
</li>
<li>
<p>MdataThe Metabolite data matrix that was used for the
analysis either same as Mdata or a reduced version.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Olajumoke Evangelina Owokotomo, <a href="mailto:olajumoke.owokotomo@uhasselt.be">olajumoke.owokotomo@uhasselt.be</a>
</p>
<p>Ziv Shkedy
</p>


<h3>See Also</h3>

<p><code>coxph</code>,
<code>EstimateHR</code>, <code>glmnet</code>,
<code>Lasoelacox</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## FIRSTLY SIMULATING A METABOLIC SURVIVAL DATA
Data = MSData(nPatients = 100, nMet = 150, Prop = 0.5)

## USING THE FUNCTION
Results = CVLasoelacox(Survival = Data$Survival,Censor = Data$Censor,
Mdata = t(Data$Mdata),Prognostic = Data$Prognostic, Quantile = 0.5,
Metlist = NULL,Standardize = TRUE, Reduce=FALSE, Select=15,
Alpha = 1,Fold = 4,Ncv = 10,nlambda = 100)

## NUMBER OF SELECTED METABOLITES PER CV
Results@n

## GET THE MATRIX OF COEFFICIENTS
Results@Coef.mat

## SURVIVAL INFORMATION OF THE TRAIN DATASET
Results@HRTrain

## SURVIVAL INFORMATION OF THE TEST DATASET
Results@HRTest

</code></pre>


</div>