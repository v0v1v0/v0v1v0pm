<div class="container">

<table style="width: 100%;"><tr>
<td>CVPcaPls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross Validations for PCA and PLS based methods</h2>

<h3>Description</h3>

<p>This function does cross validation  for the analysis performs by <code>SurvPcaClass</code> and <code>SurvPlsClass</code> functions where the dimension reduction methods can either be PCA and PLS.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVPcaPls(
  Fold = 3,
  Survival,
  Mdata,
  Censor,
  Reduce = TRUE,
  Select = 15,
  Prognostic = NULL,
  Ncv = 5,
  DR = "PCA"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Fold</code></td>
<td>
<p>Number of times in which the dataset is divided. Default is 3 which implies dataset will be divided into three groups and 2/3 of the dataset will be the train datset and 1/3 will be to train the results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Survival</code></td>
<td>
<p>A vector of survival time with length equals to number of subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mdata</code></td>
<td>
<p>A large or small metabolic profile matrix. A matrix with metabolic profiles where the number of rows should be equal to the number of metabolites and number of columns should be equal to number of patients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Censor</code></td>
<td>
<p>A vector of censoring indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Reduce</code></td>
<td>
<p>A boolean parameter indicating if the metabolic profile matrix should be reduced, default is TRUE and larger metabolic profile matrix is reduced by supervised pca approach and first pca is extracted from the reduced matrix to be used in the classifier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Select</code></td>
<td>
<p>Number of metabolites (default is 15) to be selected from supervised PCA. This is valid only if th argument Reduce=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Prognostic</code></td>
<td>
<p>A dataframe containing possible prognostic(s) factor and/or treatment effect to be used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncv</code></td>
<td>
<p>The Number of cross validation loop. Default is 50 but it is recommended to have at least 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DR</code></td>
<td>
<p>The dimension reduction method. It can be either "PCA" for Principle components analysis or "PLS" for Partial least squares.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function does cross validation for the analysis using two reduction method. The reduction method can be PCA or PLS. If it is PCA then the <code>SurvPcaClass</code> is internally used for the cross validation and <code>SurvPlsClass</code> otherwise.
</p>


<h3>Value</h3>

<p>A object of class <code>cvpp</code> is returned with the following values
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Result</code></td>
<td>
<p>A dataframe containg the estimated Hazard ratio of the test dataset and the training dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncv</code></td>
<td>
<p>The number of cross validation performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>The dimesion reduction method used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CVtrain</code></td>
<td>
<p>The training dataset indices matrix used for the cross validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CVtest</code></td>
<td>
<p>The test dataset indices matrix used for the cross validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Select</code></td>
<td>
<p>The number of metabolite used for the dimesion reduction method used</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Olajumoke Evangelina Owokotomo, <a href="mailto:olajumoke.owokotomo@uhasselt.be">olajumoke.owokotomo@uhasselt.be</a>
</p>
<p>Ziv Shkedy
</p>


<h3>References</h3>

<p>Bair E, Hastie T, Debashis P, Tibshirani R (2006).
“Prediction by supervised principal components.”
<em>American Statistics Association,</em>, <b>101</b>(473), 119–137.
</p>


<h3>See Also</h3>

<p><code>SurvPlsClass</code>,
<code>SurvPcaClass</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## FIRSTLY SIMULATING A METABOLIC SURVIVAL DATA
Data = MSData(nPatients = 100, nMet = 150, Prop = 0.5)

## USING THE FUNCTION
Result = CVPcaPls(Fold = 4, Survival = Data$Survival,
Mdata = t(Data$Mdata), Censor = Data$Censor, Reduce=TRUE,
Select=19, Prognostic= Data$Prognostic,Ncv=55,DR ="PLS")

## GET THE CLASS OF THE OBJECT
class(Result)     # An "cvpp" Class

##  METHOD THAT CAN BE USED FOR THE RESULT
show(Result)
summary(Result)
plot(Result)
</code></pre>


</div>