<div class="container">

<table style="width: 100%;"><tr>
<td>Lasoelacox</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wapper function for glmnet</h2>

<h3>Description</h3>

<p>The function uses the glmnet function to firstly do the variable selection either with Lasso, Elastic net or ridge regressions before the survial analysis. The survival analysis is based on the selected metabolites in the presence or absence of prognostic factors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Lasoelacox(
  Survival,
  Censor,
  Mdata,
  Prognostic,
  Quantile = 0.5,
  Metlist = NULL,
  Plots = FALSE,
  Standardize = TRUE,
  Alpha = 1,
  Fold = 4,
  nlambda = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Survival</code></td>
<td>
<p>A vector of survival time with length equals to number of subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Censor</code></td>
<td>
<p>A vector of censoring indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mdata</code></td>
<td>
<p>A large or small metabolic profile matrix. A matrix with metabolic profiles where the number of rows should be equal to the number of metabolites and number of columns should be equal to number of patients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Prognostic</code></td>
<td>
<p>A dataframe containing possible prognostic(s) factor and/or treatment effect to be used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Quantile</code></td>
<td>
<p>The cut off value for the classifier, default is the median cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Metlist</code></td>
<td>
<p>A list of metabolites to be considered in the model usually smaller than the metabolites in the Mdata . Default is to use all metabolites available</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Plots</code></td>
<td>
<p>A boolean parameter indicating if plots should be shown. Default is FALSE. If TRUE, the first plot is the partial likelihood deviance against the logarithmn of each lambda while the second is the coefficients versus the lamdas</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Standardize</code></td>
<td>
<p>A Logical flag for the standardization of the metabolite matrix, prior to fitting the model sequence. The coefficients are always returned on the original scale. Default is standardize=TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Alpha</code></td>
<td>
<p>The mixing parameter for glmnet (see <code>glmnet</code>). The range is 0&lt;= Alpha &lt;= 1. The Default is 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fold</code></td>
<td>
<p>number of folds to be used for the cross validation. Its value ranges between 3 and the numbe rof subjects in the dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nlambda</code></td>
<td>
<p>The number of lambda values - default is 100 as in glmnet.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a wrapper function for glmnet and it fits models using either Lasso, Elastic net and Ridge regressions. This is done in the presence or absence of prognostic factors. The prognostic factor when avaialable will always be forced to be in the model so no penalty for it. Optimum lambda will be used to select the non-zero shrinkage coefficients, the nonzero selected metabolites will thus be used in the survival analysis and in calculation of the risk scores.
</p>


<h3>Value</h3>

<p>A object is returned with the following values
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Coefficients.NonZero</code></td>
<td>
<p>The coefficients of the selected metabolites</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Selected.Mets</code></td>
<td>
<p>The selected metabolites</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of selected metabolites</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Risk.scores</code></td>
<td>
<p>The risk scores of the subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Risk.group</code></td>
<td>
<p>The risk classification of the subjects based on the specified quantile</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SurvFit</code></td>
<td>
<p>The cox analysis of the riskgroup based on the selected metabolites and the prognostic factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Select</code></td>
<td>
<p>A Boolean argument indicating if there was selection or not</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Olajumoke Evangelina Owokotomo, <a href="mailto:olajumoke.owokotomo@uhasselt.be">olajumoke.owokotomo@uhasselt.be</a>
</p>
<p>Ziv Shkedy
</p>


<h3>See Also</h3>

<p><code>coxph</code>,
<code>EstimateHR</code>, <code>glmnet</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">## FIRSTLY SIMULATING A METABOLIC SURVIVAL DATA
Data = MSData(nPatients = 100, nMet = 150, Prop = 0.5)

## USING THE FUNCTION
Results = Lasoelacox(Survival=Data$Survival, Censor=Data$Censor,
Mdata=t(Data$Mdata), Prognostic = Data$Prognostic, Quantile = 0.5,
Metlist = NULL, Plots = FALSE, Standardize = TRUE, Alpha = 1)

## VIEW THE SELECTED METABOLITES
Results$Selected.mets
## NUMBER OF SELECTED METABOLITES
Results$n

## VIEW THE CLASSIFICATION GROUP OF EACH SUBJECT
Results$Risk.Group

## VIEW THE SURVIVAL ANALYSIS RESULT
Results$SurvFit

## TO CHECK IF THERE WAS ANY SELECTION
Results$Select
</code></pre>


</div>