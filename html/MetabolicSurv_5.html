<div class="container">

<table style="width: 100%;"><tr>
<td>CVMetSpecificCoxPh</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross validation for the Metabolite specific analysis</h2>

<h3>Description</h3>

<p>The function performs cross validation for each metabolite depending the
number of fold which guides the division into the train and testing dataset.
The classifier is then obtained on the training dataset to be validated on
the test dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVMetSpecificCoxPh(
  Fold = 3,
  Survival,
  Mdata,
  Censor,
  Reduce = TRUE,
  Select = 150,
  Prognostic = NULL,
  Quantile = 0.5,
  Ncv = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Fold</code></td>
<td>
<p>Number of times in which the dataset is divided. Default is
3 which implies dataset will be divided into three groups and 2/3 of the
dataset will be the train datset and 1/3 will be to train the results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Survival</code></td>
<td>
<p>A vector of survival time with length equals to number
of subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mdata</code></td>
<td>
<p>A large or small metabolic profile matrix. A matrix with
metabolic profiles where the number of rows should be equal to the
number of metabolites and number of columns should be equal to number
of patients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Censor</code></td>
<td>
<p>A vector of censoring indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Reduce</code></td>
<td>
<p>A boolean parameter indicating if the metabolic profile
matrix should be reduced, default is TRUE and larger metabolic profile
matrix is reduced by supervised pca approach and first pca is extracted
from the reduced matrix to be used in the classifier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Select</code></td>
<td>
<p>Number of metabolites (default is 15) to be selected from
supervised PCA. This is valid only if th argument Reduce=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Prognostic</code></td>
<td>
<p>A dataframe containing possible prognostic(s) factor
and/or treatment effect to be used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Quantile</code></td>
<td>
<p>The cut off value for the classifier, default is the
median cutoff</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncv</code></td>
<td>
<p>The Number of cross validation loop. Default is 50 but it is
recommended to have at least 100.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function performs the cross validation for metabolite by metabolite
analysis. The data will firstly be divided into data train dataset and test
datset. Furthermore, a metabolite-specific model is fitted on train data and
a classifier is built. In addition, the classifier is then evaluated on test
dataset for each particular metabolite. The Process is repeated for all the
full or reduced metabolites to obtaind the HR statistics of the low risk
group. The following steps depends on the number of cross validation
specified.
</p>


<h3>Value</h3>

<p>A object of class <code>cvmm</code> is returned
with the following values
</p>
<table>
<tr style="vertical-align: top;">
<td><code>HRTrain</code></td>
<td>
<p>The Train dataset HR statistics for each metabolite by
the number of CV</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HRTest</code></td>
<td>
<p>The Test dataset HR statistics for each metabolite by
the number of CV</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>The selected subjects for each CV in the train dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>The selected subjects for each CV in the test dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.mets</code></td>
<td>
<p>The number of metabolite used in the analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncv</code></td>
<td>
<p>The number of cross validation performed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rdata</code></td>
<td>
<p>The Metabolite data matrix that was used for the analysis
either same as Mdata or a reduced version.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Olajumoke Evangelina Owokotomo, <a href="mailto:olajumoke.owokotomo@uhasselt.be">olajumoke.owokotomo@uhasselt.be</a>
</p>
<p>Ziv Shkedy
</p>


<h3>See Also</h3>

<p><code>coxph</code>,
<code>EstimateHR</code>, <code>MSpecificCoxPh</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## FIRSTLY SIMULATING A METABOLIC SURVIVAL DATA
Data = MSData(nPatients = 100, nMet = 150, Prop = 0.5)

## USING THE FUNCTION
Result = CVMetSpecificCoxPh(Fold=3,Survival=Data$Survival,
Mdata=t(Data$Mdata),Censor= Data$Censor,Reduce=TRUE,
Select=150,Prognostic=Data$Prognostic,Quantile = 0.5,Ncv=3)

## GET THE CLASS OF THE OBJECT
class(Result)     # An "cvmm" Class

##  METHOD THAT CAN BE USED FOR THE RESULT
show(Result)
summary(Result)
plot(Result)

</code></pre>


</div>