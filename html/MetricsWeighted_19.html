<div class="container">

<table style="width: 100%;"><tr>
<td>regression</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Regression Metrics</h2>

<h3>Description</h3>

<p>Case-weighted versions of typical regression metrics:
</p>

<ul>
<li> <p><code>mse()</code>: Mean-squared error.
</p>
</li>
<li> <p><code>rmse()</code>: Root-mean-squared error.
</p>
</li>
<li> <p><code>mae()</code>: Mean absolute error.
</p>
</li>
<li> <p><code>medae()</code>: Median absolute error.
</p>
</li>
<li> <p><code>mape()</code>: Mean absolute percentage error.
</p>
</li>
<li> <p><code>prop_within()</code>: Proportion of predictions that are within a given tolerance
around the actual values.
</p>
</li>
<li> <p><code>deviance_normal()</code>: Average (unscaled) normal deviance. Equals MSE, and also the
average Tweedie deviance with <code class="reqn">p = 0</code>.
</p>
</li>
<li> <p><code>deviance_poisson()</code>: Average (unscaled) Poisson deviance. Equals average Tweedie
deviance with <code class="reqn">p=1</code>.
</p>
</li>
<li> <p><code>deviance_gamma()</code>: Average (unscaled) Gamma deviance. Equals average Tweedie
deviance with <code class="reqn">p=2</code>.
</p>
</li>
<li> <p><code>deviance_tweedie()</code>: Average Tweedie deviance with parameter
<code class="reqn">p \in \{0\} \cup [1, \infty)</code>, see reference.
</p>
</li>
</ul>
<p>Lower values mean better performance. Notable exception is <code>prop_within()</code>,
where higher is better.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mse(actual, predicted, w = NULL, ...)

rmse(actual, predicted, w = NULL, ...)

mae(actual, predicted, w = NULL, ...)

medae(actual, predicted, w = NULL, ...)

mape(actual, predicted, w = NULL, ...)

prop_within(actual, predicted, w = NULL, tol = 1, ...)

deviance_normal(actual, predicted, w = NULL, ...)

deviance_poisson(actual, predicted, w = NULL, ...)

deviance_gamma(actual, predicted, w = NULL, ...)

deviance_tweedie(actual, predicted, w = NULL, tweedie_p = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>actual</code></td>
<td>
<p>Observed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicted</code></td>
<td>
<p>Predicted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Optional case weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>weighted_mean()</code> (no effect for <code>medae()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Predictions in <code class="reqn">[\textrm{actual} \pm \textrm{tol}]</code> count as "within"
(only relevant for <code>prop_within()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tweedie_p</code></td>
<td>
<p>Tweedie power <code class="reqn">p \in \{0\} \cup [1, \infty)</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric vector of length one.
</p>


<h3>Input range</h3>

<p>The values of <code>actual</code> and <code>predicted</code> can be any real numbers, with the following
exceptions:
</p>

<ul>
<li> <p><code>mape()</code>: Non-zero actual values.
</p>
</li>
<li> <p><code>deviance_poisson()</code>: Non-negative actual values and predictions.
</p>
</li>
<li> <p><code>deviance_gamma()</code>: Strictly positive actual values and predictions.
</p>
</li>
</ul>
<h3>References</h3>

<p>Jorgensen, B. (1997). The Theory of Dispersion Models. Chapman &amp; Hall/CRC.
ISBN 978-0412997112.
</p>


<h3>Examples</h3>

<pre><code class="language-R">y &lt;- 1:10
pred &lt;- c(1:9, 12)
w &lt;- 1:10

rmse(y, pred)
sqrt(mse(y, pred))  # Same

mae(y, pred)
mae(y, pred, w = w)
medae(y, pred, w = 1:10)
mape(y, pred)

prop_within(y, pred)

deviance_normal(y, pred)
deviance_poisson(y, pred)
deviance_gamma(y, pred)

deviance_tweedie(y, pred, tweedie_p = 0)  # Normal
deviance_tweedie(y, pred, tweedie_p = 1)  # Poisson
deviance_tweedie(y, pred, tweedie_p = 2)  # Gamma
deviance_tweedie(y, pred, tweedie_p = 1.5, w = 1:10)

</code></pre>


</div>