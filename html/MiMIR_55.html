<div class="container">

<table style="width: 100%;"><tr>
<td>predictions_surrogates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>predictions_surrogates</h2>

<h3>Description</h3>

<p>Helper function that apply a surrogate model and plot a ROC curve the accuracy
</p>


<h3>Usage</h3>

<pre><code class="language-R">predictions_surrogates(FIT, data, title_img = FALSE, plot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FIT</code></td>
<td>
<p>numeric vector with betas of the logistic regressions composing the surrogates by Bizzarri et al.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>numeric data-frame with Nightingale-metabolomics and the binarized phenotype to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_img</code></td>
<td>
<p>string with title of the image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical to obtain the ROC curve</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Bizzarri et al. built multivariate models,using 56 metabolic features quantified by Nightingale, to predict the 19 binary characteristics of an individual.
The binary variables are: sex, diabetes status, metabolic syndrome status, lipid medication usage, blood pressure lowering medication,
current smoking, alcohol consumption, high age, middle age, low age, high hsCRP, high triglycerides, high ldl cholesterol,
high total cholesterol, low hdl cholesterol, low eGFR, low white blood cells, low hemoglobin levels.
</p>


<h3>Value</h3>

<p>If plot==TRUE The surrogate predictions and the roc curve. If plot==F only the surrogate predictions
</p>


<h3>References</h3>

<p>This function was made to vidualize the binarized variables calculated following the rules indicated in the article:
Bizzarri,D. et al. (2022) 1H-NMR metabolomics-based surrogates to impute common clinical risk factors and endpoints. EBioMedicine, 75, 103764, <a href="doi:10.1016/j.ebiom.2021.103764">doi:10.1016/j.ebiom.2021.103764</a>
</p>


<h3>See Also</h3>

<p>QCprep_surrogates, calculate_surrogate_scores, subset_samples_sd_surrogates, apply.fit_surro
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(MiMIR)

#load the Nightignale metabolomics dataset
metabolic_measures &lt;- read.csv("Nightingale_file_path",header = TRUE, row.names = 1)
# Do the pre-processing steps to the metabolic measures
metabolic_measures&lt;-QCprep_surrogates(as.matrix(metabolic_measures), Nmax_miss=1,Nmax_zero=1)

#load the phenotypic dataset
phenotypes &lt;- read.csv("phenotypes_file_path",header = TRUE, row.names = 1)
#Calculating the binarized surrogates
bin_pheno&lt;-binarize_all_pheno(phenotypes)

#Apply a surrogate models and plot the ROC curve
data&lt;-data.frame(out=factor(phenotypes_names$bin_names[,1]), metabo_measures)
colnames(data)[1]&lt;-"out"
pred&lt;-predictions_surrogates(PARAM_surrogates$models_betas["s_sex",], data=data, title_img="s_sex")


## End(Not run)

</code></pre>


</div>