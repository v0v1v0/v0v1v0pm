<div class="container">

<table style="width: 100%;"><tr>
<td>ranking</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ranking the OTUs</h2>

<h3>Description</h3>

<p>Ranking the importance of each taxa.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ranking(y, X, tree, cov = NULL,gamma,g.taxon.index,model = "binomial")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Outcome of interest. It can be a disease indicator; =0 for controls, =1 for cases.
Or it can be a quantitative trait. A vector with length n (number of observations).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>OTU count table, row - n sample, column - q OTU</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>Rooted phylogenetic tree of R class “phylo”</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov</code></td>
<td>
<p>Covariates. A matrix with dimension n by p (n :number of observation, p : number of covariates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>The best gamma selected by aMiSPU test.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g.taxon.index</code></td>
<td>
<p>g.taxon.index = 1 stands for weigted generalized taxon proportion; otherwise means unweighted generalized taxon proportion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Use "gaussian" for a quantitative trait, and use "binomial" for a binary trait.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix containing the ranking score, the higher the more important.
</p>


<h3>Author(s)</h3>

<p>Chong Wu
</p>


<h3>References</h3>

<p>Chong, W., Pan, W. (2015) An Adaptive Association Test for Microbiome Data, submitted. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(throat.otu.tab)
data(throat.tree)
data(throat.meta)

Y.tmp =throat.meta[,3]
Y = rep(0,dim(throat.meta)[1])
Y[Y.tmp=="Smoker"] = 1

cov.tmp = throat.meta[,c(10,12)]
cov = matrix(1,dim(throat.meta)[1],2)
cov[cov.tmp[,1]== "None",1] = 0
cov[cov.tmp[,2]== "Male",2] = 0

start.time = proc.time()
X = as.matrix(throat.otu.tab)

#out = MiSPU(Y,X, throat.tree,cov,model =  "binomial", pow = c(2:8, Inf), n.perm = 1000)
out = ranking(Y,X, throat.tree,cov,gamma = 2, g.taxon.index =1)

</code></pre>


</div>