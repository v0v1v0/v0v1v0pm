<div class="container">

<table style="width: 100%;"><tr>
<td>Minirand</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Minimization randomization to k treatment groups</h2>

<h3>Description</h3>

<p>The function is used to generate treatment assignment by minimization algorithms.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Minirand(covmat = covmat, j, covwt = covwt, ratio = ratio,
  ntrt = ntrt, trtseq = trtseq, method = "Range", result = res, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>covmat</code></td>
<td>
<p>matrix or data frame of covariate factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>the jth subject in the randomization sequence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covwt</code></td>
<td>
<p>vector of weights of the covaraite factors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratio</code></td>
<td>
<p>vector of randomization ratios for each treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntrt</code></td>
<td>
<p>numeric number of treatment groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trtseq</code></td>
<td>
<p>vector of a sequence of treatment groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the method or algorithm for the minimization randomization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>the treatment assignments in subjetcs achieved so far</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>the high probability for new assignment</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>treatment assignment for the jth subject
</p>


<h3>References</h3>

<p>Pocock and Simon (1975), Sequential Treatment Assignment with Balancing for Prognostic
Factors in the Controlled Clinical Trial. Biometrics; 103-115.
</p>
<p>Jin, Polis, and Hartzel (2019), "Algorithms for minimization randomization and the implementation with an 
R package". Communications in Statistics-Simulation and Computation; May 2019. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">ntrt &lt;- 3
nsample &lt;- 120
trtseq &lt;- c(1, 2, 3)
ratio &lt;- c(2, 2, 1)
c1 &lt;- sample(seq(1, 0), nsample, replace = TRUE, prob = c(0.4, 0.6)) 
c2 &lt;- sample(seq(1, 0), nsample, replace = TRUE, prob = c(0.3, 0.7))
c3 &lt;- sample(c(2, 1, 0), nsample, replace = TRUE, prob = c(0.33, 0.2, 0.5)) 
c4 &lt;- sample(seq(1, 0), nsample, replace = TRUE, prob = c(0.33, 0.67)) 
covmat &lt;- cbind(c1, c2, c3, c4) # generate the matrix of covariate factors for the subjects
# label of the covariates 
colnames(covmat) = c("Gender", "Age", "Hypertension", "Use of Antibiotics") 
covwt &lt;- c(1/4, 1/4, 1/4, 1/4) #equal weights
res &lt;- rep(100, nsample) # result is the treatment needed from minimization method
#gernerate treatment assignment for the 1st subject
res[1] = sample(trtseq, 1, replace = TRUE, prob = ratio/sum(ratio)) 
for (j in 2:nsample)
{
# get treatment assignment sequentiall for all subjects
res[j] &lt;- Minirand(covmat=covmat, j, covwt=covwt, ratio=ratio, 
ntrt=ntrt, trtseq=trtseq, method="Range", result=res, p = 0.9)
}
trt1 &lt;- res
#Display the number of randomized subjects at covariate factors
balance1 &lt;- randbalance(trt1, covmat, ntrt, trtseq) 
balance1
totimbal(trt = trt1, covmat = covmat, covwt = covwt, 
ratio = ratio, ntrt = ntrt, trtseq = trtseq, method = "Range")
</code></pre>


</div>