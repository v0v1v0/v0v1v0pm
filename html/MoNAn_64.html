<div class="container">

<table style="width: 100%;"><tr>
<td>createAlgorithm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>createAlgorithm</h2>

<h3>Description</h3>

<p>Specifies the algorithm used in the estimation based on characteristics
of the state and the effects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createAlgorithm(
  state,
  effects,
  multinomialProposal = FALSE,
  burnInN1 = NULL,
  thinningN1 = NULL,
  iterationsN1 = NULL,
  gainN1 = 0.1,
  burnInN2 = NULL,
  thinningN2 = NULL,
  initialIterationsN2 = 50,
  nsubN2 = 4,
  initGain = 0.6,
  burnInN3 = NULL,
  thinningN3 = NULL,
  iterationsN3 = 500,
  allowLoops = NULL
)

monanAlgorithmCreate(
  state,
  effects,
  multinomialProposal = FALSE,
  burnInN1 = NULL,
  thinningN1 = NULL,
  iterationsN1 = NULL,
  gainN1 = 0.1,
  burnInN2 = NULL,
  thinningN2 = NULL,
  initialIterationsN2 = 50,
  nsubN2 = 4,
  initGain = 0.6,
  burnInN3 = NULL,
  thinningN3 = NULL,
  iterationsN3 = 500,
  allowLoops = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>An object of class "processState.monan" that contains all relevant information about
the outcome in the form of an edgelist, the nodesets, and covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects</code></td>
<td>
<p>An object of class "effectsList.monan" that specifies the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multinomialProposal</code></td>
<td>
<p>How should the next possible outcome in the simulation chains
be sampled? If TRUE, fewer simulation steps are needed, but each simulation
step takes considerably longer. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnInN1</code></td>
<td>
<p>The number of simulation steps before the first draw in Phase 1.
A recommended value is at least n_Individuals * n_locations if
multinomialProposal = FALSE, and at least n_Individuals if multinomialProposal = TRUE
which is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thinningN1</code></td>
<td>
<p>The number of simulation steps between two draws in Phase 1.
A recommended value is at least 0.5 * n_Individuals * n_locations if
multinomialProposal = FALSE, and at least n_Individuals if multinomialProposal = TRUE
which is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterationsN1</code></td>
<td>
<p>The number of draws taken in Phase 1.
A recommended value is at least 4 * n_effects which is set as default.
If the value is too low, there will be an error in Phase 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gainN1</code></td>
<td>
<p>The size of the updating step after Phase 1. A conservative
value is 0, values higher than 0.25 are courageous. Defaults to 0.1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnInN2</code></td>
<td>
<p>The number of simulation steps before the first draw in Phase 1.
A recommended value is at least n_Individuals * n_locations if
multinomialProposal = FALSE, and at least n_Individuals if multinomialProposal = TRUE
which is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thinningN2</code></td>
<td>
<p>The number of simulation steps between two draws in Phase 2.
A recommended value is at least 0.5 * n_Individuals * n_locations if
multinomialProposal = FALSE, and at least n_Individuals if multinomialProposal = TRUE
which is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initialIterationsN2</code></td>
<td>
<p>The number of draws taken in subphase 1 of Phase 2.
For first estimations, a recommended value is around 50 (default to 50).
Note that in later subphases, the number of iterations increases.
If this is a further estimation to improve convergence, higher values (100+)
are recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsubN2</code></td>
<td>
<p>Number of subphases in Phase 2. In case this is the first
estimation, 4 subphases are recommended and set as default. If convergence
in a previous estimation was close, then 1-2 subphases should be enough.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initGain</code></td>
<td>
<p>The magnitude of parameter updates in the first subphase of
Phase 2. Values of around 0.2 (default) are recommended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burnInN3</code></td>
<td>
<p>The number of simulation steps before the first draw in Phase 3.
A recommended value is at least 3 * n_Individuals * n_locations if
multinomialProposal = FALSE, and at least 3 * n_Individuals if multinomialProposal = TRUE
which is set as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thinningN3</code></td>
<td>
<p>The number of simulation steps between two draws in Phase 3.
A recommended value is at least n_Individuals * n_locations if
multinomialProposal = FALSE, and at least 2 * n_Individuals if multinomialProposal = TRUE
which is set as default.
In case this value is too low, the outcome might erroneously indicate a lack
of convergence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterationsN3</code></td>
<td>
<p>Number of draws in Phase 3. Recommended are at the very
least 500 (default).
In case this value is too low, the outcome might erroneously indicate a lack
of convergence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allowLoops</code></td>
<td>
<p>Logical: can individuals/resources stay in their origin?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "algorithm.monan".
</p>


<h3>See Also</h3>

<p><code>createProcessState()</code>, <code>createEffectsObject()</code>, <code>estimateMobilityNetwork()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># define algorithm based on state and effects characteristics
myAlg &lt;- createAlgorithm(myState, myEffects, multinomialProposal = FALSE)
</code></pre>


</div>