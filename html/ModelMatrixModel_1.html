<div class="container">

<table style="width: 100%;"><tr>
<td>ModelMatrixModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ModelMatrixModel() function</h2>

<h3>Description</h3>

<p>This function  transforms a data.frame to matrix (or sparse matrix)  based on a r formula. The mean different from model.matrix() function is that it outputs a class stored with the transformed matrix, as well as the transforming parameters which can be applied to new data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ModelMatrixModel(
  rformula,
  data,
  sparse = TRUE,
  center = FALSE,
  scale = FALSE,
  remove_1st_dummy = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>rformula</code></td>
<td>
<p>a formula, e.g. formula("~ 1+x1+x2"),"~ 1+x1+x2",or ~ 1+x1+x2 . Note the interpreting of the formula might be different slightly from model.matrix function. In model.matrix(),intercept column will be included in output matrix with or without "1" in the formula. But in ModelMatrixModel(),intercept column will  be included in output matrix only when  "1" is present. Moreover "0" or "." in the formula will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>boolean, if TRUE return a sparse matrix, i.e. a "dgCMatrix" class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>boolean, if center the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>boolean, if scale the output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_1st_dummy</code></td>
<td>
<p>boolean, if remove the first dummy variable in one hot key transformation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>boolean, if print out progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>see vignettes.
</p>


<h3>Value</h3>

<p>A ModelMatrixModel class,which includes the transformed matrix and  the transforming parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(ModelMatrixModel)
traindf= data.frame(x1 = sample(LETTERS[1:5], replace = TRUE, 20),
                    x2 = rnorm(20, 100, 5),
                    y = rnorm(20, 10, 2))
mm=ModelMatrixModel(~x1+x2,traindf,remove_1st_dummy = FALSE)
data.frame(as.matrix(head(mm$x,2)))
</code></pre>


</div>