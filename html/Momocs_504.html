<div class="container">

<table style="width: 100%;"><tr>
<td>plot_PCA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PCA plot using grindr layers</h2>

<h3>Description</h3>

<p>Quickly vizualise PCA objects and friends and build customs plots
using the layers. See examples.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_PCA(
  x,
  f = NULL,
  axes = c(1, 2),
  palette = NULL,
  points = TRUE,
  points_transp = 1/4,
  morphospace = TRUE,
  morphospace_position = "range",
  chull = TRUE,
  chullfilled = FALSE,
  labelpoints = FALSE,
  labelgroups = FALSE,
  legend = TRUE,
  title = "",
  center_origin = TRUE,
  zoom = 0.9,
  eigen = TRUE,
  box = TRUE,
  axesnames = TRUE,
  axesvar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a PCA object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>factor specification to feed fac_dispatcher</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axes</code></td>
<td>
<p><code>numeric</code> of length two to select PCs to use
(<code>c(1, 2)</code> by default)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p><code>color palette</code> to use <code>col_summer</code> by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points_transp</code></td>
<td>
<p><code>numeric</code> to feed layer_points (default:0.25)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>morphospace</code></td>
<td>
<p><code>logical</code> whether to draw this using layer_morphospace_PCA</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>morphospace_position</code></td>
<td>
<p>to feed layer_morphospace_PCA (default: "range")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chull</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_chull</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chullfilled</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_chullfilled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelpoints</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_labelpoints</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labelgroups</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_labelgroups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p><code>logical</code> whether to draw this with layer_legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p><code>character</code> if specified, fee layer_title (default to <code>""</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center_origin</code></td>
<td>
<p><code>logical</code> whether to center origin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p><code>numeric</code> zoom level for the frame (default: 0.9)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eigen</code></td>
<td>
<p><code>logical</code> whether to draw this using layer_eigen</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>box</code></td>
<td>
<p><code>logical</code> whether to draw this using layer_box</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axesnames</code></td>
<td>
<p><code>logical</code> whether to draw this using layer_axesnames</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axesvar</code></td>
<td>
<p><code>logical</code> whether to draw this using layer_axesvar</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a plot
</p>


<h3>Note</h3>

<p>This approach will replace plot.PCA (and <code>plot.lda</code> in further versions.
This is part of <code>grindr</code> approach that may be packaged at some point. All comments are welcome.
</p>


<h3>See Also</h3>

<p>Other grindr: 
<code>drawers</code>,
<code>layers_morphospace</code>,
<code>layers</code>,
<code>mosaic_engine()</code>,
<code>papers</code>,
<code>pile()</code>,
<code>plot_LDA()</code>,
<code>plot_NMDS()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### First prepare two PCA objects.

# Some outlines with bot
bp &lt;- bot %&gt;% mutate(fake=sample(letters[1:5], 40, replace=TRUE)) %&gt;%
efourier(6) %&gt;% PCA
plot_PCA(bp)
plot_PCA(bp, ~type)
plot_PCA(bp, ~fake)

# Some curves with olea
op &lt;- olea %&gt;%
mutate(s=coo_area(.)) %&gt;%
filter(var != "Cypre") %&gt;%
chop(~view) %&gt;% opoly(5, nb.pts=90) %&gt;%
combine %&gt;% PCA
op$fac$s %&lt;&gt;% as.character() %&gt;% as.numeric()

op %&gt;% plot_PCA(title="hi there!")

### Now we can play with layers
# and for instance build a custom plot
# it should start with plot_PCA()

my_plot &lt;- function(x, ...){

x %&gt;%
    plot_PCA(...) %&gt;%
    layer_points %&gt;%
    layer_ellipsesaxes %&gt;%
    layer_rug
}

# and even continue after this function
op %&gt;% my_plot(~var, axes=c(1, 3)) %&gt;%
    layer_title("hi there!")

# grindr allows (almost nice) tricks like highlighting:

# bp %&gt;% .layerize_PCA(~fake) %&gt;%
#   layer_frame %&gt;% layer_axes() %&gt;%
#   layer_morphospace_PCA() -&gt; x

# highlight &lt;- function(x, ..., col_F="#CCCCCC", col_T="#FC8D62FF"){
#  args &lt;- list(...)
#  x$colors_groups &lt;- c(col_F, col_T)
#  x$colors_rows &lt;- c(col_F, col_T)[(x$f %in% args)+1]
#  x
#  }
# x %&gt;% highlight("a", "b") %&gt;% layer_points()

# You get the idea.
</code></pre>


</div>