<div class="container">

<table style="width: 100%;"><tr>
<td>rescale</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rescale coordinates from pixels to real length units</h2>

<h3>Description</h3>

<p>Most of the time, (x, y) coordinates are recorded in pixels. If we want to have
them in mm, cm, etc. we need to convert them and to rescale them. This functions
does the job for the two cases: i) either an homogeneous rescaling factor,
e.g. if all pictures were taken using the very same magnification or ii) with various
magnifications. More in the Details section
</p>


<h3>Usage</h3>

<pre><code class="language-R">rescale(x, scaling_factor, scale_mapping, magnification_col, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>any <code>Coo</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaling_factor</code></td>
<td>
<p>numeric an homogeneous scaling factor. If all you (x, y) coordinates
have the same scale</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale_mapping</code></td>
<td>
<p>either a data.frame or a path to read such a data.frame. It MUST contain
three columns in that order: magnification found in <code style="white-space: pre;">⁠$fac⁠</code>, column <code>"magnification_col"</code>, pixels, real length unit.
Column names do not matter but must be specified, as read.table reads with <code>header=TRUE</code> Every
different magnification level found in <code style="white-space: pre;">⁠$fac⁠</code>, column <code>"magnification_col"</code> must have its row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>magnification_col</code></td>
<td>
<p>the name or id of the $fac column to look for magnification levels for every image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments (besides header=TRUE) to pass to read.table if 'scale_mapping' is a path</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The i) case above is straightforward, if 1cm is 500pix long on all your pictures,
just call <code>rescale(your_Coo, scaling_factor=1/500)</code> and all coordinates will be in cm.
</p>
<p>The ii) second case is more subtle. First you need to code in your Coo object, in the fac
slot, a column named, say "mag", for magnification. Imagine you have 4 magnifications: 0.5, 1, 2 and 5,
we have to indicate for each magnification, how many pixels stands for how many units in the real world.
</p>
<p>This information is passed as a data.frame, built externally or in R, that must look like this:
</p>
<pre>
mag   pix    cm
0.5   1304   10
1     921    10
2     816    5
5     1020   5
</pre>
<p>.
</p>
<p>We have to do that because, for optical reasons, the ratio pix/real_unit, is not a linear
function of the magnification.
</p>
<p>All shapes will be centered to apply (the single or the different) scaling_factor.
</p>


<h3>Value</h3>

<p>a Momocs object of same class
</p>


<h3>Note</h3>

<p>This function is simple but quite complex to detail. Feel free to contact me should you have any
problem with it. You can just access its code (type <code>rescale</code>) and reply it yourself.
</p>


<h3>See Also</h3>

<p>Other handling functions: 
<code>arrange()</code>,
<code>at_least()</code>,
<code>chop()</code>,
<code>combine()</code>,
<code>dissolve()</code>,
<code>fac_dispatcher()</code>,
<code>filter()</code>,
<code>mutate()</code>,
<code>rename()</code>,
<code>rm_harm()</code>,
<code>rm_missing()</code>,
<code>rm_uncomplete()</code>,
<code>rw_fac()</code>,
<code>sample_frac()</code>,
<code>sample_n()</code>,
<code>select()</code>,
<code>slice()</code>,
<code>subsetize()</code>
</p>


</div>