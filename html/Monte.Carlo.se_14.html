<div class="container">

<table style="width: 100%;"><tr>
<td>Extra</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Auxiliary Functions</h2>

<h3>Description</h3>

<p>Auxiliary functions to be used in the Monte.Carlo.se package,
mainly with mc.se.matrix.  Scroll down to the Examples Section to
see the actual code.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ratio.var(index, xdata)

ratio.sd(index, xdata)

ratio.mse(index, xdata, true)

ratio.mean.vhat.var(index, xdata)

ratio.mean.sdhat.sd(index, xdata)

corr(index, xdata)

cv(x)

varn(x, n)

jack.var(x, theta, ...)

boot.var(x, B, theta, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>index = usually of the form 1:N</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdata</code></td>
<td>
<p>actual data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true</code></td>
<td>
<p>true parameter value when computing mean squared error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Input vector in calls to jack.var and boot.var</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>theta = function in calls to jack.var and boot.var</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to be passed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Bootstrap reps in calls to boot.var</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Dennis Boos, Kevin Matthew, Jason Osborne
</p>


<h3>Examples</h3>

<pre><code class="language-R"># These are extra functions included in the MCse package
# The following functions are to be used with mc.se.matrix

ratio.var &lt;- function(index,xdata)         # ratio of variances
 {var(xdata[index,1])/var(xdata[index,2])}

# The above function is for the ratio of the sample variance of column 1 to
# the sample variance  of column 2 of xdata.
# Note that the actual data goes into xdata, the second argument of ratio.var.
# Example call for 10,000 means and medians:
# ratio.var(1:10000,xdata=cbind(out.m.15,out.med.15))

ratio.sd&lt;-function(index,xdata){           # ratio of standard deviations
 sd(xdata[index,1])/sd(xdata[index,2])}

ratio.mse&lt;-function(index,xdata,true){     # ratio of mean squared errors
 mean((xdata[index,1]-true)^2)/mean((xdata[index,2]-true)^2)}

ratio.mean.vhat.var&lt;-function(index,xdata){# estimates in col 1, vhats in col. 2
 mean(xdata[index,2])/var(xdata[index,1])}

ratio.mean.sdhat.sd&lt;-function(index,xdata){# estimates in col 1, SEs in col. 2
 mean(xdata[index,2])/sd(xdata[index,1])}

corr&lt;-function(index,xdata){               # simple correlation
 cor(xdata[index,1],xdata[index,2])}

# These next two functions correspond to jack.se and boot.se.
# x is a data vector, and theta is a function applied to x.
# Each returns a variance estimate for theta(x).

jack.var &lt;- function(x, theta, ...){  # jackknife estimate of variance
 n &lt;- length(x)
 u &lt;- rep(0, n)
 for(i in 1:n){u[i] &lt;- theta(x[ - i], ...)}
 jack.var &lt;-((n-1)/n)* sum((u-mean(u))^2)
 return(jack.var)}

boot.var &lt;- function(x,B,theta, ...){ # bootstrap estimate of variance
 n &lt;- length(x)
 bootsam &lt;- matrix(sample(x,size = n*B,replace=T), nrow=B)
 thetastar &lt;- apply(bootsam,1,theta,...)
 boot.var &lt;- var(thetastar)
 return(boot.var)}

</code></pre>


</div>