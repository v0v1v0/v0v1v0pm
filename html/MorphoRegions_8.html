<div class="container">

<table style="width: 100%;"><tr>
<td>modelperf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assess model performance</h2>

<h3>Description</h3>

<p><code>modelperf()</code> computes model performance statistics in the form of <code class="reqn">R^2</code> measures for a given combination of breakpoints.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modelperf(x, ...)

## S3 method for class 'regions_pco'
modelperf(
  x,
  scores,
  modelsupport = NULL,
  criterion = "aic",
  model = 1,
  bps = NULL,
  cont = TRUE,
  ...
)

## S3 method for class 'regions_sim'
modelperf(
  x,
  scores = NULL,
  modelsupport = NULL,
  criterion = "aic",
  model = 1,
  bps = NULL,
  cont = TRUE,
  ...
)

## S3 method for class 'regions_results_single'
modelperf(x, scores = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>regions_pco</code> object, the output of a call to <code>svdPCO()</code>, or a <code>regions_results_single</code> object, the output of a call to <code>calcmodel()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scores</code></td>
<td>
<p><code>numeric</code>; the indices of the PCO scores for which fit statistics are to be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelsupport</code></td>
<td>
<p>a <code>regions_modelsupport</code> object, the output of a call to <code>modelsupport()</code>. When <code>x</code> is a <code>regions_pco</code> object, either <code>modelsupport</code>, <code>criterion</code>, and <code>model</code> must be supplied or <code>bps</code> and <code>cont</code> must be supplied. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>string; the criterion to use to select the best model for which breakpoints are to be displayed when <code>modelsupport</code> is specified. Ignored otherwise. Allowable options include <code>"aic"</code> to use the AICc and <code>"bic"</code> to use the BIC. Abbreviations allowed. Default is <code>"aic"</code>. When <code>x</code> is a <code>regions_pco</code> object, either <code>modelsupport</code>, <code>criterion</code>, and <code>model</code> must be supplied or <code>bps</code> and <code>cont</code> must be supplied. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p><code>numeric</code>; for which model among the best as determined by <code>criterion</code> should fit statistics be computed. 1 is the best model, 2 the second best, etc. Default is 1. When <code>x</code> is a <code>regions_pco</code> object, either <code>modelsupport</code>, <code>criterion</code>, and <code>model</code> must be supplied or <code>bps</code> and <code>cont</code> must be supplied. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bps</code></td>
<td>
<p><code>numeric</code>; a vector of breakpoints for which model fit should be computed. When <code>x</code> is a <code>regions_pco</code> object, either <code>modelsupport</code>, <code>criterion</code>, and <code>model</code> must be supplied or <code>bps</code> and <code>cont</code> must be supplied. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont</code></td>
<td>
<p><code>logical</code>; whether to fit a model that is continuous (<code>TRUE</code>) or discontinuous (<code>FALSE</code>) at the breakpoints supplied to <code>bps</code>. Default is <code>TRUE</code>. When <code>x</code> is a <code>regions_pco</code> object, either <code>modelsupport</code>, <code>criterion</code>, and <code>model</code> must be supplied or <code>bps</code> and <code>cont</code> must be supplied. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>modelperf()</code> operates on a single model identified by breakpoints and whether the model is continuous or not. When <code>x</code> is a <code>regions_pco</code> object, the model is selected either as the best model in the supplied <code>modelsupport</code> object (where "best" is determined by the arguments to <code>criterion</code> and <code>model</code>) or as specified by the user using the arguments to <code>bps</code> and <code>cont</code>. When <code>x</code> is a <code>regions_results_single</code> object, the breakpoints and model form are determined based on the supplied object.
</p>


<h3>Value</h3>

<p>A <code>regions_perf</code> object containing the breakpoints of the specified model, the univariate <code class="reqn">R^2</code> and adjusted <code class="reqn">R^2</code> statistics for each PCO score, and the multivariate <code class="reqn">R^2</code> and adjusted <code class="reqn">R^2</code> statistics.
</p>


<h3>See Also</h3>

<p><code>modelsupport()</code> for assessing model support using information criteria; <code>calcmodel()</code> for fitting a single segmented regression model; <code>plotsegreg()</code> for plotting the results of a single segmented regression model.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("alligator")

alligator_data &lt;- process_measurements(alligator,
                                       pos = "Vertebra")

# Compute PCOs
alligator_PCO &lt;- svdPCO(alligator_data)

# Evaluate model performance (R2) given supplied
# breakpoints for a continuous model
modelperf(alligator_PCO, scores = 1:3,
          bps = c(7, 15, 20), cont = TRUE)

plotsegreg(alligator_PCO, scores = 1:3,
           bps = c(7, 15, 20), cont = TRUE)
## See also `?calcmodel` for use with a single model

# Fit segmented regression models for 1 to 7 regions
# using PCOs 1 to 4 and a continuous model with a
# non-exhaustive search
regionresults &lt;- calcregions(alligator_PCO,
                             scores = 1:4,
                             noregions = 7,
                             minvert = 3,
                             cont = TRUE,
                             exhaus = FALSE,
                             verbose = FALSE)

regionresults

# For each number of regions, identify best
# model based on minimizing RSS
bestresults &lt;- modelselect(regionresults)

# Evaluate support for each model and rank
supp &lt;- modelsupport(bestresults)

# Evaluate model performance (R2) for best model
# as chosen by BIC
modelperf(alligator_PCO, scores = 1:4,
          modelsupport = supp,
          criterion = "bic", model = 1)

# Plot that model for the first PCO score
plotsegreg(alligator_PCO, scores = 1:4,
           modelsupport = supp,
           criterion = "bic", model = 1)

## See `?simregions` for use with simulated data
</code></pre>


</div>