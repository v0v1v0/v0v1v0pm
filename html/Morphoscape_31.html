<div class="container">

<table style="width: 100%;"><tr>
<td>lscp_operations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Simple Operations on Spatial Data
</h2>

<h3>Description</h3>

<p>Perform simple operations (sum, sub, mult, div) on one or multiple landscapes (see details for use cases)
</p>


<h3>Usage</h3>

<pre><code class="language-R">sum_lscps(lscps, num = NULL, average = TRUE)
mult_lscps(lscps, num = NULL)
sub_lscps(lscps, binary = FALSE)
div_lscps(lscps, binary = FALSE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>lscps</code></td>
<td>

<p>A named list containing datasets of spatial data to apply operations (see details). </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num</code></td>
<td>

<p>Optional. Defaults to NULL. A vector containing a single numeric scalar or numeric vector with length = lscps to scale by when using <code>sum_lscps</code> and <code>mult_lscps()</code>. If NULL, these functions will operate between lscps. If num is provided, these functions will operate between lscps and num.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binary</code></td>
<td>

<p>If subracting or dividing landscapes, binarize result to obtain logical [0,1] result (see details for use case)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>average</code></td>
<td>

<p>if summation is performed, should the result be averaged for the number of landscapes 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Simple operations are applied to one or more landscapes depending on use case. Spatial datasets can be supplied in an XYZ dataframe, or as any landscape output from Morphoscape. 
</p>
<p>sum - sum a single spatial dataset/landscape with a single scalar (<code>lscp1 + num1</code>); sum two or more spatial datasets/landscapes together (<code>lscp1 + lscp2 ... lscpN</code>); or sum multiple landscapes with multiple scalars (<code>(lscp1, lscp2 ... lscpN) + (num1, num2, ..., numN)</code>)
</p>
<p>mult - multiply a single spatial dataset/landscape with a single scalar (<code>lscp1 * num1</code>); multiply two or more spatial datasets/landscapes together (<code>lscp1 * lscp2 ... lscpN</code>); or multiply multiple landscapes with multiple scalars (<code>(lscp1, lscp2 ... lscpN) * (num1, num2, ..., numN)</code>)
</p>
<p>sub - substract one spatial dataset/landscape from another (<code>lscp1 - lscp2</code>). If numeric subtraction is desired, use sum_lscps with negative <code>num</code> values.
</p>
<p>div - divide one spatial dataset by another (<code>lscp1 / lscp2</code>).
</p>
<p><code>sub_lscps()</code> and <code>div_lscps</code> can be used to construct transition landscapes per (Dickson et al 2020) which can compare performance between two adaptive regimes. If binary = T is used, the result will be a spatial representation of which parent landscape dominates. However, it is recommended to use <code>trans_lscps</code> or <code>adpt_regions</code> to calculate transtional landscapes or adaptive regions (not yet implemented).
</p>


<h3>Value</h3>

<p>An object of class "combined.surface" containing XYZ spatial data.
</p>


<h3>Author(s)</h3>

<p>Blake V. Dickson</p>


<h3>See Also</h3>

<p><code>krige_surf</code>, <code>calcGrpWprime</code>, <code>calc_lscp</code>, <code>calcPoly</code>, <code>trans_lscps</code>, <code>adpt_regions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">require("Morphoscape")

data("turtles")
data("warps")

fnc_df &lt;- as_fnc_df(warps, 
                       func.names = c("hydro", "curve", "mech", "fea"))

kr_surf &lt;- krige_surf(fnc_df, new_data = turtles)

grid_weights &lt;- generate_weights(n = 10, data = kr_surf)

all_lscps &lt;- calc_all_lscps(kr_surf,
                            grid_weights = grid_weights)

wprime_S &lt;- calcGrpWprime(all_lscps,
                          index = Ecology == "S")

wprime_T &lt;- calcGrpWprime(all_lscps,
                          index = Ecology == "T")
                          
lscps &lt;- list(wprimeS = wprime_S, wprime_T = wprime_T)
                       
# summing multiple landscapes together

summed_surfs &lt;- sum_lscps(lscps, average = TRUE)

# summing landscapes by one or more numeric scalars

summed_surfs &lt;- sum_lscps(lscps, num = c(1.5, -1.15)) # multiple numeric, with subtraction

# multiplying mutliple landscapes together
mult_surfs &lt;- mult_lscps(lscps) # multiply landscapes together

# multiplying landscapes by one or more numeric scalars
mult_surfs &lt;- mult_lscps(lscps, num = 2) # apply numeric multiplier to all landscapes
mult_surfs &lt;- mult_lscps(lscps, num = c(1.2, 0.8)) # apply numeric elements to each landscape

# substract or divide two landscapes

sub_surf &lt;- sub_lscps(lscps)
div_surf &lt;- div_lscps(lscps)

# with binary result

sub_surf &lt;- sub_lscps(lscps, binary = TRUE)
div_surf &lt;- div_lscps(lscps, binary = TRUE)

</code></pre>


</div>