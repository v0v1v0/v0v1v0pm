<div class="container">

<table style="width: 100%;"><tr>
<td>updategraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update graph</h2>

<h3>Description</h3>

<p><code>updategraph()</code> updates the graph when only a subset of original hypotheses
is concerned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">updategraph(
  S1 = c(2, 3),
  W0 = c(0.5, 0.5, 0, 0),
  G0 = rbind(c(0, 0, 1, 0), c(0, 0, 0, 1), c(0, 1, 0, 0), c(1, 0, 0, 0)),
  S0 = seq(1, length(W0), by = 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>S1</code></td>
<td>
<p>Integer indices of the subset of hypotheses, S1 must be a non-empty
subset of <code>S0</code> and must be sorted increasingly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W0</code></td>
<td>
<p>Numeric vector for the initial weights of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G0</code></td>
<td>
<p>Numeric matrix of dimesion <code>length(W0)</code> by <code>length(W0)</code> for the
initial transition matrix of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S0</code></td>
<td>
<p>Integer indices for the set of hypotheses from 1 to length of <code>W0</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with the following elements
</p>

<ul>
<li> <p><code>S1</code>: Integer indices the same as the input <code>S1</code>.
</p>
</li>
<li> <p><code>W1</code>: Numeric vector for weights of the updated graph.
</p>
</li>
<li> <p><code>G1</code>: Numeric transition of the updated graph.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Xiaodong Luo
</p>


<h3>Examples</h3>

<pre><code class="language-R">## We can use the function to produce a closed testing tree
## A function to create power set
powerset &lt;- function(x) {
  sets &lt;- lapply(1:(length(x)), function(i) combn(x, i, simplify = FALSE))
  unlist(sets, recursive = FALSE)
}

n &lt;- 3    # number of hypotheses
pn &lt;- 2^n-1
pset &lt;- powerset(seq(1, n, by = 1))    # create the power set
df &lt;- data.frame(matrix(ncol = 1+n, nrow = 0))    # create the dataset
colnames(df) &lt;- c("Test", paste0("H", seq(1, n, by = 1), sep = ""))

W0 &lt;- c(1/3, 1/3, 1/3)    # the weights of the graph
m &lt;- rbind(H1 = c(0, 1/2, 1/2),
           H2 = c(1/2, 0, 1/2),
           H3 = c(1/2, 1/2, 0))
G0 &lt;- matrix(m, nrow = 3, ncol = 3)    # the transition matrix of the graph

for (j in 1:pn){
    abc &lt;- updategraph(S1 = pset[[j]], W0 = W0, G0 = G0)
    temp &lt;- rep("-", n)
    temp[pset[[j]]] &lt;- abc$W1
    temp &lt;- c(paste(pset[[j]], collapse = ""), temp)
    df[j, ] &lt;- temp
}
df    # the dataframe lists the closed testing tree
</code></pre>


</div>