<div class="container">

<table style="width: 100%;"><tr>
<td>m2_call</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Call and reset a Macaulay2 process</h2>

<h3>Description</h3>

<p>Call and reset a Macaulay2 process
</p>


<h3>Usage</h3>

<pre><code class="language-R">m2r_version_number()

m2r_cloud_url()

has_m2_connection()

start_m2(
  port = 27436L,
  timeout = 10,
  attempts = 10,
  cloud = FALSE,
  hostname = m2r_cloud_url()
)

stop_m2()

reset_m2(
  port = 27436L,
  timeout = 10,
  attempts = 10,
  hostname = "ec2-52-10-66-241.us-west-2.compute.amazonaws.com"
)

m2(code, timeout = -1)

m2.(code, timeout = -1)

## S3 method for class 'm2_pointer'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>port</code></td>
<td>
<p>port for Macaulay2 socket</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeout</code></td>
<td>
<p>number of seconds before aborting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attempts</code></td>
<td>
<p>numer of times to try to make connection</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cloud</code></td>
<td>
<p>use a cloud?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hostname</code></td>
<td>
<p>the remote host to connect to; defaults to the Amazon EC2
instance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>Macaulay2 code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>formal argument for print method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>...</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>m2 return value
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run:  requires Macaulay2

m2("1 + 1")
m2.("1 + 1")

m2("factor 32004")

# run a chunk of m2 code, only pulling the end value back into R
m2("
  R = QQ[a..d]
  I = ideal(a^3-b^2*c, b*c^2-c*d^2, c^3)
  G = gens gb I
")

# illustrate the persistent connection
m2("a = 1 + 1")
m2("a")
reset_m2()
m2("a")


# forcing a cloud start
if(has_m2_connection()) stop_m2()
start_m2(cloud = TRUE)
m2("1 + 1")
stop_m2()



m2.("peek(QQ[x,y,z])")
m2("peek(QQ[x,y,z])")

# m2 returns in its ext_str position the result of running
# toExternalString on the return value of the chunk of code
# you run. in principle, toExternalString provides the code
# needed to recreate the m2 object of interest. however,
# does not work for all objects representable in the m2 language.
# in particular, mutable objects are not supported.
# this is what happens when you look at those:
m2.("new MutableList from {1,2,3}")
m2("new MutableList from {1,2,3}")


## End(Not run)
</code></pre>


</div>