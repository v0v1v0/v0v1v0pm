<div class="container">

<table style="width: 100%;"><tr>
<td>factor_n</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Factor an integer into primes</h2>

<h3>Description</h3>

<p>Factor an integer into primes
</p>


<h3>Usage</h3>

<pre><code class="language-R">factor_n(n, code = FALSE, ...)

factor_n.(n, code = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>an integer or a polynomial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>return only the M2 code? (default: <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>...</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data frame with integer columns <code>prime</code> and
<code>power</code> or <code>m2_pointer</code> referencing the factorization
in M2.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run:  requires Macaulay2

##### basic usage
########################################

2^2 * 3^7 * 5^2 # = 218700
factor_n(218700)
factor_n.(218700)

(df &lt;- factor_n(218700))
df$prime
df$power
str(df)


factor_n(218700, code = TRUE)


##### other options
########################################

(integer_pointer &lt;- m2.("218700"))
m2_name(integer_pointer)
factor_n(integer_pointer, code = TRUE)
factor_n(integer_pointer)



factor_n(3234432540)
factor_n(323443254223453)
factor_n(rpois(1, 1e4))


##### known issues
########################################

# R doesn't handle big ints well. note in the following
# the m2 code number is different than the supplied number
factor_n(32344325422364353453, code = TRUE)

# this can be circumvented by passing a string instead
factor_n("32344325422364353453", code = TRUE)

# but if the factors are large, R can't handle the parsing well
factor_n("32344325422364353453")

# here's a workaround:
factor_pointer &lt;- factor_n.("32344325422364353453")
m2_meta(factor_pointer, "ext_str")
extract_factors &lt;- function(pointer) {
  require(stringr)
  str &lt;- m2_meta(pointer, "ext_str")
  str &lt;- str_sub(str, 19, -2)
  str &lt;- str_extract_all(str, "\\{[0-9]+,[0-9]+\\}")[[1]]
  str &lt;- str_sub(str, 2, -2)
  str &lt;- str_split(str, ",")
  df &lt;- as.data.frame(t(simplify2array(str)))
  names(df) &lt;- c("prime", "power")
  df
}
(df &lt;- extract_factors(factor_pointer))


# using gmp (currently broken)
# factor_n("32344325422364353453", gmp = TRUE)
m2("11 * 479 * 6138607975396537")
11 * 479 * 6138607975396537


## End(Not run)

</code></pre>


</div>