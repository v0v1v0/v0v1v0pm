<div class="container">

<table style="width: 100%;"><tr>
<td>m5_prepare</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare the ready-to-use M5 data in one data.frame</h2>

<h3>Description</h3>

<p>It's a memory-efficient function, which uses <code>data.table</code> under the hood.
However, it still not recommended to use this function on PCs with &lt; 16GB RAM.
In such case, consider to use a custom solution
based on <code style="white-space: pre;">⁠[arrow](https://arrow.apache.org/docs/r/)⁠</code> or <code style="white-space: pre;">⁠[disk.frame](https://diskframe.com/index.html)⁠</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">m5_prepare(sales_train, sales_test, calendar, sell_prices)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sales_train</code></td>
<td>
<p>A data.frame with M5 train data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sales_test</code></td>
<td>
<p>A data.frame with M5 test data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calendar</code></td>
<td>
<p>A data.frame with M5 calendar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sell_prices</code></td>
<td>
<p>A data.frame with M5 sell_prices</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.table</code> composed from input objects, which  contains the following columns:
</p>

<ul>
<li> <p><em>item_id</em>
</p>
</li>
<li> <p><em>dept_id</em>
</p>
</li>
<li> <p><em>cat_id</em>
</p>
</li>
<li> <p><em>store_id</em>
</p>
</li>
<li> <p><em>state_id</em>
</p>
</li>
<li> <p><em>d</em> - day ordinal number
</p>
</li>
<li> <p><em>value</em> - number of sold items
</p>
</li>
<li> <p><em>wm_yr_wk</em> - week identifier
</p>
</li>
<li> <p><em>weekday</em> - weekday name (character)
</p>
</li>
<li> <p><em>wday</em> - weekday as an integer
</p>
</li>
<li> <p><em>month</em>
</p>
</li>
<li> <p><em>year</em>
</p>
</li>
<li> <p><em>event_name_1</em> - special event name, like holidays etc.
</p>
</li>
<li> <p><em>event_type_1</em> - special event type
</p>
</li>
<li> <p><em>event_name_2</em> - as above
</p>
</li>
<li> <p><em>event_type_2</em> - as above
</p>
</li>
<li> <p><em>snap</em> - promotion flag
</p>
</li>
<li> <p><em>sell_price</em>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">library(m5)
library(zeallot)


m5_download('data')
c(sales_train,
  sales_test,
  sell_prices,
  calendar,
  weights) %&lt;-% m5_get_raw_evaluation('data')

m5_data  &lt;-
   m5_prepare(sales_train, sales_test, calendar, sell_prices)


</code></pre>


</div>