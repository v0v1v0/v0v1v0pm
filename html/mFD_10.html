<div class="container">

<table style="width: 100%;"><tr>
<td>beta.fd.hill</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Functional beta-Diversity indices based on Hill Numbers</h2>

<h3>Description</h3>

<p>Compute functional beta-diversity indices based on Hill numbers applied to
distance between species following the framework from Chao <em>et al.</em> (2019).
</p>


<h3>Usage</h3>

<pre><code class="language-R">beta.fd.hill(
  asb_sp_w,
  sp_dist,
  q = c(0, 1, 2),
  tau = "mean",
  beta_type = "Jaccard",
  check_input = TRUE,
  details_returned = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>asb_sp_w</code></td>
<td>
<p>a matrix with weight of species (columns) in a set
of assemblages (rows). Rows and columns should have names. NA are not
allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_dist</code></td>
<td>
<p>a matrix or dist object with distance between
species. Species names should be provided and match those in 'asb_sp_w'.
NA are not allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>a vector containing values referring to the order of
diversity to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>a character string with name of function to apply to
distance matrix (i.e. among all pairs of species) to get the threshold
used to define 'functionally indistinct set of species'. Could be qet to
'mean' (default), 'min' or 'max'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_type</code></td>
<td>
<p>a character string with name of framework used for
computing beta-diversity, either 'Jaccard' (default) or 'Sorensen'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_input</code></td>
<td>
<p>a logical value indicating whether key features the
inputs are checked (e.g. class and/or mode of objects, names of rows
and/or columns, missing values). If an error is detected, a detailed
message is returned. Default: <code>check_input = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>details_returned</code></td>
<td>
<p>a logical value indicating whether the user
want to store values used for computing indices (see list below)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with:
</p>

<ul><li> <p><em>asb_FDbeta</em> a list with for each value of q a <em>dist</em>
object with beta functional diversity indices for all pairs of assemblages
item if <strong>store.details</strong> turned to TRUE a list <em>details</em> with
</p>

<ul>
<li> <p><em>malpha_fd_q</em> a list with for each value of q a <em>dist</em>
object with mean alpha functional diversity indices for all pairs of
assemblages
</p>
</li>
<li> <p><em>gamma_fd_q</em> a list with for each value of q a <em>dist</em>
object with gamma functional diversity indices for all pairs of assemblages
</p>
</li>
</ul>
</li></ul>
<h3>Note</h3>

<p>When q=1 Jaccard-like and Sorensen-like beta-diversity are identical.
FD computed with tau='min' is equivalent to Hill number taxonomic beta
diversity. If tau='min' and there are species with null distance, tau is
set to the minimum non-null value and a warning message is displayed.
Indices values are stored as <em>dist</em> objects to optimize memory.
See below example of how merging distance values in a <em>dataframe</em> with
<code>dist.to.df</code>
</p>


<h3>Author(s)</h3>

<p>Sebastien Villeger and Camille Magneville
</p>


<h3>References</h3>

<p>Chao <em>et al.</em> (2019) An attribute diversity approach to functional
diversity, functional beta diversity, and related (dis)similarity
measures. <em>Ecological Monographs</em>, <strong>89</strong>, e01343.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Species*Traits dataframe:
data('fruits_traits', package = 'mFD')

# Load Traits types dataframe:      
data('fruits_traits_cat', package = 'mFD')
   
# Compute functional distance 
sp_dist_fruits &lt;- mFD::funct.dist(sp_tr         = fruits_traits,
                                  tr_cat        = fruits_traits_cat,
                                  metric        = "gower",
                                  scale_euclid  = "scale_center",
                                  ordinal_var   = "classic",
                                  weight_type   = "equal",
                                  stop_if_NA    = TRUE)

# Compute beta functional hill indices:
baskets_beta &lt;- beta.fd.hill(
      asb_sp_w         = baskets_fruits_weights, 
      sp_dist          = sp_dist_fruits, 
      q                = c(0,1,2), 
      tau              = 'mean',
      beta_type        = 'Jaccard', 
      check_input      = TRUE, 
      details_returned = TRUE)
 
# Then use the mFD::dist.to.df function to ease visualizing result:
## for q = 0:
mFD::dist.to.df(list_dist = list(FDq2 = baskets_beta$beta_fd_q$q0))
## for q = 1:
mFD::dist.to.df(list_dist = list(FDq2 = baskets_beta$beta_fd_q$q1))
## for q = 2:
mFD::dist.to.df(list_dist = list(FDq2 = baskets_beta$beta_fd_q$q2))
</code></pre>


</div>