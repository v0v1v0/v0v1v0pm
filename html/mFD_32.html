<div class="container">

<table style="width: 100%;"><tr>
<td>pool.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot species from the pool</h2>

<h3>Description</h3>

<p>Plot all species from the study case and associated convex hull
</p>


<h3>Usage</h3>

<pre><code class="language-R">pool.plot(
  ggplot_bg,
  sp_coord2D,
  vertices_nD,
  plot_pool = TRUE,
  shape_pool = 3,
  size_pool = 0.8,
  color_pool = "grey95",
  fill_pool = NA,
  color_ch = NA,
  fill_ch = "white",
  alpha_ch = 1,
  shape_vert = 3,
  size_vert = 1,
  color_vert = "black",
  fill_vert = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ggplot_bg</code></td>
<td>
<p>a ggplot object of the plot background retrieved through
the <code>background.plot</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_coord2D</code></td>
<td>
<p>a list of matrix (ncol = 2) with coordinates of
species present in the pool for a given pair of axes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vertices_nD</code></td>
<td>
<p>a list (with names as in sp_coord2D) of vectors with
names of species being vertices in n dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_pool</code></td>
<td>
<p>a logical value indicating whether species of each
assemblage should be plotted or not. Default: plot_pool = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_pool</code></td>
<td>
<p>a numeric value referring to the shape used to plot
species pool. Default: <code>shape_pool = 16</code>(filled circle).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_pool</code></td>
<td>
<p>a numeric value referring to the size of species belonging
to the global pool. Default: <code>size_pool = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_pool</code></td>
<td>
<p>a R color name or an hexadecimal code referring to the
color of the pool.  This color is also used for FRic convex hull color.
Default: <code>color_pool = "#0072B2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_pool</code></td>
<td>
<p>a R color name or an hexadecimal code referring to the
colour to fill species symbol (if <code>shape_sp</code> &gt; 20) and the assemblage
convex hull. Default: <code>fill_pool = '#0072B2'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_ch</code></td>
<td>
<p>a R color name or an hexadecimal code referring to the
border of the convex hull filled by the pool of species. Default:
<code>color_ch = "black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_ch</code></td>
<td>
<p>a R color name or an hexadecimal code referring to the
filling of the convex hull filled by the pool of species. Default is:
<code>fill_ch = "white"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_ch</code></td>
<td>
<p>a numeric value for transparency of the filling of the
convex hull (0 = high transparency, 1 = no transparency). Default:
<code>alpha_ch = 0.3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_vert</code></td>
<td>
<p>a numeric value referring to the shape used to plot
vertices if vertices should be plotted in a different way than other
species. If <code>shape_vert = NA</code>, no vertices plotted. Default:
<code>shape_vert = NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_vert</code></td>
<td>
<p>a numeric value referring to the size of symbol for
vertices. Default: <code>size_vert = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_vert</code></td>
<td>
<p>a R color name or an hexadecimal code referring to the
color of vertices if plotted. If color_vert = NA, vertices are not plotted
(for shapes only defined by color, ie shape inferior to 20. Otherwise fill
must also be set to NA). Default: <code>color_vert =  NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_vert</code></td>
<td>
<p>a character value referring to the color for filling symbol
for vertices (if <code>shape_vert</code> &gt;20). If <code>fill = NA</code> and <code>color = NA</code>,
vertices are not plotted (if <code>shape_vert</code> superior to 20. Otherwise
<code>color_vert = NULL</code> is enough). Default is <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ggplot object plotting background of multidimensional graphs and
species from the global pool (associated convex hull if asked).
</p>


<h3>Author(s)</h3>

<p>Camille Magneville and Sebastien Villeger
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Species*Traits dataframe:
data("fruits_traits", package = "mFD")

# Load Assemblages*Species dataframe:      
data("baskets_fruits_weights", package = "mFD") 

# Load Traits categories dataframe:
data("fruits_traits_cat", package = "mFD") 
 
# Compute functional distance 
sp_dist_fruits &lt;- mFD::funct.dist(sp_tr         = fruits_traits,
                                  tr_cat        = fruits_traits_cat,
                                  metric        = "gower",
                                  scale_euclid  = "scale_center",
                                  ordinal_var   = "classic",
                                  weight_type   = "equal",
                                  stop_if_NA    = TRUE)
  
# Compute functional spaces quality to retrieve species coordinates matrix:
fspaces_quality_fruits &lt;- mFD::quality.fspaces(sp_dist = sp_dist_fruits, 
 maxdim_pcoa         = 10,
 deviation_weighting = "absolute",
 fdist_scaling       = FALSE,
 fdendro             = "average")
 
# Retrieve species coordinates matrix:
sp_faxes_coord_fruits_2D &lt;- 
  fspaces_quality_fruits$details_fspaces$sp_pc_coord[ , c("PC1", "PC2")]

# Set faxes limits:
# set range of axes if c(NA, NA):
 range_sp_coord_fruits  &lt;- range(sp_faxes_coord_fruits_2D)
 range_faxes_lim &lt;- range_sp_coord_fruits + 
   c(-1, 1)*(range_sp_coord_fruits[2] - 
   range_sp_coord_fruits[1]) * 0.05
 
 # Retrieve the background plot:
 ggplot_bg_fruits &lt;- mFD::background.plot(
                               range_faxes = range_faxes_lim, 
                               faxes_nm    = c("PC 1", "PC 2"), 
                               color_bg    = "grey90") 
                               
 # Retrieve vertices names:
 vert_nm_fruits &lt;- vertices(sp_faxes_coord_fruits_2D, 
  order_2D = TRUE, check_input = TRUE)
  
 # Plot the pool:
 plot_pool_fruits &lt;- pool.plot(ggplot_bg   = ggplot_bg_fruits,
           sp_coord2D    = sp_faxes_coord_fruits_2D,
           vertices_nD   = vert_nm_fruits,
           plot_pool     = TRUE,
           shape_pool    = 3, 
           size_pool     = 0.8, 
           color_pool    = "grey95", 
           fill_pool     = NA, 
           color_ch      = NA, 
           fill_ch       = "white", 
           alpha_ch      = 1, 
           shape_vert    = 3, 
           size_vert     = 1, 
           color_vert    = "black", 
           fill_vert     = NA) 
 plot_pool_fruits
</code></pre>


</div>