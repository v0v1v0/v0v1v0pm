<div class="container">

<table style="width: 100%;"><tr>
<td>sp.filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve information about species in a given assemblage</h2>

<h3>Description</h3>

<p>This function computes names of species present in an given assemblage,
their coordinates in the functional space and their weights. It is used in
the <code>alpha_FD_multidim</code> function to filter species and compute each
functional indices for each community.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sp.filter(asb_nm, sp_faxes_coord, asb_sp_w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>asb_nm</code></td>
<td>
<p>a string object referring to the name of a given community.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sp_faxes_coord</code></td>
<td>
<p>a matrix of species coordinates in a chosen functional
space. Species coordinates have been retrieved thanks to
<code>tr.cont.fspace</code> or <code>quality.fspaces</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asb_sp_w</code></td>
<td>
<p>a matrix linking weight of species (columns) and a
set of assemblages (rows).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector containing names of species present in a given assemblage
<code>sp_name_asb_k</code>, a matrix containing coordinates of species present
in a given assemblage <code>sp_faxes_coord_k</code>, a matrix containing weight
of species present in a given assemblage <code>asb_sp_w_k</code>, a matrix
containing relative weight of species present in a given assemblage
<code>asb_sp_relatw_k</code>.
</p>


<h3>Author(s)</h3>

<p>Camille Magneville and Sebastien Villeger
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load Species*Traits dataframe:
data("fruits_traits", package = "mFD")

# Load Assemblages*Species dataframe:      
data("baskets_fruits_weights", package = "mFD")
 
# Load Traits categories dataframe:
data("fruits_traits_cat", package = "mFD")  

# Compute functional distance 
sp_dist_fruits &lt;- mFD::funct.dist(
 sp_tr         = fruits_traits,
 tr_cat        = fruits_traits_cat,
 metric        = "gower",
 scale_euclid  = "scale_center",
 ordinal_var   = "classic",
 weight_type   = "equal",
 stop_if_NA    = TRUE)
 
# Compute functional spaces quality to retrieve species coordinates matrix:
fspaces_quality_fruits &lt;- mFD::quality.fspaces(
 sp_dist             = sp_dist_fruits, 
 maxdim_pcoa         = 10,
 deviation_weighting = "absolute",
 fdist_scaling       = FALSE,
 fdendro             = "average")
 
# Retrieve species coordinates matrix:
sp_faxes_coord_fruits &lt;- fspaces_quality_fruits$details_fspaces$sp_pc_coord

# Filter species of basket_1 assemblage:
sp.filter(asb_nm         = "basket_1", 
          sp_faxes_coord = sp_faxes_coord_fruits, 
          asb_sp_w       = baskets_fruits_weights)
</code></pre>


</div>