<div class="container">

<table style="width: 100%;"><tr>
<td>alpha.multidim.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot functional space and chosen functional indices</h2>

<h3>Description</h3>

<p>Compute a graphical representation of functional indices. <strong>To plot
functional indices, functional indices values must have been retrieve
through the use of the</strong> <code>alpha.fd.multidim</code> <strong>function</strong>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alpha.multidim.plot(
  output_alpha_fd_multidim,
  plot_asb_nm,
  ind_nm = c("fide", "fric", "fdiv", "fdis", "feve", "fori", "fspe", "fnnd"),
  faxes = NULL,
  faxes_nm = NULL,
  range_faxes = c(NA, NA),
  color_bg = "grey95",
  shape_sp = c(pool = 3, asb1 = 21, asb2 = 21),
  size_sp = c(pool = 0.7, asb1 = 1, asb2 = 1),
  color_sp = c(pool = "grey50", asb1 = "#0072B2", asb2 = "#D55E00"),
  color_vert = c(pool = "grey50", asb1 = "#0072B2", asb2 = "#D55E00"),
  fill_sp = c(pool = NA, asb1 = "#FFFFFF30", asb2 = "#FFFFFF30"),
  fill_vert = c(pool = NA, asb1 = "#0072B2", asb2 = "#D55E00"),
  color_ch = c(pool = NA, asb1 = "#0072B2", asb2 = "#D55E00"),
  fill_ch = c(pool = "white", asb1 = "#0072B2", asb2 = "#D55E00"),
  alpha_ch = c(pool = 1, asb1 = 0.3, asb2 = 0.3),
  shape_centroid_fdis = c(asb1 = 22, asb2 = 22),
  shape_centroid_fdiv = c(asb1 = 24, asb2 = 25),
  shape_centroid_fspe = 23,
  color_centroid_fspe = "black",
  size_sp_nm = 3,
  color_sp_nm = "black",
  plot_sp_nm = NULL,
  fontface_sp_nm = "plain",
  save_file = FALSE,
  check_input = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>output_alpha_fd_multidim</code></td>
<td>
<p>a list of objects retrieved through the
<code>alpha.fd.multidim</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_asb_nm</code></td>
<td>
<p>a vector containing name(s) of assemblage(s) to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind_nm</code></td>
<td>
<p>a vector of character string of the name of functional
indices to plot. <strong>Indices names must be written in lower case
letters</strong>. Possible indices to compute are: "fdis", "feve", "fric", "fdiv",
"fori" and "fspe". Default: all the indices are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faxes</code></td>
<td>
<p>a vector with names of axes to plot. <strong>You can only plot
from 2 to 4 axes for graphical reasons: vector length should be between 2
and 4</strong>. Default: faxes = NULL (the four first axes will be plotted).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>faxes_nm</code></td>
<td>
<p>a vector with axes labels if the user want different axes
labels than <code>faxes</code> ones. Default: faxes_nm = faxes (labels will the
the same that <code>faxes</code> ones).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range_faxes</code></td>
<td>
<p>a vector with minimum and maximum for values for axes.
Note that to have a fair representation of position of species in all
plots, all axes must have the same range. Default: faxes_lim = c(NA, NA)
(the range is computed according to the range of values among all axes, all
axes having the same range).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_bg</code></td>
<td>
<p>a R color name  or an hexadecimal code used to fill plot
background. Default: <code>color_bg = "grey95"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_sp</code></td>
<td>
<p>a vector gathering numeric values referring to the symbol
used to draw species from the global pool and the plotted assemblage(s).
It should be written  as c(pool = "...", asb1 = "...", ...).
(0 = high transparency, 1 = no transparency).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_sp</code></td>
<td>
<p>a vector gathering numeric values referring to the size of
species belonging to the global pool and the plotted assemblage(s).
It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_sp</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the color of species from the global pool and studied
assemblage(s). It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_vert</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the color of vertices from the global pool and studied
assemblage(s). It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_sp</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the filled color of species from the global pool and studied
assemblage(s). It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_vert</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the filled color of vertices from the global pool and studied
assemblage(s). It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_ch</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the color of the convex pool of the global pool and studied
assemblage(s). It should be written  as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_ch</code></td>
<td>
<p>a vector gathering R color names or hexadecimal codes
referring to the color to fill the convex pool of the global pool and
studied assemblage(s).
It should be written as c(pool = "...", asb1 = "...", ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_ch</code></td>
<td>
<p>a vector gathering numeric values referring to the opacity
of convex hulls of the global pool and the plotted assemblage(s).
It should be written  as c(pool = "...", asb1 = "...", ...).
(0 = high transparency, 1 = no transparency).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_centroid_fdis</code></td>
<td>
<p>a vector gathering numeric value(s) used to draw
FDis centroid size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_centroid_fdiv</code></td>
<td>
<p>a vector gathering numeric value(s) used to draw
FDiv centroid size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape_centroid_fspe</code></td>
<td>
<p>a vector gathering numeric value used to draw
FSpe centroid (i.e. center of the functional space) size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_centroid_fspe</code></td>
<td>
<p>a vector gathering R color name or
hexadecimal code used to draw FSpe centroid (i.e. center of the
functional space) color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_sp_nm</code></td>
<td>
<p>a numeric value referring to the size of species names
if plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_sp_nm</code></td>
<td>
<p>a R color name or hexadecimal code referring to the
color of names of species if plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_sp_nm</code></td>
<td>
<p>a vector containing species names that are to be plotted.
Default: <code>plot_nm_sp = NULL</code> (no name plotted).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontface_sp_nm</code></td>
<td>
<p>a character string for font of species labels (e.g.
"italic", "bold"). Default: <code>fontface_sp_nm = 'plain'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_file</code></td>
<td>
<p>a logical value telling if plots should be locally
saved or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_input</code></td>
<td>
<p>a logical value indicating whether key features the
inputs are checked (e.g. class and/or mode of objects, names of rows
and/or columns, missing values). If an error is detected, a detailed
message is returned. Default: <code>check.input = TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If  <code>name_file</code> is <code>NULL</code>, it returns a list of one
<code>ggplot2</code> plots per functional index containing plots for combinations
of up to four axes, a <code>patchwork</code> figure gathering all combinations of
axes and a <code>ggplot2</code> figure showing the plot caption. If
<code>name_file</code> is not <code>NULL</code>, then those plots are saved locally.
</p>


<h3>Author(s)</h3>

<p>Camille Magneville and Sebastien Villeger
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Load Species*Traits dataframe:
data("fruits_traits", package = "mFD")

# Load Assemblages*Species dataframe:
data("baskets_fruits_weights", package = "mFD")

# Load Traits categories dataframe:
data("fruits_traits_cat", package = "mFD")

# Compute functional distance
sp_dist_fruits &lt;- mFD::funct.dist(sp_tr         = fruits_traits,
                                  tr_cat        = fruits_traits_cat,
                                  metric        = "gower",
                                  scale_euclid  = "scale_center",
                                  ordinal_var   = "classic",
                                  weight_type   = "equal",
                                  stop_if_NA    = TRUE)

# Compute functional spaces quality to retrieve species coordinates matrix:
fspaces_quality_fruits &lt;- mFD::quality.fspaces(sp_dist = sp_dist_fruits,
 maxdim_pcoa         = 10,
 deviation_weighting = "absolute",
 fdist_scaling       = FALSE,
 fdendro             = "average")

# Retrieve species coordinates matrix:
sp_faxes_coord_fruits &lt;- fspaces_quality_fruits$details_fspaces$sp_pc_coord

# Compute alpha diversity indices:
alpha_fd_indices_fruits &lt;- mFD::alpha.fd.multidim(
  sp_faxes_coord   = sp_faxes_coord_fruits[, c("PC1", "PC2", "PC3", "PC4")],
  asb_sp_w         = baskets_fruits_weights,
  ind_vect         = c("fdis", "fmpd", "fnnd", "feve", "fric", "fdiv",
                       "fori", "fspe"),
  scaling          = TRUE,
  check_input      = TRUE,
  details_returned = TRUE)

# Plot all fd alpha indices:
plots_alpha &lt;- mFD::alpha.multidim.plot(
output_alpha_fd_multidim = alpha_fd_indices_fruits,
plot_asb_nm              = c("basket_1", "basket_5"),
ind_nm                   = c("fdis", "fide", "fnnd", "feve", 
                             "fric", "fdiv", "fori", 
                             "fspe"),
faxes                    = NULL,
faxes_nm                 = NULL,
range_faxes              = c(NA, NA),
color_bg                 = "grey95",
shape_sp                 = c(pool = 3, asb1 = 21, 
                             asb2 = 21),
size_sp                  = c(pool = 0.7, asb1 = 1, 
                             asb2 = 1),
color_sp                 = c(pool = "grey50", 
                             asb1 = "#1F968BFF",
                             asb2 = "#DCE319FF"),
color_vert               = c(pool = "grey50", 
                             asb1 = "#1F968BFF",
                             asb2 = "#DCE319FF"),
fill_sp                 = c(pool =  NA, 
                            asb1 = "#1F968BFF",
                            asb2 = "#DCE319FF"),
fill_vert               = c(pool = NA, 
                            asb1 = "#1F968BFF",
                            asb2 = "#DCE319FF"),
color_ch                = c(pool = NA, 
                            asb1 = "#1F968BFF",
                            asb2 = "#DCE319FF"),
fill_ch                 = c(pool = "white", 
                            asb1 = "#1F968BFF",
                            asb2 = "#DCE319FF"),
alpha_ch                = c(pool = 1, asb1 = 0.3, 
                            asb2 = 0.3),
shape_centroid_fdis     = c(asb1 = 22,  asb2 = 24),
shape_centroid_fdiv     = c(asb1 = 22,  asb2 = 24),
shape_centroid_fspe     = 23,
color_centroid_fspe     = "black",
size_sp_nm              = 3, 
color_sp_nm             = "black",
plot_sp_nm              = NULL,
fontface_sp_nm          = "plain",
save_file               = FALSE,
check_input             = TRUE) 

# Check FRic plot:
plots_alpha$fric$patchwork

</code></pre>


</div>