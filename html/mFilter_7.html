<div class="container">

<table style="width: 100%;"><tr>
<td>mFilter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Decomposition of a time series into trend and cyclical components
using various filters
</h2>

<h3>Description</h3>

<p><code>mFilter</code> is a generic function for filtering
time series data.  The function invokes particular
<em>filters</em> which depend on filter type specified via its argument
<code>filter</code>. The filters implemented in the package <code>mFilter</code>
package are useful for smoothing, and estimating tend and cyclical components.
Some of these filters are commonly used in economics and
finance for estimating cyclical component of time series.
</p>
<p>The <code>mFilter</code> currently applies only to time series
objects. However a default method is available and should work for any
<code>numeric</code> or <code>vector</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  mFilter(x, ...)
  ## Default S3 method:
mFilter(x, ...)
  ## S3 method for class 'ts'
mFilter(x, filter=c("HP","BK","CF","BW","TR"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a regular a time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>filter type, the filter types are <code>"HP"</code>
(Hodrick-Prescott), <code>"BK"</code> (Baxter-King), <code>"CF"</code>
(Christiano-Fitzgerald), <code>"BW"</code> (Butterworth), and <code>"TR"</code>
(trigonometric regression).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to the relevant filter
functions. These are passed to <code>hpfilter</code>,  <code>bkfilter</code>,
<code>cffilter</code>, <code>bwfilter</code>, and <code>trfilter</code>, respectively for
the <code>"HP"</code>, <code>"BK"</code>, <code>"CF"</code>, <code>"BW"</code>, and <code>"TR"</code> filters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default behaviour is to apply the default filter to
<code>ts</code> objects.
</p>


<h3>Value</h3>

<p>An object of class "<code>mFilter</code>".
</p>
<p>The function <code>summary</code> is used to obtain and print a summary of the
results, while the function <code>plot</code> produces a plot of the original
series, the trend, and the cyclical components. The function <code>print</code> is also available
for displaying estimation results.
</p>
<p>The generic accessor functions <code>fitted</code> and <code>residuals</code>
extract estimated trend and cyclical componets of an "<code>mFilter</code>"
object, respectively.
</p>
<p>An object of class "<code>mFilter</code>" is a list containing at least the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cycle</code></td>
<td>
<p>Estimated cyclical (irregular) component of the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend</code></td>
<td>
<p>Estimated trend (smooth) component of the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fmatrix</code></td>
<td>
<p>The filter matrix applied to original series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method, if available, for the filter type applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The filter type applied to the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>Call to the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The title for displaying results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xname</code></td>
<td>
<p>Name of the series passed to <code>mFilter</code> for filtering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The original or drift adjusted, if <code>drift=TRUE</code>, time series passed to the <code>mFilter</code>.</p>
</td>
</tr>
</table>
<p>Following additional elements may exists depending on the type of filter
applied:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nfix</code></td>
<td>
<p>Length or order of the fixed length filters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pl</code></td>
<td>
<p>Minimum period of oscillation of desired component (2&lt;=pl).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pu</code></td>
<td>
<p>Maximum period of oscillation of desired component (2&lt;=pl&lt;pu&lt;infinity).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Lambda (smoothness) parameter of the HP filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>Whether time series has a unit root, TRUE or FALSE (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift</code></td>
<td>
<p>Whether time series has drift, TRUE or FALSE (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>MA coefficients for time series model, used in <code>"CF"</code> filter.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mehmet Balcilar, <a href="mailto:mehmet@mbalcilar.net">mehmet@mbalcilar.net</a>
</p>


<h3>See Also</h3>

<p>Other functions which return objects of class <code>"mFilter"</code> are
<code>bkfilter</code>,
<code>bwfilter</code>,
<code>cffilter</code>,
<code>bkfilter</code>,
<code>trfilter</code>.
Following functions apply the relevant methods to an object of the
<code>"mFilter"</code> class:
<code>print.mFilter</code>,
<code>summary.mFilter</code>,
<code>plot.mFilter</code>,
<code>fitted.mFilter</code>,
<code>residuals.mFilter</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## library(mFilter)

data(unemp)

opar &lt;- par(no.readonly=TRUE)

unemp.hp &lt;- mFilter(unemp,filter="HP")  # Hodrick-Prescott filter
print(unemp.hp)
summary(unemp.hp)
residuals(unemp.hp)
fitted(unemp.hp)
plot(unemp.hp)

unemp.bk &lt;- mFilter(unemp,filter="BK")  # Baxter-King filter
unemp.cf &lt;- mFilter(unemp,filter="CF")  # Christiano-Fitzgerald filter
unemp.bw &lt;- mFilter(unemp,filter="BW")  # Butterworth filter
unemp.tr &lt;- mFilter(unemp,filter="TR")  # Trigonometric regression filter

par(mfrow=c(2,1),mar=c(3,3,2,1),cex=.8)
plot(unemp,main="Unemployment Series &amp; Estimated Trend", col=1, ylab="")
lines(unemp.hp$trend,col=2)
lines(unemp.bk$trend,col=3)
lines(unemp.cf$trend,col=4)
lines(unemp.bw$trend,col=5)
lines(unemp.tr$trend,col=6)

legend("topleft",legend=c("series", "HP","BK","CF","BW","TR"),
    col=1:6,lty=rep(1,6),ncol=2)

plot(unemp.hp$cycle,main="Estimated Cyclical Component",
     ylim=c(-2,2.5),col=2,ylab="")
lines(unemp.bk$cycle,col=3)
lines(unemp.cf$cycle,col=4)
lines(unemp.bw$cycle,col=5)
lines(unemp.tr$cycle,col=6)
## legend("topleft",legend=c("HP","BK","CF","BW","TR"),
## col=2:6,lty=rep(1,5),ncol=2)

unemp.cf1 &lt;- mFilter(unemp,filter="CF", drift=TRUE, root=TRUE)
unemp.cf2 &lt;- mFilter(unemp,filter="CF", pl=8,pu=40,drift=TRUE, root=TRUE)
unemp.cf3 &lt;- mFilter(unemp,filter="CF", pl=2,pu=60,drift=TRUE, root=TRUE)
unemp.cf4 &lt;- mFilter(unemp,filter="CF", pl=2,pu=40,drift=TRUE,
             root=TRUE,theta=c(.1,.4))

plot(unemp,
main="Christiano-Fitzgerald filter of unemployment: Trend \n root=TRUE,drift=TRUE",
      col=1, ylab="")
lines(unemp.cf1$trend,col=2)
lines(unemp.cf2$trend,col=3)
lines(unemp.cf3$trend,col=4)
lines(unemp.cf4$trend,col=5)
legend("topleft",legend=c("series", "pl=2, pu=32", "pl=8, pu=40",
"pl=2, pu=60", "pl=2, pu=40, theta=.1,.4"), col=1:5, lty=rep(1,5), ncol=1)

plot(unemp.cf1$cycle,
main="Christiano-Fitzgerald filter of unemployment: Cycle \n root=TRUE,drift=TRUE",
     col=2, ylab="", ylim=range(unemp.cf3$cycle))
lines(unemp.cf2$cycle,col=3)
lines(unemp.cf3$cycle,col=4)
lines(unemp.cf4$cycle,col=5)
## legend("topleft",legend=c("pl=2, pu=32", "pl=8, pu=40", "pl=2, pu=60",
## "pl=2, pu=40, theta=.1,.4"), col=2:5, lty=rep(1,4), ncol=2)

par(opar)
</code></pre>


</div>