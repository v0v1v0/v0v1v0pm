<div class="container">

<table style="width: 100%;"><tr>
<td>mpa</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Number of Assays Needed using Mini-Pooling with Algorithm (MPA)</h2>

<h3>Description</h3>

<p>Function <code>mpa(...)</code> calculates the number of assays required, when using MPA, for
pools that are formed following the order of individual samples in the data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mpa(v, K = 5, vf_cut = 1000, lod = 0, msg = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>A vector of non-negative numerical assay results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Pool size; default is <code>K = 5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vf_cut</code></td>
<td>
<p>Cutoff value for defining positive cases;
default is <code>vf_cut = 1000</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lod</code></td>
<td>
<p>A vector of lower limits of detection or a scalar if the limits are the
same; default is <code>lod = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msg</code></td>
<td>
<p>Message generated during calculation; default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a given sample v_i, i = 1, ..., N, the first <code>K</code> samples v_1,
..., v_5 are combined to form a pool, the next <code>K</code> samples v_6, ...,
v_10 are combined to form the second
pool, and so on. If the number of samples for the last pool is less than
<code>K</code>, these remaining samples are not used to form a pool (i.e.
not included in the calculation) . Therefore, a total of
<code>N%/%K</code> pools are formed. The function calculates the number of
assays needed for each of these pools. See May et al (2010).
</p>


<h3>Value</h3>

<p>A vectorof length <code>N%/%K</code> for the numbers of assays needed for all pools
that are formed.
</p>


<h3>References</h3>

<p>May, S., Gamst, A., Haubrich, R., Benson, C., &amp; Smith,
D. M. (2010). Pooled nucleic acid testing to identify antiretroviral
treatment failure during HIV infection. Journal of acquired immune
deficiency syndromes (1999), 53(2), 194.
</p>
<p>Liu T, Hogan JW, Daniels, MJ, Coetzer M, Xu Y, Bove G, et al. Improved HIV-1 Viral Load
Monitoring Capacity Using Pooled Testing with Marker-Assisted Deconvolution. Journal of
AIDS. 2017;75(5): 580-587.
</p>


<h3>See Also</h3>

<p>minipool, mmpa, pooling_mc
</p>


<h3>Examples</h3>

<pre><code class="language-R">K=5; n = 50;
n.pool  = n/K; n.pool
#   [1] 10
set.seed(100)
pvl = rgamma(n, shape = 2.8, scale = 150)
mpa(v = pvl)
#  A total of 10 pools are formed.
#   The numbers of assays required by these pools are:
#   [1] 3 3 4 4 2 5 4 4 4 4

</code></pre>


</div>