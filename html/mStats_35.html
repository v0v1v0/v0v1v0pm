<div class="container">

<table style="width: 100%;"><tr>
<td>strate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate Incidence Rates from time-to-event data</h2>

<h3>Description</h3>

<p><code>strate()</code> calculates incidence rates and Corresponding 95\
</p>


<h3>Usage</h3>

<pre><code class="language-R">strate(data, time, var, ..., fail = NULL, per = 1, digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>person-time variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>outcome variable: preferably 1 for event, 0 for censored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>variables for stratified analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fail</code></td>
<td>
<p>a value or values to specify failure event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per</code></td>
<td>
<p>units to be used in reported rates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Rounding of numbers</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Rates of event occurrences, known as incidence rates are outcome measures in
longitudinal studies. In most longitudinal studies, follow-up times vary due
to logistic reasons, different periods of recruitment, delay enrollment into
the study, lost-to-follow-up, immigration or emigration and death.
</p>
<p><strong>Follow-up time in longitudinal studies</strong>
</p>
<p>Period of observation (called as follow-up time) starts when individuals join
the study and ends when they either have an outcome of interest, are lost-to-
follow-up or the follow-up period ends, whichever happens first. This period is
called <strong>person-year-at-risk</strong>. This is denoted by <em>PY</em> in <code>strate</code>
function's output and number of event by <em>D</em>.
</p>
<p><strong>Rate</strong>
</p>
<p>is calculated using the following formula:
</p>
<p style="text-align: center;"><code class="reqn">\lambda = D / PY</code>
</p>

<p><strong>Confidence interval of rate</strong>
</p>
<p>is derived using the following formula:
</p>
<p style="text-align: center;"><code class="reqn">95\% CI (rate) = rate x Error Factor</code>
</p>

<p style="text-align: center;"><code class="reqn">Error Factor (rate) = exp(1.96 / \sqrt{D})</code>
</p>

<p><code>plot</code>, if <code>TRUE</code>, produces a graph of the rates against
the numerical code used for categories of <code>by</code>.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>References</h3>

<p>Betty R. Kirkwood, Jonathan A.C. Sterne (2006, ISBN:978–0–86542–871–3)
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 

## Using the diet data (Clayton and Hills 1993) described in STATA manual
import diet data: require haven package to read dta format.
magrittr package for piping operation
diet &lt;- haven::read_dta("https://www.stata-press.com/data/r16/diet.dta")

diet &lt;- generate(diet, time, (dox - doe) / 365.25)
diet &lt;- replace(diet, time, as.numeric(time))
diet &lt;- generate(diet, age, as.numeric(doe - dob) / 365.25)
diet &lt;- egen(diet, age, c(41, 51, 61, 71), new_var = ageband)
diet &lt;- egen(diet, month, c(3, 6, 8), new_var = monthgrp)

## calculate overall rates and 95% Confidence intervals
strate(diet, time, fail, fail = c(1, 3, 13))

## per 100 unit
strate(diet, time, fail, fail = c(1, 3, 13), per = 100)

## calculate Stratified rates and 95% Confidence Intervals
strate(diet, time, fail, job, fail = c(1, 3, 13))
strate(diet, time, fail, job, ageband, monthgrp, fail = c(1, 3, 13))

## per 100 unit
strate(diet, time, fail, job, ageband, monthgrp, fail = c(1, 3, 13), per = 100)

## End(Not run)

</code></pre>


</div>