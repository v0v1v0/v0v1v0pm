<div class="container">

<table style="width: 100%;"><tr>
<td>expandtbl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expand <code>2x2 table</code> into <code>data.frame</code>
</h2>

<h3>Description</h3>

<p><code>expandtbl()</code> generates a data.frame based on vectors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expandtbl(
  ...,
  exp_name = "exp",
  exp_lvl = c("exposed", "unexposed"),
  case_name = "case",
  case_lvl = c("case", "control"),
  strata_name = "strata"
)

expandfreq(data, freq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>vectors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp_name</code></td>
<td>
<p>Name of <code>exp</code> Variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exp_lvl</code></td>
<td>
<p>Names of two categories in the order of
Exposed and non-exposed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_name</code></td>
<td>
<p>Name of <code>Case</code> variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_lvl</code></td>
<td>
<p>names of two categories in the order of</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata_name</code></td>
<td>
<p>Name of stratified variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>frequency table in data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>name of variable for the weighted frequency</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>expandtbl</strong>
</p>
<p>uses the vectors of <code>2x2</code> tables and
generates a data frame of at least two columns:
exp and case.
</p>
<pre>expandtbl(c(100, 200, 100, 200))</pre>
<p><code>Strata</code>
</p>
<p>Multiple tables can be used to construct a dataset by specifying
<code>strata_name</code> as follow. Strata can be included
using multiple named vectors.
</p>
<pre>
expandtbl(
             strata1 = c(100, 200, 100, 200),
             strata2 = c(100, 200, 100, 200),
             strata3 = c(100, 200, 100, 200),
             exp_name = "exp",
             exp_lvl = c("exposed", "unexposed"),
             case_name = "case",
             case_lvl = c("case", "control"),
             strata_name = "Strata"
)
</pre>
<p><code>Labels for variables</code>
</p>
<p>If names or levels of variables are not specified, the followings are
applied.
</p>

<ol>
<li>
<p> exp Name: <code>exp</code>
</p>
</li>
<li>
<p> exp levels: <code>exposed</code> and <code>unexposed</code>
</p>
</li>
<li>
<p> case Name: <code>case</code>
</p>
</li>
<li>
<p> case levels: <code>case</code> and <code>control</code>
</p>
</li>
<li>
<p> Strata Name: <code>strata</code>
</p>
</li>
<li>
<p> Note: Strata levels are not considered as vectors must
be named.
</p>
</li>
</ol>
<p><strong>expandfreq()</strong> uses the weighted frequencies in
data.frame format and construct another data.frame
based on the frequency weight.
The name of the frequency weighted variable can be
specified by <code>freq</code> argument.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Functions</h3>


<ul><li> <p><code>expandfreq</code>: <code>expandfreq()</code> expands a frequency-weighted table
into a data.frame.
</p>
</li></ul>
<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

## Asthma Example from Essential Medical Statistics
## page 160
asthma &lt;- expandtbl(c(81, 995, 57, 867),
              exp_name = "sex",
              exp_lvl = c("woman", "man"),
              case_name = "asthma",
              case_lvl = c("yes", "no"))

## Not run: 
## label variable and dataset
asthma &lt;- label(asthma, "Hypothetical Data of Asthma Prevalence")
asthma &lt;- label(asthma, sex = "Man or Woman",
                           asthma = "Asthma or No Asthma")

## Checking codebook
codebook(asthma)


## simple tabulation
tab(asthma)

## cross-tabulation
tab(asthma, sex, by = asthma)

## End(Not run)


## Example for expanding frequency weighted data

## Example from UCLA website
## you can download the dataset here:
## https://stats.idre.ucla.edu/stat/stata/examples/icda/afterlife.dta

x &lt;- data.frame(gender = c(1, 1, 0, 0),
                 aftlife = c(1, 0, 1, 0),
                 freq = c(435, 147, 375, 134))
y &lt;- expandfreq(x, freq)

## check the numbers by tabulation
## tab(y, gender, by = aftlife)

</code></pre>


</div>