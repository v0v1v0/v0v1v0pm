<div class="container">

<table style="width: 100%;"><tr>
<td>etl_extract.etl_macleish</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract weather data</h2>

<h3>Description</h3>

<p>Retrieve data from the Macleish Field Station weather monitors
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'etl_macleish'
etl_extract(obj, ...)

## S3 method for class 'etl_macleish'
etl_transform(obj, ...)

etl_transform_help(obj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>an <code>etl</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to methods</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
macleish &lt;- etl("macleish")
str(macleish)

## Not run: 
macleish %&gt;%
  etl_extract() %&gt;%
  etl_transform() %&gt;%
  etl_load()
whately &lt;- macleish %&gt;%
  tbl("whately") 
orchard &lt;- macleish %&gt;%
  tbl("orchard") 
  
whately %&gt;%
  summarize(N = n(), avg_temp = mean(temperature))
orchard %&gt;%
  summarize(N = n(), avg_temp = mean(temperature))
  
# check data types
whately %&gt;%
  glimpse()

# if using SQLite, datetimes will get converted to integers
whately &lt;- whately %&gt;%
  mutate(when_datetime = datetime(when, 'unixepoch'))
whately %&gt;%
  glimpse()

# show the most recent data -- should be within the past hour
whately %&gt;%
  collect() %&gt;%
  tail()

# show that no time-shifting is happening
if (require(ggplot2)) {
macleish %&gt;%
  tbl("whately") %&gt;%
  collect() %&gt;%
  mutate(when = lubridate::ymd_hms(when)) %&gt;%
  filter(lubridate::year(when) == 2012 &amp; month(when) == 12 &amp; day(when) == 20) %&gt;%
  ggplot(aes(x = when, y = temperature)) + geom_line()
}

## End(Not run)
</code></pre>


</div>