<div class="container">

<table style="width: 100%;"><tr>
<td>maczic_power</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power Calculation for Mediation Analysis with Count and Zero-Inflated
Count Data</h2>

<h3>Description</h3>

<p>'maczic_power' computes powers to detect average causal mediation effects
(indirect effect), average direct effects, and total effect. This function
uses simulations of 3 optional covariates (binary, normal, and
multinomial), mediator (can be binary or continuous), and outcome (can be
Normal, Poisson, Negative Binomial, zero-inflated Poisson/Negative Binomial)
based on user-specified parameter values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">maczic_power(
  nsim,
  nsp,
  mtype,
  boot = FALSE,
  sims = 1000,
  conf.level = 0.95,
  ydist,
  size = 1,
  ymax,
  lpct0 = 0,
  hpct0 = 100,
  px1,
  am,
  bm,
  e1m,
  e2m,
  e3m,
  ag,
  bg,
  gg,
  e1g,
  e2g,
  e3g,
  delta = 0,
  ag2 = 0,
  bg2 = 0,
  gg2 = 0,
  e1g2 = 0,
  e2g2 = 0,
  e3g2 = 0,
  delta2 = 0,
  digits = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Number of simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsp</code></td>
<td>
<p>Sample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtype</code></td>
<td>
<p>Type of mediator, either 'binary' or 'continuous'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot</code></td>
<td>
<p>A logical value. if 'FALSE' a quasi-Bayesian approximation is
used for confidence intervals; if 'TRUE' nonparametric bootstrap will be
used. Default is 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sims</code></td>
<td>
<p>Number of Monte Carlo draws for nonparametric bootstrap or
quasi-Bayesian approximation. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of the returned two-sided confidence intervals.
The default value, 0.95, is to return the 2.5 and 97.5 percentiles of the
simulated quantities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ydist</code></td>
<td>
<p>Outcome distribution. Can be 'poisson', 'negbin', 'zip', 'zinb',
or 'normal'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Dispersion parameter for negative binomial outcome distribution.
Default is 1. It's ignored for other outcome distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ymax</code></td>
<td>
<p>Maximum value of outcome allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lpct0</code></td>
<td>
<p>Low bound for percent of zeros in outcome. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hpct0</code></td>
<td>
<p>High bound for percent of zeros in outcome. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>px1</code></td>
<td>
<p>Probability of the binary covariate being 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>am</code></td>
<td>
<p>User-specified value for the intercept in the mediator model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bm</code></td>
<td>
<p>User-specified value for the treatment coefficient in the mediator
model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e1m</code></td>
<td>
<p>User-specified value for the coefficient of the binary covariate
variable in the mediator model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e2m</code></td>
<td>
<p>User-specified value for the coefficient of the continuous
covariate variable in the mediator model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e3m</code></td>
<td>
<p>User-specified value for the coefficient of the multinomial
covariate variable in the mediator model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ag</code></td>
<td>
<p>User-specified value for the intercept in the outcome model or in
the count model of zero-inflated Poisson/Negative Binomial outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>User-specified value for the treatment coefficient in the outcome
model or in the count model of zero-inflated Poisson/Negative Binomial
outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gg</code></td>
<td>
<p>User-specified value for the mediator coefficient in the outcome
model or in the count model of zero-inflated Poisson/Negative Binomial
outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e1g</code></td>
<td>
<p>User-specified value for the coefficient of the binary covariate
variable in the outcome model or in the count model of zero-inflated
Poisson/Negative Binomial outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e2g</code></td>
<td>
<p>User-specified value for the coefficient of the continuous
covariate variable in the outcome model or in the count model of
zero-inflated Poisson/Negative Binomial outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e3g</code></td>
<td>
<p>User-specified value for the coefficient of the multinomial
covariate variable in the outcome model or in the count model of
zero-inflated Poisson/Negative Binomial outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>User-specified value for the treatment-by-mediator interaction
coefficient in the outcome model or in the count model of zero-inflated
Poisson/Negative Binomial outcome model. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ag2</code></td>
<td>
<p>User-specified value for the intercept in the zero-inflation
model of zero-inflated Poisson/Negative Binomial outcome. Note that this
argument along with the following argument bg2, gg2, e1g2, e2g2, e3g2 and
delta2 only apply to zero-inflated Poisson/Negative Binomial outcome.
Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg2</code></td>
<td>
<p>User-specified value for the treatment coefficient in the
zero-inflation model of zero-inflated Poisson/Negative Binomial outcome.
Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gg2</code></td>
<td>
<p>User-specified value for the mediator coefficient in the
zero-inflation model of zero-inflated Poisson/Negative Binomial outcome.
Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e1g2</code></td>
<td>
<p>User-specified value for the coefficient of the binary covariate
variable in the zero-inflation model of zero-inflated Poisson/Negative
Binomial outcome. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e2g2</code></td>
<td>
<p>User-specified value for the coefficient of the continuous
covariate variable in the zero-inflation model of zero-inflated
Poisson/Negative Binomial outcome. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e3g2</code></td>
<td>
<p>User-specified value for the coefficient of the multinomial
covariate variable in the zero-inflation model of zero-inflated
Poisson/Negative Binomial outcome. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta2</code></td>
<td>
<p>User-specified value for the coefficient of
treatment-by-mediator interaction in the zero-inflation model of
zero-inflated Poisson/Negative Binomial outcome. Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Integer indicating the number of decimal places to round
the values to be returned. Default is 3.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>maczic_power</code> returns a data frame with the following
components and prints them out in a matrix format:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>te.d0, te.d1</code></td>
<td>
<p>average true mediation effects under the control and
treatment conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>te.z0, te.z1</code></td>
<td>
<p>average true direct effects under the control and
treatment conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>te.tau</code></td>
<td>
<p>average true total effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ee.d0.rej, ee.d1.rej</code></td>
<td>
<p>power to detect mediation effects under the
control and treatment conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ee.z0.rej, ee.z1.rej</code></td>
<td>
<p>power to detect direct effects under the
control and treatment conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ee.tau.rej</code></td>
<td>
<p>power to detect total effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.y.z0</code></td>
<td>
<p>mean outcome in control in the simulated data, not
available if outcome is normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.y.z1</code></td>
<td>
<p>mean outcome in treatment in the simulated data, not
available if outcome is normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.y.gt0.z0</code></td>
<td>
<p>mean non-zero outcome in control in the simulated
data, not available if outcome is normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.y.gt0.z1</code></td>
<td>
<p>mean non-zero outcome in treatment in the simulated
data, not available if outcome is normal</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct0.y.z0</code></td>
<td>
<p>mean percent zero outcome in control in the simulated
data, not available if outcome is normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pct0.y.z1</code></td>
<td>
<p>mean percent zero outcome in treatment in the simulated
data, not available if outcome is normal.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Nancy Cheng,
<a href="mailto:Nancy.Cheng@ucsf.edu">Nancy.Cheng@ucsf.edu</a>; Jing Cheng,
<a href="mailto:Jing.Cheng@ucsf.edu">Jing.Cheng@ucsf.edu</a>.
</p>


<h3>References</h3>

<p>Cheng, J., Cheng, N.F., Guo, Z., Gregorich, S., Ismail, A.I.,
Gansky, S.A (2018) Mediation analysis for count and zero-inflated count
data. Statistical Methods in Medical Research. 27(9):2756-2774.
</p>
<p>Tingley, D., Yamamoto, T., Hirose, K., Imai, K. and Keele, L.
(2014). "mediation: R package for Causal Mediation Analysis", Journal of
Statistical Software, Vol. 59, No. 5, pp. 1-38.
</p>
<p>Imai, K., Keele, L., Tingley, D. and Yamamoto, T. (2011). Unpacking the
Black Box of Causality: Learning about Causal Mechanisms from Experimental
and Observational Studies, American Political Science Review, Vol. 105, No.
4 (November), pp. 765-789.
</p>
<p>Imai, K., Keele, L. and Tingley, D. (2010) A General Approach to Causal
Mediation Analysis, Psychological Methods, Vol. 15, No. 4 (December), pp.
309-334.
</p>
<p>Imai, K., Keele, L. and Yamamoto, T. (2010) Identification, Inference, and
Sensitivity Analysis for Causal Mediation Effects, Statistical Science,
Vol. 25, No. 1 (February), pp. 51-71.
</p>
<p>Imai, K., Keele, L., Tingley, D. and Yamamoto, T. (2009) "Causal Mediation
Analysis Using R" in Advances in Social Science Research Using R, ed. H. D.
Vinod New York: Springer.
</p>


<h3>See Also</h3>

<p><code>mediate_zi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For illustration purposes a small number of simulations are used
# Example 1: simulate Poisson outcome with sample size 100, binary mediator
# and 2 covariate (binary and normal) variables
posOut &lt;- maczic_power(nsim = 8, nsp = 100,  mtype = 'binary',
                       sims = 40, ydist = "Poisson", ymax = 60,
                       px1 = 0.5, am = 0.2, bm = 0.5,
                       e1m = 0.1, e2m = 0.1, e3m = 0,
                       ag = 0.1, bg = 0.3, gg = 1,
                       e1g = 0.5, e2g = -0.2, e3g = 0, delta = 0.1)

# Example 2: simulate zero-inflated Poisson outcome with sample size 80,
# continuous mediator and 1 normal covariate variable
zipOut &lt;-maczic_power(nsim = 5, nsp = 80, mtype = 'continuous',
                       sims=30, ydist = "zip", ymax = 88, hpct0 = 60,
                       px1 = 0.5, am = 0.1, bm = 1,
                       e1m = 0, e2m = 0.2, e3m = 0,
                       ag = 0.6, bg = 0.6, gg = 0.2, e1g = 0, e2g = -0.2,
                       e3g = 0, ag2 = -0.7, bg2 = 0.2, gg2 = 0.1,
                       e2g2 = 0.1, delta2 = 0.15)

</code></pre>


</div>