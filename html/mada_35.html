<div class="container">

<table style="width: 100%;"><tr>
<td>predv_d</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Estimation of Distributions of Predictive Values Based on Prevalence Probability Distributions and Pooled Sensitivities and Specificities
</h2>

<h3>Description</h3>

<p>Estimation of projected summary predictive values based on a prevalence probability distribution and pooled (meta-analytical) sensitivities and specificities. Probability distributions for negative and positive predictive values are obtained.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predv_d(x,prop_m,prop_sd,zb=TRUE,n_iter=100000,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>dataset containing data from the primary studies. It must correspond to any object that can be converted to a data frame with integer variables <code>TP</code>, <code>FN</code>, <code>FP</code> and <code>TN</code>, alternatively a matrix with column names including <code>TP</code>, <code>FN</code>, <code>FP</code> and <code>TN</code>. These respectively concern the numbers of true positives, true negatives, false positives, and false negatives for each primary study)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_m</code></td>
<td>
<p>mean value of the prevalence probability distribution. It must be stated as a proportion (i.e., as a numeric value between 0 and 1). If both prop_m and prop_sd are not defined, a probability distribution for the prevalence based on available primary studies' data will be computed (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop_sd</code></td>
<td>
<p>standard-deviation of the prevalence probability distribution. It must be stated as a value between 0 and 1.  If both prop_m and prop_sd are not defined, a probability distribution for the prevalence based on available primary studies' data will be computed (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zb</code></td>
<td>
<p>logical. If TRUE (default), the Zwindermann &amp; Bossuyt approach will be used to generate samples for observed sensitivities and false positive rate (as in SummaryPts function). If FALSE, beta distributions will be obtained based on 95 percent confidence interval bounds of pooled sensitivities and specificities (while this latter approach may not take fully into account the correlation between sensitivity and false positive rate, it may lead to faster results).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iter</code></td>
<td>
<p>number of simulations being performed. Default value is 100,000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed on to <code>predv_d</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The predv_d function projects summary predictive values distributions from (i) a prevalence probability distribution, and (ii) pooled sensitivities and specificities obtained in the context of diagnostic test accuracy meta-analysis using a bivariate random-effects model.
The bivariate random-effects model is equivalent to the hierarchical summary receiver operating characteristic model. By default, a sampling-based approach is used to generate samples for observed sensitivities and false positive rates. From these samples, and based on the prevalences probability distribution being considered, distributions of predictive values will be obtained based on the application of the Bayes theorem.
The prevalence probability distribution can be obtained by providing a value for the mean (argument prop_m) and a value for the standard-deviation (argument prop_sd).
If both prop_m and prop_sd are missing/not defined, a probability distribution for the prevalence based on available primary studies' data will be computed. That is, random-effects meta-analysis of log-transformed prevalences will be performed (using metafor) using data from included primary studies; the pooled results will then be used to obtain the probability distribution for prevalences. This may be a suboptimal option (as there may be considerable heterogeneity, diagnostic accuracy primary studies may not be the best ones to estimate the prevalence of a disease/condition...) compared to user-defined arguments, particularly if good prevalence studies exist.
</p>
<p><b>Guided example</b>
</p>
<p>The dataset skin_tests contains results from a set of primary studies assessing the accuracy of skin tests for diagnosing penicillin allergy (they are part of the data analysed by Sousa-Pinto et al [2021]).
This dataset contains four columns, displaying - for each primary study - the number of true positives (TP), true negatives (TN), false positives (FP) and false negatives (FN).
Let us now assume that the prevalence of penicillin allergy can be modeled by a probability distribution, having a mean of 0.05 (5 percent) and a standard-deviation of 0.015. Distributions of negative and positive predictive values can be estimated by:
</p>
<p><code>predv_d(x=skin_tests,prop_m=0.05,prop_sd=0.015,zb=TRUE)</code>
</p>
<p>For negative predictive values, we obtain a probability distribution defined by a mean value of 0.96 and a standard-deviation of 0.01 (95 percent credible interval=0.93-0.98).
For positive predictive values, we obtain a probability distribution defined by a mean value of 0.31 and a standard-deviation of 0.12 (95 percent credible interval=0.11-0.57).
Values may differ slightly from the ones just described, as we are dealing with simulation results.
</p>
<p>If we had no information on how the prevalence of penicillin allergy could be modeled by a probability distribution, we would opt for solely relying on data provided by included primary studies:
</p>
<p><code>predv_d(x=skin_tests)</code>
</p>
<p>In that case, in addition to the results, we would get an warning message stating that considerable heterogeneity was found when doing meta-analysis of prevalences. Results should be carefully interpreted.
</p>


<h3>Value</h3>

<p>An object of class <code>predv_d</code>, for which some standard methods are available, see <code>predv_d-class</code>. Some of the obtainable components include:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>SummaryData</code></td>
<td>
<p>A dataframe displaying the mean, standard-deviation (SD) and percentiles (p) for the probability distribution of the summary negative predictive values ("NPV" row) and positive predictive values ("PPV" row).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results_pred</code></td>
<td>
<p>A dataframe displaying the results for all samples.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Bernardo Sousa-Pinto &lt;bernardo@med.up.pt&gt;
</p>


<h3>References</h3>

<p>Reitsma, J., Glas, A., Rutjes, A., Scholten, R., Bossuyt, P., &amp; Zwinderman, A. (2005).
“Bivariate analysis of sensitivity and specificity produces informative summary
measures in diagnostic reviews.” <em>Journal of Clinical Epidemiology</em>, <b>58</b>, 982–990.
</p>
<p>Zwinderman, A., &amp; Bossuyt, P. (2008). “We should not pool diagnostic likelihood ratios in  systematic reviews.” <em>Statistics in Medicine</em>, <b>27</b>, 687–697.
</p>
<p>Sousa-Pinto, B., Tarrio, I., Blumenthal, K.G., Azevedo, L.F., Delgado, L., &amp; Fonseca, J.A. (2021). “Accuracy of penicillin allergy diagnostic tests: A systematic review and meta-analysis.” <em>Journal of Allergy and Clinical Immunology</em>, <b>147</b>, 296–308.
</p>
<p>Joseph L, Belisle P. (2017). “Computing Beta distribution parameters.” [Internet] Accessible at: https://www.medicine.mcgill.ca/epidemiology/Joseph/PBelisle/BetaParmsFromQuantiles.html
</p>


<h3>See Also</h3>

<p><code>reitsma</code>,
<code>SummaryPts</code>,
<code>predv_r</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(skin_tests)
pred_skin_tests &lt;- predv_d(x=skin_tests,prop_m=0.05,prop_sd=0.015,zb=TRUE)
pred_skin_tests
</code></pre>


</div>