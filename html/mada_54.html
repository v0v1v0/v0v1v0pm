<div class="container">

<table style="width: 100%;"><tr>
<td>rsSROC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot the Ruecker-Schumacher (2010) SROC curve
</h2>

<h3>Description</h3>

<p>Assuming that a weighted Youden index is maximized in all primary studies, the Ruecker-Schumacher approach estimates individual ROC curves and then averages them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rsSROC(data = NULL, subset=NULL,
  TP="TP", FN="FN", FP="FP", TN="TN", 
  lambda = "from_bivariate",                  
  fpr = NULL, extrapolate = FALSE, plotstudies = FALSE,
  correction = 0.5, correction.control = "all",
  add = FALSE, lty = 1, lwd = 1, col = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>any object that can be converted to a data frame with integer variables for observed frequencies of true positives, false negatives, false positives and true negatives. The names of the variables  are provided by the arguments <code>TP</code>, <code>FN</code>, <code>FP</code> and <code>TN</code> (see their defaults). Alternatively the data can be a matrix with column names including <code>TP</code>, <code>FN</code>, <code>FP</code> and <code>TN</code>. If no <code>data</code> is specified, the function will check the <code>TP</code>, <code>FN</code>, <code>FP</code> and <code>TN</code> arguments.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TP</code></td>
<td>
<p>character or integer: name for vector of integers that is a variable of <code>data</code> or a vector of integers. If <code>data</code> is not <code>NULL</code>, names are expected, otherwise integers are.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FN</code></td>
<td>
<p>character or integer: name for vector of integers that is a variable of <code>data</code> or a vector of integers. If <code>data</code> is not <code>NULL</code>, names are expected, otherwise integers are.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FP</code></td>
<td>
<p>character or integer: name for vector of integers that is a variable of <code>data</code> or a vector of integers. If <code>data</code> is not <code>NULL</code>, names are expected, otherwise integers are.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TN</code></td>
<td>
<p>character or integer: name for vector of integers that is a variable of <code>data</code> or a vector of integers. If <code>data</code> is not <code>NULL</code>, names are expected, otherwise integers are.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>the rows of <code>data</code> to be used as a subset in all calculations. If <code>NULL</code> (the default) then the complete data is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>numeric or <code>"from_bivariate"</code>, the weight of the weighted Youden index. Must be between 0 and 1. If set to <code>"from_bivariate"</code>, the <code>reitsma</code> function is used to calculate lambda from the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpr</code></td>
<td>
<p>Points between 0 and 1 on which to draw the SROC curve. Should be tightly spaced. If set to <code>NULL</code>, the default, it will be the vector of numbers <code>0.01, 0.02, ..., 0.99</code> and is truncated if the <code>extrapolate</code> argument is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extrapolate</code></td>
<td>
<p>logical, should the SROC curve be extrapolated beyond the region where false positive rates are observed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotstudies</code></td>
<td>
<p>logical, should the ROC curves for the individual studies be added to the plot? The plot will become crowded if set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>numeric, continuity correction applied if zero cells</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction.control</code></td>
<td>
<p>character, if set to <code>"all"</code> (the default) the continuity correction is added to the whole data if only one cell in one study is zero. If set to <code>"single"</code> the correction is only applied to rows of the data which have a zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>logical, should the SROC curve be added to an existing plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>line type, see <code>lines</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width, see <code>lines</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>color of SROC, see <code>lines</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to be passed on to plotting functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Details are found in the paper of Ruecker and Schumacher (2010).
</p>


<h3>Value</h3>

<p>Besides plotting the SROC, an <code>invisible</code> list is returned which contains the parameters of the SROC.
</p>


<h3>Author(s)</h3>

<p>Philipp Doebler &lt;philipp.doebler@googlemail.com&gt; 
Original code kindly supplied by G. Ruecker.
</p>


<h3>References</h3>

<p>Ruecker G., &amp; Schumacher M. (2010) “Summary ROC curve based on a weighted Youden index for selecting an optimal cutpoint in meta-analysis of diagnostic accuracy.” <em>Statistics in Medicine</em>, <b>29</b>, 3069–3078.
</p>


<h3>See Also</h3>

<p><code>reitsma-class</code>, <code>talpha</code>, <code>SummaryPts</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## First Example
data(Dementia)
ROCellipse(Dementia)
rsSROC(Dementia, add = TRUE) # Add the RS-SROC to this plot

## Second Example
# Make a crowded plot and look at the coefficients
rs_Dementia &lt;- rsSROC(Dementia, col = 3, lwd = 3, lty = 3, 
                      plotstudies = TRUE)
rs_Dementia$lambda
rs_Dementia$aa # intercepts of primary studies on logit ROC space
rs_Dementia$bb # slopes 
</code></pre>


</div>