<div class="container">

<table style="width: 100%;"><tr>
<td>dt_count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Additional useful functions</h2>

<h3>Description</h3>


<ul>
<li> <p><code>dt_count</code> calculates number of cases by groups, possibly
weighted. <code>dt_add_count</code> adds number of cases to existing dataset.
</p>
</li>
<li> <p><code>dt_top_n</code> returns top n rows from each group.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">dt_count(data, ..., weight = NULL, sort = FALSE, name = "n")

dt_add_count(data, ..., weight = NULL, sort = FALSE, name = "n")

dt_top_n(data, n, by, order_by = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.table/data.frame data.frame will be automatically converted
to data.table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>variables to group by.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>optional. Unquoted variable name. If provided result will be the sum of this variable by groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>logical. If TRUE result will be sorted in desending order by resulting variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character. Name of resulting variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric. number of top cases. If n is negative then bottom values will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>list or vector of grouping variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order_by</code></td>
<td>
<p>unquoted variable name by which result will be sorted. If not
specified, defaults to the last variable in the dataset.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data.table
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(mtcars)

# dt_count
dt_count(mtcars, am, vs)
dt_add_count(mtcars, am, vs, name = "am_vs")[] # [] for autoprinting

# dt_top_n
dt_top_n(mtcars, 2, by  = list(am, vs))
dt_top_n(mtcars, 2, order_by = mpg, by  = list(am, vs))
</code></pre>


</div>