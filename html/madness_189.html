<div class="container">

<table style="width: 100%;"><tr>
<td>theta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the symmetric second moment array of values.</h2>

<h3>Description</h3>

<p>Given rows of observations of some vector (or multidimensional
data), estimates the second moment by taking a simple mean,
returning a <code>madness</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">theta(X, vcov.func=vcov, xtag=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a multidimensional array (or a data frame) of observed values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov.func</code></td>
<td>
<p>a function which takes an object of class <code>lm</code>,
and computes a variance-covariance matrix. If equal to the string
"normal", we assume multivariate normal returns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xtag</code></td>
<td>
<p>an optional string tag giving the name of the input data.
defaults to figuring it out from the input expression.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Given a 
<code class="reqn">n\times k_1 \times k_2 \times ... \times k_l</code>
array whose 'rows' are independent observations of <code class="reqn">X</code>, computes the 
<code class="reqn">k_1 \times k_2 \times ... \times k_l \times k_1 \times k_2 ... k_l</code>
array of the mean of <code class="reqn">\mathrm{outer}(X,X)</code> based on <code class="reqn">n</code> observations,
returned as a <code>madness</code> object. The variance-covariance
is also estimated, and stored in the object.
</p>
<p>One may use the default method for computing covariance,
via the <code>vcov</code> function, or via a 'fancy' estimator,
like <code>sandwich:vcovHAC</code>, <code>sandwich:vcovHC</code>, <em>etc.</em>
</p>


<h3>Value</h3>

<p>A <code>madness</code> object representing the mean of the outer
product of the tail dimensions of <code>X</code>.
</p>


<h3>Author(s)</h3>

<p>Steven E. Pav <a href="mailto:shabbychef@gmail.com">shabbychef@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>twomoments</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(123)
X &lt;- matrix(rnorm(1000*3),ncol=3)
th &lt;- theta(X)

## Not run: 
if (require(sandwich)) {
 th2 &lt;- theta(X,vcov.func=vcovHC)
}

## End(Not run)
# works on data frames too:
set.seed(456)
X &lt;- data.frame(a=runif(100),b=rnorm(100),c=1)
th &lt;- theta(X)
</code></pre>


</div>