<div class="container">

<table style="width: 100%;"><tr>
<td>composite</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Image Composite</h2>

<h3>Description</h3>

<p>Similar to the ImageMagick <code>composite</code> utility: compose an image on top of another one using a
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#CompositeOperator">CompositeOperator</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">image_composite(
  image,
  composite_image,
  operator = "atop",
  offset = "+0+0",
  gravity = "northwest",
  compose_args = ""
)

image_border(image, color = "lightgray", geometry = "10x10", operator = "copy")

image_frame(image, color = "lightgray", geometry = "25x25+6+6")

image_shadow_mask(image, geometry = "50x10+30+30")

image_shadow(
  image,
  color = "black",
  bg = "none",
  geometry = "50x10+30+30",
  operator = "copy",
  offset = "+20+20"
)

image_shade(image, azimuth = 30, elevation = 30, color = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>image</code></td>
<td>
<p>magick image object returned by <code>image_read()</code> or <code>image_graph()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>composite_image</code></td>
<td>
<p>composition image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>operator</code></td>
<td>
<p>string with a
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#CompositeOperator">composite operator</a>
from compose_types()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>string with either a gravity_type or a geometry_point
to set position of top image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gravity</code></td>
<td>
<p>string with
<a href="https://www.imagemagick.org/Magick++/Enumerations.html#GravityType">gravity</a>
value from gravity_types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compose_args</code></td>
<td>
<p>additional arguments needed for some composite operations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>Set to true to shade the red, green, and blue components of the image.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometry</code></td>
<td>
<p>a <a href="https://www.imagemagick.org/Magick++/Geometry.html">geometry string</a>
to set height and width of the border, e.g. <code>"10x8"</code>. In addition image_frame allows
for adding shadow by setting an offset e.g. <code>"20x10+7+2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>background color</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>azimuth</code></td>
<td>
<p>position of light source</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elevation</code></td>
<td>
<p>position of light source</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>image_composite</code> function is vectorized over both image arguments: if the first image has
<code>n</code> frames and the second <code>m</code> frames, the output image will contain <code>n</code> * <code>m</code> frames.
</p>
<p>The image_border function creates a slightly larger solid color frame and then composes the
original frame on top. The image_frame function is similar but has an additional feature to
create a shadow effect on the border (which is really ugly).
</p>


<h3>See Also</h3>

<p>Other image: 
<code>_index_</code>,
<code>analysis</code>,
<code>animation</code>,
<code>attributes()</code>,
<code>color</code>,
<code>defines</code>,
<code>device</code>,
<code>edges</code>,
<code>editing</code>,
<code>effects()</code>,
<code>fx</code>,
<code>geometry</code>,
<code>morphology</code>,
<code>ocr</code>,
<code>options()</code>,
<code>painting</code>,
<code>segmentation</code>,
<code>transform()</code>,
<code>video</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Compose images using one of many operators
imlogo &lt;- image_scale(image_read("logo:"), "x275")
rlogo &lt;- image_read("https://jeroen.github.io/images/Rlogo-old.png")

# Standard is atop
image_composite(imlogo, rlogo)

# Same as 'blend 50' in the command line
image_composite(imlogo, rlogo, operator = "blend", compose_args="50")

# Offset can be geometry or gravity
image_composite(logo, rose, offset = "+100+100")
image_composite(logo, rose, gravity = "East")

# Add a border frame around the image
image_border(imlogo, "red", "10x10")
image_frame(imlogo)
image_shadow(imlogo)
image_shade(imlogo)
</code></pre>


</div>