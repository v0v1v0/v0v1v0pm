<div class="container">

<table style="width: 100%;"><tr>
<td>retrieve_SpecialCases</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Helper functions that utilize special cases of magma /retrieve</h2>

<h3>Description</h3>

<p>Helper functions that utilize special cases of magma /retrieve
</p>


<h3>Usage</h3>

<pre><code class="language-R">retrieveTemplate(target, projectName, ...)

retrieveModels(target, projectName, ...)

retrieveIds(target, projectName, modelName, ...)

retrieveAttributes(target, projectName, modelName, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>A list, which can be created using <code>magmaRset</code>, containing your authorization 'token' (a string), a 'url' of magma to target (a string), and optional 'opts' for specifying additions parameters for curl requests (a named list).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>projectName</code></td>
<td>
<p>Single string. The name of the project you would like to interact with. For options, see <code>retrieveProjects</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters passed along to the internal '.retrieve()', '.query()', or '.update()' functions,
for troubleshooting or advanced-user purposes only: </p>

<ul>
<li> <p><code>request.only</code> (Logical) &amp; <code>json.params.only</code> (Logical) which 1) stop the function before its main curl request to magma and 2) returns the values that would have been sent to magma in either of two formats.
</p>
</li>
<li> <p><code>verbose</code> (Logical) sets whether to report the status of the curl request after it is performed.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelName</code></td>
<td>
<p>Single string. The name of the subset data structure within the project, which are referred to as 'model's in magma, to interact with.
For options, see <code>retrieveModels</code> or https://timur.ucsf.edu/&lt;projectName&gt;/map.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions aim to help users determine acceptable inputs to other magmaR functions without needing to leave R.
</p>
<p>They make properly crafted calls to <code>retrieve</code> which target either the "template" or "identifier" special cases outlined in <a href="https://mountetna.github.io/magma.html#retrieve">https://mountetna.github.io/magma.html#retrieve</a>,
followed by directly returning the output (<code>retrieveTemplate</code> and <code>retrieveIds</code>),
by returning just a targeted portion of that output (<code>retrieveModels</code>),
or by returning a targeted portion of a subsequent single-record call to <code>retrieve</code> (<code>retrieveAttributes</code>).
</p>


<h3>Value</h3>

<p>retrieveTemplate = a list conversion of the project's template json.
</p>
<p>retrieveModels = a string vector of model names
</p>
<p>retrieveIds = a string vector of record names/identifiers.
</p>
<p>retrieveAttributes = a string vector of attribute names.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>retrieveTemplate()</code>: Retrieve the template for a given project
</p>
</li>
<li> <p><code>retrieveModels()</code>: Retrieve the modelNames for a given project
</p>
</li>
<li> <p><code>retrieveIds()</code>: Retrieve all the identifiers/recordNames for a given project-model pair.
</p>
</li>
<li> <p><code>retrieveAttributes()</code>: Retrieve all the attribute options for a given project-model pair.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
if (interactive()) {
    # First, we use magmaRset to create an object which will tell other magmaR
    #  functions our authentication token (as well as some other optional bits).
    # When run in this way, it will ask you to give your token.
    magma &lt;- magmaRset()
    
    template &lt;- retrieveTemplate(
        target = magma,
        projectName = "example")
    str(template, max.level = 4)
        
    models &lt;- retrieveModels(
        target = magma,
        projectName = "example")
    print(models)    

    ids &lt;- retrieveIds(
        target = magma,
        projectName = "example",
        modelName = "rna_seq")
    print(ids)
        
    atts &lt;- retrieveAttributes(
        target = magma,
        projectName = "example",
        modelName = "subject")
    print(atts)
}
</code></pre>


</div>