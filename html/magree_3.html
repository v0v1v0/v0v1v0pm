<div class="container">

<table style="width: 100%;"><tr>
<td>oconnell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
O'Connell-Dobson estimators for multiobserver agreement.
</h2>

<h3>Description</h3>

<p>Use the O'Connell-Dobson estimator of agreement for nominal or ordinal
data. This includes a range of statistics on agreement for assuming
either distinct or homogeneous items. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">oconnell(X, weights=c("unweighted","linear","quadratic"), i=NULL, score = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>A matrix or data-frame with observations/subjects as rows and observers as columns.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>


<dl>
<dt>"unweighted"</dt>
<dd>
<p>For nominal categories - only perfect agreement is counted.</p>
</dd>
<dt>"linear"</dt>
<dd>
<p>For ordinal categories where disagreement is proportional to
the distance between the categories. This is analogous to the
agreement weights <code class="reqn">w_{i,j}=1-|score[i]-score[j]|/(max(score)-min(score))</code>.</p>
</dd>
<dt>"quadratic"</dt>
<dd>
<p>For ordinal categories where disagreement is proportional to
the square of the distance between the categories. This is analogous
to the agreement weights <code class="reqn">w_{i,j}=1-(score[i]-score[j])^2/(max(score)-min(score))^2</code>.</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>


<ol>
<li>
<p>For nominal categories - only perfect agreement is counted.
</p>
</li>
<li>
<p>For ordinal categories where disagreement is proportional to
the distance between the categories. This is analogous to the
agreement weights <code class="reqn">w_{i,j}=1-|score[i]-score[j]|/(max(score)-min(score))</code>.
</p>
</li>
<li>
<p>For ordinal categories where disagreement is proportional to
the square of the distance between the categories. This is analogous
to the agreement weights <code class="reqn">w_{i,j}=1-(score[i]-score[j])^2/(max(score)-min(score))^2</code>.
</p>
</li>
</ol>
<p>This argument takes precedence over <code>weights</code> if it is specified.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score</code></td>
<td>

<p>The scores that are to be assigned to the categories. Currently,
this defaults to <code>1:L</code>, where <code>L</code> is the number of categories.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Fortran code from Professor Dianne O'Connell was adapted for R. 
</p>
<p>The output object is very similar to the Fortan code. Not
all of the variance terms are currently used in the <code>print</code>,
<code>summary</code> and <code>plot</code> methods.
</p>


<h3>Value</h3>



<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>As input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>As input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrater</code></td>
<td>
<p>Number of observers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nscore</code></td>
<td>
<p>Number of categories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsubj</code></td>
<td>
<p>Number of subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1[j,k]</code></td>
<td>
<p>Probability of observer j giving score k when observers
are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p2[k]</code></td>
<td>
<p>Probability of score k when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w1[j,k]</code></td>
<td>
<p>Weighted average of d[] for observer j, score k</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w2[k]</code></td>
<td>
<p>Weighted average of d[] for score k when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d[j]</code></td>
<td>
<p>Amount of disagreement for subject j</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s1[j]</code></td>
<td>
<p>Chance-corrected agreement statistic for subject j when
observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2[j]</code></td>
<td>
<p>Chance-corrected agreement statistic for subject j when
observers are homogeneous; s[j]=1-d[j]/expdel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta[j,k]</code></td>
<td>
<p>j&lt;k: amount of disagreement expected by change for
observers j and k; j&gt;k amount of disagreement expected by chance for
observers j and k when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expd1</code></td>
<td>
<p>Amount of disagreement expected by chance in null case when
observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expd2</code></td>
<td>
<p>Amount of disagreement expected by chance when observers
are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dbar</code></td>
<td>
<p>Average value of d[] over all subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sav1</code></td>
<td>
<p>Chance-corrected agreement statistic over all subjects when
observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sav2</code></td>
<td>
<p>Chance-corrected agreement statistic over all subjects when
observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var0s1</code></td>
<td>
<p>Null variance of S when observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var0s2</code></td>
<td>
<p>Null variance of S when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars1</code></td>
<td>
<p>Unconstrained variance of S when observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars2</code></td>
<td>
<p>Unconstrained variance of S when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v0sav1</code></td>
<td>
<p>Null variance of Sav when observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v0sav2</code></td>
<td>
<p>Null variance of Sav when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vsav1</code></td>
<td>
<p>Unconstrained variance of Sav when observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vsav2</code></td>
<td>
<p>Unconstrained variance of Sav when observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0sav1</code></td>
<td>
<p>Probability of overall agreement due to chance when
observers are distinct</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0sav2</code></td>
<td>
<p>Probability of overall agreement due to chance when
observers are homogeneous</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp[i,j]</code></td>
<td>
<p>Response for observer i on subject j; transpose of X (BEWARE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score(i)</code></td>
<td>
<p>Score associated with i'th category</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>As per <code>sys.call()</code>, to allow for using <code>update</code></p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>magree</code>, <code>schouten</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Table 1 (O'Connell and Dobson, 1984)
summary(fit &lt;- oconnell(landis, weights="unweighted"))
update(fit, weights="linear")
update(fit, weights="quadratic")

## Table 3 (O'Connell and Dobson, 1984)
slideTypeGroups &lt;-
    list(c(2,3,5,26,31,34,42,58,59,67,70,81,103,120),
         c(7,10:13,17,23,30,41,51,55,56,60,65,71,73,76,86,87,105,111,116,119,124),
         c(4,6,24,25,27,29,39,48,68,77,79,94,101,102,117),
         c(9,32,36,44,52,62,84,95),
         c(35,53,69,72),
         c(8,15,18,19,47,64,82,93,98,99,107,110,112,115,121),
         c(1,16,22,49,63,66,78,90,100,113),
         c(28,37,40,61,108,114,118),
         106,
         43,
         83,
         c(54,57,88,91,126),
         c(74,104),
         38,
         46,
         c(89,122),
         c(80,92,96,123),
         85)
data.frame(SlideType=1:18,
           S1=sapply(slideTypeGroups,
                     function(ids) mean(fit$s1[as.character(ids)])),
           S2=sapply(slideTypeGroups,
                     function(ids) mean(fit$s2[as.character(ids)])))

## Table 5, O'Connell and Dobson (1984)
oconnell(landis==1)
oconnell(landis==2)
oconnell(landis==3)
oconnell(landis==4)
oconnell(landis==5)

## Plot of the marginal distributions
plot(fit)
</code></pre>


</div>