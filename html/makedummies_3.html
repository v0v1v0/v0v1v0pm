<div class="container">

<table style="width: 100%;"><tr>
<td>makedummies</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Dummy Variables from Categorical Data</h2>

<h3>Description</h3>

<p>Create dummy variables from categorical data.
This package can convert categorical data (factor and ordered) into
dummy variables and handle multiple columns simultaneously.
This package enables to select whether a dummy variable for base group
is included (for principal component analysis/factor analysis) or
excluded (for regression analysis) by an option.
<code>makedummies</code> function accepts
<code>data.frame</code>, <code>matrix</code>, and
<code>tbl</code> (tibble) class (by <code>tibble</code> package).
<code>matrix</code> class data is automatically converted to
<code>data.frame</code> class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">makedummies(dat, ...)

## Default S3 method:
makedummies(dat, basal_level = FALSE, col = NULL,
  numerical = NULL, as.is = NULL, ...)

## S3 method for class 'matrix'
makedummies(dat, ...)

## S3 method for class 'tbl'
makedummies(dat, basal_level = FALSE, col = NULL,
  numerical = NULL, as.is = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>data of <code>data.frame</code>, <code>matrix</code>,
or <code>tbl</code> class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to makedummies.data.frame (<code>tbl</code> class)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basal_level</code></td>
<td>
<p>logical
</p>

<dl>
<dt>TRUE</dt>
<dd>
<p>: include a dummy variable for base group</p>
</dd>
<dt>FALSE</dt>
<dd>
<p>(default) : exclude a dummy variable for base group</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Columns vector (all columns are used if <code>NULL</code> is given)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numerical</code></td>
<td>
<p>Columns vector converting from <code>factor/ordered</code> to <code>numeric</code> (ignore if column is <code>numeric</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.is</code></td>
<td>
<p>Columns vector not converting</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>return as <code>data.frame</code> or <code>tbl</code> class
</p>


<h3>Note</h3>

<p>Pull Request #1 (add column name when when columns has binary value) (<a href="https://github.com/toshi-ara/makedummies/pull/1">https://github.com/toshi-ara/makedummies/pull/1</a>). Thanks to Kohki YAMAGIWA for the contribution.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#### 'data.frame' class
## factor
dat &lt;- data.frame(x = factor(rep(c("a", "b", "c"), each = 3)))
dat$x
makedummies(dat)

## ordered
dat &lt;- data.frame(x = factor(rep(c("a", "b", "c"), each = 3)))
dat$x &lt;- ordered(dat$x, levels = c("a" ,"c" ,"b"))
dat$x
makedummies(dat)

## numeric
dat &lt;- data.frame(x = rep(1:3, each = 3))
makedummies(dat)

## factor and numeric
dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = rep(1:3, each = 3)
)
makedummies(dat)

## factors
dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = factor(rep(1:3, each = 3))
)
makedummies(dat)

## data including NA

dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = rep(1:3, each = 3)
)
dat$x[4] &lt;- NA; dat$y[6] &lt;- NA
makedummies(dat)

## "col" option
dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = factor(rep(1:3, each = 3))
)
makedummies(dat, col = "x")

## "numerical" option
dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = factor(rep(1:3, each = 3))
)
makedummies(dat, numeric = "x")

dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = rep(4:6, each = 3)
)
dat$x &lt;- ordered(dat$x, levels = c("a" ,"c" ,"b"))
dat
dat$x
makedummies(dat, numeric = c("x", "y"))

## "as.is" option
dat &lt;- data.frame(
    x = factor(rep(c("a", "b", "c"), each = 3)),
    y = factor(rep(1:3, each = 3))
)
dat
makedummies(dat, as.is = "x")
makedummies(dat, as.is = c("x", "y"))

#### 'tibble' class
if (require(tibble)) {
  dat &lt;- as_tibble(iris)
  makedummies(dat[46:55,], col = "Species", basal_level = TRUE)

  # non-standard variable name
  dat2 &lt;- tibble(
      `1` = factor(rep(c("c", "a", "b"), each = 3)),
      `@` = factor(rep(1:3, each = 3)),
      `&amp;` = rep(4:6, each = 3)
  )
  dat2

  makedummies(dat2, basal_level = TRUE)
  makedummies(dat2, as.is = "@", basal_level = TRUE)
  makedummies(dat2, numerical = "1", basal_level = TRUE)
}

</code></pre>


</div>