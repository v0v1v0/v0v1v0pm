<div class="container">

<table style="width: 100%;"><tr>
<td>neonatal_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Neonatal mortality data</h2>

<h3>Description</h3>

<p>Simulated neonatal mortality data with 323 observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">neonatal_data
</code></pre>


<h3>Format</h3>

<p>A list with the following variables:
</p>

<dl>
<dt>y</dt>
<dd>
<p>Response</p>
</dd>
<dt>Ntrials</dt>
<dd>
<p>Number of trials for each cluster</p>
</dd>
<dt>urban</dt>
<dd>
<p>Covariate indicating if cluster is urban (1) or rural (0)</p>
</dd>
<dt>nu</dt>
<dd>
<p>Cluster effect indexes</p>
</dd>
<dt>v</dt>
<dd>
<p>County effect indexes for iid effect</p>
</dd>
<dt>u</dt>
<dd>
<p>County effect indexes for Besag effect</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

vignette("neonatal_mortality", package = "makemyprior")

## End(Not run)

if (interactive() &amp;&amp; requireNamespace("rstan")){

  graph_path &lt;- paste0(path.package("makemyprior"), "/neonatal.graph")

  formula &lt;- y ~ urban + mc(nu) + mc(v) +
    mc(u, model = "besag", graph = graph_path, scale.model = TRUE)

  set.seed(1)
  find_pc_prior_param(lower = 0.1, upper = 10, prob = 0.9, N = 2e5)

  prior &lt;- make_prior(
    formula, neonatal_data, family = "binomial",
    prior = list(tree = "s1 = (u, v); s2 = (s1, nu)",
                 w = list(s1 = list(prior = "pc0", param = 0.25),
                          s2 = list(prior = "pc1", param = 0.75)),
                 V = list(s2 = list(prior = "pc",
                                    param = c(3.35, 0.05)))))

  posterior &lt;- inference_stan(prior, iter = 150, warmup = 50,
                              seed = 1, init = "0", chains = 1)
  # Note: For reliable results, increase the number of iterations

  plot(prior)
  plot_tree_structure(prior)
  plot_posterior_fixed(posterior)
  plot_posterior_stan(posterior, param = "prior", prior = TRUE)
}

## Not run: 

posterior &lt;- inference_stan(prior, iter = 15000, warmup = 5000,
                            seed = 1, init = "0", chains = 1)

plot(prior)
plot_tree_structure(prior)
plot_posterior_fixed(posterior)
plot_posterior_stan(posterior, param = "prior", prior = TRUE)

## End(Not run)
</code></pre>


</div>