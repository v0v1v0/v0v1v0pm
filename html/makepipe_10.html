<div class="container">

<table style="width: 100%;"><tr>
<td>Pipeline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pipeline visualisations</h2>

<h3>Description</h3>

<p>A Pipeline object is automatically constructed as calls to
<code style="white-space: pre;">⁠make_*()⁠</code> are made. It stores the relationships between targets,
dependencies, and sources.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>segments</code></dt>
<dd>
<p>A list of <code>Segment</code> objects</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Pipeline-add_source_segment"><code>Pipeline$add_source_segment()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-add_recipe_segment"><code>Pipeline$add_recipe_segment()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-build"><code>Pipeline$build()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-clean"><code>Pipeline$clean()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-annotate"><code>Pipeline$annotate()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-refresh"><code>Pipeline$refresh()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-nomnoml"><code>Pipeline$nomnoml()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-visnetwork"><code>Pipeline$visnetwork()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-text_summary"><code>Pipeline$text_summary()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-print"><code>Pipeline$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-save_visnetwork"><code>Pipeline$save_visnetwork()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-save_nomnoml"><code>Pipeline$save_nomnoml()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-save_text_summary"><code>Pipeline$save_text_summary()</code></a>
</p>
</li>
<li> <p><a href="#method-Pipeline-clone"><code>Pipeline$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Pipeline-add_source_segment"></a>



<h4>Method <code>add_source_segment()</code>
</h4>

<p>Add an edge to <code>edges</code>
</p>
<p>Add any nodes in <code>private$edges</code> that are missing from
<code>private$nodes</code> into <code>private$nodes</code>
</p>
<p>Reconstruct Pipeline edges from Segment edges. Called
primarily to update outofdateness
</p>
<p>Add a pipeline segment corresponding to a <code>make_with_source()</code>
call
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$add_source_segment(
  source,
  targets,
  dependencies,
  packages,
  envir,
  force
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>source</code></dt>
<dd>
<p>The path to an R script which makes the <code>targets</code></p>
</dd>
<dt><code>targets</code></dt>
<dd>
<p>A character vector of paths to files</p>
</dd>
<dt><code>dependencies</code></dt>
<dd>
<p>A character vector of paths to files which the
<code>targets</code> depend on</p>
</dd>
<dt><code>packages</code></dt>
<dd>
<p>A character vector of names of packages which <code>targets</code>
depend on</p>
</dd>
<dt><code>envir</code></dt>
<dd>
<p>The environment in which to execute the <code>source</code> or <code>recipe</code>.</p>
</dd>
<dt><code>force</code></dt>
<dd>
<p>A logical determining whether or not execution of the <code>source</code>
or <code>recipe</code> will be forced (i.e. happen whether or not the targets are
out-of-date)</p>
</dd>
<dt><code>new_edge</code></dt>
<dd>
<p>An data.frame constructed with <code>new_edge()</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The <code>SegmentSource</code> added to the <code>Pipeline</code>
</p>


<hr>
<a id="method-Pipeline-add_recipe_segment"></a>



<h4>Method <code>add_recipe_segment()</code>
</h4>

<p>Add a pipeline segment corresponding to a <code>make_with_recipe()</code>
call
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$add_recipe_segment(
  recipe,
  targets,
  dependencies,
  packages,
  envir,
  force
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>recipe</code></dt>
<dd>
<p>A language object which, when evaluated, makes the <code>targets</code></p>
</dd>
<dt><code>targets</code></dt>
<dd>
<p>A character vector of paths to files</p>
</dd>
<dt><code>dependencies</code></dt>
<dd>
<p>A character vector of paths to files which the
<code>targets</code> depend on</p>
</dd>
<dt><code>packages</code></dt>
<dd>
<p>A character vector of names of packages which <code>targets</code>
depend on</p>
</dd>
<dt><code>envir</code></dt>
<dd>
<p>The environment in which to execute the <code>source</code> or <code>recipe</code>.</p>
</dd>
<dt><code>force</code></dt>
<dd>
<p>A logical determining whether or not execution of the <code>source</code>
or <code>recipe</code> will be forced (i.e. happen whether or not the targets are
out-of-date)</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>The <code>SegmentRecipe</code> added to the <code>Pipeline</code>
</p>


<hr>
<a id="method-Pipeline-build"></a>



<h4>Method <code>build()</code>
</h4>

<p>Build all targets
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$build(quiet = getOption("makepipe.quiet"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>quiet</code></dt>
<dd>
<p>A logical determining whether or not messages are signaled</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-clean"></a>



<h4>Method <code>clean()</code>
</h4>

<p>Clean all targets
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$clean()</pre></div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-annotate"></a>



<h4>Method <code>annotate()</code>
</h4>

<p>Apply annotations to Pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$annotate(labels = NULL, notes = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>labels</code></dt>
<dd>
<p>A named character vector mapping nodes in the <code>Pipeline</code> onto
labels to display beside them.</p>
</dd>
<dt><code>notes</code></dt>
<dd>
<p>A named character vector mapping nodes in the <code>Pipeline</code> onto
notes to display on beside the labels (nomnoml) or as tooltips (visNetwork).</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Pipeline-refresh"></a>



<h4>Method <code>refresh()</code>
</h4>

<p>Refresh Pipeline to check outofdateness
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$refresh()</pre></div>


<hr>
<a id="method-Pipeline-nomnoml"></a>



<h4>Method <code>nomnoml()</code>
</h4>

<p>Display the pipeline with nomnoml
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$nomnoml(
  direction = c("down", "right"),
  arrow_size = 1,
  edge_style = c("hard", "rounded"),
  bend_size = 0.3,
  font = "Courier",
  font_size = 12,
  line_width = 3,
  padding = 16,
  spacing = 40,
  leading = 1.25,
  stroke = "#33322E",
  fill_arrows = FALSE,
  gutter = 5,
  edge_margin = 0
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>direction</code></dt>
<dd>
<p>The direction the flowchart should go in</p>
</dd>
<dt><code>arrow_size</code></dt>
<dd>
<p>The arrowhead size</p>
</dd>
<dt><code>edge_style</code></dt>
<dd>
<p>The arrow edge style</p>
</dd>
<dt><code>bend_size</code></dt>
<dd>
<p>The degree of rounding in the arrows (requires
<code>edge_style=rounded</code>)</p>
</dd>
<dt><code>font</code></dt>
<dd>
<p>The name of a font to use</p>
</dd>
<dt><code>font_size</code></dt>
<dd>
<p>The font size</p>
</dd>
<dt><code>line_width</code></dt>
<dd>
<p>The line width for arrows and box outlines</p>
</dd>
<dt><code>padding</code></dt>
<dd>
<p>The amount of padding <em>within</em> boxes</p>
</dd>
<dt><code>spacing</code></dt>
<dd>
<p>The amount of spacing <em>between</em> boxes,</p>
</dd>
<dt><code>leading</code></dt>
<dd>
<p>The amount of spacing between lines of text</p>
</dd>
<dt><code>stroke</code></dt>
<dd>
<p>The color of arrows, text, and box outlines</p>
</dd>
<dt><code>fill_arrows</code></dt>
<dd>
<p>Whether arrow heads are full triangles (<code>TRUE</code>) or
angled (<code>FALSE</code>)</p>
</dd>
<dt><code>gutter</code></dt>
<dd>
<p>The amount space to leave around the flowchart</p>
</dd>
<dt><code>edge_margin</code></dt>
<dd>
<p>The amount of space to leave between boxes and arrows</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-visnetwork"></a>



<h4>Method <code>visnetwork()</code>
</h4>

<p>Display the pipeline with nomnoml
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$visnetwork(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Arguments (other than <code>nodes</code> and <code>edges</code>) to pass to
<code>visNetwork::visNetwork()</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-text_summary"></a>



<h4>Method <code>text_summary()</code>
</h4>

<p>Display a text summary of the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$text_summary()</pre></div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Display
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Arguments (other than <code>nodes</code> and <code>edges</code>) to pass to
<code>visNetwork::visNetwork()</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-save_visnetwork"></a>



<h4>Method <code>save_visnetwork()</code>
</h4>

<p>Save pipeline visNetwork
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$save_visnetwork(file, selfcontained = TRUE, background = "white", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>file</code></dt>
<dd>
<p>File to save HTML into</p>
</dd>
<dt><code>selfcontained</code></dt>
<dd>
<p>Whether to save the HTML as a single self-contained
file (with external resources base64 encoded) or a file with external
resources placed in an adjacent directory.</p>
</dd>
<dt><code>background</code></dt>
<dd>
<p>Text string giving the html background color of the
widget. Defaults to white.</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Arguments (other than <code>nodes</code> and <code>edges</code>) to pass to
<code>visNetwork::visNetwork()</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-save_nomnoml"></a>



<h4>Method <code>save_nomnoml()</code>
</h4>

<p>Save pipeline nomnoml
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$save_nomnoml(file, width = NULL, height = NULL, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>file</code></dt>
<dd>
<p>File to save the png into</p>
</dd>
<dt><code>width</code></dt>
<dd>
<p>Image width</p>
</dd>
<dt><code>height</code></dt>
<dd>
<p>Image height</p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>Arguments to pass to <code>self$nomnoml()</code></p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-save_text_summary"></a>



<h4>Method <code>save_text_summary()</code>
</h4>

<p>Save a text summary of the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$save_text_summary(file)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>file</code></dt>
<dd>
<p>File to save text summary into</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>self</code>
</p>


<hr>
<a id="method-Pipeline-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Pipeline$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>See Also</h3>

<p>Other pipeline: 
<code>pipeline-accessors</code>,
<code>pipeline-vis</code>
</p>


</div>