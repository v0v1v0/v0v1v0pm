<div class="container">

<table style="width: 100%;"><tr>
<td>make_with_source</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make targets out of dependencies using a source file</h2>

<h3>Description</h3>

<p>Make targets out of dependencies using a source file
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_with_source(
  source,
  targets,
  dependencies = NULL,
  packages = NULL,
  envir = new.env(parent = parent.frame()),
  quiet = getOption("makepipe.quiet"),
  force = FALSE,
  label = NULL,
  note = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>The path to an R script which makes the <code>targets</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targets</code></td>
<td>
<p>A character vector of paths to files</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependencies</code></td>
<td>
<p>A character vector of paths to files which the <code>targets</code>
depend on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>A character vector of names of packages which <code>targets</code>
depend on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>The environment in which to execute the <code>source</code> or <code>recipe</code>. By
default, execution will take place in a fresh environment whose parent is
the calling environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>A logical determining whether or not messages are signaled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force</code></td>
<td>
<p>A logical determining whether or not execution of the <code>source</code>
or <code>recipe</code> will be forced (i.e. happen whether or not the targets are
out-of-date)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>A short label for the <code>source</code> or <code>recipe</code>, displayed in pipeline
visualisations. If <code>NULL</code>, the <code>basename(source)</code> or 'Recipe' will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note</code></td>
<td>
<p>A description of what the <code>source</code> does, displayed in pipeline
visualisations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to pass to <code>base::source()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>Segment</code> object containing execution metadata.
</p>


<h3>See Also</h3>

<p>Other make: 
<code>make_with_dir()</code>,
<code>make_with_recipe()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Merge files in fresh environment if raw data has been updated since last
# merged
make_with_source(
  source = "merge_data.R",
  targets = "data/merged_data.Rds",
  dependencies = c("data/raw_data.Rds", "data/raw_pop.Rds")
)


# Merge files in current environment if raw data has been updated since last
# merged. (If source executed, all objects bound in source will be available
# in current env).
make_with_source(
  source = "merge_data.R",
  targets = "data/merged_data.Rds",
  dependencies = c("data/raw_data.Rds", "data/raw_pop.Rds"),
  envir = environment()
)


# Merge files in global environment if raw data has been updated since last
# merged. (If source executed, all objects bound in source will be available
# in global env).
make_with_source(
  source = "merge_data.R",
  targets = "data/merged_data.Rds",
  dependencies = c("data/raw_data.Rds", "data/raw_pop.Rds"),
  envir = globalenv()
)

## End(Not run)

</code></pre>


</div>