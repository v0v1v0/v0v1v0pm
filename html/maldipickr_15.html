<div class="container">

<table style="width: 100%;"><tr>
<td>read_biotyper_report</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Importing Bruker MALDI Biotyper CSV report</h2>

<h3>Description</h3>

<p>The header-less table exported by the Compass software in the Bruker MALDI
Biotyper device is separated by semi-colons and has empty columns which prevent
an easy import in R. This function reads the report correctly as a tibble.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read_biotyper_report(path, best_hits = TRUE, long_format = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Path to the semi-colon separated table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best_hits</code></td>
<td>
<p>A logical indicating whether to return only the best hits for each target analyzed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long_format</code></td>
<td>
<p>A logical indicating whether the table is in the long format (many rows) or wide format (many columns) when showing all the hits. This option has no effect when <code>best_hits = TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The header-less table contains identification information for each target processed by
the Biotyper device and once processed by the <code>read_biotyper_report</code>,
the following seven columns are available in the tibble, <em>when using the <code>best_hits = TRUE</code> option</em>:
</p>

<ul>
<li> <p><code>name</code>: a character indicating the name of the spot of the MALDI target (i.e., plate)
</p>
</li>
<li> <p><code>sample_name</code>: the character string provided during the preparation of the MALDI target (i.e., plate)
</p>
</li>
<li> <p><code>hit_rank</code>: an integer indicating the rank of the hit for the corresponding target and identification
</p>
</li>
<li> <p><code>bruker_quality</code>: a character encoding the quality of the identification with potentially multiple "+" symbol or only one "-"
</p>
</li>
<li> <p><code>bruker_species</code>: the species name associated with the MALDI spectrum analyzed.
</p>
</li>
<li> <p><code>bruker_taxid</code>: the NCBI Taxonomy Identifier of the species name in the column species
</p>
</li>
<li> <p><code>bruker_hash</code>: a hash from an undocumented checksum function probably to encode the database entry.
</p>
</li>
<li> <p><code>bruker_log</code>: the log-score of the identification.
</p>
</li>
</ul>
<p>When all hits are returned (with <code>best_hits = FALSE</code>), the default output format is the long format (<code>long_format = TRUE</code>), meaning that the previous columns remain
unchanged, but all hits are now returned, thus increasing the number of rows.
</p>
<p>When all hits are returned (with <code>best_hits = FALSE</code>) <em>using the wide format</em> (<code style="white-space: pre;">⁠long_format = FALSE), the two columns ⁠</code>name<code>and</code>sample_name<code style="white-space: pre;">⁠remains unchanged, but the five columns prefixed by⁠</code>bruker_' contain the hit rank, <strong>creating a tibble of 52 columns</strong>:
</p>

<ul>
<li> <p><code>bruker_01_quality</code>
</p>
</li>
<li> <p><code>bruker_01_species</code>
</p>
</li>
<li> <p><code>bruker_01_taxid</code>
</p>
</li>
<li> <p><code>bruker_01_hash</code>
</p>
</li>
<li> <p><code>bruker_01_log</code>
</p>
</li>
<li> <p><code>bruker_02_quality</code>
</p>
</li>
<li>
<p> ...
</p>
</li>
<li> <p><code>bruker_10_species</code>
</p>
</li>
<li> <p><code>bruker_10_taxid</code>
</p>
</li>
<li> <p><code>bruker_10_hash</code>
</p>
</li>
<li> <p><code>bruker_10_log</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>A tibble of 7 columns (<code>best_hits = TRUE</code>) or 52 columns (<code>best_hits = FALSE</code>). See Details for the description of the columns.
</p>


<h3>Note</h3>

<p>A report that contains only spectra with no peaks found will return a tibble of 0 rows and a warning message.
</p>


<h3>See Also</h3>

<p>read_many_biotyper_reports
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get a example Bruker report
biotyper &lt;- system.file("biotyper.csv", package = "maldipickr")
# Import the report as a tibble
report_tibble &lt;- read_biotyper_report(biotyper)
# Display the tibble
report_tibble
</code></pre>


</div>