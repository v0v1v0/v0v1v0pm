<div class="container">

<table style="width: 100%;"><tr>
<td>MWController-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Controller object of a manipulateWidget application</h2>

<h3>Description</h3>

<p><code>MWController</code> is a reference class that is used to manage interaction
with data and update of the view created by manipulateWidget. Only users who
desire to create automatic tests for applications created with
<code>manipulateWidget</code> should care about this object.
</p>


<h3>Fields</h3>


<dl>
<dt><code>ncharts</code></dt>
<dd>
<p>Number of charts in the application</p>
</dd>
<dt><code>nrow</code></dt>
<dd>
<p>Number of rows.</p>
</dd>
<dt><code>ncol</code></dt>
<dd>
<p>Number of columns.</p>
</dd>
<dt><code>autoUpdate</code></dt>
<dd>
<p>Boolean indicating if charts should be automatically
updated when a value changes. list with <code>value</code> and <code>initBtn</code> (not autoUpdate, if want first charts on init)</p>
</dd>
</dl>
<h3>Methods</h3>


<dl>
<dt><code>getParams(name, chartId = 1)</code></dt>
<dd>
<p>Get parameters of an input for a given chart</p>
</dd>
<dt><code>getValue(name, chartId = 1)</code></dt>
<dd>
<p>Get the value of a variable for a given chart.</p>
</dd>
<dt><code>getValues(chartId = 1)</code></dt>
<dd>
<p>Get all values for a given chart.</p>
</dd>
<dt><code>isVisible(name, chartId = 1)</code></dt>
<dd>
<p>Indicates if a given input is visible</p>
</dd>
<dt><code>returnCharts()</code></dt>
<dd>
<p>Return all charts.</p>
</dd>
<dt><code>setValue(name, value, chartId = 1, updateHTML = FALSE, reactive = FALSE)</code></dt>
<dd>
<p>Update the value of a variable for a given chart.</p>
</dd>
<dt><code>setValueAll(name, value, updateHTML = TRUE)</code></dt>
<dd>
<p>Update the value of an input for all charts</p>
</dd>
<dt><code>updateCharts()</code></dt>
<dd>
<p>Update all charts.</p>
</dd>
</dl>
<h3>Testing a manipulateWidget application</h3>

<p>When <code>manipulateWidget</code> is used in a test script, it returns a
<code>MWController</code> object instead of starting a shiny gadget. This object has
methods to modify inputs values and check the state of the application. This
can be useful to automatically checks if your application behaves like desired.
Here is some sample code that uses package <code>testthat</code>:
</p>
<pre>
library("testthat")

controller &lt;- manipulateWidget(
  x + y,
  x = mwSlider(0, 10, 5),
  y = mwSlider(0, x, 0),
  .compare = "y"
)

test_that("Two charts are created", {
  expect_equal(controller$ncharts, 2)
})

test_that("Parameter 'max' of 'y' is updated when 'x' changes", {
  expect_equal(controller$getParams("y", 1)$max, 5)
  expect_equal(controller$getParams("y", 2)$max, 5)
  controller$setValue("x", 3)
  expect_equal(controller$getParams("y", 1)$max, 3)
  expect_equal(controller$getParams("y", 2)$max, 3)
})

</pre>


</div>