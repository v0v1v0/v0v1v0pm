<div class="container">

<table style="width: 100%;"><tr>
<td>delta_med</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Delta_Med by Liu, Yuan, and Li (2023)</h2>

<h3>Description</h3>

<p>It computes the
Delta_Med proposed by Liu, Yuan,
and Li (2023), an <code class="reqn">R^2</code>-like measure of
indirect effect.
</p>


<h3>Usage</h3>

<pre><code class="language-R">delta_med(
  x,
  y,
  m,
  fit,
  paths_to_remove = NULL,
  boot_out = NULL,
  level = 0.95,
  progress = TRUE,
  skip_check_single_x = FALSE,
  skip_check_m_between_x_y = FALSE,
  skip_check_x_to_y = FALSE,
  skip_check_latent_variables = FALSE,
  boot_type = c("perc", "bc")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The name of the <code>x</code> variable.
Must be supplied as a quoted string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The name of the <code>y</code> variable.
Must be supplied as a quoted string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>A vector of the variable
names of the mediator(s). If more
than one mediators, they do not have
to be on the same path from <code>x</code>
to <code>y</code>.
Cannot be <code>NULL</code> for this function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>The fit object. Must be a
lavaan::lavaan object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paths_to_remove</code></td>
<td>
<p>A character
vector of paths users want to
manually remove, specified in
<code>lavaan</code> model syntax. For example,
<code>c("m2~x", "m3~m2")</code> removes the
path from <code>x</code> to <code>m2</code> and the path
from <code>m2</code> to <code>m3</code>. The default is
<code>NULL</code>, and the paths to remove will
be determined using the method
by Liu et al. (2023). If supplied,
then only paths specified explicitly
will be removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_out</code></td>
<td>
<p>The
output of <code>do_boot()</code>. If supplied,
the stored bootstrap estimates will
be used to form the nonparametric
percentile bootstrap confidence
interval of Delta_Med.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The level of confidence
of the bootstrap confidence interval.
Default is .95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Logical. Display
bootstrapping progress or not.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_check_single_x</code></td>
<td>
<p>Logical
Check whether the model has one and
only one x-variable. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_check_m_between_x_y</code></td>
<td>
<p>Logical. Check whether all <code>m</code>
variables are along a path from <code>x</code>
to <code>y</code>. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_check_x_to_y</code></td>
<td>
<p>Logical.
Check whether there is a direct path
from <code>x</code> to <code>y</code>. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_check_latent_variables</code></td>
<td>
<p>Logical. Check whether the model
has any latent variables. Default
is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_type</code></td>
<td>
<p>If bootstrap
confidence interval is to be formed,
the type of bootstrap confidence
interval. The supported types
are <code>"perc"</code> (percentile bootstrap
confidence interval, the default and
recommended type) and <code>"bc"</code>
(bias-corrected, or BC, bootstrap
confidence interval).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It computes Delta_Med, an
<code class="reqn">R^2</code>-like effect
size measure for the indirect effect
from one variable (the <code>y</code>-variable)
to another variable (the <code>x</code>-variable)
through one or more mediators
(<code>m</code>, or <code>m1</code>, <code>m2</code>, etc. when
there are more than one mediator).
</p>
<p>The Delta_Med of one or more
mediators was computed as the
difference between
two <code class="reqn">R^2</code>s:
</p>

<ul>
<li> <p><code class="reqn">R^2_1</code>, the <code class="reqn">R^2</code> when <code>y</code>
is predicted by <code>x</code> and all
mediators.
</p>
</li>
<li> <p><code class="reqn">R^2_2</code>, the <code class="reqn">R^2</code> when the
mediator(s) of
interest is/are removed from the
models, while the error term(s)
of the mediator(s) is/are kept.
</p>
</li>
</ul>
<p>Delta_Med is given by
<code class="reqn">R^2_1 - R^2_2</code>.
</p>
<p>Please refer to Liu et al. (2023)
for the technical details.
</p>
<p>The function can also form a
nonparametric percentile bootstrap
confidence of Delta_Med.
</p>


<h3>Value</h3>

<p>A <code>delta_med</code> class object.
It is a list-like object with these
major elements:
</p>

<ul>
<li> <p><code>delta_med</code>: The Delta_Med.
</p>
</li>
<li> <p><code>x</code>: The name of the <code>x</code>-variable.
</p>
</li>
<li> <p><code>y</code>: The name of the <code>y</code>-variable.
</p>
</li>
<li> <p><code>m</code>: A character vector of the
mediator(s) along a path. The path
runs from the first element to the
last element.
</p>
</li>
</ul>
<p>This class has a <code>print</code> method,
a <code>coef</code> method, and a <code>confint</code>
method. See <code>print.delta_med()</code>,
<code>coef.delta_med()</code>, and
<code>confint.delta_med()</code>.
</p>


<h3>Implementation</h3>

<p>The function identifies all the
path(s) pointing to the mediator(s)
of concern and fixes the path(s) to
zero, effectively removing the
mediator(s). However, the model is
not refitted, hence keeping the
estimates of all other parameters
unchanged.
It then uses <code>lavaan::lav_model_set_parameters()</code>
to update the parameters,
<code>lavaan::lav_model_implied()</code> to
update the implied statistics, and
then calls <code>lavaan::lavInspect()</code> to
retrieve the implied variance of the
predicted values of <code>y</code> for computing
the <code class="reqn">R^2_2</code>. Subtracting this
<code class="reqn">R^2_2</code> from <code class="reqn">R^2_1</code> of
<code>y</code> can then yield Delta_Med.
</p>


<h3>Model Requirements</h3>

<p>For now, by default, it only
computes Delta_Med
for the types
of models discussed in
Liu et al. (2023):
</p>

<ul>
<li>
<p> Having one predictor (the
<code>x</code>-variable).
</p>
</li>
<li>
<p> Having one or more mediators, the
<code>m</code>-variables, with
arbitrary way to mediate the effect
of <code>x</code> on the outcome variable
(<code>y</code>-variable).
</p>
</li>
<li>
<p> Having one or more outcome variables.
Although their models only have
outcome variables, the computation
of the Delta_Med is not affected
by the presence of other outcome
variables.
</p>
</li>
<li>
<p> Having no control variables.
</p>
</li>
<li>
<p> The mediator(s), <code>m</code>, and the
<code>y</code>-variable are continuous.
</p>
</li>
<li> <p><code>x</code> can be continuous
or categorical. If categorical, it
needs to be handle appropriately
when fitting the model.
</p>
</li>
<li> <p><code>x</code> has a direct
path to <code>y</code>.
</p>
</li>
<li>
<p> All the mediators listed in the
argument <code>m</code> is present in at least
one path from <code>x</code> to <code>y.</code>
</p>
</li>
<li>
<p> None of the paths from <code>x</code> to <code>y</code>
are moderated.
</p>
</li>
</ul>
<p>It can be used for other kinds
of models but support for them is
disabled by default. To use
this function for
cases not discussed in
Liu et al. (2023), please disable
relevant requirements stated above
using the relevant
<code style="white-space: pre;">⁠skip_check_*⁠</code> arguments. An error
will be raised if the models failed
any of the checks not skipped by
users.
</p>


<h3>References</h3>

<p>Liu, H., Yuan, K.-H., &amp; Li, H. (2023).
A systematic framework for defining
R-squared measures in mediation
analysis. <em>Psychological Methods</em>.
Advance online publication.
https://doi.org/10.1037/met0000571
</p>


<h3>See Also</h3>

<p><code>print.delta_med()</code>,
<code>coef.delta_med()</code>, and
<code>confint.delta_med()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(lavaan)
dat &lt;- data_med
mod &lt;-
"
m ~ x
y ~ m + x
"
fit &lt;- sem(mod, dat)
dm &lt;- delta_med(x = "x",
                y = "y",
                m = "m",
                fit = fit)
dm
print(dm, full = TRUE)

# Call do_boot() to generate
# bootstrap estimates
# Use 2000 or even 5000 for R in real studies
# Set parallel to TRUE in real studies for faster bootstrapping
boot_out &lt;- do_boot(fit,
                    R = 45,
                    seed = 879,
                    parallel = FALSE,
                    progress = FALSE)
# Remove 'progress = FALSE' in practice
dm_boot &lt;- delta_med(x = "x",
                     y = "y",
                     m = "m",
                     fit = fit,
                     boot_out = boot_out,
                     progress = FALSE)
dm_boot
confint(dm_boot)


</code></pre>


</div>