<div class="container">

<table style="width: 100%;"><tr>
<td>plot.cond_indirect_effects</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Conditional Effects</h2>

<h3>Description</h3>

<p>Plot the conditional
effects for different levels of
moderators.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cond_indirect_effects'
plot(
  x,
  x_label,
  w_label = "Moderator(s)",
  y_label,
  title,
  x_from_mean_in_sd = 1,
  x_method = c("sd", "percentile"),
  x_percentiles = c(0.16, 0.84),
  x_sd_to_percentiles = NA,
  note_standardized = TRUE,
  no_title = FALSE,
  line_width = 1,
  point_size = 5,
  graph_type = c("default", "tumble"),
  use_implied_stats = TRUE,
  facet_grid_cols = NULL,
  facet_grid_rows = NULL,
  facet_grid_args = list(as.table = FALSE, labeller = "label_both"),
  digits = 4,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The output of
<code>cond_indirect_effects()</code>. (Named <code>x</code>
because it is required in the naming
of arguments of the <code>plot</code> generic
function.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_label</code></td>
<td>
<p>The label for the
X-axis. Default is the value of the
predictor in the output of
<code>cond_indirect_effects()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w_label</code></td>
<td>
<p>The label for the
legend for the lines. Default is
<code>"Moderator(s)"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_label</code></td>
<td>
<p>The label for the
Y-axis. Default is the name of the
response variable in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The title of the graph.
If not supplied, it will be generated
from the variable names or labels (in
<code>x_label</code>, <code>y_label</code>, and <code>w_label</code>).
If <code>""</code>, no title will be printed.
This can be used when the plot is for
manuscript submission and figures are
required to have no titles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_from_mean_in_sd</code></td>
<td>
<p>How many SD
from mean is used to define "low" and
"high" for the focal variable.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_method</code></td>
<td>
<p>How to define "high"
and "low" for the focal variable
levels. Default is in terms of the
standard deviation of the focal
variable, <code>"sd"</code>. If equal to
<code>"percentile"</code>, then the percentiles
of the focal variable in the dataset
is used. If the focal variable is
a latent variable, only
<code>"sd"</code> can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_percentiles</code></td>
<td>
<p>If <code>x_method</code> is
<code>"percentile"</code>, then this argument
specifies the two percentiles to be
used, divided by 100. It must be a
vector of two numbers. The default
is <code>c(.16, .84)</code>, the 16th and 84th
percentiles, which corresponds
approximately to one SD below and
above mean for a normal distribution,
respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_sd_to_percentiles</code></td>
<td>
<p>If
<code>x_method</code> is <code>"percentile"</code> and this
argument is set to a number, this
number will be used to determine the
percentiles to be used. The lower
percentile is the percentile in a
normal distribution that is
<code>x_sd_to_percentiles</code> SD below the
mean. The upper percentile is the
percentile in a normal distribution
that is <code>x_sd_to_percentiles</code> SD
above the mean. Therefore, if
<code>x_sd_to_percentiles</code> is set to 1,
then the lower and upper percentiles
are 16th and 84th, respectively.
Default is <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>note_standardized</code></td>
<td>
<p>If <code>TRUE</code>,
will check whether a variable has SD
nearly equal to one. If yes, will
report this in the plot. Default is
<code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_title</code></td>
<td>
<p>If <code>TRUE</code>, title will
be suppressed. Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line_width</code></td>
<td>
<p>The width of the
lines as used in
<code>ggplot2::geom_segment()</code>. Default is
1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>The size of the
points as used in
<code>ggplot2::geom_point()</code>. Default is
5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph_type</code></td>
<td>
<p>If <code>"default"</code>, the
typical line-graph with equal
end-points will be plotted. If
<code>"tumble"</code>, then the tumble graph
proposed by Bodner (2016) will be
plotted. Default is <code>"default"</code>
for single-group models, and
<code>"tumble"</code> for multigroup models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_implied_stats</code></td>
<td>
<p>For a
multigroup model, if <code>TRUE</code>,
the default,
model implied statistics will be
used in computing the means and SDs,
which take into equality constraints,
if any.
If <code>FALSE</code>, then the raw
data is
used to compute the means and SDs.
For latent variables, model implied
statistics are always used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_grid_cols, facet_grid_rows</code></td>
<td>
<p>If either or both of them are set
to character vector(s) of moderator
names, then <code>ggplot2::facet_grid()</code>
will be used to plot the graph,
with <code>facet_grid_cols</code> used as <code>cols</code>
and <code>facet_grid_rows</code> used as <code>rows</code>
when calling <code>ggplot2::facet_grid()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_grid_args</code></td>
<td>
<p>The list of
arguments to be used in calling
<code>ggplot2::facet_grid()</code>. Ignored
if <code>ggplot2::facet_grid()</code> is not
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of decimal
places to be printed for numerical
moderators when <code>facet_grid</code> is used.
Default is 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.
Ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a plot
method of the output of
<code>cond_indirect_effects()</code>. It will
use the levels of moderators in the
output.
</p>
<p>It plots the conditional effect from
<code>x</code> to <code>y</code> in a model for different
levels of the moderators. For
multigroup models, the group will
be the 'moderator' and one line is
drawn for each group.
</p>
<p>It does not support conditional
indirect effects. If there is one or
more mediators in <code>x</code>, it will raise
an error.
</p>


<h4>Multigroup Models</h4>

<p>Since Version 0.1.14.2, support for
multigroup models has been added for models
fitted by <code>lavaan</code>. If the effect
for each group is drawn, the
<code>graph_type</code> is automatically switched
to <code>"tumble"</code> and the means and SDs
in each group will be used to determine
the locations of the points.
</p>
<p>If the multigroup model has any equality
constraints, the implied means and/or
SDs may be different from those of
the raw data. For example, the mean
of the <code>x</code>-variable may be constrained
to be equal in this model. To plot
the tumble graph using the model implied
means and SDs, set <code>use_implied_stats</code>
to <code>TRUE</code>.
</p>



<h4>Latent Variables</h4>

<p>A path that involves a latent <code>x</code>-variable
and/or a latent <code>y</code>-variable can be
plotted. Because the latent variables
have no observed data, the model
implied statistics will always be used
to get the means and SDs to compute
values such as the low and high points
of the <code>x</code>-variable.
</p>



<h3>Value</h3>

<p>A <code>ggplot2</code> graph. Plotted if
not assigned to a name. It can be
further modified like a usual
<code>ggplot2</code> graph.
</p>


<h3>References</h3>

<p>Bodner, T. E. (2016). Tumble graphs: Avoiding misleading end point
extrapolation when graphing interactions from a moderated multiple
regression analysis. <em>Journal of Educational and Behavioral
Statistics, 41</em>(6), 593-604. <a href="https://doi.org/10.3102/1076998616657080">doi:10.3102/1076998616657080</a>
</p>


<h3>See Also</h3>

<p><code>cond_indirect_effects()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(lavaan)
dat &lt;- modmed_x1m3w4y1
n &lt;- nrow(dat)
set.seed(860314)
dat$gp &lt;- sample(c("gp1", "gp2", "gp3"), n, replace = TRUE)
dat &lt;- cbind(dat, factor2var(dat$gp, prefix = "gp", add_rownames = FALSE))

# Categorical moderator

mod &lt;-
"
m3 ~ m1 + x + gpgp2 + gpgp3 + x:gpgp2 + x:gpgp3
y ~ m2 + m3 + x
"
fit &lt;- sem(mod, dat, meanstructure = TRUE, fixed.x = FALSE)
out_mm_1 &lt;- mod_levels(c("gpgp2", "gpgp3"),
                       sd_from_mean = c(-1, 1),
                       fit = fit)
out_1 &lt;- cond_indirect_effects(wlevels = out_mm_1, x = "x", y = "m3", fit = fit)
plot(out_1)
plot(out_1, graph_type = "tumble")

# Numeric moderator

dat &lt;- modmed_x1m3w4y1
mod2 &lt;-
"
m3 ~ m1 + x + w1 + x:w1
y ~ m3 + x
"
fit2 &lt;- sem(mod2, dat, meanstructure = TRUE, fixed.x = FALSE)
out_mm_2 &lt;- mod_levels("w1",
                       w_method = "percentile",
                       percentiles = c(.16, .84),
                       fit = fit2)
out_mm_2
out_2 &lt;- cond_indirect_effects(wlevels = out_mm_2, x = "x", y = "m3", fit = fit2)
plot(out_2)
plot(out_2, graph_type = "tumble")

# Multigroup models

dat &lt;- data_med_mg
mod &lt;-
"
m ~ x + c1 + c2
y ~ m + x + c1 + c2
"
fit &lt;- sem(mod, dat, meanstructure = TRUE, fixed.x = FALSE, se = "none", baseline = FALSE,
           group = "group")

# For a multigroup model, group will be used as
# a moderator
out &lt;- cond_indirect_effects(x = "m",
                             y = "y",
                             fit = fit)
out
plot(out)



</code></pre>


</div>