<div class="container">

<table style="width: 100%;"><tr>
<td>esp_get_gridmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a <code>sf</code> hexbin or squared <code>POLYGON</code> of Spain</h2>

<h3>Description</h3>

<p>Loads a hexbin map (<code>sf</code> object) or a map of squares with the
boundaries of the provinces or autonomous communities of Spain.
</p>


<h3>Usage</h3>

<pre><code class="language-R">esp_get_hex_prov(prov = NULL)

esp_get_hex_ccaa(ccaa = NULL)

esp_get_grid_prov(prov = NULL)

esp_get_grid_ccaa(ccaa = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>prov</code></td>
<td>
<p>A vector of names and/or codes for provinces or <code>NULL</code> to get all
the provinces. See <strong>Details</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ccaa</code></td>
<td>
<p>A vector of names and/or codes for autonomous communities
or <code>NULL</code> to get all the autonomous communities. See <strong>Details</strong>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Hexbin or grid map has an advantage over usual choropleth maps.
In choropleths, a large polygon data looks more emphasized just because
of its size, what introduces a bias. Here with hexbin, each region is
represented equally dismissing the bias.
</p>
<p>You can use and mix names, ISO codes, <code>"codauto"/ "cpro"</code> codes (see
esp_codelist) and NUTS codes of different levels.
</p>
<p>When using a code corresponding of a higher level (e.g.
<code>esp_get_prov("Andalucia")</code>) all the corresponding units of that level are
provided (in this case , all the provinces of Andalusia).
</p>
<p>Results are provided in <strong>EPSG:4258</strong>, use <code>sf::st_transform()</code>
to change the projection.
</p>


<h3>Value</h3>

<p>A <code>sf</code> <code>POLYGON</code> object.
</p>


<h3>See Also</h3>

<p>Other political: 
<code>esp_codelist</code>,
<code>esp_get_can_box()</code>,
<code>esp_get_capimun()</code>,
<code>esp_get_ccaa()</code>,
<code>esp_get_comarca()</code>,
<code>esp_get_country()</code>,
<code>esp_get_munic()</code>,
<code>esp_get_nuts()</code>,
<code>esp_get_prov()</code>,
<code>esp_get_simpl_prov()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">esp &lt;- esp_get_country()
hexccaa &lt;- esp_get_hex_ccaa()

library(ggplot2)

ggplot(hexccaa) +
  geom_sf(data = esp) +
  geom_sf(aes(fill = codauto),
    alpha = 0.3,
    show.legend = FALSE
  ) +
  geom_sf_text(aes(label = label), check_overlap = TRUE) +
  theme_void() +
  labs(title = "Hexbin: CCAA")





hexprov &lt;- esp_get_hex_prov()

ggplot(hexprov) +
  geom_sf(data = esp) +
  geom_sf(aes(fill = codauto),
    alpha = 0.3,
    show.legend = FALSE
  ) +
  geom_sf_text(aes(label = label), check_overlap = TRUE) +
  theme_void() +
  labs(title = "Hexbin: Provinces")



gridccaa &lt;- esp_get_grid_ccaa()

ggplot(gridccaa) +
  geom_sf(data = esp) +
  geom_sf(aes(fill = codauto),
    alpha = 0.3,
    show.legend = FALSE
  ) +
  geom_sf_text(aes(label = label), check_overlap = TRUE) +
  theme_void() +
  labs(title = "Grid: CCAA")


gridprov &lt;- esp_get_grid_prov()

ggplot(gridprov) +
  geom_sf(data = esp) +
  geom_sf(aes(fill = codauto),
    alpha = 0.3,
    show.legend = FALSE
  ) +
  geom_sf_text(aes(label = label), check_overlap = TRUE) +
  theme_void() +
  labs(title = "Grid: Provinces")
</code></pre>


</div>