<div class="container">

<table style="width: 100%;"><tr>
<td>mb_directions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make a request to the Mapbox Directions API</h2>

<h3>Description</h3>

<p>See the <a href="https://docs.mapbox.com/api/navigation/directions/">Mapbox Directions API documentation</a> for more
information.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mb_directions(
  input_data = NULL,
  origin = NULL,
  destination = NULL,
  profile = "driving",
  output = "sf",
  depart_at = NULL,
  alternatives = NULL,
  annotations = NULL,
  bearings = NULL,
  continue_straight = NULL,
  exclude = NULL,
  geometries = "geojson",
  overview = "simplified",
  radiuses = NULL,
  approaches = NULL,
  steps = NULL,
  banner_instructions = NULL,
  language = NULL,
  roundabout_exits = NULL,
  voice_instructions = NULL,
  voice_units = NULL,
  waypoint_names = NULL,
  waypoint_targets = NULL,
  waypoints = NULL,
  walking_speed = NULL,
  walkway_bias = NULL,
  alley_bias = NULL,
  access_token = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input_data</code></td>
<td>
<p>An input dataset of class <code>"sf"</code>, or a list of coordinate
pairs for format <code>c(longitude, latitude)</code>. Cannot be used with an
origin/destination pair.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>An address or coordinate pair that represents the origin of
your requested route. Cannot be used with <code>input_data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination</code></td>
<td>
<p>An address or coordinate pair that represents the
destination of your requested route.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>profile</code></td>
<td>
<p>One of "driving" (the default), "driving-traffic", "walking",
or "cycling".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>One of "sf" (the default), which returns an sf LINESTRING
representing the route geometry, or "full", which returns the full request
from the Directions API as a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depart_at</code></td>
<td>
<p>(optional) For the "driving" or "driving-traffic" profiles,
the departure date and time to reflect historical traffic patterns. If
"driving-traffic" is used, live traffic will be mixed in with historical
traffic for dates/times near to the current time. Should be specified as an
ISO 8601 date/time, e.g. <code>"2022-03-31T09:00"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternatives</code></td>
<td>
<p>Whether or not to return alternative routes with your
request. If TRUE, a list of up to 3 possible routes will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotations</code></td>
<td>
<p>A comma-separated string of additional route metadata,
which may include duration, distance, speed, and congestion. Must be used
with overview = "full".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bearings</code></td>
<td>
<p>A semicolon-delimited character string of bearings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continue_straight</code></td>
<td>
<p>continue_straight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>Road types to exclude from your route; possible choices are
<code>'toll'</code>, <code>'motorway'</code>, or <code>'ferry'</code>. Defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometries</code></td>
<td>
<p>The route geometry format. If <code>output = 'sf'</code>, you will get
back an <code>sf</code> object and you should leave this blank. If <code>output = 'full'</code>,
the embedded route geometries will be one of <code>'geojson'</code> (the default),
<code>'polyline'</code> with five decimal place precision, or <code>'polyline6'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overview</code></td>
<td>
<p>If left blank, defaults to <code>'simplified'</code> for simplified
geometry; the other option is <code>'full'</code> which provides the most detailed
geometry available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radiuses</code></td>
<td>
<p>A character string with semicolon-separated radii that
specify the distance (in meters) to snap each input coordinate to the road
network. Defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approaches</code></td>
<td>
<p>A character string with semicolon-separated specifications
for how to approach waypoints. Options include <code>unrestricted</code> and <code>curb</code>.
Defaults to <code>NULL</code> which uses <code>unrestricted</code> for all waypoints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>If <code>TRUE</code>, returns the route object split up into route legs
with step-by-step instructions included. If <code>FALSE</code> or <code>NULL</code> (the
default), a single line geometry representing the full route will be
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>banner_instructions</code></td>
<td>
<p>Whether or not to return banner objects; only
available when<code>output = 'full'</code> and <code>steps = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>The language of the returned instructions (defaults to
English). Available language codes are found at
<a href="https://docs.mapbox.com/api/navigation/#instructions-languages">https://docs.mapbox.com/api/navigation/#instructions-languages</a>. Only
available when <code>steps = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roundabout_exits</code></td>
<td>
<p>If TRUE, adds instructions for roundabout entrance
and exit. Only available when <code>steps = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>voice_instructions, voice_units</code></td>
<td>
<p>Only available when <code>steps = TRUE</code> and
<code>output = 'full'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waypoint_names, waypoint_targets, waypoints</code></td>
<td>
<p>Only available when <code>steps = TRUE</code> and <code>output = 'full'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>walking_speed</code></td>
<td>
<p>The walking speed in meters/second; available when
<code>profile = 'walking'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>walkway_bias</code></td>
<td>
<p>Can take values between -1 and 1, where negative numbers
avoid walkways and positive numbers prefer walkways. Available when
<code>profile = 'walking'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alley_bias</code></td>
<td>
<p>Can take values between -1 and 1, where negative numbers
avoid alleys and positive numbers prefer alleys. Available when <code>profile = 'walking'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access_token</code></td>
<td>
<p>A Mapbox access token; which can be set with
<code>mb_access_token()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An <code>sf</code> object (or list of <code>sf</code> objects), or full R list representing
the API response.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(mapboxapi)
library(leaflet)

my_route &lt;- mb_directions(
  origin = "10 Avenue de Wagram, 75008 Paris France",
  destination = "59 Rue de Tocqueville, 75017 Paris France",
  profile = "cycling",
  steps = TRUE,
  language = "fr"
)

leaflet(my_route) %&gt;%
  addMapboxTiles(
    style_id = "light-v9",
    username = "mapbox"
  ) %&gt;%
  addPolylines()

## End(Not run)
</code></pre>


</div>