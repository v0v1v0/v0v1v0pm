<div class="container">

<table style="width: 100%;"><tr>
<td>feature_options</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify feature options for an MTS recipe layer</h2>

<h3>Description</h3>

<p>Specify feature options for an MTS recipe layer
</p>


<h3>Usage</h3>

<pre><code class="language-R">feature_options(
  id = NULL,
  bbox = NULL,
  attributes = list(zoom_element = NULL, set = NULL, allowed_output = NULL),
  filter = NULL,
  simplification = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A column representing the feature ID. See <a href="https://docs.mapbox.com/mapbox-tiling-service/reference/#id-expression">https://docs.mapbox.com/mapbox-tiling-service/reference/#id-expression</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>A bounding box within which rendered features will be clipped. See <a href="https://docs.mapbox.com/mapbox-tiling-service/reference/#bounding-box">https://docs.mapbox.com/mapbox-tiling-service/reference/#bounding-box</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attributes</code></td>
<td>
<p>A named list of attribute transformations. <code>zoom_element</code> specifies how an attribute should be made available at different zoom levels; <code>set</code> allows you to calculate new attributes from existing attributes when processing the tiles; and <code>allowed_output</code> specifies which columns should be carried through to the output tiles.  See <a href="https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-attributes">https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-attributes</a>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>An expression that determines how features in the tileset should be filtered. See <a href="https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-filters">https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-filters</a> for information on how to specify the filter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplification</code></td>
<td>
<p>Rules for feature simplification.  See <a href="https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-simplification">https://docs.mapbox.com/mapbox-tiling-service/reference/#feature-simplification</a> for more information on how to specify this.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of feature options, likely to be used in <code>recipe_layer()</code>.
</p>


<h3>See Also</h3>

<p><a href="https://docs.mapbox.com/mapbox-tiling-service/reference/">https://docs.mapbox.com/mapbox-tiling-service/reference/</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(tidycensus)
library(mapboxapi)
options(tigris_use_cache = TRUE)

# Get the national data on median age
us_median_age_tract &lt;- get_acs(
  geography = "tract",
  variables = "B01002_001",
  state = c(state.abb, "DC"),
  year = 2020,
  geometry = TRUE
)

# Get it for counties as well
us_median_age_county &lt;- get_acs(
  geography = "county",
  variables = "B01002_001",
  year = 2020,
  geometry = TRUE
)

# Create a source from the datasets
mts_create_source(data = us_median_age_tract,
                  tileset_id = "us_median_age_tract",
                  username = "your_mapbox_username")

mts_create_source(data = us_median_age_county,
                  tileset_id = "us_median_age_county",
                  username = "your_mapbox_username")

# Build out the recipe.  First, create a recipe layer with
# appropriate options.  We'll want a larger tile size and to restrict the minzoom
# to 4; a maxzoom of 12 will be fine as we can overzoom beyond that
#
# Your source ID will be returned by `mts_create_source()`, so use that value
tract_layer &lt;- recipe_layer(
  source = "mapbox://tileset-source/your_mapbox_username/us_median_age_tract",
  minzoom = 4,
  maxzoom = 12,
  tiles = tile_options(layer_size = 2500)
)

county_layer &lt;- recipe_layer(
  source = "mapbox://tileset-source/your_mapbox_username/us_median_age_county",
  minzoom = 2,
  maxzoom = 5
)

recipe &lt;- mts_make_recipe(tracts = tract_layer, counties = county_layer)

# Validate the recipe
mts_validate_recipe(recipe)

# Create a tileset from the recipe
mts_create_tileset(tileset_name = "median_age_acs",
                   username = "your_mapbox_username",
                   recipe = recipe)

# Publish the tileset
mts_publish_tileset(tileset_name = "median_age_acs",
                    username = "your_mapbox_username")

# If necessary, update the recipe
mts_update_recipe(tileset_name = "median_age_acs",
                  username = "your_mapbox_username",
                  recipe = new_recipe)

# Publish the tileset again after you've updated the recipe
mts_publish_tileset(tileset_name = "median_age_acs",
                    username = "your_mapbox_username")

## End(Not run)
</code></pre>


</div>