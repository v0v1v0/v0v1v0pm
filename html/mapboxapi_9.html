<div class="container">

<table style="width: 100%;"><tr>
<td>get_static_tiles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get static tiles from a Mapbox style for use as a basemap</h2>

<h3>Description</h3>

<p>This function queries the <a href="https://docs.mapbox.com/api/maps/static-tiles/">Mapbox Static Tiles API</a> and composites the tiles
as a raster suitable for use as a basemap in
<a href="https://r-tmap.github.io/tmap/">tmap</a> or
<a href="https://ggplot2.tidyverse.org/">ggplot2</a> (with the
<code>ggspatial::layer_spatial()</code> function. It returns a raster
layer that corresponds either to an input bounding box or a buffered area
around an input shape.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_static_tiles(
  location,
  zoom,
  style_id,
  username,
  style_url = NULL,
  scaling_factor = c("1x", "2x"),
  buffer_dist = 5000,
  units = "m",
  crop = TRUE,
  access_token = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>location</code></td>
<td>
<p>An input location for which you would like to request tiles.
Can be a length-4 vector representing a bounding box, or an <code>sf</code> object.
If an input <code>sf</code> object is supplied, use the <code>buffer_dist</code> argument to
control how much area you want to capture around the layer.
While the input <code>sf</code> object can be in an arbitrary coordinate reference system,
if a length-4 bounding box vector is supplied instead it must represent
WGS84 longitude/latitude coordinates and be in the order
<code>c(xmin, ymin, xmax, ymax)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>The zoom level for which you'd like to return tiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style_id</code></td>
<td>
<p>A Mapbox style ID; retrieve yours from your Mapbox account.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>username</code></td>
<td>
<p>A Mapbox username.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style_url</code></td>
<td>
<p>A Mapbox style URL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaling_factor</code></td>
<td>
<p>The scaling factor to use; one of <code>"1x"</code> or <code>"2x"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer_dist</code></td>
<td>
<p>The distance to buffer around an input <code>sf</code> object for determining tile extent, specified in units. Defaults to 5000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Units of <code>buffer_dist</code>; defaults to "m" (meters). If buffer_dist
is a units class object, the units argument is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>Whether or not to crop the result to the specified bounding box or buffer area.
Defaults to <code>TRUE</code>; <code>FALSE</code> will return the extent of the overlapping
tiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access_token</code></td>
<td>
<p>A Mapbox access token. Supply yours here or set globally with the <code>mb_access_token()</code> function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A raster layer of tiles from the requested Mapbox style representing the area around the input location. The raster layer is projected in the Web Mercator coordinate reference system.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

library(mapboxapi)
library(tigris)
library(tmap)
library(ggspatial)
library(ggplot2)

ny_tracts &lt;- tracts("NY", "New York", cb = TRUE)

ny_tiles &lt;- get_static_tiles(
  location = ny_tracts,
  zoom = 10,
  style_id = "light-v9",
  username = "mapbox"
)

# tmap usage:
tm_shape(ny_tiles) +
  tm_rgb() +
  tm_shape(ny_tracts) +
  tm_polygons(alpha = 0.5, col = "navy") +
  tm_credits("Basemap (c) Mapbox, (c) OpenStreetMap",
    position = c("RIGHT", "BOTTOM")
  )

# ggplot2 usage:
ggplot() +
  layer_spatial(ny_tiles) +
  geom_sf(data = ny_tracts, fill = "navy", alpha = 0.5) +
  theme_void() +
  labs(caption = "Basemap (c) Mapbox, (c) OpenStreetMap")

## End(Not run)

</code></pre>


</div>