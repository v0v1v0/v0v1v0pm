<div class="container">

<table style="width: 100%;"><tr>
<td>add_heatmap_layer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a heatmap layer to a Mapbox GL map</h2>

<h3>Description</h3>

<p>Add a heatmap layer to a Mapbox GL map
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_heatmap_layer(
  map,
  id,
  source,
  source_layer = NULL,
  heatmap_color = NULL,
  heatmap_intensity = NULL,
  heatmap_opacity = NULL,
  heatmap_radius = NULL,
  heatmap_weight = NULL,
  visibility = "visible",
  slot = NULL,
  min_zoom = NULL,
  max_zoom = NULL,
  before_id = NULL,
  filter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>A map object created by the <code>mapboxgl</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A unique ID for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>The ID of the source, alternatively an sf object (which will be converted to a GeoJSON source) or a named list that specifies <code>type</code> and <code>url</code> for a remote source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_layer</code></td>
<td>
<p>The source layer (for vector sources).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap_color</code></td>
<td>
<p>The color of the heatmap points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap_intensity</code></td>
<td>
<p>The intensity of the heatmap points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap_opacity</code></td>
<td>
<p>The opacity of the heatmap layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap_radius</code></td>
<td>
<p>The radius of influence of each individual heatmap point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heatmap_weight</code></td>
<td>
<p>The weight of each individual heatmap point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>visibility</code></td>
<td>
<p>Whether this layer is displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slot</code></td>
<td>
<p>An optional slot for layer order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_zoom</code></td>
<td>
<p>The minimum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_zoom</code></td>
<td>
<p>The maximum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>before_id</code></td>
<td>
<p>The name of the layer that this layer appears "before", allowing you to insert layers below other layers in your basemap (e.g. labels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>An optional filter expression to subset features in the layer.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The modified map object with the new heatmap layer added.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(mapgl)

mapboxgl(
    style = mapbox_style("dark"),
    center = c(-120, 50),
    zoom = 2
) |&gt;
    add_heatmap_layer(
        id = "earthquakes-heat",
        source = list(
            type = "geojson",
            data = "https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson"
        ),
        heatmap_weight = interpolate(
            column = "mag",
            values = c(0, 6),
            stops = c(0, 1)
        ),
        heatmap_intensity = interpolate(
            property = "zoom",
            values = c(0, 9),
            stops = c(1, 3)
        ),
        heatmap_color = interpolate(
            property = "heatmap-density",
            values = seq(0, 1, 0.2),
            stops = c(
                "rgba(33,102,172,0)", "rgb(103,169,207)",
                "rgb(209,229,240)", "rgb(253,219,199)",
                "rgb(239,138,98)", "rgb(178,24,43)"
            )
        ),
        heatmap_opacity = 0.7
    )

## End(Not run)
</code></pre>


</div>