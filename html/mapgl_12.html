<div class="container">

<table style="width: 100%;"><tr>
<td>add_layer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a layer to a map from a source</h2>

<h3>Description</h3>

<p>In many cases, you will use <code>add_layer()</code> internal to other layer-specific functions in mapgl. Advanced users will want to use <code>add_layer()</code> for more fine-grained control over the appearance of their layers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_layer(
  map,
  id,
  type = "fill",
  source,
  source_layer = NULL,
  paint = list(),
  layout = list(),
  slot = NULL,
  min_zoom = NULL,
  max_zoom = NULL,
  popup = NULL,
  tooltip = NULL,
  hover_options = NULL,
  before_id = NULL,
  filter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>A map object created by the <code>mapboxgl()</code> or <code>maplibre()</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A unique ID for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of the layer (e.g., "fill", "line", "circle").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>The ID of the source, alternatively an sf object (which will be converted to a GeoJSON source) or a named list that specifies <code>type</code> and <code>url</code> for a remote source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_layer</code></td>
<td>
<p>The source layer (for vector sources).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paint</code></td>
<td>
<p>A list of paint properties for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout</code></td>
<td>
<p>A list of layout properties for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slot</code></td>
<td>
<p>An optional slot for layer order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_zoom</code></td>
<td>
<p>The minimum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_zoom</code></td>
<td>
<p>The maximum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popup</code></td>
<td>
<p>A column name containing information to display in a popup on click.  Columns containing HTML will be parsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooltip</code></td>
<td>
<p>A column name containing information to display in a tooltip on hover. Columns containing HTML will be parsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hover_options</code></td>
<td>
<p>A named list of options for highlighting features in the layer on hover.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>before_id</code></td>
<td>
<p>The name of the layer that this layer appears "before", allowing you to insert layers below other layers in your basemap (e.g. labels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>An optional filter expression to subset features in the layer.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The modified map object with the new layer added.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Load necessary libraries
library(mapgl)
library(tigris)

# Load geojson data for North Carolina tracts
nc_tracts &lt;- tracts(state = "NC", cb = TRUE)

# Create a Mapbox GL map
map &lt;- mapboxgl(
    style = mapbox_style("light"),
    center = c(-79.0193, 35.7596),
    zoom = 7
)

# Add a source and fill layer for North Carolina tracts
map %&gt;%
    add_source(
        id = "nc-tracts",
        data = nc_tracts
    ) %&gt;%
    add_layer(
        id = "nc-layer",
        type = "fill",
        source = "nc-tracts",
        paint = list(
            "fill-color" = "#888888",
            "fill-opacity" = 0.4
        )
    )

## End(Not run)
</code></pre>


</div>