<div class="container">

<table style="width: 100%;"><tr>
<td>add_fill_extrusion_layer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a fill-extrusion layer to a Mapbox GL map</h2>

<h3>Description</h3>

<p>Add a fill-extrusion layer to a Mapbox GL map
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_fill_extrusion_layer(
  map,
  id,
  source,
  source_layer = NULL,
  fill_extrusion_base = NULL,
  fill_extrusion_color = NULL,
  fill_extrusion_height = NULL,
  fill_extrusion_opacity = NULL,
  fill_extrusion_pattern = NULL,
  fill_extrusion_translate = NULL,
  fill_extrusion_translate_anchor = "map",
  visibility = "visible",
  slot = NULL,
  min_zoom = NULL,
  max_zoom = NULL,
  popup = NULL,
  tooltip = NULL,
  hover_options = NULL,
  before_id = NULL,
  filter = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>A map object created by the <code>mapboxgl</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A unique ID for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>The ID of the source, alternatively an sf object (which will be converted to a GeoJSON source) or a named list that specifies <code>type</code> and <code>url</code> for a remote source.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source_layer</code></td>
<td>
<p>The source layer (for vector sources).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_base</code></td>
<td>
<p>The base height of the fill extrusion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_color</code></td>
<td>
<p>The color of the fill extrusion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_height</code></td>
<td>
<p>The height of the fill extrusion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_opacity</code></td>
<td>
<p>The opacity of the fill extrusion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_pattern</code></td>
<td>
<p>Name of image in sprite to use for drawing image fills.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_translate</code></td>
<td>
<p>The geometry's offset. Values are <code>c(x, y)</code> where negatives indicate left and up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_extrusion_translate_anchor</code></td>
<td>
<p>Controls the frame of reference for <code>fill-extrusion-translate</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>visibility</code></td>
<td>
<p>Whether this layer is displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slot</code></td>
<td>
<p>An optional slot for layer order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_zoom</code></td>
<td>
<p>The minimum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_zoom</code></td>
<td>
<p>The maximum zoom level for the layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>popup</code></td>
<td>
<p>A column name containing information to display in a popup on click.  Columns containing HTML will be parsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooltip</code></td>
<td>
<p>A column name containing information to display in a tooltip on hover. Columns containing HTML will be parsed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hover_options</code></td>
<td>
<p>A named list of options for highlighting features in the layer on hover.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>before_id</code></td>
<td>
<p>The name of the layer that this layer appears "before", allowing you to insert layers below other layers in your basemap (e.g. labels).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>An optional filter expression to subset features in the layer.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The modified map object with the new fill-extrusion layer added.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(mapgl)

maplibre(
    style = maptiler_style("basic"),
    center = c(-74.0066, 40.7135),
    zoom = 15.5,
    pitch = 45,
    bearing = -17.6
) |&gt;
    add_vector_source(
        id = "openmaptiles",
        url = paste0(
            "https://api.maptiler.com/tiles/v3/tiles.json?key=",
            Sys.getenv("MAPTILER_API_KEY")
        )
    ) |&gt;
    add_fill_extrusion_layer(
        id = "3d-buildings",
        source = "openmaptiles",
        source_layer = "building",
        fill_extrusion_color = interpolate(
            column = "render_height",
            values = c(0, 200, 400),
            stops = c("lightgray", "royalblue", "lightblue")
        ),
        fill_extrusion_height = list(
            "interpolate",
            list("linear"),
            list("zoom"),
            15,
            0,
            16,
            list("get", "render_height")
        )
    )

## End(Not run)
</code></pre>


</div>