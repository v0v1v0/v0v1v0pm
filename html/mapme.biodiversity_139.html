<div class="container">

<table style="width: 100%;"><tr>
<td>portfolio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Portfolio methods</h2>

<h3>Description</h3>

<p><code>write_portfolio()</code> writes a processed biodiversity portfolio to disk.
Portfolio data will only be serialized to disk as a GeoPackage including
two tables: <code>metadata</code> and <code>indicators</code>. The <code>metadata</code> tables
includes, among other simple variables the geometries and a primary
key called <code>assetid</code>. The 'indicators' tables includes the foreign key
<code>assetid</code>, a column called <code>indicator</code> giving the name of the original
indicator as well as the standard indicator columns <code>datetime</code>, <code>variable</code>,
<code>unit</code>, and <code>value</code>. For convenience, use <code>read_portfolio()</code> to read
such a portfolio GeoPackage back into R.
</p>
<p><code>portfolio_long()</code> transforms a portfolio to long-format, potentially
dropping geometries in the process.
</p>
<p><code>portfolio_wide()</code> transforms a portfolio to wide-format, potentially
dropping geometries in the process.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_portfolio(x, dsn, ...)

read_portfolio(src, ...)

portfolio_long(x, indicators = NULL, drop_geoms = FALSE)

portfolio_wide(x, indicators = NULL, drop_geoms = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A portfolio object processed with <code>mapme.biodiversity</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dsn</code></td>
<td>
<p>A file path for the output file (must end with <code>gpkg</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments supplied to <code>write_sf()</code> or <code>read_sf()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>src</code></td>
<td>
<p>A character vector pointing to a GeoPackage that has been
previously written to disk via <code>write_portfolio()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indicators</code></td>
<td>
<p>If NULL (the default), all indicator columns will be detected
and transformed automatically. If a character vector is supplied, only
those indicators will be transformed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_geoms</code></td>
<td>
<p>A logical, indicating if geometries should be dropped.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>write_portfolio()</code> returns <code>dsn</code>, invisibly.
</p>
<p><code>read_portfolio()</code> returns an <code>sf</code> object object with nested list
columns for every indicator found in the GeoPackage source file.
</p>
<p><code>portfolio_long()</code> returns the portfolio object in long-format.
</p>
<p><code>portfolio_wide()</code> returns the portfolio object in wide-format.
</p>


</div>