<div class="container">

<table style="width: 100%;"><tr>
<td>scaleBar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Scale bar and inset map
</h2>

<h3>Description</h3>

<p>Utilities for plotting a map, adding a scale bar and north arrow, 
and adding a legend of colour scales.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scaleBar(crs, pos = "bottomright",   
	cex=1,
    pt.cex = 1.1*cex,
    seg.len=5*cex,
    title.cex=cex,
    outer=TRUE,...)
insetMap(crs, pos="bottomright",map="osm",zoom=0, 
		width=max(c(0.2, 1-par('plt')[2])), 
		col="#FF000090", borderMap=NULL,
			cropInset = terra::ext(-180, 180,  -47, 71),
			outer=TRUE, inset = c(0.1, 0.1), ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>

<p>A character string from which a projection 
can be extracted with <code>terra::crs</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>

<p>Position, as specified in the <code>legend</code> function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>scaling factor for the legend</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pt.cex</code></td>
<td>

<p>Scaling factor north arrow (can be zero).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seg.len</code></td>
<td>
<p>approximate length (in character units) of the scale bar.  can be zero.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title.cex</code></td>
<td>
<p>scaling for the distance text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer</code></td>
<td>
<p>If <code>TRUE</code>, put bar or map in the margin of the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>map</code></td>
<td>
<p>Either a Raster for the inset map or a string 
passed to <code>openmap</code>'s path argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>Zoom level if retrieving inset map from <code>openmap</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>Width of the inset map, as a fraction of the plot window</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Colour for shaded region of inset map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>borderMap</code></td>
<td>
<p>border style for the inset map (passed to <code>polygon</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cropInset</code></td>
<td>
<p>Crop the insert map to this extent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inset</code></td>
<td>
<p>how far from the border to put the inset map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments passed to <code>legend</code> for <code>scaleBar</code> 
or <code>polygon</code> (for <code>insetMap</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>scaleBar</code> produces a scale bar reflecting the distance travelling on a great circle
from the centre of the plot and travelling to the right.  The length of the bar is the width 
of 6 characters times <code>scale.cex</code>.  
</p>


<h3>Value</h3>

<p>A list containig coordinates of the elements of the scale bar.</p>


<h3>Author(s)</h3>

<p>Patrick Brown
</p>


<h3>Examples</h3>

<pre><code class="language-R">
Npoints = 20
set.seed(0)
myPoints = vect(
	cbind(runif(Npoints)-0.1, 51+runif(Npoints)), 
	atts=data.frame(
		y1=c(NA, rnorm(Npoints-1)), 
	    y2=c(sample(0:5, Npoints-1,replace=TRUE), NA)
	),
	crs=crsLL)



breaks = c(-100, -1, 1, Inf)
thecol = c('red','orange','blue')


oldpar = map.new(myPoints)
plot(myPoints,col = as.character(cut(
	myPoints$y1, breaks, thecol
)),add=TRUE)
scaleBar(myPoints, "bottomright",cex=1.25, seg.len=2)
legendBreaks("topleft", legend=breaks, col=thecol)

thedot = insetMap(crs=myPoints, 
	pos="bottomleft",
	 col='#00000000', lty=0, outer=FALSE, width=0.25)
points(thedot)

par(oldpar)
</code></pre>


</div>