<div class="container">

<table style="width: 100%;"><tr>
<td>tonerToTrans</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert RGB maps to semi-transparent
</h2>

<h3>Description</h3>

<p>Stamen-toner maps are 3-layer RGB rasters, which are converted
to single-layer rasters with indexed colours with whites becoming transparent. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">tonerToTrans(x,  pattern="(red|green|blue)$", power = 0.5,
	col='black',  threshold=Inf,  mostCommon=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A <code>RasterStack</code> with RGB colours, such as from <code>openmap</code> with <code>path='stamen-toner'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>string passed to <code>grep</code> to find RGB layers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>

<p>Values below 1 increase opacity, above 1 increases transparency
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>colour for resulting map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>colours above this value are transparent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mostCommon</code></td>
<td>
<p>integer vector, the most common colours are converted to transparent</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>SpatRast</code> with indexed colours
</p>


<h3>Author(s)</h3>

<p>Patrick Brown
</p>


<h3>See Also</h3>

<p><code>openmap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

	origMap = openmap(
	   c(-11, 9),
	  path='cartodb-nolabels',   
		buffer=2, verbose=TRUE
	)


	oldpar=	map.new(origMap, bg='green')
	plot(origMap, add=TRUE)
	
	transMap = tonerToTrans(origMap, mostCommon=1)
	names(transMap)
  map.new(transMap, bg='green')
	plot(transMap, add=TRUE)



	par(oldpar)


</code></pre>


</div>