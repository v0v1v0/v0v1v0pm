<div class="container">

<table style="width: 100%;"><tr>
<td>mappingWR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Static maps for World countries</h2>

<h3>Description</h3>

<p>Function to produce static maps for world countries.</p>


<h3>Usage</h3>

<pre><code class="language-R">mappingWR(data, var = NULL, colID = NULL,
          type = c("static", "interactive"),
          typeStatic = c("tmap", "choro.cart",
                         "typo", "bar"),
          unit = c("country", "nato", "ocde", "continent",
                   "region", "subregion", "region_wb",
                   "type_income", "type_economy"),
          matchWith = c("country", "iso2", "iso3",
                        "iso3_eh", "iso3_numeric",
                        "iso3_un", "iso2_wb", "iso3_wb",
                        "name_formal", "name_wb"),
          res = c("low", "hi"), dir = NULL, show_wr = TRUE,
          add_text = NULL, subset = NULL,
          facets = NULL, aggregation_fun = sum, aggregation_unit = NULL,
          options = mapping.options(legend.position = c("left", "bottom")))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame object with variables to display or a <code>WR</code> object produced by <code>WR</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>character value(s) or columns number(s) indicating the variable to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colID</code></td>
<td>
<p>character value or columns number indicating the column with unit names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>if generates static or interactive map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>typeStatic</code></td>
<td>
<p>type of static map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>the type of world statistical unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matchWith</code></td>
<td>
<p>the type of id to check:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>"country"</code> </td>
<td style="text-align: left;"> if country names). </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso2"</code> </td>
<td style="text-align: left;"> if iso2 code. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3"</code> </td>
<td style="text-align: left;"> if iso3 code. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_eh"</code> </td>
<td style="text-align: left;"> if iso3_eh code. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_numeric"</code> </td>
<td style="text-align: left;"> if iso3 numeric code. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_un"</code> </td>
<td style="text-align: left;"> if iso3 United Nations. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso2_wb"</code> </td>
<td style="text-align: left;"> if iso2 World Bank. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_wb"</code> </td>
<td style="text-align: left;"> if iso3 World Bank. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"name_formal"</code> </td>
<td style="text-align: left;"> if formal names. </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"name_wb"</code> </td>
<td style="text-align: left;"> if World Bank names.
</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>map resolution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>local directory in which shape files are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_wr</code></td>
<td>
<p>logical value set to TRUE indicating if the map entire map is drawn or only the coordinates linked to the input data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_text</code></td>
<td>
<p>character name indicating the column with text labels </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>a formula indicating the condition to subset the data. See the details section </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p>variable(s) name to split the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_fun</code></td>
<td>
<p>function to use when data are aggregated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_unit</code></td>
<td>
<p>variable name by which the unit are aggregated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>a list with options using <code>mapping.options</code> function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>data</code> is a object of class "WR" generated using the <code>WR</code> function, the arguments <code>unit</code>, <code>year</code>, and <code>matchWith</code> are ignored, because the object already contains the coordinates.
</p>
<p>The <code>aggregation_unit</code> provides an aggregation for a user specified variable in <code>data</code>, or for larger statistical unit, automatically provided when the function link the <code>data</code> with the coordinates.
</p>
<p><code>subset</code> provide an expression to subsetting the <code>data</code> using a formula, with the logical operators. For example data can be subsetting as follows: <code>~I("Variable 1" == "condition 1" &amp; "Variable 2" != "condition 2")</code> or for example, <code>~I("Variable 1" &gt; "condition 1" | "Variable 2" != "condition 2")</code>.
</p>


<h3>Value</h3>

<p>Return a map. For <code>tmap</code> type, the function also returns a <code>tmap</code> object.
</p>


<h3>References</h3>

<p>Giraud, T. and Lambert, N. (2016). cartography: Create and Integrate Maps in your R
Workflow. JOSS, 1(4). doi: 10.21105/joss.00054.
</p>
<p>Pebesma, E., 2018. Simple Features for R: Standardized Support for Spatial Vector Data.
The R Journal 10 (1), 439-446, https://doi.org/10.32614/RJ-2018-009
</p>
<p>Tennekes M (2018). “tmap: Thematic Maps in R.” _Journalstatisticaltical Software_, *84*(6),
1-39. doi: 10.18637/jss.v084.i06 (URL: https://doi.org/10.18637/jss.v084.i06).
</p>


<h3>See Also</h3>

<p><code>mappingEU</code>,<code>mappingIT,mappingUS</code>,<code>mappingDE</code>,<code>mappingUK</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data("popWR")
popWR &lt;- popWR


wr &lt;- WR(data = popWR, colID = "country_code",
         matchWith = "iso3_eh", check.unit.names = FALSE,
         res = "low")

###############
#   Statics   #
###############


mappingWR(data = wr, var = "total")


mappingWR(data = wr, var = c("male","female"))
mappingWR(data = wr, var = "total", subset = ~I(iso2 == "IT"))
mappingWR(data = wr, var = "total", subset = ~I(region == "Americas"))

mappingWR(data = wr, var = "total", facets = "continent")
mappingWR(data = wr, var = "total",
          subset = ~I(continent == "South America"),
          facets = "name_wb")



mappingWR(data = wr, var = "total", typeStatic = "choro.cart")


mappingWR(data = wr, var = "total", aggregation_unit = "continent",
          aggregation_fun = function(x) sum(x, na.rm = TRUE))
mappingWR(data = wr, var = "total", aggregation_unit = "subregion",
          aggregation_fun = function(x) sum(x, na.rm = TRUE))

## World countries

wr1 &lt;- loadCoordWR()
mappingWR(data = wr1)


###############
# Interactive #
###############


mappingWR(data = wr, var = "total", type = "interactive")
mappingWR(data = wr, var = c("male","female"), type = "interactive")
mappingWR(data = wr, var = "total", subset = ~I(iso2 == "IT"), type = "interactive")



mappingWR(data = wr, var = "total",
          subset = ~I(region == "Americas"), type = "interactive")
mappingWR(data = wr, var = "total", type = "interactive",
          aggregation_unit = "continent",
          aggregation_fun = function(x) sum(x, na.rm = TRUE))
mappingWR(data = wr, var = "total", type = "interactive",
          aggregation_unit = "subregion",
          aggregation_fun = function(x) sum(x, na.rm = TRUE))


</code></pre>


</div>