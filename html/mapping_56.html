<div class="container">

<table style="width: 100%;"><tr>
<td>WR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Object of class <code>WR</code>
</h2>

<h3>Description</h3>

<p>Creates an object with data and coordinate of class <code>WR</code> to use with <code>mapping</code> function or available in other R "maps" packages.</p>


<h3>Usage</h3>

<pre><code class="language-R">WR(data, colID = NULL,
   unit = c("country", "nato", "ocde", "continent",
            "region", "subregion", "region_wb",
            "type_income", "type_economy"),
   matchWith = c("country", "iso2", "iso3", "iso3_eh",
                 "iso3_numeric", "iso3_un", "iso2_wb",
                 "iso3_wb", "name_formal", "name_wb"),
   res = c("low", "hi"), show_wr = TRUE, subset = NULL,
   add = NULL, new_var_names = NULL,
   aggregation_fun = sum, aggregation_unit = NULL, aggregation_var = NULL,
   facets = NULL, check.unit.names = TRUE, dir = NULL, use_cache = TRUE,
   print = FALSE, use_internet = TRUE, crs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data.frame object with variables to display</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colID</code></td>
<td>
<p>character value or columns number indicating the column with unit names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>the type of world statistical unit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matchWith</code></td>
<td>
<p>the type of id to check:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>"country"</code> </td>
<td style="text-align: left;"> if country names </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso2"</code> </td>
<td style="text-align: left;"> if iso2 code </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3"</code> </td>
<td style="text-align: left;"> if iso3 code </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_eh"</code> </td>
<td style="text-align: left;"> if iso3_eh code </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_numeric"</code> </td>
<td style="text-align: left;"> if iso3 numeric code </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_un"</code> </td>
<td style="text-align: left;"> if iso3 United Nations </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso2_wb"</code> </td>
<td style="text-align: left;"> if iso2 World Bank </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"iso3_wb"</code> </td>
<td style="text-align: left;"> if iso3 World Bank </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"name_formal"</code> </td>
<td style="text-align: left;"> if formal names </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"name_wb"</code> </td>
<td style="text-align: left;"> if World Bank names
</td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>map resolution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_wr</code></td>
<td>
<p>logical value set to TRUE indicating if the entire map is drawn or only the coordinates linked to the input data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>a formula indicating the condition to subset the data, see the Details </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>a formula to add new transformed variables starting from the variables in the <code>data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_var_names</code></td>
<td>
<p>a character value or vector indicating the names of the new variables created in <code>add</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_fun</code></td>
<td>
<p>function to use when data are aggregated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_unit</code></td>
<td>
<p>variable name by which the unit are aggregated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_var</code></td>
<td>
<p>variable name with value to aggregate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p>variable(s) name to split the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.unit.names</code></td>
<td>
<p>a logical value indicating if the <code>colID</code> names are checked with <code>unit</code> names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>local directory in which shape files are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_cache</code></td>
<td>
<p>a logical value indicating whether use the cache</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>a logical value indicating whether print the nomatched names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_internet</code></td>
<td>
<p>a logical value indicating wheter the coordinates are downloaded from <a href="https://github.com/mappinguniverse/geospatial">https://github.com/mappinguniverse/geospatial</a>. If <code>FALSE</code> the maps downloaded during package installation will be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>coordinate reference system. Look at <code>st_crs</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function links (automatically) the id in the <code>data</code> and the coordinates for the given <code>unit</code>.
</p>
<p>Since the names (or codes) provided in the <code>data</code> given in input must be checked with the <code>unit</code> names (or codes) available in the package,  the <code>check.unit.names</code> provides a preliminary check.
</p>
<p><code>subset</code> provide an expression to subset the <code>data</code>, using a formula with the logical operators. For example, sub-samples of the data can be selected as follows: <code>~I("Variable 1" == "condition 1" &amp; "Variable 2" != "condition 2")</code> or for example, <code>~I("Variable 1" &gt; "condition 1" | "Variable 2" != "condition 2")</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>WR</code>, with data and coordinates to use in functions which perform map.
</p>


<h3>See Also</h3>

<p><code>EU</code>, <code>IT</code>, <code>US</code>, <code>DE</code>, <code>UK</code></p>


<h3>Examples</h3>

<pre><code class="language-R">
data("popWR")

wr &lt;- WR(data = popWR, colID = "country_code",
         matchWith = "iso3_eh", res = "low")
str(wr, 1)

wr1 &lt;- WR(data = popWR, colID = "country_code",
          matchWith = "iso3_eh", res = "low",
          add = ~I(male/total) + I(female/total))
str(wr1)

wr2 &lt;- WR(data = popWR, colID = "country_code",
          matchWith = "iso3_eh", res = "low",
          add = ~I(male/total) + I(female/total),
          new_var_names = c("Per_Male", "Per_Female"))
str(wr2)

</code></pre>


</div>