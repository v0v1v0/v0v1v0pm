<div class="container">

<table style="width: 100%;"><tr>
<td>match.map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Index map regions
</h2>

<h3>Description</h3>

<p>Assigns an index to each map region, useful for map coloring.
</p>


<h3>Usage</h3>

<pre><code class="language-R">match.map(database, regions, exact = FALSE, warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>

<p>character string naming a geographical database, or a map object.
See the documentation for <code>map</code> for more details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regions</code></td>
<td>

<p>a vector of names, or more generally regular expressions
to match against the map region names.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exact</code></td>
<td>
<p>If <code>TRUE</code>, only exact matches with <code>regions</code>
are considered.  Otherwise each element of <code>regions</code> is assumed
to be a regular expression.
Matches are always case-insensitive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>If <code>TRUE</code>, a warning is printed when an element of
<code>regions</code> matches nothing in the map.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an integer vector giving an index to each region in the database.
The index is the index of the string in <code>regions</code> which matches the
region name.  Matching is done as in <code>map</code>.
More specifically, all regions <code>r</code> whose name matches 
<code>regions[i]</code> will have index <code>i</code>.
Unmatched regions will have index <code>NA</code>.
Overlapping matches cause an error.
</p>
<p>This behavior differs from <code>pmatch</code> because a single entry
in <code>regions</code> may match several entries in the map.
</p>


<h3>Author(s)</h3>

<p>Tom Minka</p>


<h3>References</h3>

<p>Richard A. Becker, and Allan R. Wilks,
"Maps in S",
<em>AT&amp;T Bell Laboratories Statistics Research Report, 1991.</em>
</p>


<h3>See Also</h3>

<p><code>grep</code></p>


<h3>Examples</h3>

<pre><code class="language-R"># filled map showing Republican vote in 1900
# (figure 6 in the reference)
data(state, package = "datasets")
data(votes.repub)
state.to.map &lt;- match.map("state", state.name)
x &lt;- votes.repub[state.to.map, "1900"]
gray.colors &lt;- function(n) gray(rev(0:(n - 1))/n)
color &lt;- gray.colors(100)[floor(x)]
map("state", fill = TRUE, col = color); map("state", add = TRUE)
</code></pre>


</div>