<div class="container">

<table style="width: 100%;"><tr>
<td>mp_get_routes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract *routes* from Google Maps Directions API response</h2>

<h3>Description</h3>

<p>Extract *routes* from Google Maps Directions API response
</p>


<h3>Usage</h3>

<pre><code class="language-R">mp_get_routes(doc)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>doc</code></td>
<td>
<p>XML document with Google Maps Directions API response</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Line layer (class <code>sf</code>) representing routes.
</p>
<p>When document contains no routes ("ZERO_RESULTS" status), the function returns an empty line layer with <code>NA</code> in all fields.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(xml2)

doc = as_xml_document(response_directions_driving)
r = mp_get_routes(doc)
plot(r)

doc = as_xml_document(response_directions_transit)
r = mp_get_routes(doc)
plot(r)

## Not run: 

# Text file with API key
key = readLines("~/key")

# Transit example
doc = mp_directions(
  origin = c(34.81127, 31.89277),
  destination = c(34.781107, 32.085003),
  mode = "transit",
  alternatives = TRUE,
  key = key
)
r = mp_get_routes(doc)
plot(r)

# Duration in traffic
doc = mp_directions(
  origin = c(34.81127, 31.89277),
  destination = c(34.781107, 32.085003),
  departure_time = Sys.time(),
  alternatives = TRUE,
  key = key
)
r = mp_get_routes(doc)
plot(r)

# Using waypoints
doc = mp_directions(
  origin = c(34.81127, 31.89277),
  waypoints = rbind(c(35.01582, 31.90020), c(34.84246, 31.85356)),
  destination = c(34.781107, 32.085003),
  key = key
)
r = mp_get_routes(doc)
plot(r)


## End(Not run)
</code></pre>


</div>