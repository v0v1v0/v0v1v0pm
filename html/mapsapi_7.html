<div class="container">

<table style="width: 100%;"><tr>
<td>mp_get_segments</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract *route segments* from a Google Maps Directions API response</h2>

<h3>Description</h3>

<p>Extract *route segments* from a Google Maps Directions API response
</p>


<h3>Usage</h3>

<pre><code class="language-R">mp_get_segments(doc)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>doc</code></td>
<td>
<p>XML document with Google Maps Directions API response</p>
</td>
</tr></table>
<h3>Value</h3>

<p>Line layer (class <code>sf</code>) representing route segments
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(xml2)

doc = as_xml_document(response_directions_driving)
seg = mp_get_segments(doc)
plot(seg)

doc = as_xml_document(response_directions_transit)
seg = mp_get_segments(doc)
plot(seg)

## Not run: 

# Text file with API key
key = readLines("~/key")

# Transit example
doc = mp_directions(
  origin = c(34.81127, 31.89277),
  destination = c(34.781107, 32.085003),
  mode = "transit",
  alternatives = TRUE,
  key = key
)
seg = mp_get_segments(doc)
plot(seg)

# Using waypoints
doc = mp_directions(
  origin = c(34.81127, 31.89277),
  waypoints = rbind(c(35.01582, 31.90020), c(34.84246, 31.85356)),
  destination = c(34.781107, 32.085003),
  alternatives = TRUE,
  key = key
)
seg = mp_get_segments(doc)
plot(seg)


## End(Not run)
</code></pre>


</div>