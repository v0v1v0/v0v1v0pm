<div class="container">

<table style="width: 100%;"><tr>
<td>ms_generate_map</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate maps for 'mapscanner' use</h2>

<h3>Description</h3>

<p>Generate a map image for a specified area or bounding box, by downloading
tiles from <a href="https://www.mapbox.com/">https://www.mapbox.com/</a>. Map is automatically saved in both
<code>.pdf</code> and <code>.png</code> formats, by default in current working directory, or
alternative location when <code>mapname</code> includes the full path.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ms_generate_map(
  bbox,
  max_tiles = 16L,
  mapname = NULL,
  bw = TRUE,
  style = "light",
  raster_brick = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>Either a string specifying the location, or a numeric bounding
box as a single vector of (xmin, ymin, xmax, ymax), or a 2-by-2 matrix with
columns of (min, max) and rows of (x, y), respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_tiles</code></td>
<td>
<p>Maximum number of tiles to use to create map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mapname</code></td>
<td>
<p>Name of map to be produced, optionally including full path.
Extension will be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>If <code>FALSE</code>, print maps in colour, otherwise black-and-white. Note
that the default <code>style = "light"</code> is monochrome, and that this parameter
only has effect for <code>style</code> values of <code>"streets"</code> or <code>"outdoors"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>The style of the map to be generated; one of 'light', 'streets',
or 'outdoors', rendered in black and white. See
<a href="https://docs.mapbox.com/api/maps/#styles/">https://docs.mapbox.com/api/maps/#styles/</a> for examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raster_brick</code></td>
<td>
<p>Instead of automatically downloading tiles within a given
<code>bbox</code>, a pre-downloaded <code>raster::rasterBrick</code> object may be submitted and
used to generate the <code>.pdf</code> and <code>.png</code> equivalents.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Invisibly returns a <code>rasterBrick</code> object from the <span class="pkg">raster</span>
package containing all data used to generate the map.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# code used to generate internal files for a portion of Omaha:
bb &lt;- osmdata::getbb ("omaha nebraska")
shrink &lt;- 0.3 # shrink that bb to 30% size
bb &lt;- t (apply (bb, 1, function (i) {
    mean (i) + c (-shrink, shrink) * diff (i) / 2
}))
ms_generate_map (bb, max_tiles = 16L, mapname = "omaha")

## End(Not run)

</code></pre>


</div>