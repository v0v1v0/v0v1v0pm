<div class="container">

<table style="width: 100%;"><tr>
<td>get_tiles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get basemap tiles from map servers</h2>

<h3>Description</h3>

<p>Get map tiles based on a spatial object extent. Maps can be
fetched from various map servers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_tiles(
  x,
  provider = "OpenStreetMap",
  zoom,
  crop = FALSE,
  project = TRUE,
  verbose = FALSE,
  apikey,
  cachedir,
  forceDownload = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>sf, sfc, bbox, SpatRaster, SpatVector or SpatExtent object.
If <code>x</code> is a SpatExtent it
must express coordinates in lon/lat WGS84 (epsg:4326).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>provider</code></td>
<td>
<p>tile server to get the tiles from. It can be one of
the builtin providers (see Details for the list) or a named list produced
by create_provider (see Examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoom</code></td>
<td>
<p>zoom level (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crop</code></td>
<td>
<p>TRUE if results should be cropped to the specified x extent,
FALSE otherwise. If x is an sf object with one POINT, crop is set to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>project</code></td>
<td>
<p>if TRUE, the output is projected to the crs of x.
If FALSE the output uses "EPSG:3857" (Web Mercator).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if TRUE, tiles filepaths, zoom level and
attribution are displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apikey</code></td>
<td>
<p>API key. Not needed for Thunderforest or Stadia servers if
environment variables named "THUNDERFOREST_MAPS" or "STADIA_MAPS" are set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cachedir</code></td>
<td>
<p>name of a folder used to cache tiles. If not set, tiles
are cached in a tempdir folder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forceDownload</code></td>
<td>
<p>if TRUE, existing cached tiles may be overwritten.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Zoom levels are described in the OpenStreetMap wiki:
<a href="https://wiki.openstreetmap.org/wiki/Zoom_levels">https://wiki.openstreetmap.org/wiki/Zoom_levels</a>. <br><br>
Providers: <br>
"OpenStreetMap", "OpenStreetMap.DE", "OpenStreetMap.France",
"OpenStreetMap.HOT", "OpenTopoMap", <br>
"Stadia.Stamen.Toner", "Stadia.Stamen.TonerBackground",
"Stadia.Stamen.TonerLines", "Stadia.Stamen.TonerLabels",
"Stadia.Stamen.TonerLite",
"Stadia.Stamen.Watercolor", "Stadia.Stamen.Terrain",
"Stadia.Stamen.TerrainBackground",
"Stadia.Stamen.TerrainLabels", <br>
"Esri.WorldStreetMap",
"Esri.WorldTopoMap", "Esri.WorldImagery", "Esri.WorldTerrain",
"Esri.WorldShadedRelief", "Esri.OceanBasemap", "Esri.NatGeoWorldMap",
"Esri.WorldGrayCanvas", <br>
"CartoDB.Positron", "CartoDB.PositronNoLabels",
"CartoDB.PositronOnlyLabels", "CartoDB.DarkMatter",
"CartoDB.DarkMatterNoLabels",
"CartoDB.DarkMatterOnlyLabels", "CartoDB.Voyager", "CartoDB.VoyagerNoLabels",
"CartoDB.VoyagerOnlyLabels", <br>
"Thunderforest.OpenCycleMap", "Thunderforest.Transport",
"Thunderforest.TransportDark", "Thunderforest.SpinalMap",
"Thunderforest.Landscape",
"Thunderforest.Outdoors", "Thunderforest.Pioneer",
"Thunderforest.MobileAtlas",
"Thunderforest.Neighbourhood"
</p>


<h3>Value</h3>

<p>A SpatRaster is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(sf)
library(maptiles)
nc &lt;- st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
nc_osm &lt;- get_tiles(nc, crop = TRUE, zoom = 6)
plot_tiles(nc_osm)

# Create a provider from a custom url
osm_tiles &lt;- create_provider(
  name = "osm_tiles",
  url = "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
  citation = "Â© OpenStreetMap contributors."
)
# Download tiles and compose raster (SpatRaster)
nc_osm2 &lt;- get_tiles(
  x = nc, provider = osm_tiles, crop = FALSE,
  zoom = 6, project = FALSE, verbose = TRUE
)
# Plot the tiles
plot_tiles(nc_osm2)
# Add attribution
mtext(get_credit(osm_tiles), side = 1, line = -1)

## End(Not run)
</code></pre>


</div>