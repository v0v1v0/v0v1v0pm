<div class="container">

<table style="width: 100%;"><tr>
<td>predict.topics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
topic predict
</h2>

<h3>Description</h3>

<p> Predict function for Topic Models </p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'topics'
predict( object, newcounts, loglhd=FALSE, ... )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An output object from the <code>topics</code> function, or the corresponding matrix of estimated topics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newcounts</code></td>
<td>
<p>  An <code>nrow(object$theta)</code>-column matrix of multinomial phrase/category counts for new documents/observations. 
Can be either a simple <code>matrix</code> or a <code>simple_triplet_matrix</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loglhd</code></td>
<td>
<p> Whether or not to calculate and return <code>sum(x*log(p))</code>, 
the un-normalized log likelihood. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to the undocumented internal <code>tpx*</code> functions. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> Under the default mixed-membership topic model, this function uses sequential quadratic programming to fit topic weights <code class="reqn">\Omega</code> for new documents.   
Estimates for each new <code class="reqn">\omega_i</code> are, conditional on <code>object$theta</code>, 
MAP in the (K-1)-dimensional logit transformed parameter space.  </p>


<h3>Value</h3>

<p> The output is an <code>nrow(newcounts)</code> by <code>object$K</code> matrix of document topic weights, or a list with including these weights as <code>W</code> and the log likelihood as <code>L</code>. </p>


<h3>Author(s)</h3>

<p>Matt Taddy <a href="mailto:mataddy@gmail.com">mataddy@gmail.com</a>
</p>


<h3>References</h3>

<p>Taddy (2012), <em>On Estimation and Selection for Topic Models</em>.
<a href="http://arxiv.org/abs/1109.4518">http://arxiv.org/abs/1109.4518</a>
</p>


<h3>See Also</h3>

<p>topics, plot.topics, summary.topics, congress109
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Simulate some data
omega &lt;- t(rdir(500, rep(1/10,10)))
theta &lt;- rdir(10, rep(1/1000,1000))
Q &lt;- omega%*%t(theta)
counts &lt;- matrix(ncol=1000, nrow=500)
totals &lt;- rpois(500, 200)
for(i in 1:500){ counts[i,] &lt;- rmultinom(1, size=totals[i], prob=Q[i,]) }

## predict omega given theta
W &lt;- predict.topics( theta, counts )
plot(W, omega, pch=21, bg=8)

</code></pre>


</div>