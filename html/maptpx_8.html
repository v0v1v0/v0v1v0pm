<div class="container">

<table style="width: 100%;"><tr>
<td>topicVar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
topic variance
</h2>

<h3>Description</h3>

<p> Tools for looking at the variance of document-topic weights. </p>


<h3>Usage</h3>

<pre><code class="language-R">topicVar(counts, theta, omega) 
logit(prob)
expit(eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>A matrix of multinomial response counts, as inputed to the <code>topics</code> or <code>predict.topics</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>A fitted topic matrix, as ouput from the <code>topics</code> or <code>predict.topics</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>omega</code></td>
<td>
<p>A fitted document topic-weight matrix, as ouput from the <code>topics</code> or <code>predict.topics</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>A probability vector (positive and sums to one) or a matrix with probability vector rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>A vector of the natural exponential family parameterization for a probability vector (with first category taken as null) or a matrix with each row the NEF parameters for a single observation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> These function use the natural exponential family (NEF) parametrization of a probability vector <code class="reqn">q_0 ... q_{K-1}</code> with the first element corresponding to a 'null' category; that is, with 
<code class="reqn">NEF(q) = e_1 ... e_{K-1}</code> and setting <code class="reqn">e_0 = 0</code>, the probabilities are
</p>
<p style="text-align: center;"><code class="reqn">q_k = \frac{exp[e_k]}{1 + \sum exp[e_j]}.</code>
</p>
 
<p>Refer to Taddy (2012) for details. </p>


<h3>Value</h3>

 <p><code>topicVar</code> returns an array with dimensions <code class="reqn">(K-1,K-1,n)</code>, where <code>K=ncol(omega)=ncol(theta)</code> and <code>n = nrow(counts) = nrow(omega)</code>, filled with the posterior covariance matrix for the NEF parametrization of each row of <code>omega</code>.  Utility <code>logit</code> performs the NEF transformation and <code>expit</code> reverses it.  </p>


<h3>Author(s)</h3>

<p>Matt Taddy <a href="mailto:mataddy@gmail.com">mataddy@gmail.com</a>
</p>


<h3>References</h3>

<p>Taddy (2012), <em>On Estimation and Selection for Topic Models</em>.
<a href="http://arxiv.org/abs/1109.4518">http://arxiv.org/abs/1109.4518</a>
</p>


<h3>See Also</h3>

<p>topics, predict.topics
</p>


</div>