<div class="container">

<table style="width: 100%;"><tr>
<td>mapshot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Save mapview or leaflet map as HTML and/or image using webshot</h2>

<h3>Description</h3>

<p>Save a mapview or leaflet map as <code>.html</code> index file or <code>.png</code>,
<code>.pdf</code>, or <code>.jpeg</code> image.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mapshot(
  x,
  url = NULL,
  file = NULL,
  remove_controls = c("zoomControl", "layersControl", "homeButton", "scaleBar",
    "drawToolbar", "easyButton"),
  ...
)

mapshot2(
  x,
  url = NULL,
  file = NULL,
  remove_controls = c("zoomControl", "layersControl", "homeButton", "scaleBar",
    "drawToolbar", "easyButton", "control"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>mapview</code> or <code>leaflet</code> object (or any other hmtlwidget).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>Output <code>.html</code> file. If not supplied and 'file' is specified,
a temporary index file will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Output <code>.png</code>, <code>.pdf</code>, or <code>.jpeg</code> file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_controls</code></td>
<td>
<p><code>character</code> vector of control buttons to be removed
from the map when saving to file. Any combination of
"zoomControl", "layersControl", "homeButton", "scaleBar", "drawToolbar",
"easyButton". If set to <code>NULL</code> nothing will be removed. Ignord if <code>x</code>
is not a mapview or leaflet map.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed on to <code>saveWidget</code>
and/or <code>webshot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>mapshot uses <code>webshot</code> from the webshot package.
mapshot2 uses <code>webshot</code> from the webshot2 package.
</p>
<p>mapshot can be used to save both leaflet and mapview maps as html or png
files or both. In theory, it should also work for any and all other htmlwidgets
but has not been tested extensively for other htmlwidgets.
</p>
<p>In case you want to save larger maps mapshot is likely to fail. You can try
setting <code>selfcontained = FALSE</code> to avoid errors and create a valid
local html file.
</p>
<p>mapshot2 uses <code>saveWidget</code> and <code>webshot</code>
to save maps as <code>.html</code> and/or <code>.png|.jpg</code> files, respectively.
<code>webshot</code> assumes a findable installation of some Chrome
browser variant on your system. If you see the the following error:
</p>
<p><code>
  `google-chrome` and `chromium-browser` were not found.
  Try setting the CHROMOTE_CHROME environment variable or adding one of these
  executables to your PATH.
</code>
</p>
<p>it means that <code>find_chrome</code> cannot find a Chrome based
browser in your system. Please see
<a href="https://github.com/rstudio/chromote#specifying-which-browser-to-use">https://github.com/rstudio/chromote#specifying-which-browser-to-use</a>
for more details.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>mapshot()</code>: Save mapview or leaflet map as HTML and/or image using webshot
</p>
</li>
<li> <p><code>mapshot2()</code>: Save mapview or leaflet map as HTML and/or image using webshot2
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>webshot</code>, <code>saveWidget</code>.
</p>
<p><code>webshot</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
  library(utils)

  m = mapview(breweries)
  html_fl = tempfile(fileext = ".html")
  png_fl = tempfile(fileext = ".png")

  ## create standalone .html
  mapshot(m, url = html_fl)
  browseURL(html_fl)

  ## create standalone .png; temporary .html is removed automatically unless
  ## 'remove_url = FALSE' is specified
  mapshot(m, file = png_fl)
  browseURL(png_fl)
  mapshot(m, file = png_fl,
          remove_controls = c("homeButton", "layersControl"))
  browseURL(png_fl)

  ## create .html and .png
  mapshot(m, url = html_fl, file = png_fl)
  browseURL(png_fl)
  browseURL(html_fl)

## End(Not run)

## Not run: 
  library(utils)

  m = mapview(breweries)
  html_fl = tempfile(fileext = ".html")
  png_fl = tempfile(fileext = ".png")

  ## create standalone .html
  mapshot2(m, url = html_fl)
  browseURL(html_fl)

  ## create standalone .png; temporary .html is removed automatically unless
  ## 'remove_url = FALSE' is specified
  mapshot2(m, file = png_fl)
  browseURL(png_fl)
  mapshot2(m, file = png_fl,
           remove_controls = c("homeButton", "layersControl"))
  browseURL(png_fl)

  ## create .html and .png
  mapshot2(m, url = html_fl, file = png_fl)
  browseURL(png_fl)
  browseURL(html_fl)

## End(Not run)

</code></pre>


</div>