<div class="container">

<table style="width: 100%;"><tr>
<td>compose.ar1</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Compose and Decompose AR(1) Process </h2>

<h3>Description</h3>

<p><code>compose.ar1</code> composes AR(1) process realization by given vector(s)
of innovations.
</p>
<p><code>decompose.ar1</code> extracts AR(1) process residuals from time
series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compose.ar1(arcoef, innov, init = 0, xregcoef = 0, xreg = NULL,
            init.xreg = rep(0, length(xregcoef)))

decompose.ar1(arcoef, data, init = NA, xregcoef = 0, xreg = NULL,
              init.xreg = rep(NA, length(xregcoef)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>arcoef</code></td>
<td>

<p>A number specifying autoregression coefficient.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innov</code></td>
<td>

<p>A univariate or multivariate time series containing the innovations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A univariate or multivariate time series containing the process
realization(s).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>

<p>A number specifying the value of the process just prior to the start
value in <code>innov</code>/<code>data</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xregcoef</code></td>
<td>

<p>A vector specifying coefficients for the external regressors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xreg</code></td>
<td>

<p>A matrix-like object of the same row count as
<code>innov</code>/<code>data</code>, specifying the values of external
regressors. The default <code>NULL</code> means zeroes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.xreg</code></td>
<td>

<p>A vector specifying the values of external regressors just prior to
the start values in <code>xreg</code>. The default <code>NULL</code> means
zeroes.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Here <dfn>AR(1) process with external regressors</dfn> is a linear
regresson with AR(1) model for the error term:
</p>
<p style="text-align: center;"><code class="reqn">y_t = b_1 x_{t, 1} + \dots + b_k x_{t, k} + z_t</code>
</p>

<p style="text-align: center;"><code class="reqn">z_t = a z_{t-1} + e_t</code>
</p>

<p>Use <code>xreg = NULL</code> for the regular AR(1) process.
</p>


<h3>Value</h3>

<p>An object of the same type and dimensions as <code>innov</code>/<code>data</code>
(typically time series).
</p>


<h3>See Also</h3>

<p><code>arima</code> for more general <code class="reqn">ARMA(p, q)</code> processes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Simple
e &lt;- ts(c(0, 1, 0, 1, 0), freq = 12)
compose.ar1(0.1, e)
compose.ar1(0.1, e, 1)

x &lt;- ts(c(0, 1, 0, 1, 0), freq = 12)
decompose.ar1(0.1, x)
decompose.ar1(0.1, x, 1)

## Multiseries
compose.ar1(0.1, ts(cbind(0, 1)))
compose.ar1(0.1, ts(cbind(c(0, 1, 0), c(1, 0, 1))))

decompose.ar1(0.1, ts(cbind(0, 1)))
decompose.ar1(0.1, ts(cbind(c(0, 1, 0), c(1, 0, 1))))

## External regressors
xreg1 &lt;- rep(2, 5)
xreg2 &lt;- matrix(rep(c(2, 1), each = 5), 5, 2)
e &lt;- ts(c(0, 1, 0, 1, 0), freq = 12)
compose.ar1(0.1, e, xregcoef = 0.5, xreg = xreg1)
compose.ar1(0.1, e, xregcoef = 0.5, init = 0, xreg = xreg1, init.xreg = -2)
compose.ar1(0.1, e, xregcoef = c(1, -1), xreg = xreg2)

x &lt;- ts(c(0, 1, 0, 1, 0), freq = 12)
decompose.ar1(0.1, x, xregcoef = 0.5, xreg = xreg1)
decompose.ar1(0.1, x, xregcoef = 0.5, init = 0, xreg = xreg1, init.xreg = -2)
decompose.ar1(0.1, x, xregcoef = c(1, -1), xreg = xreg2)

## Back-test
a &lt;- 0.5
innov &lt;- ts(rnorm(10), frequency = 12)
init &lt;- 1
xrcoef &lt;- seq(-0.1, 0.1, length.out = 3)
xreg &lt;- matrix(1:30, 10, 3)
init.xreg &lt;- 1:3
x &lt;- compose.ar1(a, innov, init, xrcoef, xreg, init.xreg)
r &lt;- decompose.ar1(a, x, init, xrcoef, xreg, init.xreg)
stopifnot(all.equal(innov, r))
</code></pre>


</div>