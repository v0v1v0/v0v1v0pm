<div class="container">

<table style="width: 100%;"><tr>
<td>march.dataset.loadFromDataFrame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct a dataset from a data.frame or a matrix.</h2>

<h3>Description</h3>

<p>The function creates a <code>march.Dataset-class</code> from a <em>dataframe</em> or a <em>matrix</em>, where each row (resp. column) represents 
an independent data series when <em>MARGIN</em> is 2 (resp. 1).
</p>


<h3>Usage</h3>

<pre><code class="language-R">march.dataset.loadFromDataFrame(
  dataframe,
  MARGIN = 2,
  weights = NA,
  missingDataRep = NA,
  covariates = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataframe</code></td>
<td>
<p>A <code>data.frame</code> containing the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MARGIN</code></td>
<td>
<p>The dimension of the matrix/data.frame that contains the sequences and of the covariates (resp 1 for the column, 
2 for the rows).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>If specified, contains the weight of each sequence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missingDataRep</code></td>
<td>
<p>If specified, the symbol representing a missing data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>If specified, a three dimensional array of integers, representing the covariates. The data for the i-th covariates
should be in [, , i]. If the data are column-wise (respectively row-wise), each table of covariates should be column-wise (respectively row-wise).
If we only have one covariate, we can simply pass a two-dimensional array. The covariates should be coded as integers from 1 to the number of possible outputs.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>march.Dataset-class</code> object containing the data contructed from the matrix or data.frame.
</p>


<h3>Author(s)</h3>

<p>Ogier Maitre
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create a march dataset from the sleep_df dataframe included in the march package.
sleep &lt;- march.dataset.loadFromDataFrame(sleep_df, MARGIN = 2,
                            weights = NA, missingDataRep = NA)

# Each row of sleep_df contains the data for one subject, so MARGIN was set to 2.

# Most of the subjects have been observed during 7 consecutive years,
# but some subjects have been observed for only 5 or 6 years.
# To load only the first 5 observations of each subject:
sleep.5 &lt;- march.dataset.loadFromDataFrame(sleep_df[,1:5], MARGIN = 2 ,
                            weights = NA, missingDataRep = NA)

# The sleep data are not weighted.
# To add a weighting variable taking value 1.5 for the 500 first subjects
# and value 0.5 for the 500 next:
weighting &lt;- rep(1.5,1000)
weighting[501:1000] &lt;- rep(0.5,500)
sleep.w &lt;- march.dataset.loadFromDataFrame(sleep_df, MARGIN = 2,
                           weights = weighting, missingDataRep = NA)

# We add two covariates to the sleep data. The first is the sex of the subject
# (1 for male, 2 for female), and the second is the age range (1 for younger
# than 40, 2 for older than 40). We suppose that the first 250 sequences 
# represent men older than 40, the next 250 sequences men younger than 40,
# the next 250 women younger than 40 and the last 250 women older than 40.
# We build the two tables of covariates and bind them together to obtain a
# three dimensional array that can be handled by MARCH.
covariates.sex&lt;-rbind(matrix(1,500,7),matrix(1,500,7))
covariates.age&lt;-rbind(matrix(1,250,7), matrix(2,250,7), matrix(1,250,7),
                    matrix(2,250,7))
covariates&lt;-array(0,c(1000,7,2))
covariates[ , ,1]&lt;-covariates.sex
covariates[ , ,2]&lt;-covariates.age
# We build a MARCH dataset object containing these covariates.
sleep.covariates&lt;-march.dataset.loadFromDataFrame(sleep_df,covariates=covariates)
</code></pre>


</div>