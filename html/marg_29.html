<div class="container">

<table style="width: 100%;"><tr>
<td>residuals.rsm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute Residuals for Regression-Scale Models
</h2>

<h3>Description</h3>

<p>Computes one of the six types of residuals available for 
regression-scale models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'rsm'
residuals(object, type = c("deviance", "pearson", 
                           "response", "r.star", "prob", "deletion"),
          weighting = "observed", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>an object inheriting from class <code>rsm</code> representing a fitted
regression-scale model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>character string; defines the type of residuals, with choices 
<code>"deviance"</code>, <code>"pearson"</code>, <code>"response"</code>, 
<code>"r.star"</code>, <code>"prob"</code> or <code>"deletion"</code>; the first 
is the default.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighting</code></td>
<td>

<p>character string; defines the weight matrix that should be used in
the calculation of the residuals and diagnostics.  Possible 
choices are <code>"observed"</code>, <code>"score"</code>, <code>"deviance"</code> 
and <code>"max"</code>; see <cite>Jorgensen (1984)</cite> for their 
definition.  The default is <code>"observed"</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>absorbs any additional argument.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a method for the function <code>residuals()</code> for objects
inheriting from class <code>rsm</code>.  As several types of residuals are
available for <code>rsm</code> objects, there is an additional optional
argument <code>type</code>.  The <code>"deviance"</code>, <code>"pearson"</code>,
<code>"r.star"</code>, <code>"prob"</code> and <code>"deletion"</code> residuals are
derived from the final <abbr><span class="acronym">IRLS</span></abbr> fit.  The <code>"response"</code> residuals 
are standardized residuals on the scale of the response, the 
<code>"prob"</code> residuals are on the <code class="reqn">U(0,1)</code> scale, 
whereas the remaining ones follow approximately the standard normal 
distribution.
</p>
<p>The default weighting scheme used is <code>"observed"</code>.  The weights
used are the values stored in the <code>q2</code> component of the 
<code>rsm</code> object.  Some of the <abbr><span class="acronym">IRLS</span></abbr> weights 
returned by <code>rsm</code> may be negative if the error distribution 
is Student's t or user-defined.  In order to avoid missing values 
in the residuals, the default weighting scheme used is then 
<code>"score"</code> unless otherwise specified.  The <code>"score"</code> 
weights are also used by default if Huber's least favourable error 
distribution is used.
</p>
<p>More details, in particular of the use of these residuals, are 
given in <cite>Brazzale (2000, Section 6.3.1).</cite>
</p>


<h3>Value</h3>

<p>A numeric vector of residuals.  See <cite>Davison and Snell (1991)</cite> 
for detailed definitions of each type of residual.
</p>


<h3>Note</h3>

<p>The <code>summary</code> method for <code>rsm</code> objects produces 
response residuals.  The <code>residuals</code> component of a <code>rsm</code> 
object contains the response residuals.
</p>


<h3>References</h3>

<p>Brazzale, A. R. (2000) <em>Practical Small-Sample Parametric
Inference</em>.  Ph.D. Thesis N. 2230, Department of Mathematics, Swiss
Federal Institute of Technology Lausanne.
</p>
<p>Davison, A. C. and Snell, E. J. (1991) Residuals and diagnostics.  
In <em>Statistical Theory and Modelling: In Honour of Sir David 
Cox</em> (eds. D.V. Hinkley, N. Reid, and E.J. Snell), 83–106.  London:
Chapman \&amp; Hall.
</p>
<p>Davison, A. C. and Tsai, C.-L. (1992) Regression model diagnostics. 
<em>Int. Stat. Rev.</em>, <b>60</b>, 337–353.
</p>
<p>Jorgensen, B. (1984).  The delta algorithm and GLIM.  
<em>Int. Stat. Rev.</em>, <b>52</b>, 283–300.
</p>


<h3>See Also</h3>

<p><code>rsm.object</code>, <code>residuals</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Sea Level Data
data(venice)
attach(venice)
Year &lt;- 1:51/51
c11 &lt;- cos(2*pi*1:51/11) ; s11 &lt;- sin(2*pi*1:51/11)
c19 &lt;- cos(2*pi*1:51/18.62) ; s19 &lt;- sin(2*pi*1:51/18.62)
venice.rsm &lt;- rsm(sea ~ Year + I(Year^2) + c11 + s11 + c19 + s19, 
                  family = extreme)
##
residuals(venice.rsm)
## deviance residuals with observed weights
residuals(venice.rsm, type = "r.star", weighting = "score")
## r* residuals with score weights
detach()
</code></pre>


</div>