<div class="container">

<table style="width: 100%;"><tr>
<td>get.depth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Get depth data by clicking on a map
</h2>

<h3>Description</h3>

<p>Outputs depth information based on points selected by clicking on a map
</p>


<h3>Usage</h3>

<pre><code class="language-R">get.depth(mat, x, y=NULL, locator=TRUE, distance=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>

<p>Bathymetric data matrix of class <code>bathy</code>, as imported with <code>read.bathy</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Either a list of two elements (numeric vectors of longitude and latitude), a 2-column matrix or data.frame of longitudes and latitudes, or a numeric vector of longitudes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>Either <code>NULL</code> (default) or a numerical vector of latitudes. Ignored if <code>x</code> is not a numeric vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locator</code></td>
<td>

<p>Logical. Whether to choose data points interactively with a map or not. If <code>TRUE</code> (default), a bathymetric map must have been plotted and both <code>x</code> and <code>y</code> are both ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>

<p>whether to compute the haversine distance (in km) from the first data point on (default is <code>FALSE</code>). Only available when at least two points are provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments to be passed to <code>locator</code> when the interactive mode is used (<code>locator=TRUE</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>get.depth</code> allows the user to get depth data by clicking on a map created with <code>plot.bathy</code> or by providing coordinates of points of interest. This function uses the <code>locator</code> function (<code>graphics</code> package); after creating a map with <code>plot.bathy</code>, the user can click on the map once or several times (if <code>locator=TRUE</code>), press the Escape button, and get the depth of those locations in a three-coumn data.frame (longitude, latitude and depth). Alternatively, when <code>locator=FALSE</code>, the user can submit a list of longitudes and latitudes, a two-column matrix or data.frame of longitudes and latitudes (as input for <code>x</code>), or one vector of longitudes (<code>x</code>) and one vector of latitudes (<code>y</code>). The non-interactive mode is well suited to get depth information for each point provided by GPS tracking devices. While <code>get.transect</code> gets every single depth value available in the bathymetric matrix between two points along a user-defined transect, <code>get.depth</code> only provides depth data for the specific points provided as input by the user.
</p>


<h3>Value</h3>

<p>A data.frame with at least, longitude, latitude and depth with one line for each point of interest. If <code>distance=TRUE</code>, a fourth column containing the kilometric distance from the first point is added.
</p>


<h3>Author(s)</h3>

<p>Benoit Simon-Bouhet and Eric Pante
</p>


<h3>See Also</h3>

<p><code>path.profile</code>, <code>get.transect</code>, <code>read.bathy</code>, <code>summary.bathy</code>, <code>subsetBathy</code>, <code>nw.atlantic</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load NW Atlantic data and convert to class bathy
data(nw.atlantic)
atl &lt;- as.bathy(nw.atlantic)

# create vectors of latitude and longitude
lon &lt;- c(-70, -65, -63, -55)
lat &lt;- c(33, 35, 40, 37)

# a simple example
plot(atl, lwd=.5)
points(lon,lat,pch=19,col=2)

# Use get.depth to get the depth for each point
get.depth(atl, x=lon, y=lat, locator=FALSE)

# alternativeley once the map is plotted, use the iteractive mode:
## Not run: 
get.depth(atl, locator=TRUE, pch=19, col=3)

## End(Not run)
# click several times and press Escape

</code></pre>


</div>