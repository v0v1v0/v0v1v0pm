<div class="container">

<table style="width: 100%;"><tr>
<td>get.transect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute approximate cross section along a depth transect
</h2>

<h3>Description</h3>

<p>Compute the depth along a linear transect which bounds are specified by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get.transect(mat, x1, y1, x2, y2, locator=FALSE, distance=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>

<p>bathymetric data matrix of class <code>bathy</code>, imported using <code>read.bathy</code> (no default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1</code></td>
<td>

<p>start longitude of the transect (no default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x2</code></td>
<td>

<p>stop longitude of the transect (no default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y1</code></td>
<td>

<p>start latitude of the transect (no default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y2</code></td>
<td>

<p>stop latitude of the transect (no default)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locator</code></td>
<td>

<p>whether to use locator to choose transect bounds interactively with a map (default is <code>FALSE</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>

<p>whether to compute the haversine distance (in km) from the start of the transect, along the transect (default is <code>FALSE</code>)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other arguments to be passed to <code>locator()</code> to specify the characteristics of the points and lines to draw on the bathymetric map when <code>locator=TRUE</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>get.transect</code> allows the user to compute an approximate linear depth cross section either by inputing start and stop coordinates, or by clicking on a map created with <code>plot.bathy</code>. In its interactive mode, this function uses the <code>locator</code> function (<code>graphics</code> package); after creating a map with <code>plot.bathy</code>, the user can click twice to delimit the bound of the transect of interest (for example, lower left and upper right corners of a rectangular area of interest), press Escape, and get a table with the transect information. 
</p>


<h3>Value</h3>

<p>A table with, at least, longitude, latitude and depth along the transect, and if specified (distance=<code>TRUE</code>), the distance in kilometers from the start of the transect. The number of elements in the resulting table depends on the resolution of the <code>bathy</code> object.
</p>


<h3>Warning </h3>

<p>Clicking once or more than twice on the map will return a warning message: "Please choose only two points from the map". Manually entering coordinates that are outside the geographical range of the input <code>bathy</code> matrix will return a warning message. 
</p>


<h3>Note</h3>

<p>The distance option of <code>get.transect</code> is calculated based on the haversine formula for getting the great circle distance (takes into account the curvature of the Earth). <code>get.transect</code> uses an internal function called <code>diag.bathy</code> that extracts the approximate diagonal of a matrix, when that matrix has uneven dimentions (different numbers of columns and rows).
</p>


<h3>Author(s)</h3>

<p>Eric Pante and Benoit Simon-Bouhet
</p>


<h3>See Also</h3>

<p><code>read.bathy</code>, <code>nw.atlantic</code>, <code>nw.atlantic.coast</code>, <code>get.depth</code>, <code>get.sample</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">	
# load datasets
	data(nw.atlantic); as.bathy(nw.atlantic) -&gt; atl
	data(nw.atlantic.coast)

# Example 1. get.transect(), without use of locator()
	get.transect(atl, -65, 43,-59,40) -&gt; test ; plot(test[,3]~test[,2],type="l")
	get.transect(atl, -65, 43,-59,40, distance=TRUE) -&gt; test ; plot(test[,4]~test[,3],type="l")

# Example 2. get.transect(), without use of locator(); pretty plot
	par(mfrow=c(2,1),mai=c(1.2, 1, 0.1, 0.1))
	plot(atl, deep=-6000, shallow=-10, step=1000, lwd=0.5, col="grey50",drawlabels=TRUE)
	lines(nw.atlantic.coast)

	get.transect(atl, -75, 44,-46,32, loc=FALSE, dis=TRUE) -&gt; test
	points(test$lon,test$lat,type="l",col="blue",lwd=2,lty=2)
	plotProfile(test)

# Example 3. get.transect(), with use of locator(); pretty plot
## Not run: 
	par(mfrow=c(2,1),mai=c(1.2, 1, 0.1, 0.1))
	plot(atl, deep=-6000, shallow=-10, step=1000, lwd=0.5, col="grey50",drawlabels=TRUE)
	lines(nw.atlantic.coast)
	
	get.transect(atl, loc=TRUE, dis=TRUE, col=2, lty=2) -&gt; test
	plotProfile(test)
	
## End(Not run)
</code></pre>


</div>