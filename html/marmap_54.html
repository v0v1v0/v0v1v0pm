<div class="container">

<table style="width: 100%;"><tr>
<td>subsetBathy</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Creates bathy objects from larger bathy objects
</h2>

<h3>Description</h3>

<p>Generates rectangular or non rectangular <code>bathy</code> objects by extracting bathymetric data from larger <code>bathy</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">subsetBathy(mat, x, y=NULL, locator=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>

<p>Bathymetric data matrix of class <code>bathy</code>, as imported with <code>read.bathy</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Either a list of two elements (numeric vectors of longitude and latitude), a 2-column matrix or data.frame of longitudes and latitudes, or a numeric vector of longitudes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>Either <code>NULL</code> (default) or a numerical vector of latitudes. Ignored if <code>x</code> is not a numeric vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locator</code></td>
<td>

<p>Logical. Whether to choose data points interactively with a map or not. If <code>TRUE</code> (default), a bathymetric map must have been plotted and both <code>x</code> and <code>y</code> are both ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments to be passed to <code>locator</code> when the interactive mode is used (<code>locator=TRUE</code>).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>subsetBathy</code> allows the user to generate new <code>bathy</code> objects by extracting data from larger <code>bathy</code> objects. The extraction of bathymetric data can be done interactively by clicking on a bathymetric map, or by providing longitudes and latitudes for the boundaries for the new <code>bathy</code> object. If two data points are provided, a rectangular area is selected. If more than two points are provided, a polygon is defined by linking the points and the bathymetic data is extracted within the polygon only. <code>subsetBathy</code> relies on the <code>point.in.polygon</code> function from package <code>sp</code> to identify which points of the initial bathy matrix lie witin the boundaries of the user-defined polygon.
</p>


<h3>Value</h3>

<p>A matrix of class <code>bathy</code>.
</p>


<h3>Author(s)</h3>

<p>Benoit Simon-Bouhet
</p>


<h3>References</h3>

<p>Pebesma, EJ, RS Bivand, (2005). Classes and methods for spatial data in R. R News 5 (2), <a href="https://cran.r-project.org/doc/Rnews/">https://cran.r-project.org/doc/Rnews/</a>
</p>
<p>Bivand RS, Pebesma EJ, Gomez-Rubio V (2013). Applied spatial data analysis with R, Second edition. Springer, NY. <a href="https://asdar-book.org">https://asdar-book.org</a>
</p>


<h3>See Also</h3>

<p><code>plot.bathy</code>, <code>get.depth</code>, <code>summary.bathy</code>, <code>aleutians</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load aleutians dataset
data(aleutians)

# create vectors of latitude and longitude to define the boundary of a polygon
lon &lt;- c(188.56, 189.71, 191, 193.18, 196.18, 196.32, 196.32, 194.34, 188.83)
lat &lt;- c(54.33, 55.88, 56.06, 55.85, 55.23, 54.19, 52.01, 50.52, 51.71)


# plot the initial bathy and overlay the polygon
plot(aleutians, image=TRUE, land=TRUE, lwd=.2)
polygon(lon,lat)

# Use of subsetBathy to extract the new bathy object
zoomed &lt;- subsetBathy(aleutians, x=lon, y=lat, locator=FALSE)

# plot the new bathy object
dev.new() ; plot(zoomed, land=TRUE, image=TRUE, lwd=.2)

# alternativeley once the map is plotted, use the interactive mode:
## Not run: 
plot(aleutians, image=TRUE, land=TRUE, lwd=.2)
zoomed2 &lt;- subsetBathy(aleutians, pch=19, col=3)
dev.new() ; plot(zoomed2, land=TRUE, image=TRUE, lwd=.2)

## End(Not run)
# click several times and press Escape

</code></pre>


</div>