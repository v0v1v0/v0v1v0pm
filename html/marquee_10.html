<div class="container">

<table style="width: 100%;"><tr>
<td>marquee_glue</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marquee-aware string interpolation</h2>

<h3>Description</h3>

<p>If you want to create your markdown programmatically you'd probably want to
use some sort of string interpolation such as <code>glue()</code>. However, the custom
span syntax of marquee interferes with the standard interpolation syntax of
glue. This function let's you use both together.
</p>


<h3>Usage</h3>

<pre><code class="language-R">marquee_glue(
  ...,
  .sep = "",
  .envir = parent.frame(),
  .open = "{",
  .close = "}",
  .na = "NA",
  .null = character(),
  .comment = character(),
  .literal = FALSE,
  .transformer = NULL,
  .trim = TRUE
)

marquee_glue_data(
  .x,
  ...,
  .sep = "",
  .envir = parent.frame(),
  .open = "{",
  .close = "}",
  .na = "NA",
  .null = character(),
  .comment = character(),
  .literal = FALSE,
  .transformer = NULL,
  .trim = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>[<code>expressions</code>]<br> Unnamed arguments are taken to be expression
string(s) to format. Multiple inputs are concatenated together before formatting.
Named arguments are taken to be temporary variables available for substitution.
</p>
<div class="sourceCode"><pre>For `glue_data()`, elements in `...` override the values in `.x`.
</pre></div>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.sep</code></td>
<td>
<p>[<code>character(1)</code>: ‘""’]<br> Separator used to separate elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.envir</code></td>
<td>
<p>[<code>environment</code>: <code>parent.frame()</code>]<br> Environment to evaluate each expression in. Expressions are
evaluated from left to right. If <code>.x</code> is an environment, the expressions are
evaluated in that environment and <code>.envir</code> is ignored. If <code>NULL</code> is passed, it is equivalent to <code>emptyenv()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.open</code></td>
<td>
<p>[<code>character(1)</code>: ‘\{’]<br> The opening delimiter. Doubling the
full delimiter escapes it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.close</code></td>
<td>
<p>[<code>character(1)</code>: ‘\}’]<br> The closing delimiter. Doubling the
full delimiter escapes it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.na</code></td>
<td>
<p>[<code>character(1)</code>: ‘NA’]<br> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.null</code></td>
<td>
<p>[<code>character(1)</code>: ‘character()’]<br> Value to replace
NULL values with. If <code>character()</code> whole output is <code>character()</code>. If
<code>NULL</code> all NULL values are dropped (as in <code>paste0()</code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.comment</code></td>
<td>
<p>[<code>character(1)</code>: ‘#’]<br> Value to use as the comment
character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.literal</code></td>
<td>
<p>[<code>boolean(1)</code>: ‘FALSE’]<br> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.transformer</code></td>
<td>
<p>[<code style="white-space: pre;">⁠function]⁠</code><br> A function taking two arguments, <code>text</code>
and <code>envir</code>, where <code>text</code> is the unparsed string inside the glue block and
<code>envir</code> is the execution environment. A <code>.transformer</code> lets you modify a
glue block before, during, or after evaluation, allowing you to create your
own custom <code>glue()</code>-like functions. See <code>vignette("transformers")</code> for
examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.trim</code></td>
<td>
<p>[<code>logical(1)</code>: ‘TRUE’]<br> Whether to trim the input
template with <code>trim()</code> or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.x</code></td>
<td>
<p>[<code>listish</code>]<br> An environment, list, or data frame used to lookup values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you choose a different set of delimiters than <code>"{"</code> and <code>"}"</code> for the
interpolation the functions will call the equivalent glue functions directly.
However, if you keep the defaults, the functions will use a custom
transformer that will make sure to keep the marquee custom span notation. You
can both interpolate the content of the span, as well as the span class (see
examples)
</p>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class="language-R"># standard use
red_text &lt;- "this text will be red"
marquee_glue("This will be black and {.red {red_text}}!")

# if the span is not valid it will be treated as standard glue interpolation
try(
  marquee_glue("This will be black and {.red}!")
)

# You can interpolate the tag name as well
col &lt;- "green"
marquee_glue("This will be black and {.{col} this text will be {col}}!")

# Tag name interpolation must follow a `.` or a `#` as these identify the
# bracket pair as a custom span class
col &lt;- ".yellow"
# This is not what you want probably
marquee_glue("This will be black and {{col} this text will be {col}}!")

# Tag interpolation should also interpolate the full tag and be followed by
# a space in order to be valid
part &lt;- "l"
marquee_glue("This will be black and {.ye{part}low this text will be {col}}!")
try(
  marquee_glue("This will be black and {.{part}avender this text will be {col}}!")
)

</code></pre>


</div>