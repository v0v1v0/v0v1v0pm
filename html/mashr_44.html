<div class="container">

<table style="width: 100%;"><tr>
<td>mash_set_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a data object for mash analysis.</h2>

<h3>Description</h3>

<p>Create a data object for mash analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mash_set_data(
  Bhat,
  Shat = NULL,
  alpha = 0,
  df = Inf,
  pval = NULL,
  V = diag(ncol(Bhat)),
  zero_check_tol = .Machine$double.eps,
  zero_Bhat_Shat_reset = 0,
  zero_Shat_reset = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Bhat</code></td>
<td>
<p>An N by R matrix of observed estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Shat</code></td>
<td>
<p>An N by R matrix of corresponding standard errors. Shat
can be a scalar if all standard errors are equal. This is most
useful if Bhat is a matrix of Z scores, so elements of Shat are all
1. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric value of alpha parameter in the model. alpha =
0 for Exchangeable Effects (EE), alpha = 1 for Exchangeable
Z-scores (EZ). Default is 0. Please refer to equation (3.2) of
M. Stephens 2016, Biostatistics for a discussion on alpha.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>An N by R matrix of corresponding degrees of freedom of
the t-statistic Bhat/Shat. Can be a scalar if all degrees of
freedom are equal. Default is inf (for large samples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>An N by R matrix of p-values of t-statistic
Bhat/Shat. Shat and df should not be specified when pval is
provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>an R by R matrix / [R x R x N] array of effect specific
correlation matrix of error correlations; must be positive
definite. [So Bhat_j distributed as N(B_j,diag(Shat_j) V[,,j]
diag(Shat_j)) where _j denotes the jth row of a matrix]. Defaults
to identity.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_check_tol</code></td>
<td>
<p>a small positive number as threshold for Shat
to be considered zero if any Shat is smaller or equal to this
number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_Bhat_Shat_reset</code></td>
<td>
<p>Replace zeros in Shat matrix to given
value if the corresponding Bhat are also zeros.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero_Shat_reset</code></td>
<td>
<p>Replace zeros in Shat matrix to given value.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data object for passing into mash functions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">simdata = simple_sims(50,5,1)
data = mash_set_data(simdata$Bhat, simdata$Shat)

</code></pre>


</div>