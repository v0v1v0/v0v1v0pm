<div class="container">

<table style="width: 100%;"><tr>
<td>annotate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Annotate point data with rasters based on matching dates.</h2>

<h3>Description</h3>

<p>Annotate point data with rasters based on matching dates associated with points to dates associated with rasters. Specifically, we're thinking of the points as species observations and the rasters as remotely sensed environmental layers, but they can represent any points and rasters with dates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">annotate(datedOccs, env, envDates, dateScale)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>datedOccs</code></td>
<td>
<p>a 'SpatialPointsDataFrame' of occurrence localities (generally longitude and latitude in decimal degrees) paired with dates. One column must be labeled 'date' and have class 'POSIXct', e.g., as obtained from using 'lubridate::parse_date_time'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>a raster stack</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envDates</code></td>
<td>
<p>a vector of dates the same length as 'env'. The vector should have class 'POSIXct', e.g., as obtained from using 'lubridate::parse_date_time'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dateScale</code></td>
<td>
<p>string: 'year', 'month', or 'day'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See Examples.
</p>


<h3>Value</h3>

<p>a SpatialPointsDataFrame
</p>


<h3>Author(s)</h3>

<p>Cory Merow &lt;cory.merow@gmail.com&gt;,
</p>


<h3>Examples</h3>

<pre><code class="language-R">
r1 &lt;- raster::raster(nrows=50, ncols=50, xmn=-50, xmx=50)
raster::values(r1)&lt;- runif(n = (50*50))
r2 &lt;-  raster::raster(nrows=50, ncols=50, xmn=-50, xmx=50)
raster::values(r2)&lt;- runif(n = (50*50))
env &lt;-  raster::stack(r1,r2)
names(env) &lt;- c("1995","1996")
datedOccs &lt;- data.frame(cbind(c(0,10), c(-10,15)))
colnames(datedOccs) &lt;- c("long", "lat")
datedOccs$date &lt;- c("1995", "1996")
datedOccs$date &lt;- lubridate::parse_date_time(datedOccs$date, orders = c("Y", "Ym"))
sp::coordinates(datedOccs) &lt;- c("long", "lat")
raster::projection(datedOccs) &lt;-  raster::projection(env)
dateScale = "year"
envDates &lt;- c("1995","1996")
annotate(datedOccs = datedOccs, env = env, envDates = envDates, dateScale = dateScale)

</code></pre>


</div>