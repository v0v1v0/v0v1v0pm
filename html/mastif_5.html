<div class="container">

<table style="width: 100%;"><tr>
<td>mastMap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map data and predictions for mastif model</h2>

<h3>Description</h3>

<p>Maps dispersal data (trees and seed traps) with predictions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  mastMap(mapList)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>mapList</code></td>
<td>
<p><code>list</code> that includes <code>data.frame</code>s described in the <code>mastif</code> help page: <code>treeData</code>, <code>seedData</code>, <code>xytree</code>, <code>xytrap</code>. Alternatively, <code>mapList</code> can be an object of <code>class mastif</code> simulated by <code>mastSim</code> or fitted by <code>mast</code>.  If a <code>class mastif</code> object is used, it must have appended <code>mapPlot</code> (name of plot to map) and <code>mapYears</code> (years to map).  These and additional objects in <code>mapList</code> are summarized here:
</p>
<p><code>mapPlot</code>: <code>character</code> for the plot name, which appears in <code>treeData$plot</code> and <code>seedData$plot</code>.
</p>
<p><code>mapYears</code>: <code>numeric vector</code> containing years to plot, which appear in <code>treeData$year</code> and <code>seedData$year</code>.
</p>
<p><code>treeSymbol</code>: <code>character</code> indicating a column name in <code>treeData</code> holding numeric values that scale the sizes of trees in the map, e.g., <code>diam</code> for diameter.
</p>
<p><code>PREDICT</code>: if <code>TRUE</code>, then predicted seed will be mapped.  Must be predicted in <code>mastif</code>.
</p>
<p><code>xlim</code>: <code>vector</code> with upper and lower plot limits.
</p>
<p><code>ylim</code>: <code>vector</code> with upper and lower plot limits.
</p>
<p><code>MAPTRAPS</code>: include seed traps in map.
</p>
<p><code>MAPTREES</code>: include trees in map.
</p>
<p><code>seedMax</code>: <code>numeric</code> value can be used to set maximum seed symbol/prediction contour.
</p>
<p><code>fecMax</code>: <code>numeric</code> value can be used to set maximum fecundity symbol size.
</p>
<p><code>mfrow</code>: <code>numeric vector</code> of length-2 to set arrangement of maps on plot, as in <code>pars()</code>.
</p>
<p><code>LEGEND</code>: add <code>legend</code> with species names to map.
</p>
<p><code>plotScale</code>: some level of control on size of plot is possible with values &gt; 1.
</p>
<p><code>treeScale</code>: relative scale for tree symbols, default value = 1.
</p>
<p><code>trapScale</code>: relative scale for trap symbols, default value = 1.
</p>
<p><code>SCALEBAR</code>: add a scale bar with distance to bottom of map.
</p>
<p><code>scaleValue</code>: <code>numeric</code> value in meters used if <code>SCALEBAR = TRUE</code>.
</p>
<p><code>mfrow</code>: <code>numeric vector</code> of length-2, giving numbers of rows and columns for plots, see <code>help(pars)</code>. 
</p>
<p><code>COLORSCALE</code>: if <code>TRUE</code>, then a color scale is added for predicted seed.
</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Generates of map of seed traps and trees, with symbols scaled to the sizes relative to seed counts in <code>sdata$seedNames</code> and <code>treeSymbol</code>.  Sizes are adjusted with <code>scaleTree</code> and <code>scaleTrap</code>.
</p>
<p>If <code>PREDICT = TRUE</code>, then predictions come in the object fitted in <code>mastif</code> with <code>predictList</code> used to specify prediction plots and years.  See the help page for <code>mastif</code>. 
</p>
<p>More detailed vignettes can be obtained with:
</p>
<p><code>browseVignettes('mastif')</code>
</p>


<h3>Value</h3>

<p>Only graphical outputs.
</p>


<h3>Author(s)</h3>

<p>James S Clark, <a href="mailto:jimclark@duke.edu">jimclark@duke.edu</a>
</p>


<h3>References</h3>

<p>Clark, J.S., C. Nunes, and B. Tomasek. 2019. Foodwebs based on unreliable foundations: spatio-temporal masting merged with consumer movement, storage, and diet. Ecological Monographs, e01381.
</p>


<h3>See Also</h3>

<p><code>mastSim</code> simulates data
</p>
<p>A more detailed vignette is can be obtained with:
</p>
<p><code>browseVignettes('mastif')</code>
</p>
<p>website 'http://sites.nicholas.duke.edu/clarklab/code/'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# simulate data (see \link{\code{mastSim}})
seedNames  &lt;- specNames  &lt;- 'acerRubr'
sim    &lt;- list(nyr=10, ntree=30, nplot=5,
          specNames = specNames, seedNames = seedNames)
inputs &lt;- mastSim(sim)

inputs$mapPlot &lt;- 'p1'
inputs$mapYears = inputs$years[1]

mastMap( inputs )

# for Pinus
d &lt;- "https://github.com/jimclarkatduke/mast/blob/master/pinusExample.rdata?raw=True"
repmis::source_data(d)

specNames &lt;- c("pinuEchi","pinuRigi","pinuStro","pinuTaed","pinuVirg")
seedNames &lt;- c(specNames, "pinuUNKN")

mapList &lt;- list( treeData = treeData, seedData = seedData, 
                 specNames = specNames, seedNames = seedNames, 
                 xytree = xytree, xytrap = xytrap, mapPlot = 'DUKE_BW', 
                 mapYears = c(2004:2007), treeScale = .5, trapScale=1.2, 
                 plotScale = 1.2, LEGEND=TRUE)
mastMap(mapList) 

</code></pre>


</div>