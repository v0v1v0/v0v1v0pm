<div class="container">

<table style="width: 100%;"><tr>
<td>mastPriors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Obtain prior parameter values for mastif from file</h2>

<h3>Description</h3>

<p>Prior parameter values may be saved in a file by species or by genus. <code>mastPriors</code> looks for a species-level prior first.  If not found, it can substutitute a genus-level prior.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  mastPriors(file, specNames, code, genus = 'NULL')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p><code>character</code> giving the path and file name where parameters are stored (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specNames</code></td>
<td>
<p><code>character vector</code> if names in <code>treeData$species</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p><code>character</code> name of column holding <code>specNames</code> in parameter <code>file</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>genus</code></td>
<td>
<p><code>character</code> name of genus held in "genus" column of parameter <code>file</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>file</code> includes rows with genera, given in column "genus", or "species".  Species rows also have an entry for genus, with the species code given in the column named <code>code</code>.  Additional columns are names of prior parameters, including:
</p>
<p><code>priorDist</code>: mean parameter for dispersal kernel (m), related to kernel parameter <code>u</code> as <code>d &lt;- pi*sqrt(u)/2</code>.  The estimated values for these parameters are found in <code>output$parameters$upars</code> and <code>output$parameters$dpars</code>, where <code>output</code> is an object fitted by <code>mastif</code>.
</p>
<p><code>minDist</code>: the lower bound for the mean parameter <code>d</code> of the dispersal kernel (m).  
</p>
<p><code>maxDist</code>: the upper bound for the mean parameter <code>d</code> of the dispersal kernel (m).  
</p>
<p><code>priorVDist</code>: variance on the mean parameter for dispersal kernel (m^2).  For large values, the prior distribution of <code>d</code> (and by variable change, <code>u</code>) becomes <code>dunif(d, minDist, maxDist)</code>.
</p>
<p><code>minDiam</code>: below this diameter trees of unknown status are assumed immature (cm). 
</p>
<p><code>maxDiam</code>: above this diameter trees of unknown status are assumed mature (cm).  
</p>
<p><code>maxFec</code>: maximum seeds per tree per year
</p>
<p>More detailed vignettes can be obtained with: <code>browseVignettes('mastif')</code>
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with a row for each <code>specNames</code> and columns for prior parameter values.  Where <code>file</code> contains species-level parameter values, they will be used.  If a separate row in <code>file</code> holds genus-level parameters, with the entry for <code>code == 'NA'</code>, then genus-level parameters will be substituted.  In other words, these genus rows are default values.
</p>


<h3>Author(s)</h3>

<p>James S Clark, <a href="mailto:jimclark@duke.edu">jimclark@duke.edu</a>
</p>


<h3>References</h3>

<p>Clark, J.S., C. Nunes, and B. Tomasek. 2019. Foodwebs based on unreliable foundations: spatio-temporal masting merged with consumer movement, storage, and diet. Ecological Monographs, e01381.
</p>


<h3>See Also</h3>

<p><code>mastFillCensus</code> to fill tree census
</p>
<p><code>mastif</code> for analysis
</p>
<p>A more detailed vignette is can be obtained with:
</p>
<p><code>browseVignettes('mastif')</code>
</p>
<p>website 'http://sites.nicholas.duke.edu/clarklab/code/'.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
d &lt;- "https://github.com/jimclarkatduke/mast/blob/master/pinusExample.rdata?raw=True"
repmis::source_data(d)

# prior parameter values
pfile &lt;- tempfile(fileext = '.txt')
d &lt;- "https://github.com/jimclarkatduke/mast/blob/master/priorParameters.txt?raw=True"
download.file(d, destfile = pfile)

specNames &lt;- c("pinuEchi","pinuRigi","pinuStro","pinuTaed","pinuVirg")
seedNames &lt;- c(specNames, "pinuUNKN")

priorTable &lt;- mastPriors(file = pfile, specNames, 
                         code = 'code4', genus = 'pinus')

inputs   &lt;- list( specNames = specNames, seedNames = seedNames, 
                  treeData = treeData, seedData = seedData, 
                  xytree = xytree, xytrap = xytrap, 
                  priorTable = priorTable, seedTraits = seedTraits)

formulaRep &lt;- as.formula( ~ diam )
formulaFec &lt;- as.formula( ~ diam )        
  
output &lt;- mastif(inputs = inputs, formulaFec, formulaRep,
                 ng = 1000, burnin = 400)

</code></pre>


</div>