<div class="container">

<table style="width: 100%;"><tr>
<td>matchMultisens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rosenbaum Bounds after Multilevel Matching</h2>

<h3>Description</h3>

<p>Function to calculate Rosenbaum bounds for continuous outcomes after
multilevel matching.
</p>


<h3>Usage</h3>

<pre><code class="language-R">matchMultisens(
  obj,
  out.name = NULL,
  schl_id_name = NULL,
  treat.name = NULL,
  Gamma = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>A multilevel match object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out.name</code></td>
<td>
<p>Outcome variable name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schl_id_name</code></td>
<td>
<p>Level 2 ID variable name, that is this variable
identifies clusters matched in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat.name</code></td>
<td>
<p>Treatment indicator name</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gamma</code></td>
<td>
<p>Sensitivity analysis parameter value. Default is one.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function returns a single p-value, but actually conducts two tests.
The first assumes that the treatment effect does not vary with cluster size.
The second allows the treatment effect to vary with cluster size.  The
function returns a single p-value that is corrected for multiple testing.
This p-value is the upper bound for a single Gamma value
</p>


<h3>Value</h3>

<table><tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>Upper bound on one-sided approximate p-value for test of the
sharp null.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Luke Keele, University of Pennsylvania, <a href="mailto:luke.keele@gmail.com">luke.keele@gmail.com</a>
</p>
<p>Sam Pimentel, University of California, Berkeley, <a href="mailto:spi@berkeley.edu">spi@berkeley.edu</a>
</p>


<h3>References</h3>

<p>Rosenbaum, Paul R. (2002) Observational Studies.
Springer-Verlag.
</p>


<h3>See Also</h3>

<p>See Also as <code>matchMulti</code>,
<code>matchMultioutcome</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
# Load Catholic school data
data(catholic_schools)

student.cov &lt;- c('minority','female','ses','mathach')

# Check balance student balance before matching
balanceTable(catholic_schools[c(student.cov,'sector')],  treatment = 'sector')

#Match schools but not students within schools
match.simple &lt;- matchMulti(catholic_schools, treatment = 'sector',
school.id = 'school', match.students = FALSE)

#Check balance after matching - this checks both student and school balance
balanceMulti(match.simple, student.cov = student.cov)

#Estimate treatment effect
output &lt;- matchMultioutcome(match.simple, out.name = "mathach",
schl_id_name = "school",  treat.name = "sector")

# Perform sensitivity analysis using Rosenbaum bound -- increase Gamma to increase effect of
# possible hidden confounder 
         
matchMultisens(match.simple, out.name = "mathach",
          schl_id_name = "school", 
          treat.name = "sector", Gamma=1.3)
          
          
## End(Not run)

</code></pre>


</div>