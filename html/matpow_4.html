<div class="container">

<table style="width: 100%;"><tr>
<td>cgraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Callback Examples</h2>

<h3>Description</h3>

<p>Callback examples for <code>matpow</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  cgraph(ev,cbinit=FALSE,mindist=FALSE)
  eig(ev,cbinit=FALSE,x=NULL,eps=1e-08)
  mc(ev,cbinit=FALSE,eps=1e-08)
  mexp(ev,cbinit=FALSE,eps=1e-08) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ev</code></td>
<td>
<p>R environment as in the return value of matpow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbinit</code></td>
<td>
<p><code>matpow</code> will first call the callback with
<code>cbinit</code> set to TRUE before iterations begin, then to FALSE
during iterations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mindist</code></td>
<td>
<p>if TRUE, the matrix of minimum intervertex distances 
will be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>initial guess for the principal eigenvector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>convergence criterion.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that these functions are not called directly.  The user
specifies the callback function (whether one of the examples here or one
written by the user) in his/her call to <code>matpow</code>, which
calls the callback after each iteration.
</p>

<ul>
<li> <p><code>cgraph</code>: Determines the connectivity of a
graph, and optionally the minimum intervertex distance matrix.  The
matrix <code>m</code> in the call to <code>matpow</code> should be an adjacency
matrix, 1s and 0s.
</p>
</li>
<li> <p><code>eig</code>:  Calculates the principal eigenvector of the
input matrix.
</p>
</li>
<li> <p><code>mc</code>: Calculates the long-run distribution vector for
an aperiodic, discrete-time Markov chain; the input matrix is the
transition matrix for the chain.
</p>
</li>
<li> <p><code>mexp</code>: Calculates the exponential of the input matrix, as in
e.g. <code>expm</code> of the <span class="pkg">Matrix</span> package.
</p>
</li>
</ul>
<p>In <code>cgraph</code>, it is recommended that <code>squaring</code> be set to TRUE
in calling <code>matpow</code>, though this cannot be done if the
<code>mindist</code> option is used.  Use of squaring is unconditionally
recommended for <code>eig</code> and <code>mc</code>.  Do not use squaring
with <code>mexp</code>.
</p>
<p>Restrictions:  These functions are currently set up only for
ordinary R matrix multiplication or use with <code>gputools</code>.
</p>


<h3>Value</h3>

<p>Callback functions don't normally return values, but they usually do
maintain data in the R environment <code>ev</code> that is eventually 
returned by <code>matpow</code>, including the following components as 
well as the application-independent ones:
</p>

<ul>
<li> <p><code>cgraph</code>:  Graph connectedness is returned in a boolean
component <code>connected</code>.  If the <code>mindist</code> option had been
chosen, the <code>dists</code> component will show the minimum intervertex
distances.
</p>
</li>
<li> <p><code>eig</code>:  The <code>x</code> component will be the principal
eigenvector.
</p>
</li>
<li> <p><code>mc</code>:  The <code>pivec</code> component will be the long-run
distribution vector.
</p>
</li>
<li> <p><code>mexp</code>:  The <code>esum</code> component will be the matrix
exponential.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
m &lt;- rbind(c(1,0,0,1),c(1,0,1,1),c(0,1,0,0),c(0,0,1,1))
ev &lt;- matpow(m,callback=cgraph,mindist=T)
ev$connected  # prints TRUE
ev$dists  # prints, e.g. that min dist from 1 to 2 is 3
m &lt;- rbind(1:2,3:4)
# allow for 1000 iterations max
ev &lt;- matpow(m,1000,callback=eig,squaring=TRUE)
# how many iterations did we actually need?
ev$i  # only 8
ev$x  # prints eigenvec; check by calling R's eigen()

## End(Not run)
</code></pre>


</div>