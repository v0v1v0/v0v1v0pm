<div class="container">

<table style="width: 100%;"><tr>
<td>varDiff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimation of scale based on sequential-order differences</h2>

<h3>Description</h3>

<p>Estimation of scale based on sequential-order differences, corresponding to
the scale estimates provided by <code>var</code>,
<code>sd</code>, <code>mad</code> and
<code>IQR</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">varDiff(x, idxs = NULL, na.rm = FALSE, diff = 1L, trim = 0, ...)

sdDiff(x, idxs = NULL, na.rm = FALSE, diff = 1L, trim = 0, ...)

madDiff(x, idxs = NULL, na.rm = FALSE, diff = 1L, trim = 0,
  constant = 1.4826, ...)

iqrDiff(x, idxs = NULL, na.rm = FALSE, diff = 1L, trim = 0, ...)

rowVarDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

colVarDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

rowSdDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

colSdDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

rowMadDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

colMadDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

rowIQRDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)

colIQRDiffs(x, rows = NULL, cols = NULL, na.rm = FALSE, diff = 1L,
  trim = 0, ..., useNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>numeric</code> <code>vector</code> of length
N or a <code>numeric</code> NxK <code>matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idxs</code></td>
<td>
<p>A <code>vector</code> indicating subset of elements to
operate over. If <code>NULL</code>, no subsetting is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>If <code>TRUE</code>, missing values are
excluded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff</code></td>
<td>
<p>The positional distance of elements for which the difference
should be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>A <code>double</code> in [0,1/2] specifying the fraction
of observations to be trimmed from each end of (sorted) <code>x</code> before
estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constant</code></td>
<td>
<p>A scale factor adjusting for asymptotically normal
consistency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>A <code>vector</code> indicating subset of rows to
operate over. If <code>NULL</code>, no subsetting is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>A <code>vector</code> indicating subset of columns to
operate over. If <code>NULL</code>, no subsetting is done.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useNames</code></td>
<td>
<p>If <code>TRUE</code> (default), names
attributes of the result are set, otherwise not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that n-order difference MAD estimates, just like the ordinary MAD
estimate by <code>mad</code>, apply a correction factor such that
the estimates are consistent with the standard deviation under Gaussian
distributions.
</p>
<p>The interquartile range (IQR) estimates does <em>not</em> apply such a
correction factor.  If asymptotically normal consistency is wanted, the
correction factor for IQR estimate is <code>1 / (2 * qnorm(3/4))</code>, which is
half of that used for MAD estimates, which is <code>1 / qnorm(3/4)</code>.  This
correction factor needs to be applied manually, i.e. there is no
<code>constant</code> argument for the IQR functions.
</p>


<h3>Value</h3>

<p>Returns a <code>numeric</code> <code>vector</code> of
length 1, length N, or length K.
</p>


<h3>Author(s)</h3>

<p>Henrik Bengtsson
</p>


<h3>References</h3>

<p>[1] J. von Neumann et al., <em>The mean square successive
difference</em>.  Annals of Mathematical Statistics, 1941, 12, 153-162.<br></p>


<h3>See Also</h3>

<p>For the corresponding non-differentiated estimates, see
<code>var</code>, <code>sd</code>, <code>mad</code>
and <code>IQR</code>.  Internally, <code>diff2</code>() is used
which is a faster version of <code>diff</code>().
</p>


</div>