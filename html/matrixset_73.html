<div class="container">

<table style="width: 100%;"><tr>
<td>group_by</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Group rows/columns of a matrixset by one or more variables</h2>

<h3>Description</h3>

<p>Applying <code>row_group_by()</code> or <code>column_group_by()</code> to a <code>matrixset</code> object
registers this object as one where certain operations are performed per
(row or column) group.
</p>
<p>To (partly) remove grouping, use <code>row_ungroup()</code> or <code>column_ungroup()</code>.
</p>
<p>These functions are the <code>matrixset</code> equivalent of <code>dplyr</code>'s
<code>dplyr::group_by()</code> and <code>dplyr::ungroup()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">row_group_by(.ms, ..., .add = FALSE, .drop = row_group_by_drop_default(.ms))

column_group_by(
  .ms,
  ...,
  .add = FALSE,
  .drop = column_group_by_drop_default(.ms)
)

row_ungroup(.ms, ...)

column_ungroup(.ms, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.ms</code></td>
<td>
<p>A <code>matrixset</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>In <code>row_group_by()</code> or <code>column_group_by()</code>, annotation
variables to use for grouping. These variables are the ones
returned by <code>row_traits()</code> or <code>column_traits()</code>. In <code>row_ungroup()</code>
or <code>column_ungroup()</code>, variables to remove from grouping. If
not provided, grouping is removed altogether.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.add</code></td>
<td>
<p><code>logical</code>. The default, <code>FALSE</code>, means that previous groups
are overwritten. Setting <code>.add</code> to <code>TRUE</code> will add to the
existing groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.drop</code></td>
<td>
<p><code>logical</code>. When grouping by <code>factor</code> annotations, should
levels that do not appear in the data be dropped? The default
is <code>TRUE</code>, unless <code>.ms</code> has been previously grouped with
<code>.drop = FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A grouped <code>matrixset</code> with class <code>row_grouped_ms</code>, unless <code>.ms</code> was already
column-grouped via <code>column_group_by()</code>, in which case a <code>dual_grouped_ms</code>
<code>matrixset</code> is returned.
</p>
<p>If the combination of <code>...</code> and <code>.add</code> yields an empty set of grouping
columns, a regular <code>matrixset</code>or a <code>col_grouped_ms</code>, as appropriate, will be
returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">by_class &lt;- row_group_by(student_results, class)

# On it's own, a grouped `matrixset` looks like a regular `matrixset`, except
# that the grouping structure is listed
by_class

# Grouping changes how some functions operates
filter_row(by_class, previous_year_score &gt; mean(previous_year_score))

# You can group by expressions: you end-up grouping by the new annotation:
row_group_by(student_results, sqrt_score = sqrt(previous_year_score))

# By default, grouping overrides existing grouping
row_group_vars(row_group_by(by_class, teacher))

# Use .add = TRUE to instead append
row_group_vars(row_group_by(by_class, teacher, .add = TRUE))
# To removing grouping, use ungroup
row_ungroup(by_class)

</code></pre>


</div>