<div class="container">

<table style="width: 100%;"><tr>
<td>complete_rows_cols</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Complete rows and columns in one matrix relative to another</h2>

<h3>Description</h3>

<p>"Completing" rows and columns means that <code>a</code> contains a union of rows and columns
between <code>a</code> and <code>mat</code>,
with missing data represented by the value for <code>fill</code> (<code>0</code>, by default),
<code>fillrow</code>, or <code>fillcol</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">complete_rows_cols(
  a = NULL,
  mat = NULL,
  fill = 0,
  fillrow = NULL,
  fillcol = NULL,
  margin = c(1, 2)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>A <code>matrix</code> or list of <code>matrix</code> objects to be completed.
<code>a</code> can be <code>Matrix</code> objects, too.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mat</code></td>
<td>
<p>A <code>matrix</code> or <code>Matrix</code> from which dimnames will be extracted
for the purposes of completing <code>a</code> with respect to <code>mat</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Rows and columns added to <code>a</code> will contain the value <code>fill</code>.
(Default is <code>0</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillrow</code></td>
<td>
<p>A row vector of type <code>matrix</code> with same column names as <code>a</code>.
Any rows added to <code>a</code> will be <code>fillrow</code>.
If non-<code>NULL</code>, <code>fillrow</code> takes precedence over both <code>fillcol</code> and <code>fill</code>
in the case of conflicts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillcol</code></td>
<td>
<p>A column vector of type matrix with same row names as <code>a</code>.
Any columns added to <code>a</code> will be <code>fillcol</code>.
If non-<code>NULL</code>, <code>fillcol</code> takes precedence over <code>fill</code>
in the case of conflicts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>Specifies the subscript(s) in <code>a</code> over which completion will occur
<code>margin</code> has nearly the same semantic meaning as in <code>base::apply()</code>
For rows only, give <code>1</code>;
for columns only, give <code>2</code>;
for both rows and columns, give <code>c(1,2)</code>, the default value.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that <code>complete_rows_cols(mat1, mat2)</code> and <code>complete_rows_cols(mat2, mat1)</code> are
not guaranteed to have the same order for rows and columns.
(Nor are the values in the matrix guaranteed to have the same positions.)
</p>
<p>If <code>dimnames(mat)</code> is <code>NULL</code>, <code>a</code> is returned unmodified.
</p>
<p>If either <code>a</code> or <code>mat</code> are missing names on a margin (row or column),
an error is given.
</p>
<p>When <code>a</code> is non-<code>NULL</code>,
<code>a</code> is named, and <code>mat</code> is <code>NULL</code> (the default),
<code>a</code> is completed relative to itself,
meaning that <code>a</code> will be made square,
containing the union of row and column names from <code>a</code>.
Under these conditions, no warning is given.
</p>
<p>If <code>mat</code> is non-<code>NULL</code> and dimnames of <code>mat</code> cannot be determined
(because, for example, <code>mat</code> doesn't have dimnames),
<code>a</code> is completed relative to itself and a warning is given.
</p>
<p>All added rows and columns will be created from one of the <code style="white-space: pre;">⁠fill*⁠</code> arguments.
When conflicts arise, precedence among the <code style="white-space: pre;">⁠fill*⁠</code> arguments is
<code>fillrow</code> then <code>fillcol</code> then <code>fill</code>.
</p>


<h3>Value</h3>

<p>A modified version of <code>a</code> possibly containing additional rows and columns
whose names are obtained from <code>mat</code> and whose values are obtained from
<code>fillrow</code>, <code>fillcol</code> or <code>fill</code> (in that order of preference).
</p>


<h3>Examples</h3>

<pre><code class="language-R">m1 &lt;- matrix(c(1:6), nrow=3, dimnames = list(c("r1", "r2", "r3"), c("c1", "c2")))
m1
m2 &lt;- matrix(c(7:12), ncol=3, dimnames = list(c("r2", "r3"), c("c2", "c3", "c4")))
m2
complete_rows_cols(m1, m2) # Adds empty column c4
complete_rows_cols(m1, t(m2)) # Creates r2, r3 columns; c2, c3, c4 rows
complete_rows_cols(m1, m2, margin = 1) # No changes because r2 and r3 already present in m1
complete_rows_cols(m1, m2, margin = 2) # Adds empty columns c3 and c4
complete_rows_cols(m1, t(m2), margin = 1) # Adds empty rows c2, c3, c4
complete_rows_cols(m1, m2, fill = 100) # Adds columns c3 and c4 with 100's
complete_rows_cols(m1, m1) # Nothing added, because everything already present
complete_rows_cols(m1, t(m1)) # Adds empty c1, c2 rows; Adds empty r1, r2, r3 columns
# Same as previous. With missing matrix, complete relative to transpose of m1.
complete_rows_cols(m1) 
# Adds rows r10, r11; cols c10, c11
complete_rows_cols(m1, matrix(0, nrow = 2, ncol = 2, 
                              dimnames = list(c("r10", "r11"), c("c10", "c11")))) 
# Also works with lists
complete_rows_cols(a = list(m1,m1))
complete_rows_cols(a = list(m1,m1), mat = list(m2,m2))
# No changes because r2, r3 already present in m1
complete_rows_cols(a = list(m1,m1), mat = list(m2,m2), margin = 1) 
complete_rows_cols(a = list(m1,m1), mat = list(m2,m2), margin = 2)
complete_rows_cols(a = list(m1,m1), 
                   mat = RCLabels::make_list(matrix(0,
                                                    nrow = 2, 
                                                    ncol = 2, 
                                                    dimnames = list(c("r10", "r11"), 
                                                                    c("c10", "c11"))), 
                                             n = 2, lenx = 1))
# fillrow or fillcol can be specified
a &lt;- matrix(c(11, 12, 21, 22), byrow = TRUE, nrow = 2, ncol = 2, 
            dimnames = list(c("r1", "r2"), c("c1", "c2")))
b &lt;- matrix(c(1:6), byrow = TRUE, nrow = 3, ncol = 2, 
            dimnames = list(c("r1", "r2", "r3"), c("c1", "c2")))
fillrow &lt;- matrix(c(31, 32), byrow = TRUE, nrow = 1, ncol = 2, 
                  dimnames = list("r42", c("c1", "c2")))
complete_rows_cols(a = a, mat = b, fillrow = fillrow)
</code></pre>


</div>