<div class="container">

<table style="width: 100%;"><tr>
<td>create_colvec_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create column vectors from data</h2>

<h3>Description</h3>

<p>This function takes data in the <code>.dat</code> and creates column vectors.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_colvec_byname(
  .dat,
  dimnames = NA,
  colname = NA,
  matrix_class = c("matrix", "Matrix")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.dat</code></td>
<td>
<p>Data to be converted to column vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimnames</code></td>
<td>
<p>The dimension names to be used for creating the column vector, in a list format, or as a data frame column
containing a list of the dimension names to be used for each observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colname</code></td>
<td>
<p>The name of the column of the colvector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix_class</code></td>
<td>
<p>One of "matrix" or "Matrix".
"matrix" creates a <code>base::matrix</code> object with the <code>matrix()</code> function.
"Matrix" creates a <code>Matrix::Matrix</code> object using the <code>matsbyname::Matrix()</code> function.
This could be a sparse matrix.
Default is "matrix".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The row and column names in the resulting column vector are taken from
the names of <code>.dat</code> and <code>colname</code>.
If set, <code>dimnames</code> overrides the names of <code>.dat</code> and <code>colname</code>.
</p>
<p>This function is a "byname" function that can accept a single number,
a vector, a list, or a data frame in <code>.dat</code>.
</p>
<p>Row types and column types are taken from the row type and column type attributes of <code>.dat</code>.
</p>


<h3>Value</h3>

<p>A column vector, a list of column vectors, or a data frame column of column vectors, depending on the
value of <code>.dat</code> and <code>class</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Works with single numbers
create_colvec_byname(c(r1 = 1) %&gt;% setrowtype("rt") %&gt;% setcoltype("ct"), 
                     colname = "r1")
# Works with vectors
create_colvec_byname(c(r1 = 1, r2 = 2), colname = "c1")
# Works with a list
create_colvec_byname(list(c(r1 = 1, r2 = 2), c(R1 = 3, R2 = 4, R3 = 5)), 
                     colname = list("c1", "C1"))
# Works in a tibble, too.
# (Must be a tibble, not a data frame, so that names are preserved.)
dat &lt;- list(c(r1 = 1, r2 = 2),
            c(R1 = 2, R2 = 3), 
            c(r1 = 1, r2 = 2, r3 = 3, r4 = 4, r5 = 5, r6 = 6))
cnms &lt;- list("c1", "C1", "c1")
df1 &lt;- tibble::tibble(dat, cnms)
df1
df1 &lt;- df1 %&gt;%
  dplyr::mutate(
    colvec_col = create_colvec_byname(dat, colname = cnms)
  )
df1$colvec_col[[1]]
df1$colvec_col[[2]]
df1$colvec_col[[3]]
</code></pre>


</div>