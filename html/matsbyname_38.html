<div class="container">

<table style="width: 100%;"><tr>
<td>fractionize_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute fractions of matrix entries</h2>

<h3>Description</h3>

<p>This function divides all entries in <code>a</code> by the specified sum,
thereby "fractionizing" the matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fractionize_byname(a, margin, inf_becomes = .Machine$double.xmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>The matrix to be fractionized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>If <code>1</code> (rows), each entry in <code>a</code> is divided by its row's sum.
If <code>2</code> (columns), each entry in <code>a</code> is divided by its column's sum.
If <code>c(1,2)</code> (both rows and columns),
each entry in <code>a</code> is divided by the sum of all entries in <code>a</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf_becomes</code></td>
<td>
<p>A value to be substitute for any <code>Inf</code> produced by division.
Default is <code>.Machine$double.xmax</code>.
Another reasonable value is <code>Inf</code>.
Set to <code>NULL</code> to disable substitution.
<code>inf_becomes</code> is passed to <code>hatinv_byname()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A fractionized matrix of same dimensions and same row and column types as <code>a</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">M &lt;- matrix(c(1, 5,
              4, 5),
            nrow = 2, ncol = 2, byrow = TRUE, 
            dimnames = list(c("p1", "p2"), c("i1", "i2"))) %&gt;% 
            setcoltype("Products") %&gt;% setrowtype("Industries")
fractionize_byname(M, margin = c(1,2))
fractionize_byname(M, margin = 1)
fractionize_byname(M, margin = 2)
</code></pre>


</div>