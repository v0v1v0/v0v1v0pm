<div class="container">

<table style="width: 100%;"><tr>
<td>hadamardproduct_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Name-wise matrix Hadamard multiplication</h2>

<h3>Description</h3>

<p>Performs a union and sorting of names of rows and columns for both multiplicand and multiplier
for each sequential multiplication step.
Zeroes are inserted for missing matrix elements.
Doing so ensures that
the dimensions of the multiplicand and multiplier are be conformable for each sequential multiplication.
</p>


<h3>Usage</h3>

<pre><code class="language-R">hadamardproduct_byname(..., .summarise = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Operands; constants, matrices, or lists of matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.summarise</code></td>
<td>
<p>When <code>TRUE</code>, operands are multiplied down lists.
When <code>FALSE</code> (the default), items multiplied across lists.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Hadamard product is also known as the <code>entrywise</code> product.
</p>


<h3>Value</h3>

<p>Name-wise element product of operands.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
hadamardproduct_byname(2, 2)
commoditynames &lt;- c("c1", "c2")
industrynames &lt;- c("i1", "i2")
U &lt;- matrix(1:4, ncol = 2, dimnames = list(commoditynames, industrynames)) %&gt;%
  setrowtype("Commodities") %&gt;% setcoltype("Industries")
G &lt;- matrix(1:4, ncol = 2, dimnames = list(rev(commoditynames), rev(industrynames))) %&gt;%
  setrowtype("Commodities") %&gt;% setcoltype("Industries")
U * G # Not what is desired, because names aren't aligned
hadamardproduct_byname(U, G)
hadamardproduct_byname(U, G, G)
hadamardproduct_byname(U, 0)
hadamardproduct_byname(0, G)
# This also works with lists
hadamardproduct_byname(list(U, U), list(G, G))
DF &lt;- data.frame(U = I(list()), G = I(list()))
DF[[1,"U"]] &lt;- U
DF[[2,"U"]] &lt;- U
DF[[1,"G"]] &lt;- G
DF[[2,"G"]] &lt;- G
hadamardproduct_byname(DF$U, DF$G)
DF %&gt;% mutate(entrywiseprods = hadamardproduct_byname(U, G))
# Also works down lists with `.summarise = TRUE`.
hadamardproduct_byname(list(U, G), .summarise = TRUE)
</code></pre>


</div>