<div class="container">

<table style="width: 100%;"><tr>
<td>logarithmicmean_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Name- and element-wise logarithmic mean of matrices</h2>

<h3>Description</h3>

<p>The logarithmic mean of corresponding entries of <code>a</code> and <code>b</code> is
<code>0</code> if <code>a = 0</code> or <code>b = 0</code>,
<code>a</code> if <code>a = b</code>, or
<code>(b - a) / (log(b) - log(a))</code> otherwise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">logarithmicmean_byname(a, b, base = exp(1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>first operand (a matrix or constant value or lists of same).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>second operand (a matrix or constant value or lists of same).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>the base of the logarithm used when computing the logarithmic mean.
(Default is <code>base = exp(1)</code>.)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function performs a union and sorting of row and column names
prior to performing logarithmic mean.
Zeroes are inserted for missing matrix elements.
</p>
<p>Internally, the third condition is implemented as
<code>(b - a) / log(b/a)</code>.
</p>
<p>Note that <code>(b - a) / log(b/a) = (a - b) / log(a/b)</code>,
so logarithmic mean is commutative;
the order of arguments <strong><code>a</code></strong> and <strong><code>b</code></strong>
does not change the result.
</p>


<h3>Value</h3>

<p>A matrix representing the name-wise logarithmic mean
of <code>a</code> and <code>b</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
m1 &lt;- matrix(c(1:6), nrow = 3, ncol = 2) %&gt;% 
  setrownames_byname(c("r1", "r2", "r3")) %&gt;% setcolnames_byname(c("c1", "c2")) %&gt;% 
  setrowtype("row") %&gt;% setcoltype("col")
m2 &lt;- matrix(c(7:12), nrow = 3, ncol = 2) %&gt;% 
  setrownames_byname(c("r2", "r3", "r4")) %&gt;% setcolnames_byname(c("c2", "c3")) %&gt;% 
  setrowtype("row") %&gt;% setcoltype("col")
logarithmicmean_byname(m1, m2)
# This also works with lists
logarithmicmean_byname(list(m1, m1), list(m2, m2))
DF &lt;- data.frame(m1 = I(list()), m2 = I(list()))
DF[[1,"m1"]] &lt;- m1
DF[[2,"m1"]] &lt;- m1
DF[[1,"m2"]] &lt;- m2
DF[[2,"m2"]] &lt;- m2
logarithmicmean_byname(DF$m1, DF$m2)
DF %&gt;% mutate(logmeans = logarithmicmean_byname(m1, m2))
</code></pre>


</div>