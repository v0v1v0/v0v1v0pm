<div class="container">

<table style="width: 100%;"><tr>
<td>Matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Matrix amenable to use in the <code>matsbyname</code> package</h2>

<h3>Description</h3>

<p>The <code>matsbyname</code> package uses <code>Matrix</code> objects for its
default data representation, taking advantage
of the sparse matrix capabilities of <code>Matrix</code> compared
to the base <code>matrix</code> class.
This function routes to <code>Matrix::Matrix()</code>, with some important
differences. See details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Matrix(
  data = NA,
  nrow = 1,
  ncol = 1,
  byrow = FALSE,
  dimnames = base::dimnames(data),
  sparse = NULL,
  doDiag = FALSE,
  forceCheck = FALSE,
  rowtype = matsbyname::rowtype(data),
  coltype = matsbyname::coltype(data)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional numeric data vector or <code>matrix.</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>When <code>data</code> is not a <code>matrix</code> or a <code>Matrix</code>, the desired number of rows.
Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>When <code>data</code> is not a <code>matrix</code> or a <code>Matrix</code>, the desired number of columns.
Default is <code>1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byrow</code></td>
<td>
<p>A boolean. If <code>FALSE</code> (the default) the Matrix is filled by columns, otherwise the Matrix is filled by rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimnames</code></td>
<td>
<p>A dimnames attribute for the Matrix: a list of two character components.
Default is <code>base::dimnames(data)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sparse</code></td>
<td>
<p>A boolean or <code>NULL</code>. Specifies whether the result should be sparse or not.
By default (<code>NULL</code>), the Matrix is made sparse when more than half
of the entries are <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doDiag</code></td>
<td>
<p>A boolean indicating if a <code>diagonalMatrix</code> object should be returned
when the resulting Matrix is diagonal (mathematically).
Default is <code>FALSE</code>, which is different from <code>Matrix::Matrix()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forceCheck</code></td>
<td>
<p>A boolean indicating if the checks for structure should happen
when <code>data</code> is already a <code>Matrix</code> object.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowtype</code></td>
<td>
<p>The rowtype for the result. Default is <code>matsbyname::rowtype(data)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coltype</code></td>
<td>
<p>The coltype for the result. Default is <code>matsbyname::coltype(data)</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function NEVER creates a symmetric matrix
(e.g., <code>dsCMatrix</code>, <code>dsyMatrix</code>, <code>dsRMatrix</code>, <code>lsyMatrix</code>, <code>nsyMatrix</code>),
because symmetric matrices do not respect some future changes to <code>dimnames</code>,
which can cause information loss in the <code>matsbyname</code> context.
A non-symmetric <code>Matrix</code> is assured by calling <code>as(out, "generalMatrix")</code>
on the outgoing <code>Matrix</code> object.
</p>
<p>This function enables setting row and column types at the time of construction
with the <code>rowtype</code> and <code>coltype</code> arguments.
</p>
<p>This function has different defaults compared to <code>Matrix::Matrix()</code>, including
</p>

<ul>
<li>
<p> Here, the default for <code>doDiag</code> is <code>FALSE</code>,
while the default for <code>doDiag</code> is <code>TRUE</code> for <code>Matrix::Matrix()</code>.
</p>
</li>
<li>
<p> Preserves rowtype and coltype on <code>data</code>.
</p>
</li>
</ul>
<p>This function is vectorized over a list of <code>matrix</code> objects supplied to <code>data</code>.
See examples.
</p>


<h3>Value</h3>

<p>A <code>Matrix</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># matsbyname::Matrix() will not create a Matrix with a symmetric subclass.
# dgCMatrix is a general matrix.
matsbyname::Matrix(c(1, 0, 2, 
                     0, 0, 0, 
                     2, 0, 0), byrow = TRUE, nrow = 3, ncol = 3)
# But Matrix::Matrix() will create a symmetric matrix.
# dsCMatrix is a symmetric matrix.
Matrix::Matrix(c(1, 0, 2, 
                 0, 0, 0, 
                 2, 0, 0), byrow = TRUE, nrow = 3, ncol = 3)
# matsbyname::Matrix() will not create a diagonal matrix.
# dgeMatrix is a general matrix.
matsbyname::Matrix(c(1, 0, 
                     0, 1), byrow = TRUE, nrow = 2, ncol = 2)
# But Matrix::Matrix() will create a diagonal matrix.
# ddiMatrix is a diagonal matrix.
Matrix::Matrix(c(1, 0, 
                 0, 1), byrow = TRUE, nrow = 2, ncol = 2)
# This function is vectorized over lists of `matrix` objects in `data`.
m &lt;- matrix(c(1, 0, 2, 
              0, 0, 0, 
              2, 0, 0), byrow = TRUE, nrow = 3, ncol = 3)
matsbyname::Matrix(list(m, m))
</code></pre>


</div>