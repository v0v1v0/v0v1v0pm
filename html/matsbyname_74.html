<div class="container">

<table style="width: 100%;"><tr>
<td>rename_to_piece_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rename matrix rows and columns by piece of row or column names</h2>

<h3>Description</h3>

<p>It can be convenient to rename rows or columns of matrices
based on retaining only a piece of the row and/or column names.
This function provides that capability.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rename_to_piece_byname(
  a,
  piece,
  margin = list(c(1, 2)),
  inf_notation = TRUE,
  notation = list(RCLabels::notations_list),
  choose_most_specific = FALSE,
  prepositions = list(RCLabels::prepositions_list)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>A matrix or list of matrices whose rows or columns will be renamed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>piece</code></td>
<td>
<p>A character string indicating which piece of the row or column names to retain,
one of "noun", "pps", "pref" or "suff", or a preposition,
indicating which part of the row or column name is to be retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>As a character, the row type or column type to be renamed.
As an integer, the margin to be renamed.
Default is <code>c(1, 2)</code>, meaning that both
rows (<code>margin = 1</code>) and columns (<code>margin = 2</code>)
will be renamed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inf_notation</code></td>
<td>
<p>A boolean that tells whether to infer notation.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notation</code></td>
<td>
<p>The notation used for row and column labels.
Default is <code>list(RCLabels::notations_list)</code>.
The default value is wrapped in a list,
because <code>RCLabels::notations_list</code> is, itself, a list.
If <code>notation</code> is not a list, unexpected behavior can result.
See <code>RCLabels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>choose_most_specific</code></td>
<td>
<p>A boolean that indicates whether the most-specific notation
will be inferred when more than one of <code>notation</code> matches
a row or column label
and <code>allow_multiple = FALSE</code>.
When <code>FALSE</code>, the first matching notation in <code>notations</code>
is returned when <code>allow_multiple = FALSE</code>.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepositions</code></td>
<td>
<p>Prepositions that can be used in the row and column label.
Default is <code>RCLabels::prepositions_list</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Internally, this function finds pieces of row and column names
via the <code>RCLabels</code> package.
<code>piece</code> can be anything that <code>RCLabels::get_piece()</code> understands.
Note that <code>margin</code> can be either an integer vector or
a character vector.
If <code>margin</code> is a character vector,
it is interpreted as a row or column type, and
<code>margin_from_types_byname()</code> is called internally to
resolve the integer margins of interest.
</p>
<p>Note that if row and/or column type are present,
the row and/or column type are also renamed according to <code>piece</code>.
This behavior is usually helpful.
For example,
if the prefix is requested (<code>piece = "pref"</code>) and
the row/coltype is a single word
that does not conform to the notation,
the entire row/coltype string is retained.
However, if the suffix is requested (<code>piece = "suff"</code>) and
the row/coltype is a single word
that does not conform to the notation,
an empty string ("") is returned.
In those circumstances,
the caller is responsible for
setting the row/coltype if an empty string ("")
is not desired.
See the examples for details.
</p>


<h3>Value</h3>

<p>A version of <code>a</code> with renamed rows and columns.
</p>


<h3>Examples</h3>

<pre><code class="language-R">m &lt;- matrix(c(1, 2, 
              3, 4, 
              5, 6), nrow = 3, byrow = TRUE, 
            dimnames = list(c("a -&gt; b", "r2", "r3"), c("a -&gt; b", "c -&gt; d")))
m
rename_to_piece_byname(m, piece = "pref", notation = RCLabels::arrow_notation)
m2 &lt;- m %&gt;%
  setrowtype("rows") %&gt;% setcoltype("cols")
m2
# In this example, 
# rowtype and coltype are unchanged, because the 
# whole string is considered to be the prefix.
rename_to_piece_byname(m2, piece = "pref", margin = "rows",
                       notation = RCLabels::arrow_notation)
# Here, the rowtype is set to the empty string ("")
# because there is no suffix for the type of the "rows" margin.
rename_to_piece_byname(m2, piece = "suff", margin = "rows",
                       notation = RCLabels::arrow_notation)
m3 &lt;- m2 |&gt; 
  setrowtype("Industry -&gt; Product")
m3
# Note that the rowtype becomes the prefix for the rowtype, 
# in this example "Industry".
rename_to_piece_byname(m3, piece = "pref", margin = 1,
                       notation = RCLabels::arrow_notation)
# And when a suffix is present, 
# the rowtype becomes the suffix, 
# in this example "Product".
rename_to_piece_byname(m3, piece = "suff", margin = 1,
                       notation = RCLabels::arrow_notation)
</code></pre>


</div>