<div class="container">

<table style="width: 100%;"><tr>
<td>aggregate_to_pref_suff_byname</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate a matrix to prefixes or suffixes of row and/or column names</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt="[Superseded]"></a>
Row and column names are often constructed in the form
<code>prefix_start</code> <code>prefix</code> <code>prefix_end</code> <code>suffix_start</code> <code>suffix</code> <code>suffix_end</code>
and described by a notation vector.
(See <code>notation_vec()</code>.)
This function performs aggregation by prefix or suffix according to a notation vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggregate_to_pref_suff_byname(
  a,
  aggregation_map = NULL,
  keep,
  margin = c(1, 2),
  notation,
  pattern_type = "exact"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>A matrix of list of matrices to be aggregated by prefix or suffix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_map</code></td>
<td>
<p>See <code>aggregate_byname()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep</code></td>
<td>
<p>See <code>rename_to_pref_suff_byname()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>the dimension over which aggregation is to be performed; <code>1</code> for rows, <code>2</code> for columns, or <code>c(1, 2)</code> for both.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notation</code></td>
<td>
<p>See <code>notation_vec()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern_type</code></td>
<td>
<p>See <code>aggregate_byname()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a convenience function, as it bundles sequential calls to two helper functions,
<code>rename_to_pref_suff_byname()</code> and <code>aggregate_byname()</code>.
All arguments are passed to the helper functions.
</p>


<h3>Value</h3>

<p>An aggregated version of <code>a</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># This function is superseded. 
# Instead, use `aggregate_pieces_byname()`.
# For example:
m &lt;- matrix((1:9), byrow = TRUE, nrow = 3, 
            dimnames = list(c("r1 -&gt; b", "r2 -&gt; b", "r3 -&gt; a"), c("c1 -&gt; z", "c2 -&gt; y", "c3 -&gt; y")))
m
aggregate_pieces_byname(m, piece = "pref", notation = RCLabels::arrow_notation)
aggregate_pieces_byname(m, piece = "suff", notation = RCLabels::arrow_notation)

# Original examples:
# Aggregation by prefixes does nothing more than rename, because all prefixes are different.
# Doing renaming like this (without also aggregating) is potentially dangerous, because  
# some rows and some columns could end up with same names.
aggregate_to_pref_suff_byname(m, keep = "pref", notation = RCLabels::arrow_notation)
# Aggregation by suffix reduces the number of rows and columns, 
# because there are same suffixes in both rows and columns
aggregate_to_pref_suff_byname(m, keep = "suff", notation = RCLabels::arrow_notation)
</code></pre>


</div>