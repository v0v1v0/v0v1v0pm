<div class="container">

<table style="width: 100%;"><tr>
<td>aggregation_map_helpers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregation map conversions</h2>

<h3>Description</h3>

<p>Aggregation is a many-to-few operation
where specifics are summed to comprise broader categories.
Examples include "John", "Paul", "George", and "Ringo"
aggregated to "Beatles"; and
"Mick", "Keith", "Ronnie", "Bill", and "Charlie"
aggregated to "Stones".
An aggregation map is a named list that describes the aggregation
to be performed.
An aggregation map for the examples above is
<code>list(Beatles = c("John", "Paul", "George", "Ringo"),  Stones = c("Mick", "Keith", "Ronnie", "Bill", "Charlie"))</code>
Aggregation maps can be generated from many shapes of data.
These functions assist with translating from different data shapes to
aggregation maps.
</p>


<h3>Usage</h3>

<pre><code class="language-R">agg_table_to_agg_map(.df, few_colname, many_colname)

agg_map_to_agg_table(aggregation_map, few_colname, many_colname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.df</code></td>
<td>
<p>A data frame from which an aggregation map is to be extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>few_colname</code></td>
<td>
<p>The string name of a column in a data frame that corresponds
to the "few" aggregated categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>many_colname</code></td>
<td>
<p>The string name of a column in a data frame that corresponds
to the "many" specific items that will be aggregated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aggregation_map</code></td>
<td>
<p>An aggregation map to be converted to a data frame.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>agg_table_to_agg_map()</code>, an aggregation map.
For <code>agg_map_to_agg_table()</code>, a <code>data.frame</code>, probably at <code>tibble</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">bands &lt;- tibble::tribble(~band, ~members, 
                         "The Beatles", "John", 
                         "The Beatles", "Paul", 
                         "The Beatles", "George", 
                         "The Beatles", "Ringo", 
                         # Rejects duplicates and NA
                         "The Beatles", "Ringo",
                         "The Beatles", NA, 
                         "Rolling Stones", "Mick", 
                         "Rolling Stones", "Keith",
                         "Rolling Stones", "Ronnie",
                         "Rolling Stones", "Bill",
                         "Rolling Stones", "Charlie")
agg_map &lt;- agg_table_to_agg_map(bands, 
                                 few_colname = "band",
                                 many_colname = "members")
agg_map
agg_map_to_agg_table(agg_map, few_colname = "bands", many_colname = "members")
</code></pre>


</div>