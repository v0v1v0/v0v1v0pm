<div class="container">

<table style="width: 100%;"><tr>
<td>matrix_cols</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find columns that contain matrices</h2>

<h3>Description</h3>

<p>It is often helpful to find the columns of a <code>matsindf</code>
data frame that contain exclusively or some matrices.
This function helps with that task.
</p>


<h3>Usage</h3>

<pre><code class="language-R">matrix_cols(.df, .drop_names = FALSE, .any = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.df</code></td>
<td>
<p>The data frame to be queried for matrix columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.drop_names</code></td>
<td>
<p>A boolean that tells whether to remove the names from
the returned integer vector.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.any</code></td>
<td>
<p>A boolean that tells whether a column is reported when
<code>any()</code> of the rows contain matrices
(instead of <code>all()</code> rows contain matrices).
Default is <code>FALSE</code>, in which case
all entries in a column must be a matrix for
the column to be reported.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, a column is considered a matrix column if <code>all()</code> of the
rows contain matrices.
Use the <code>.test_any</code> argument to modify this behavior.
</p>
<p>By default, the vector of integers returned from this function
is named by the columns.
Use the <code>.drop_names</code> function to modify this behavior.
</p>


<h3>Value</h3>

<p>A vector of integers saying which columns contain matrices.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tidy &lt;- tibble::tibble(matrix = c("V1", "V1", "V1", "V2", "V2"),
                         row = c("i1", "i1", "i2", "i1", "i2"),
                         col = c("p1", "p2", "p2", "p1", "p2"),
                         vals = c(1, 2, 3, 4, 5)) %&gt;%
  dplyr::mutate(
    rowtypes = "Industries",
    coltypes  = "Products"
  ) %&gt;%
  dplyr::group_by(matrix)
matsdf &lt;- tidy %&gt;%
  collapse_to_matrices(matnames = "matrix", matvals = "vals",
                       rownames = "row", colnames = "col",
                       rowtypes = "rowtypes", coltypes = "coltypes")
matsdf
matrix_cols(matsdf)
matrix_cols(matsdf, .drop_names = TRUE)
</code></pre>


</div>