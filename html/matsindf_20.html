<div class="container">

<table style="width: 100%;"><tr>
<td>mat_to_rowcolval</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a matrix to a data frame with rows, columns, and values.</h2>

<h3>Description</h3>

<p>This function "expands" a matrix into a tidy data frame with
a values column and
factors for row names, column names, row types, and column types.
Optionally, values can be dropped.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mat_to_rowcolval(
  .matrix,
  matvals = "matvals",
  rownames = "rownames",
  colnames = "colnames",
  rowtypes = "rowtypes",
  coltypes = "coltypes",
  drop = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.matrix</code></td>
<td>
<p>The IO-style matrix to be converted to a data frame with rows, columns, and values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matvals</code></td>
<td>
<p>A string for the name of the output column containing values. Default is "matvals".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rownames</code></td>
<td>
<p>A string for the name of the output column containing row names. Default is "rownames".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colnames</code></td>
<td>
<p>A string for the name of the output column containing column names. Default is "colnames".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowtypes</code></td>
<td>
<p>A string for the name of the output column containing row types. Default is "rowtypes".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coltypes</code></td>
<td>
<p>A string for the name of the output column containing column types. Default is "coltypes".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>If specified, the value to be dropped from output. Default is <code>NA</code>.
For example, <code>drop = 0</code> will cause <code>0</code> entries in the matrices to be deleted from output.
If <code>NA</code>, no values are dropped from output.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with rows, columns, and values.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(matsbyname)
data &lt;- data.frame(Country  = c("GH", "GH", "GH"),
                   rows = c( "c1",  "c1", "c2"),
                   cols = c( "i1",  "i2", "i2"),
                   rt = c("Commodities", "Commodities", "Commodities"),
                   ct = c("Industries", "Industries", "Industries"),
                   vals = c(  11  ,  12,   22 ))
data
A &lt;- data %&gt;%
  rowcolval_to_mat(rownames = "rows", colnames = "cols",
                   rowtypes = "rt",   coltypes = "ct", matvals = "vals")
A
mat_to_rowcolval(A, rownames = "rows", colnames = "cols",
                 rowtypes = "rt", coltypes = "ct", matvals = "vals")
mat_to_rowcolval(A, rownames = "rows", colnames = "cols",
                 rowtypes = "rt", coltypes = "ct", matvals = "vals", drop = 0)
# This also works for single values
mat_to_rowcolval(2, matvals = "vals",
                 rownames = "rows", colnames = "cols",
                 rowtypes = "rt", coltypes = "ct")
mat_to_rowcolval(0, matvals = "vals",
                 rownames = "rows", colnames = "cols",
                 rowtypes = "rt", coltypes = "ct", drop = 0)
</code></pre>


</div>