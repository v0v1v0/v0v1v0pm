<div class="container">

<table style="width: 100%;"><tr>
<td>fnSubset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Call fnFull with variable and fixed parameters
</h2>

<h3>Description</h3>

<p>Combine variable parameters with with fixed parameters and pass to
<code>fnFull</code>.  Useful for optimizing over a subset of parameters
without writing a separate function.  Values are combined by name if
available.  Otherwise, <code>xFull</code> is constructed by position (the
default).  
</p>


<h3>Usage</h3>

<pre><code class="language-R">fnSubset(x, fnFull, xFixed, xFull=c(x, xFixed), ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>Variable parameters to be passed to <code>fnFull</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fnFull</code></td>
<td>

<p>Function whose first argument has length = length(xFull).  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xFixed</code></td>
<td>

<p>Parameter values to be combined with <code>x</code> to construct the first
argument for a call to <code>fnFull</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xFull</code></td>
<td>

<p>Prototype initial argument for <code>fnFull</code>.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Optional arguments passed to <code>fnFull</code>.  
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function first confirms that
<code>length(x) + length(xFixed) == length(xFull)</code>.
Next,
</p>

<ul>
<li>
<p> If <code>xFull</code> has names, match at least <code>xFixed</code> by
name.
</p>
</li>
<li>
<p> Else <code>xFull = c(x, xFixes)</code>, the default.  
</p>
</li>
</ul>
<p>Finally, call <code>fnFull(xFull, ...)</code>.
</p>


<h3>Value</h3>

<p>value returned by <code>fnFull</code> 
</p>


<h3>Author(s)</h3>

<p>Spencer Graves 
</p>


<h3>See Also</h3>

<p><code>optim</code>
<code>dlmMLE</code>
<code>maxLik</code>
<code>maxNR</code> 
</p>


<h3>Examples</h3>

<pre><code class="language-R">##
## Example with 'optim'
##
fn &lt;- function(x) (x[2]-2*x[1])^2
# note: true minimum is 0 on line 2*x[1] == x[2]
fullEst &lt;- optim(par=c(1,1), method="BFGS", fn=fn)
fullEst$par
# par = c(0.6, 1.2) at minimum (not convex)

# Fix the last component to 4 
est4 &lt;- optim(par=1, fn=fnSubset, method="BFGS", fnFull=fn, xFixed=4)
est4$par
# now there is a unique minimun x[1] = 2

# Fix the first component
fnSubset(x=1, fnFull=fn, xFixed=c(a=4), xFull=c(a=1, b=2))
# After substitution:  xFull = c(a=4, b=1),
# so fn = (1 - 2*4)^2 = (-7)^2 = 49

est4. &lt;- optim(par=1, fn=fnSubset, method="BFGS",
               fnFull=fn, xFixed=c(a=4), 
               xFull=c(a=1, b=2))
est4.$par
# At optimum: xFull=c(a=4, b=8),
# so fn = (8 - 2*4)^2 = 0

##
## Example with 'maxLik'
##
fn2max &lt;- function(x) -(x[2]-2*x[1])^2
# -&gt; need to have a maximum
max4 &lt;- maxLik(fnSubset, start=1, fnFull=fn2max, xFixed=4)
summary(max4)
# Similar result using fixed parameters in maxNR, called by maxLik 
max4. &lt;- maxLik(fn2max, start=c(1, 4), fixed=2)
summary(max4.)
</code></pre>


</div>