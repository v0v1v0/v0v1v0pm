<div class="container">

<table style="width: 100%;"><tr>
<td>returnCode</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Success or failure of the optimization</h2>

<h3>Description</h3>

<p>These function extract success or failure information from optimization objects.
The <code>returnCode</code> gives a numeric code, and <code>returnMessage</code> a
brief description about the success or
failure of the optimization, and point to the problems occured (see
documentation for the
corresponding functions).
</p>


<h3>Usage</h3>

<pre><code class="language-R">returnCode(x, ...)
## Default S3 method:
returnCode(x, ...)
## S3 method for class 'maxLik'
returnCode(x, ...)
returnMessage(x, ...)
## S3 method for class 'maxim'
returnMessage(x, ...)
## S3 method for class 'maxLik'
returnMessage(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object, usually an optimization result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments for other methods</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>returnMessage</code> and <code>returnCode</code> are a generic functions, with methods
for various optimisation algorithms.
The message should either describe
the convergence (stopping condition),
or the problem.
</p>
<p>The known codes and the related messages are:
</p>

<dl>
<dt>1</dt>
<dd>
<p> gradient close to zero (normal convergence).</p>
</dd>
<dt>2</dt>
<dd>
<p> successive function values within tolerance limit (normal
convergence).</p>
</dd>
<dt>3</dt>
<dd>
<p> last step could not find higher value (probably not
converged).  This is related to line search step getting too
small, usually because hitting the boundary of the parameter
space.  It may also be related to attempts to move to a wrong
direction because of numerical errors.  In some cases it can be
helped by changing <code>steptol</code>.</p>
</dd>
<dt>4</dt>
<dd>
<p> iteration limit exceeded.</p>
</dd>
<dt>5</dt>
<dd>
<p> Infinite value.</p>
</dd>
<dt>6</dt>
<dd>
<p> Infinite gradient.</p>
</dd>
<dt>7</dt>
<dd>
<p> Infinite Hessian.</p>
</dd>
<dt>8</dt>
<dd>
<p>Successive function values withing relative tolerance
limit (normal convergence).</p>
</dd>
<dt>9</dt>
<dd>
<p> (BFGS) Hessian approximation cannot be improved because of
gradient did not change.  May be related to numerical
approximation problems or wrong analytic gradient.
</p>
</dd>
<dt>10</dt>
<dd>
<p>Lost patience: the optimizer has hit an inferior value too many
times (see <code>maxSGA</code> for more information)
</p>
</dd>
<dt>100</dt>
<dd>
<p> Initial value out of range.</p>
</dd>
</dl>
<h3>Value</h3>

<p>Integer for <code>returnCode</code>, character for <code>returnMessage</code>.
Different optimization routines may define it in a different way.
</p>


<h3>Author(s)</h3>

<p>Ott Toomet</p>


<h3>See Also</h3>

<p><code>maxNR</code>, <code>maxBFGS</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## maximise the exponential bell
f1 &lt;- function(x) exp(-x^2)
a &lt;- maxNR(f1, start=2)
returnCode(a) # should be success (1 or 2)
returnMessage(a)
## Now try to maximise log() function
a &lt;- maxNR(log, start=2)
returnCode(a) # should give a failure (4)
returnMessage(a)
</code></pre>


</div>