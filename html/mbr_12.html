<div class="container">

<table style="width: 100%;"><tr>
<td>mb_reconstruction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mass-balance-adjusted reconstruction</h2>

<h3>Description</h3>

<p>Mass-balance-adjusted reconstruction
</p>


<h3>Usage</h3>

<pre><code class="language-R">mb_reconstruction(
  instQ,
  pc.list,
  start.year,
  lambda = 1,
  log.trans = NULL,
  force.standardize = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>instQ</code></td>
<td>
<p>Instrumental data, in the same order as pc.list. The "season" column must be a factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc.list</code></td>
<td>
<p>List of PC matrices. The first element is for the first season, second element for second season, and so on. The last element is for the annual reconstruction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.year</code></td>
<td>
<p>The first year of record</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>The penalty weight</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log.trans</code></td>
<td>
<p>A vector containing indices of the targets to be log-transformed. If no transformation is needed, provide <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force.standardize</code></td>
<td>
<p>If TRUE, all observations are standardized. See Details.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>data.table</code> with the following columns: season, year, Q, and lambda.
</p>


<h3>Details</h3>

<p>If some targets are log transformed and some are not, they will have different scales, which affects the objective function. In this case the observations will be standardized so that they are in the same range. Otherwise, standardization are skipped for speed. However, in some cases you may want to standardize any ways, for example when flows in some months are much larger than in other months. In this case, set <code>force.standardize = TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mb_reconstruction(p1Seasonal, pc3seasons, 1750, lambda = 1, log.trans = 1:3)
</code></pre>


</div>