<div class="container">

<table style="width: 100%;"><tr>
<td>rtrunc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Random Truncated Distributions
</h2>

<h3>Description</h3>

<p>Provides samples from classical <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> distributions and ‘<span class="samp">⁠mc2d⁠</span>’
specific distributions truncated between ‘<span class="samp">⁠linf⁠</span>’ (excluded) and
‘<span class="samp">⁠lsup⁠</span>’ (included).
</p>


<h3>Usage</h3>

<pre><code class="language-R">rtrunc(distr=runif, n, linf=-Inf, lsup=Inf, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>distr</code></td>
<td>
<p>A function providing random data or its name as
character. The function 'rdistr' should have a 'qdistr' form (with
argument 'p') and a 'pdistr' form (with argument 'q'). Example :
'rnorm' (has a 'qnorm' and a 'pnorm' form), 'rbeta', 'rbinom',
'rgamma', ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The size of the sample.</p>
</td>
</tr>
</table>
<p>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>linf</code></td>
<td>
<p>A vector of lower bounds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lsup</code></td>
<td>
<p>A vector of upper bounds, with ‘<span class="samp">⁠lsup &lt; linf⁠</span>’
(strictly).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>All arguments to be passed to ‘<span class="samp">⁠pdistr⁠</span>’ and
‘<span class="samp">⁠qdistr⁠</span>’.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function 1) evaluates the ‘<span class="samp">⁠p⁠</span>’ values corresponding to
‘<span class="samp">⁠linf⁠</span>’ and ‘<span class="samp">⁠lsup⁠</span>’ using ‘<span class="samp">⁠pdistr⁠</span>’; 2) samples ‘<span class="samp">⁠n⁠</span>’
values using ‘<span class="samp">⁠runif(n, min=pinf, max=psup)⁠</span>’, and 3) takes the
‘<span class="samp">⁠n⁠</span>’ corresponding quantiles from the specified distribution
using ‘<span class="samp">⁠qdistr⁠</span>’.
</p>
<p>All distributions (but sample) implemented in the stats library could
be used. The arguments in ... should be named. Do not use 'log' or
'log.p' or 'lower.tail'. For discrete distribution, rtrunc sample
within ‘<span class="samp">⁠(linf, lsup]⁠</span>’. See example.
</p>


<h3>Value</h3>

<p>A vector of ‘<span class="samp">⁠n⁠</span>’ values.
</p>


<h3>Note</h3>

<p>The inversion of the quantile function leads to time consuming
functions for some distributions. WARNING: The method is flexible,
but can lead to problems linked to rounding errors in some extreme
situations. The function checks that the values are in the expected
range and returns an error if not. It also warns some extreme
situation that could lead to unexpected results. See Examples.
</p>


<h3>Examples</h3>

<pre><code class="language-R">rtrunc("rnorm", n=10, linf=0)
range(rtrunc(rnorm, n=1000, linf=3, lsup=5, sd=10))
## Discrete distributions
range(rtrunc(rpois, 1000, linf=2, lsup=4, lambda=1))
##Examples of rounding problems. 
##The first one will provide a warning while the results are unexpected, 
##The second will provide an error.
## Not run: 
table(rtrunc(rbinom, n=1000, size=10, prob=1-1E-20, lsup=9))
table(rtrunc(rbinom, n=1000, size=10, prob=1E-14, linf=0))

## End(Not run)
</code></pre>


</div>