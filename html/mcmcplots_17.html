<div class="container">

<table style="width: 100%;"><tr>
<td>mcmcplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Diagnostics Plots for MCMC in HTML format </h2>

<h3>Description</h3>

<p>Creates an HTML file that displays diagnostic plots (trace, density, autocorrelation) from an MCMC simulation.  When the number of parameters in an MCMC simulation is large, viewing all plots in a web browser is much easier than clicking through <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> graph windows.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mcmcplot(mcmcout, parms = NULL, regex = NULL, random = NULL,
leaf.marker = "[\\[_]", dir = tempdir(), filename = "MCMCoutput",
extension = "html", title = NULL,
heading = title, col = NULL, lty = 1,
xlim = NULL, ylim = NULL,
style=c("gray", "plain"), greek = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mcmcout</code></td>
<td>
<p> posterior draws. This argument will be coerced to an <code>mcmc</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parms</code></td>
<td>
<p> character vector specifying subsets of parameters to plot.  If <code>parms=NULL</code> and <code>regex=NULL</code>, <code>mcmcplot</code> will plot all parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regex</code></td>
<td>
<p> character vector of regular expressions denoting groups of parameters to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p> integer specifying how many parameters from each group will be randomly selected for plotting.  This argument is useful when <code>mcmcout</code> has a large number of parameters (e.g., from a hierarchical model).  If <code>NULL</code>, <code>mcmcplot</code> will plot all parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leaf.marker</code></td>
<td>
<p> a regular expression with a character class that marks the beginning of the “leaf” portion of a parameter name.  The default character class includes <code>[</code> and <code>_</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p> string containing the directory where the plots and the main html file will be stored. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p> string containing the name of the main html file which will contain code to display each plot produced by <code>mcmcplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extension</code></td>
<td>
<p> string containing the extension to be used for the html file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p> string containing the title to be included in the html file.  Default is to use the name of object passed as the <code>mcmcout</code> argument prepended with the string "MCMC Output: ".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>heading</code></td>
<td>
<p> string containing the heading to be used for the html file.  Default is to use the <code>title</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p> vector of colors.  This will determine the colors that will be used to plot each chain in the traceplots and density plots.  Default is <code>mcmcplotsPalette(nchains)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p> vector of line types.  This will determine the line types that will be used to plot each chain in the traceplots and density plots.  If missing, <code>mcmcplot</code> will use 1 for all line types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p> limits for the x axis of the density plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p> limits for the y axis of the density plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p> if "gray", then the plotting region is printed with a gray background, otherwise the default plotting region is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>greek</code></td>
<td>
<p>if <code>TRUE</code>, the names of greek letters in the <code>labels</code> will be displayed as greek characters on the plot.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>mcmcplot</code> function generates an html file that contains diagnostics plots – trace plots, autocorrelation plots, and density plots – for parameters from an MCMC simulation.  When an MCMC simulation contains a large number of parameters, it is no longer convenient to view plots in a small graph window.  Viewing the plots in a web browser gives the user the ability to scroll through and examine a large number of plots in a more convenient manner.
</p>
<p>See documentation for <code>parms2plot</code> for more information on how to “smartly” select parameters to plot using the <code>parms</code>, <code>regex</code>, and <code>random</code> arguments.
</p>


<h3>Value</h3>

<p>Invisibly returns a string containing the path to <code>filename</code>.
</p>


<h3>Author(s)</h3>

<p>S. McKay Curtis and Ilya Goldin
</p>


<h3>See Also</h3>

<p><code>parms2plot</code>, plotting functions in the <span class="pkg">coda</span> package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
## Create fake MCMC output
nc &lt;- 10; nr &lt;- 1000
pnames &lt;- c(paste("alpha[", 1:5, "]", sep=""), paste("gamma[", 1:5, "]", sep=""))
means &lt;- rpois(10, 20)
fakemcmc &lt;- coda::as.mcmc.list(
    lapply(1:3,
           function(i) coda::mcmc(matrix(rnorm(nc*nr, rep(means,each=nr)),
                                         nrow=nr, dimnames=list(NULL,pnames)))))

## Use mcmcplot to plot
## the fake MCMC output
mcmcplot(fakemcmc)
mcmcplot(fakemcmc, greek=TRUE)
mcmcplot(fakemcmc, xlim=range(fakemcmc)) # put the densities on the same scale
mcmcplot(fakemcmc, "gamma")
mcmcplot(fakemcmc, regex="alpha\\[[12]", style="plain")
mcmcplot(fakemcmc, "gamma", regex="alpha\\[[12]")
mcmcplot(fakemcmc, random=2)
mcmcplot(fakemcmc, random=c(2, 3))

## What happens with NULL varnames?
coda::varnames(fakemcmc) &lt;- NULL
mcmcplot(fakemcmc)

## mcmcplot works on bugs objects too
library(R2WinBUGS)
example("openbugs", "R2WinBUGS")
## from the help file for openbugs:
schools.sim &lt;- bugs(data, inits, parameters, model.file,
                    n.chains = 3, n.iter = 5000,
                    program = "openbugs", working.directory = NULL)
mcmcplot(schools.sim)

## End(Not run)
</code></pre>


</div>