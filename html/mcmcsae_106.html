<div class="container">

<table style="width: 100%;"><tr>
<td>sampler_control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set computational options for the sampling algorithms</h2>

<h3>Description</h3>

<p>Set computational options for the sampling algorithms
</p>


<h3>Usage</h3>

<pre><code class="language-R">sampler_control(
  add.outer.R = TRUE,
  recompute.e = TRUE,
  expanded.cMVN.sampler = FALSE,
  CG = NULL,
  block = TRUE,
  block.V = TRUE,
  auto.order.block = TRUE,
  chol.control = chol_control(),
  max.size.cps.template = 100,
  PG.approx = TRUE,
  PG.approx.m = -2L,
  CRT.approx.m = 20L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>add.outer.R</code></td>
<td>
<p>whether to add the outer product of a constraint matrix for a better conditioned 
linear system of equations, typically for coefficients sampled in a Gibbs-block. Default is <code>TRUE</code>.
If <code>NULL</code>, a simple heuristic is used to decide whether to add the outer product
of possibly a submatrix of the constraint matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recompute.e</code></td>
<td>
<p>when <code>FALSE</code>, residuals or linear predictors are only computed at the start of the simulation.
This may give a modest speedup but in some cases may be less accurate due to round-off error accumulation.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expanded.cMVN.sampler</code></td>
<td>
<p>whether an expanded linear system including dual variables is used
for equality constrained multivariate normal sampling. If set to <code>TRUE</code> this may
improve the performance of the blocked Gibbs sampler in case of a large number of equality
constraints, typically identifiability constraints for GMRFs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CG</code></td>
<td>
<p>use a conjugate gradient iterative algorithm instead of Cholesky updates for sampling
the model's coefficients. This must be a list with possible components <code>max.it</code>,
<code>stop.criterion</code>, <code>verbose</code>, <code>preconditioner</code> and <code>scale</code>.
See the help for function <code>CG_control</code>, which can be used to specify these options.
Conjugate gradient sampling is currently an experimental feature that can be used for
blocked Gibbs sampling but with some limitations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block</code></td>
<td>
<p>if <code>TRUE</code>, the default, all coefficients are sampled in a single block. Alternatively, a list of
character vectors with names of model components whose coefficients should be sampled together in blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.V</code></td>
<td>
<p>if <code>TRUE</code>, the default, all coefficients of <code>reg</code> and <code>gen</code> components
in a variance model formula are sampled in a single block. Alternatively, a list of
character vectors with names of model components whose coefficients should be sampled together in blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.order.block</code></td>
<td>
<p>whether Gibbs blocks should be ordered automatically in such a
way that those with the most sparse design matrices come first. This way of ordering
can make Cholesky updates more efficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chol.control</code></td>
<td>
<p>options for Cholesky decomposition, see <code>chol_control</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.size.cps.template</code></td>
<td>
<p>maximum allowed size in MB of the sparse matrix serving as a 
template for the sparse symmetric crossproduct X'QX of a dgCMatrix X, where Q is a diagonal
matrix subject to change.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PG.approx</code></td>
<td>
<p>whether Polya-Gamma draws for logistic binomial models are
approximated by a hybrid gamma convolution approach. If not, <code>BayesLogit::rpg</code>
is used, which is exact for some values of the shape parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PG.approx.m</code></td>
<td>
<p>if <code>PG.approx=TRUE</code>, the number of explicit gamma draws in the
sum-of-gammas representation of the Polya-Gamma distribution. The remainder (infinite)
convolution is approximated by a single moment-matching gamma draw. Special values are:
<code>-2L</code> for a default choice depending on the value of the shape parameter
balancing performance and accuracy, <code>-1L</code> for a moment-matching normal approximation,
and <code>0L</code> for a moment-matching gamma approximation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CRT.approx.m</code></td>
<td>
<p>scalar integer specifying the degree of approximation to sampling
from a Chinese Restaurant Table distribution. The approximation is based on Le Cam's theorem.
Larger values yield a slower but more accurate sampler.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with specified computational options used by various sampling functions.
</p>


<h3>References</h3>

<p>D. Bates, M. Maechler, B. Bolker and S.C. Walker (2015).
Fitting Linear Mixed-Effects Models Using lme4.
Journal of Statistical Software 67(1), 1-48.
</p>
<p>Y. Chen, T.A. Davis, W.W. Hager and S. Rajamanickam (2008).
Algorithm 887: CHOLMOD, supernodal sparse Cholesky factorization and update/downdate.
ACM Transactions on Mathematical Software 35(3), 1-14.
</p>


</div>