<div class="container">

<table style="width: 100%;"><tr>
<td>model-information-criteria</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute DIC, WAIC and leave-one-out cross-validation model measures</h2>

<h3>Description</h3>

<p>Compute the Deviance Information Criterion (DIC) or
Watanabe-Akaike Information Criterion (WAIC) from an
object of class <code>mcdraws</code> output by <code>MCMCsim</code>.
Method <code>waic.mcdraws</code> computes WAIC using package <span class="pkg">loo</span>.
Method <code>loo.mcdraws</code> also depends on package <span class="pkg">loo</span> to compute
a Pareto-smoothed importance sampling (PSIS) approximation
to leave-one-out cross-validation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_DIC(x, use.pV = FALSE)

compute_WAIC(
  x,
  diagnostic = FALSE,
  batch.size = NULL,
  show.progress = TRUE,
  cl = NULL,
  n.cores = 1L
)

## S3 method for class 'mcdraws'
waic(x, by.unit = FALSE, ...)

## S3 method for class 'mcdraws'
loo(x, by.unit = FALSE, r_eff = FALSE, n.cores = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>mcdraws</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.pV</code></td>
<td>
<p>whether half the posterior variance of the deviance should be used
as an alternative estimate of the effective number of model parameters for DIC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diagnostic</code></td>
<td>
<p>whether vectors of log-pointwise-predictive-densities and pointwise
contributions to the WAIC effective number of model parameters should be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch.size</code></td>
<td>
<p>number of data units to process per batch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.progress</code></td>
<td>
<p>whether to show a progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>an existing cluster can be passed for parallel computation. If <code>cl</code> is provided,
<code>n.cores</code> will be set to the number of workers in that cluster. If <code>NULL</code> and
<code>n.cores &gt; 1</code>, a new cluster is created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cores</code></td>
<td>
<p>the number of cpu cores to use. Default is one, i.e. no parallel computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.unit</code></td>
<td>
<p>if <code>TRUE</code> the computation is carried out unit-by-unit, which is
slower but uses much less memory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments, passed to <code>loo</code>. Not currently
used by <code>waic.mcdraws</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_eff</code></td>
<td>
<p>whether to compute relative effective sample size estimates
for the likelihood of each observation. This takes more time, but should
result in a better PSIS approximation. See <code>loo</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>compute_DIC</code> a vector with the deviance information criterion and
effective number of model parameters. For <code>compute_WAIC</code> a vector with the
WAIC model selection criterion and WAIC effective number of model parameters.
Method <code>waic</code> returns an object of class <code>waic, loo</code>, see the
documentation for <code>waic</code> in package <span class="pkg">loo</span>. 
Method <code>loo</code> returns an object of class <code>psis_loo</code>, see
<code>loo</code>.
</p>


<h3>References</h3>

<p>D. Spiegelhalter, N. Best, B. Carlin and A. van der Linde (2002).
Bayesian Measures of Model Complexity and Fit.
Journal of the Royal Statistical Society B 64 (4), 583-639.
</p>
<p>S. Watanabe (2010).
Asymptotic equivalence of Bayes cross validation and widely applicable
information criterion in singular learning theory.
Journal of Machine Learning 11, 3571-3594.
</p>
<p>A. Gelman, J. Hwang and A. Vehtari (2014).
Understanding predictive information criteria for Bayesian models.
Statistics and Computing 24, 997-1016.
</p>
<p>A. Vehtari, D. Simpson, A. Gelman, Y. Yao and J. Gabry (2015).
Pareto smoothed importance sampling.
arXiv:1507.02646.
</p>
<p>A. Vehtari, A. Gelman and J. Gabry (2017).
Practical Bayesian model evaluation using leave-one-out cross-validation
and WAIC.
Statistics and Computing 27, 1413-1432.
</p>
<p>P.-C. Buerkner, J. Gabry and A. Vehtari (2021).
Efficient leave-one-out cross-validation for Bayesian non-factorized
normal and Student-t models.
Computational Statistics 36, 1243-1261.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
ex &lt;- mcmcsae_example(n=100)
sampler &lt;- create_sampler(ex$model, data=ex$dat)
sim &lt;- MCMCsim(sampler, burnin=100, n.iter=300, n.chain=4, store.all=TRUE)
compute_DIC(sim)
compute_WAIC(sim)
if (require(loo)) {
  waic(sim)
  loo(sim, r_eff=TRUE)
}


</code></pre>


</div>