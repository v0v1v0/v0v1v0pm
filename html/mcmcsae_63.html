<div class="container">

<table style="width: 100%;"><tr>
<td>maximize_log_lh_p</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Maximize the log-likelihood or log-posterior as defined by a sampler closure</h2>

<h3>Description</h3>

<p>Maximize the log-likelihood or log-posterior as defined by a sampler closure
</p>


<h3>Usage</h3>

<pre><code class="language-R">maximize_log_lh_p(
  sampler,
  type = c("llh", "lpost"),
  method = "BFGS",
  control = list(fnscale = -1),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sampler</code></td>
<td>
<p>sampler function closure, i.e. the return value of a call to <code>create_sampler</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>either "llh" (default) or "lpost", for optimization of the log-likelihood,
or the log-posterior, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>optimization method, passed to <code>optim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>control parameters, passed to <code>optim</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters passed to <code>optim</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of parameter values that, provided the optimization was successful, maximize the (log-)likelihood
or (log-)posterior.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
n &lt;- 1000
dat &lt;- data.frame(
  x = rnorm(n),
  f = factor(sample(1:50, n, replace=TRUE))
)
df &lt;- generate_data(
  ~ reg(~x, name="beta", prior=pr_normal(precision=1)) + gen(~x, factor=~f, name="v"),
  sigma.fixed=TRUE, data=dat
)
dat$y &lt;- df$y
sampler &lt;- create_sampler(y ~ x + gen(~x, factor=~f, name="v"), data=dat)
opt &lt;- maximize_log_lh_p(sampler)
str(opt)
plot(df$par$v, opt$par$v); abline(0, 1, col="red")


</code></pre>


</div>