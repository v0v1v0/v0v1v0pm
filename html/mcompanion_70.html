<div class="container">

<table style="width: 100%;"><tr>
<td>mc_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Basic utilities for multi-companion matrices </h2>

<h3>Description</h3>

<p>Compute the dense matrix representation of a multi-companion matrix or
convert the argument to an ordinary matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc_full(x)
mc_matrix(x)
mc_order(x)
is_mc_bottom(x)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>the top part of the multi-companion matrix or the whole matrix, see
Details.
</p>
</td>
</tr></table>
<h3>Details</h3>

<p><code>mc_matrix</code> returns an ordinary matrix. It returns <code>x</code> if
<code>x</code> is an ordinary matrix (<code>is.matrix(x) == TRUE</code>), converts
<code>x</code> to a matrix with one row if <code>x</code> is a vector, and returns
<code>as.matrix(x)</code> otherwise. <code>mc_matrix</code> is used by some
functions in package <code>mcompanion</code> that want to allow flexible
format for the top of a multicompanion matrix or even the whole matrix
(e.g. <code>x</code> may be a <code>MultiCompanion</code> object) but are not
really multi-companion aware.
</p>
<p>For <code>mc_full</code>, <code>x</code> is normally the top part of a
multi-companion matrix. Rows are appended as necessary to obtain the
dense representation of the matrix and the result is guaranteed to be
a multi-companion matrix.  It is an error to have more rows than
columns.  If the number of rows is equal to the number of columns,
i.e. <code>x</code> is the whole matrix, the effect is that <code>x</code> is
converted to an ordinary matrix but no check is made to see if the
result is indeed a multi-companion matrix.
<code>x</code> may be a vector if the multi-companion order is 1.
</p>
<p>Give the multi-companion order of a square matrix
</p>
<p>Determine the multi-companion order of a square matrix or check if a
matrix may be the bottom part of a multi-companion matrix.
</p>
<p>In <code>mc_order(x)</code> should be a square matrix, while in
<code>is_mc_bottom(x)</code> the matrix is usually rectangular.
</p>
<p>The bottom part of a multi-companion matrix is of the form [I 0],
where I is an identity matrix and 0 is a matrix of zeroes. The top
consists of the rows above the bottom part.
The multi-companion order is the number of rows in the top of a
multi-companion matrix.
</p>
<p>Identity matrices have <code>mc_order</code> zero.
Other general matrices have <code>mc_order</code> equal to the number of
rows. In particular, an <code class="reqn">1\times1</code> matrix has <code>mc_order</code>
zero, if its only element is equal to one, and <code>mc_order</code> one
otherwise.
</p>
<p>Acordingly, <code>is_mc_bottom(x)</code> returns TRUE if <code>x</code> is the
identity matrix or a matrix with zero rows.  This is consistent with
the treatment of the identity matrix as multi-companion of multi order
0 and a general matrix as multi-companion of multi-companion order
equal to the number of its rows.
</p>


<h3>Value</h3>

<p>for <code>mc_full</code>, the multi-companion matrix as an ordinary dense
matrix object.
</p>
<p>For <code>mc_matrix</code>, an ordinary matrix.
</p>
<p>for <code>mc_order</code>, the multi-companion order of <code>x</code>, a
non-negative integer
</p>
<p>for <code>is_mc_bottom</code>, TRUE if <code>x</code> may be the bottom part of a
multi-companion matrix and FALSE otherwise.
</p>


<h3>Note</h3>

<p><code>mc_matrix</code> is not multi-companion specific, except that it
converts a vector to a matrix with one row (not column).  For square
matrices these functions are not really multi-companion specific.
</p>
<p>It may make sense to allow non-square matrices also for <code>mc_order</code>.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>References</h3>


<p>Boshnakov GN (2002).
“Multi-companion matrices.”
<em>Linear Algebra Appl.</em>, <b>354</b>, 53–83.
ISSN 0024-3795, <a href="https://doi.org/10.1016/S0024-3795%2801%2900475-X">doi:10.1016/S0024-3795(01)00475-X</a>.
</p>


<h3>See Also</h3>

 <p><code>mcStable</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">mc &lt;- mCompanion("sim", dim = 4, mo = 2)
mc
mc_order(mc)
x &lt;- mc[1:2, ]   # the top of mc
x
x2 &lt;- mc[]      # whole mc as ordinary matrix
x2

mc_matrix(mc)
mc_matrix(x2)
## mc_matrix() doesn't append rows to its argument
mc_matrix(x)

## mc_full() appends rows, to make the matrix square multicompanion
mc_full(x)
## mc and x2 are square, so not amended:
mc_full(mc)
mc_full(x2)

## a vector argument is treated as a matrix with 1 row:
mc_matrix(1:4)
mc_full(1:4)
## mc_order(1:4) # not by mc_order


m &lt;- mCompanion(matrix(1:8, nrow = 2))
mc_matrix(m)
mc_order(m)

m[-c(1,2), ]
is_mc_bottom(m[-c(1,2), ]) # TRUE

## TRUE for reactangular diagonal matrix with nrow &lt; ncol
is_mc_bottom(diag(1, nrow = 3, ncol = 5))
## border cases
is_mc_bottom(matrix(0, nrow = 0, ncol = 4)) # TRUE, 0 rows
is_mc_bottom(diag(4))                       # TRUE, square diagonal matrix
</code></pre>


</div>