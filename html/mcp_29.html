<div class="container">

<table style="width: 100%;"><tr>
<td>get_segment_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a table describing a list of segments</h2>

<h3>Description</h3>

<p>Used internally for most mcp functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_segment_table(model, data = NULL, family = gaussian(), par_x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A list of formulas - one for each segment. The first formula
has the format <code>response ~ predictors</code> while the following formulas
have the format <code>response ~ changepoint ~ predictors</code>. The response
and change points can be omitted (<code>changepoint ~ predictors</code> assumes same
response. <code>~ predictors</code> assumes an intercept-only change point). The
following can be modeled:
</p>

<ul>
<li> <p><em>Regular formulas:</em> e.g., <code>~ 1 + x</code>). <a href="https://lindeloev.github.io/mcp/articles/formulas.html">Read more</a>.
</p>
</li>
<li> <p><em>Extended formulas:</em>, e.g., <code>~ I(x^2) + exp(x) + sin(x)</code>. <a href="https://lindeloev.github.io/mcp/articles/formulas.html">Read more</a>.
</p>
</li>
<li> <p><em>Variance:</em> e.g., <code>~sigma(1)</code> for a simple variance change or
<code>~sigma(rel(1) + I(x^2))</code>) for more advanced variance structures. <a href="https://lindeloev.github.io/mcp/articles/variance.html">Read more</a>
</p>
</li>
<li> <p><em>Autoregression:</em> e.g., <code>~ar(1)</code> for a simple onset/change in AR(1) or
<code style="white-space: pre;">⁠ar(2, 0 + x⁠</code>) for an AR(2) increasing by <code>x</code>. <a href="https://lindeloev.github.io/mcp/articles/arma.html">Read more</a>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data.frame or tibble in long format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>One of <code>gaussian()</code>, <code>binomial()</code>, <code>bernoulli()</code>, or <code>poission()</code>.
Only default link functions are currently supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par_x</code></td>
<td>
<p>String (default: NULL). Only relevant if no segments contains
slope (no hint at what x is). Set this, e.g., par_x = "time".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with one row describing each segment and the corresponding code.
</p>


<h3>Author(s)</h3>

<p>Jonas Kristoffer Lindeløv <a href="mailto:jonas@lindeloev.dk">jonas@lindeloev.dk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">model = list(
  y ~ 1 + x,
  1 + (1|id) ~ 1
)
get_segment_table(model)
</code></pre>


</div>