<div class="container">

<table style="width: 100%;"><tr>
<td>mc.paba.LargeData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Passing-Bablok Regression for Large Datasets</h2>

<h3>Description</h3>

<p>This function represents an interface to a fast C-implementation of an adaption of the Passing-Bablok
algorithm for large datasets. Instead of building the complete matrix of pair-wise slope values, a pre-defined
binning of slope-values is used (Default NBins=1e06). This reduces the required memory dramatically and speeds
up the computation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc.paba.LargeData(
  X,
  Y,
  NBins = 1e+06,
  alpha = 0.05,
  posCor = TRUE,
  calcCI = TRUE,
  slope.measure = c("radian", "tangent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>(numeric) vector containing measurement values of reference method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>(numeric) vector containing measurement values of test method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NBins</code></td>
<td>
<p>(integer) value specifying the number of bins used to classify slope-values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>(numeric) value specifying the 100(1-alpha)% confidence level for confidence intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posCor</code></td>
<td>
<p>(logical) should algorithm assume positive correlation, i.e. symmetry around slope 1?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calcCI</code></td>
<td>
<p>(logical) should confidence intervals be computed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope.measure</code></td>
<td>
<p>angular measure of pairwise slopes  (see <code>mcreg</code> for details).<br><code>"radian"</code> - for data sets with even sample numbers median slope is calculated as average of two central slope angles.<br><code>"tangent"</code> - for data sets with even sample numbers median slope is calculated as average of two central slopes (tan(angle)).<br></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Matrix of estimates and confidence intervals for intercept and slope. No standard errors provided by this algorithm.
</p>


<h3>Author(s)</h3>

<p>Andre Schuetzenmeister <a href="mailto:andre.schuetzenmeister@roche.com">andre.schuetzenmeister@roche.com</a> (partly re-using code of function 'mc.paba')
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 library("mcrPioda")
 data(creatinine,package="mcrPioda")
 
# remove any NAs
crea &lt;- na.omit(creatinine)
    
# call the approximative Passing-Bablok algorithm (Default NBins=1e06)
res1 &lt;- mcreg(x=crea[,1], y=crea[,2], method.reg="PaBaLarge", method.ci="analytical") 
getCoefficients(res1)

# now increase the number of bins and see whether this makes a difference
res2 &lt;- mcreg(x=crea[,1], y=crea[,2], method.reg="PaBaLarge", method.ci="analytical", NBins=1e07) 
getCoefficients(res2)
getCoefficients(res1)-getCoefficients(res2)
</code></pre>


</div>