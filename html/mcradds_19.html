<div class="container">

<table style="width: 100%;"><tr>
<td>diagTab</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates Contingency Table</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Creates a 2x2 contingency table from the data frame or matrix for the qualitative
performance and reader precision of downstream analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">diagTab(
  formula = ~.,
  data,
  bysort = NULL,
  dimname = NULL,
  levels = NULL,
  rep = FALSE,
  across = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>(<code>numeric</code>)<br> a formula object with the cross-classifying
variables (separated by <code>+</code>) on the right hand side. If data is wide structure,
the row name of contingency is represented by the variable to the left of
the <code>+</code> sign, and the col name is the right. If data is long structure, the
classified variable is put on the left of the formula, and the value variable
is put on the right.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>data.frame</code> or <code>matrix</code>)<br> a data frame or matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bysort</code></td>
<td>
<p>(<code>string</code>)<br> a sorted variable from the col names of <code>data</code>, and
a grouped variable for reproducibility analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimname</code></td>
<td>
<p>(<code>vector</code>)<br> a character vector define the row name of contingency
table in first variable, and col name in second variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>(<code>vector</code>)<br> a vector of known levels for measurements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rep</code></td>
<td>
<p>(<code>logical</code>)<br> whether to implement the reproducibility like reader
precision or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>across</code></td>
<td>
<p>(<code>string</code>)<br> the across variable to split original data set to
subsets. The between-reader and within-reader precision's across variable
is <code>site</code> commonly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A object <code>MCTab</code> contains the 2x2 contingency table.
</p>


<h3>Note</h3>

<p>To be attention that if you would like to generate the 2x2 contingency table
for reproducibility analysis, the original data should be long structure and
using the corresponding formula.
</p>


<h3>See Also</h3>

<p><code>Summary()</code> for object to calculate diagnostic accuracy criteria.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For qualitative performance with wide data structure
data("qualData")
qualData %&gt;% diagTab(formula = ~ CandidateN + ComparativeN)
qualData %&gt;%
  diagTab(
    formula = ~ CandidateN + ComparativeN,
    levels = c(1, 0)
  )

# For qualitative performance with long data structure
dummy &lt;- data.frame(
  id = c("1001", "1001", "1002", "1002", "1003", "1003"),
  value = c(1, 0, 0, 0, 1, 1),
  type = c("Test", "Ref", "Test", "Ref", "Test", "Ref")
)
dummy %&gt;%
  diagTab(
    formula = type ~ value,
    bysort = "id",
    dimname = c("Test", "Ref"),
    levels = c(1, 0)
  )

# For Between-Reader precision performance
data("PDL1RP")
reader &lt;- PDL1RP$btw_reader
reader %&gt;%
  diagTab(
    formula = Reader ~ Value,
    bysort = "Sample",
    levels = c("Positive", "Negative"),
    rep = TRUE,
    across = "Site"
  )
</code></pre>


</div>