<div class="container">

<table style="width: 100%;"><tr>
<td>aucTest</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>AUC Test for Paired Two-sample Measurements</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>This function compares two AUC of paired two-sample diagnostic assays by
standardized difference method, which has a little difference in SE calculation
with unpaired design. In order to compare the two assays, this function provides
three assessments including 'difference', 'non-inferiority' and 'superiority'.
This method of comparing is referred from Liu(2006)'s article that can be
found in reference section below.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aucTest(
  x,
  y,
  response,
  h0 = 0,
  conf.level = 0.95,
  method = c("difference", "non-inferiority", "superiority"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>numeric</code>)<br> reference/standard diagnostic assay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>(<code>numeric</code>)<br> test diagnostic assay.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>(<code>numeric</code> or <code>factor</code>)<br> a vector of responses to represent
the type of classes, typically encoded with 0(controls) and 1(cases).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>(<code>numeric</code>)<br> a specified hypothesized value of the margin between
the two assays, default is 0 for difference method. If you select the
non-inferiority method, the <code>h0</code> should be negative value. And if select
superiority method, then it's non-negative value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>(<code>numeric</code>)<br> significance level between 0 and 1 (non-inclusive)
for the returned confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>(<code>string</code>)<br> string specifying the type of hypothesis test,
must be one of "difference" (default), "non-inferiority" or "superiority".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments to be passed to <code>pROC::roc()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the samples are not considered independent, such as in a paired design,
the SE can not be computed by the method of Delong provided in <code>pROC</code> package.
Here the <code>aucTest</code> function use the standardized difference approach from
Liu(2006) publication to compute the SE and corresponding hypothesis test
statistic for a paired design study.
</p>

<ul>
<li> <p><code>difference</code> is to test the difference between two diagnostic tests, the
default h0 is zero.
</p>
</li>
<li> <p><code>non-inferiority</code> is to test the new diagnostic tests is no worse than the
standard diagnostic test in a specific margin, but the same time maybe it's
safer, easier to administer or cost less.
</p>
</li>
<li> <p><code>superiority</code> is to test the test the new diagnostic tests is better than the
standard diagnostic test in a specific margin(default is zero), having better efficacy.
</p>
</li>
</ul>
<h3>Value</h3>

<p>A <code>RefInt</code> object contains relevant results in comparing the paired
ROC of two-sample assays.
</p>


<h3>Note</h3>

<p>The test of significance for the difference is not equal to the result of EP24A2
Appendix D. Table D2. Because the Table D2 uses the method of Hanley &amp; McNeil
(1982), whereas this function here uses the method of DeLong et al. (1988), which
results in the difference of SE. Thus the corresponding Z statistic and P value
will be not equal as well.
</p>


<h3>References</h3>

<p>Jen-Pei Liu (2006) "Tests of equivalence and non-inferiority for
diagnostic accuracy based on the paired areas under ROC curves". <em>Statist. Med.</em>
, 25:1219â€“1238. DOI: 10.1002/sim.2358.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("ldlroc")
# H0 : Difference between areas = 0:
aucTest(x = ldlroc$LDL, y = ldlroc$OxLDL, response = ldlroc$Diagnosis)

# H0 : Superiority margin &lt;= 0.1:
aucTest(
  x = ldlroc$LDL, y = ldlroc$OxLDL, response = ldlroc$Diagnosis,
  method = "superiority", h0 = 0.1
)

# H0 : Non-inferiority margin &lt;= -0.1:
aucTest(
  x = ldlroc$LDL, y = ldlroc$OxLDL, response = ldlroc$Diagnosis,
  method = "non-inferiority", h0 = -0.1
)
</code></pre>


</div>