<div class="container">

<table style="width: 100%;"><tr>
<td>autoplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a <code>ggplot</code> for Bland-Altman Plot and Regression Plot</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Draw a ggplot-based difference Bland-Altman plot of reference assay vs. test assay
for <code>BAsummary</code> object, and a regression plot for <code>MCResult</code>. Also Providing
the necessary and useful option arguments for presentation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">autoplot(object, ...)

## S4 method for signature 'BAsummary'
autoplot(
  object,
  type = c("absolute", "relative"),
  color = "black",
  fill = "lightgray",
  size = 1.5,
  shape = 21,
  jitter = FALSE,
  ref.line = TRUE,
  ref.line.params = list(col = "blue", linetype = "solid", size = 1),
  ci.line = FALSE,
  ci.line.params = list(col = "blue", linetype = "dashed"),
  loa.line = TRUE,
  loa.line.params = list(col = "blue", linetype = "dashed"),
  label = TRUE,
  label.digits = 4,
  label.params = list(col = "black", size = 4),
  x.nbreak = NULL,
  y.nbreak = NULL,
  x.title = NULL,
  y.title = NULL,
  main.title = NULL
)

## S4 method for signature 'MCResult'
autoplot(
  object,
  color = "black",
  fill = "lightgray",
  size = 1.5,
  shape = 21,
  jitter = FALSE,
  identity = TRUE,
  identity.params = list(col = "gray", linetype = "dashed"),
  reg = TRUE,
  reg.params = list(col = "blue", linetype = "solid"),
  equal.axis = FALSE,
  legend.title = TRUE,
  legend.digits = 2,
  x.nbreak = NULL,
  y.nbreak = NULL,
  x.title = NULL,
  y.title = NULL,
  main.title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>(<code>BAsummary</code>, <code>MCResult</code>)<br> input, depending on which function
you have done, <code>blandAltman()</code> or <code>mcreg()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>(<code>string</code>)<br> difference type from input, default is 'absolute'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color, fill</code></td>
<td>
<p>(<code>string</code>)<br> point colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>(<code>numeric</code>)<br> the size of points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>(<code>integer</code>)<br> the <code>ggplot</code> shape of points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter</code></td>
<td>
<p>(<code>logical</code>)<br> whether to add a small amount of random variation
to the location of points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.line</code></td>
<td>
<p>(<code>logical</code>)<br> whether to plot a 'mean' line, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.line.params, ci.line.params, loa.line.params</code></td>
<td>
<p>(<code>list</code>)<br> parameters
(color, linetype, linewidth) for the argument 'ref.line', 'ci.line' and 'loa.line';
eg. ref.line.params = list(col = "blue", linetype = "solid", linewidth = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.line</code></td>
<td>
<p>(<code>logical</code>)<br> whether to plot a confidence interval line of 'mean',
default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loa.line</code></td>
<td>
<p>(<code>logical</code>)<br> whether to plot limit of agreement line, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>(<code>logical</code>)<br> whether to add specific value label for each line
(ref.line, ci.line and loa.line). Only be shown when the line is defined as TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.digits</code></td>
<td>
<p>(<code>integer</code>)<br> the number of digits after the decimal point
in the each label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.params</code></td>
<td>
<p>(<code>list</code>)<br> parameters (color, size, fontface) for the
argument 'label'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.nbreak, y.nbreak</code></td>
<td>
<p>(<code>integer</code>)<br> an integer guiding the number of major
breaks of x-axis and y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.title, y.title, main.title</code></td>
<td>
<p>(<code>string</code>)<br> the x-axis, y-axis and main
title of plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identity</code></td>
<td>
<p>(<code>logical</code>)<br> whether to add identity line, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identity.params, reg.params</code></td>
<td>
<p>(<code>list</code>)<br> parameters (color, linetype)
for the argument 'identity' and 'reg'; eg. identity.params = list(col = "gray",
linetype = "dashed").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reg</code></td>
<td>
<p>(<code>logical</code>)<br> whether to add regression line where the slope and
intercept are obtained from <code>mcr::mcreg()</code> function, default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equal.axis</code></td>
<td>
<p>(<code>logical</code>)<br> whether to adjust the ranges of x-axis and y-axis
are identical. If <code>equal.axis = TRUE</code>, x-axis will be equal to y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>(<code>logical</code>)<br> whether to present the title in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.digits</code></td>
<td>
<p>(<code>integer</code>)<br> the number of digits after the decimal point
in the legend.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> based Bland-Altman plot or regression plot that can be
easily customized using additional <code>ggplot</code> functions.
</p>


<h3>Note</h3>

<p>If you'd like to alter any part that this <code>autoplot</code> function haven't
provided, adding other <code>ggplot</code> statements are suggested.
</p>


<h3>See Also</h3>

<p><code>h_difference()</code> to see the type details.
</p>
<p><code>mcr::mcreg()</code> to see the regression parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Specify the type for difference plot
data("platelet")
object &lt;- blandAltman(x = platelet$Comparative, y = platelet$Candidate)
autoplot(object)
autoplot(object, type = "relative")

# Set the addition parameters for `geom_point`
autoplot(object,
  type = "relative",
  jitter = TRUE,
  fill = "lightblue",
  color = "grey",
  size = 2
)

# Set the color and line type for reference and limits of agreement lines
autoplot(object,
  type = "relative",
  ref.line.params = list(col = "red", linetype = "solid"),
  loa.line.params = list(col = "grey", linetype = "solid")
)

# Set label color, size and digits
autoplot(object,
  type = "absolute",
  ref.line.params = list(col = "grey"),
  loa.line.params = list(col = "grey"),
  label.digits = 2,
  label.params = list(col = "grey", size = 3, fontface = "italic")
)

# Add main title, X and Y axis titles, and adjust X ticks.
autoplot(object,
  type = "absolute",
  x.nbreak = 6,
  main.title = "Bland-Altman Plot",
  x.title = "Mean of Test and Reference Methods",
  y.title = "Reference - Test"
)
# Using the default arguments for regression plot
data("platelet")
fit &lt;- mcreg(
  x = platelet$Comparative, y = platelet$Candidate,
  method.reg = "Deming", method.ci = "jackknife"
)
autoplot(fit)

# Only present the regression line and alter the color and shape.
autoplot(fit,
  identity = FALSE,
  reg.params = list(col = "grey", linetype = "dashed"),
  legend.title = FALSE,
  legend.digits = 4
)
</code></pre>


</div>