<div class="container">

<table style="width: 100%;"><tr>
<td>pca.mvreplace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Replace missing values in data</h2>

<h3>Description</h3>

<p><code>pca.mvreplace</code> is used to replace missing values in a data matrix with
approximated by iterative PCA decomposition.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pca.mvreplace(
  x,
  center = TRUE,
  scale = FALSE,
  maxncomp = 10,
  expvarlim = 0.95,
  covlim = 10^-6,
  maxiter = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix with data, containing missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>logical, do centering of data values or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical, do standardization of data values or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxncomp</code></td>
<td>
<p>maximum number of components in PCA model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expvarlim</code></td>
<td>
<p>minimum amount of variance, explained by chosen components (used for selection of optimal number
of components in PCA models).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covlim</code></td>
<td>
<p>convergence criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>maximum number of iterations if convergence criterion is not met.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function uses iterative PCA modeling of the data to approximate and impute missing values.
The result is most optimal for data sets with low or moderate level of noise and with number of
missing values less than 10% for small dataset and up to 20% for large data.
</p>


<h3>Value</h3>

<p>Returns the same matrix <code>x</code> where missing values are replaced with approximated.
</p>


<h3>Author(s)</h3>

<p>Sergey Kucheryavskiy (svkucheryavski@gmail.com)
</p>


<h3>References</h3>

<p>Philip R.C. Nelson, Paul A. Taylor, John F. MacGregor. Missing data methods in PCA and PLS:
Score calculations with incomplete observations. Chemometrics and Intelligent Laboratory
Systems, 35 (1), 1996.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mdatools)

## A very simple example of imputing missing values in a data with no noise

# generate a matrix with values
s = 1:6
odata = cbind(s, 2*s, 4*s)

# make a matrix with missing values
mdata = odata
mdata[5, 2] = mdata[2, 3] = NA

# replace missing values with approximated
rdata = pca.mvreplace(mdata, scale = TRUE)

# show all matrices together
show(cbind(odata, mdata, round(rdata, 2)))

</code></pre>


</div>