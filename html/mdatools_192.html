<div class="container">

<table style="width: 100%;"><tr>
<td>plotModelDistance.simcam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model distance plot for SIMCAM model</h2>

<h3>Description</h3>

<p>Shows a plot with distance between one SIMCA model to others.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'simcam'
plotModelDistance(
  obj,
  nc = 1,
  type = "h",
  xticks = seq_len(obj$nclasses),
  xticklabels = obj$classnames,
  main = paste0("Model distance (", obj$classnames[nc], ")"),
  xlab = "Models",
  ylab = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>a SIMCAM model (object of class <code>simcam</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc</code></td>
<td>
<p>one value - number of class (SIMCA model) to show the plot for</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of the plot ("h", "l" or "b")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xticks</code></td>
<td>
<p>vector with tick values for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xticklabels</code></td>
<td>
<p>vector with tick labels for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>main plot title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label for x axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label for y axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other plot parameters (see <code>mdaplotg</code> for details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The plot shows similarity between a selected model and the others as a ratio of residual
variance using the following algorithm. Let's take two SIMCA/PCA models, m1 and m2, which
have optimal number of components A1 and A2. The models have been calibrated
using calibration sets X1 and X2 with number of rows n1 and n2.
Then we do the following:
</p>

<ol>
<li>
<p> Project X2 to model m1 and compute residuals, E12
</p>
</li>
<li>
<p> Compute variance of the residuals as s12 = sum(E12^2) / n1
</p>
</li>
<li>
<p> Project X1 to model m2 and compute residuals, E21
</p>
</li>
<li>
<p> Compute variance of the residuals as s21 = sum(E21^2) / n2
</p>
</li>
<li>
<p> Compute variance of residuals for m1 as s1 = sum(E1^2) / (n1 - A1 - 1)
</p>
</li>
<li>
<p> Compute variance of residuals for m2 as s2 = sum(E2^2) / (n2 - A2 - 1)
</p>
</li>
</ol>
<p>The model distance then can be computed as: d = sqrt((s12 + s21) / (s1 + s2))
</p>
<p>As one can see, if the two models and corresponding calibration sets are identical, then the
distance will be sqrt((n - A - 1) / n). For example, if n = 25 and A = 2, then the distance
between the model and itself is sqrt(22/25) = sqrt(0.88) = 0.938. This case is demonstrated
in the example section.
</p>
<p>In general, if distance between models is below one classes are overlapping. If it is above 3
the classes are well separated.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create two calibration sets with n = 25 objects in each
data(iris)
x1 &lt;- iris[1:25, 1:4]
x2 &lt;- iris[51:75, 1:4]

# create to SIMCA models with A = 2
m1 &lt;- simca(x1, 'setosa', ncomp = 2)
m2 &lt;- simca(x2, 'versicolor', ncomp = 2)

# combine the models into SIMCAM class
m &lt;- simcam(list(m1, m2))

# show the model distance plot with distance values as labels
# note, that distance between setosa and setosa is 0.938
plotModelDistance(m, show.labels = TRUE, labels = "values")

</code></pre>


</div>