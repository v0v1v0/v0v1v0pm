<div class="container">

<table style="width: 100%;"><tr>
<td>plotResiduals.pca</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Residuals distance plot for PCA model</h2>

<h3>Description</h3>

<p>Shows a plot with score (T2, h) vs orthogonal (Q, q) distances and corresponding critical
limits for given number of components.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'pca'
plotResiduals(
  obj,
  ncomp = obj$ncomp.selected,
  log = FALSE,
  norm = TRUE,
  cgroup = NULL,
  xlim = NULL,
  ylim = NULL,
  show.limits = TRUE,
  lim.col = c("darkgray", "darkgray"),
  lim.lwd = c(1, 1),
  lim.lty = c(2, 3),
  res = obj$res,
  show.legend = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>a PCA model (object of class <code>pca</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>
<p>how many components to use (by default optimal value selected for the model will be used)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>logical, apply log tranformation to the distances or not (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>logical, normalize distance values or not (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cgroup</code></td>
<td>
<p>color grouping of plot points (works only if one result object is available)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits for x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits for y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.limits</code></td>
<td>
<p>logical, show or not lines/curves with critical limits for the distances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim.col</code></td>
<td>
<p>vector with two values - line color for extreme and outlier limits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim.lwd</code></td>
<td>
<p>vector with two values - line width for extreme and outlier limits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim.lty</code></td>
<td>
<p>vector with two values - line type for extreme and outlier limits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>list with result objects to show the plot for (by defaul, model results are used)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.legend</code></td>
<td>
<p>logical, show or not a legend on the plot (needed if several result objects are available)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other plot parameters (see <code>mdaplotg</code> for details)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function is a bit more advanced version of <code>plotResiduals.ldecomp</code>. It allows to
show distance values for several result objects (e.g. calibration and test set or calibration
and new prediction set) as well as display the correspondng critical limits in form of lines
or curves.
</p>
<p>Depending on how many result objects your model has or how many you specified manually,
using the <code>res</code> parameter, the plot behaves in a bit different way.
</p>
<p>If only one result object is provided, then it allows to colorise the points using <code>cgroup</code>
parameter. If you specify <code>cgroup = "categories"</code> then it will show points as three groups:
normal, extreme and outliers. If two or more result objects are provided, then the function show
distances in groups, and adds corresponding legend.
</p>
<p>The function can show distance values normalised (h/h0 and q/q0) as well as with log
transformation (log(1 + h/h0), log(1 + q/q0)). The latter is useful if distribution of the
points is skewed and most of them are densely located around bottom left corner.
</p>
<p>See examples in help for <code>pca</code> function.
</p>


</div>