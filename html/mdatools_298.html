<div class="container">

<table style="width: 100%;"><tr>
<td>plsres</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>PLS results</h2>

<h3>Description</h3>

<p><code>plsres</code> is used to store and visualize results of applying a PLS model to a new data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plsres(
  y.pred,
  y.ref = NULL,
  ncomp.selected = dim(y.pred)[2],
  xdecomp = NULL,
  ydecomp = NULL,
  info = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y.pred</code></td>
<td>
<p>predicted y values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.ref</code></td>
<td>
<p>reference (measured) y values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp.selected</code></td>
<td>
<p>selected (optimal) number of components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdecomp</code></td>
<td>
<p>PLS decomposition of X data (object of class <code>ldecomp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ydecomp</code></td>
<td>
<p>PLS decomposition of Y data (object of class <code>ldecomp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>information about the object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Do not use <code>plsres</code> manually, the object is created automatically when one applies a PLS
model to a new data set, e.g. when calibrate and validate a PLS model (all calibration and
validation results in PLS model are stored as objects of <code>plsres</code> class) or use function
<code>predict.pls</code>.
</p>
<p>The object gives access to all PLS results as well as to the plotting methods for visualisation
of the results. The <code>plsres</code> class also inherits all properties and methods of <code>regres</code>
- general class for regression results.
</p>
<p>If no reference values provided, regression statistics will not be calculated and most of the
plots not available. The class is also used for cross-validation results, in this case some of
the values and methods are not available (e.g. scores and scores plot, etc.).
</p>
<p>All plots are based on <code>mdaplot</code> function, so most of its options can be used (e.g.
color grouping, etc.).
</p>
<p>RPD is ratio of standard deviation of response values to standard error of prediction (SDy/SEP).
</p>


<h3>Value</h3>

<p>Returns an object of <code>plsres</code> class with following fields:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ncomp </code></td>
<td>
<p>number of components included to the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp.selected </code></td>
<td>
<p>selected (optimal) number of components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.ref </code></td>
<td>
<p>a matrix with reference values for responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.pred </code></td>
<td>
<p>a matrix with predicted values for responses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmse </code></td>
<td>
<p>a matrix with root mean squared error values for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope </code></td>
<td>
<p>a matrix with slope values for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2 </code></td>
<td>
<p>a matrix with determination coefficients for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bias </code></td>
<td>
<p>a matrix with bias values for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep </code></td>
<td>
<p>a matrix with standard error values for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rpd </code></td>
<td>
<p>a matrix with RPD values for each response and component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xdecomp </code></td>
<td>
<p>decomposition of predictors (object of class <code>ldecomp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ydecomp </code></td>
<td>
<p>decomposition of responses (object of class <code>ldecomp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info </code></td>
<td>
<p>information about the object.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Methods for <code>plsres</code> objects:
</p>

<table>
<tr>
<td style="text-align: left;">
   <code>print</code> </td>
<td style="text-align: left;"> prints information about a <code>plsres</code> object.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>summary.plsres</code> </td>
<td style="text-align: left;"> shows performance statistics for the results.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plot.plsres</code> </td>
<td style="text-align: left;"> shows plot overview of the results.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotXScores.plsres</code> </td>
<td style="text-align: left;"> shows scores plot for x decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotXYScores.plsres</code> </td>
<td style="text-align: left;"> shows scores plot for x and y decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotXVariance.plsres</code> </td>
<td style="text-align: left;"> shows explained variance plot for x decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotYVariance.plsres</code> </td>
<td style="text-align: left;"> shows explained variance plot for y decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotXCumVariance.plsres</code> </td>
<td style="text-align: left;"> shows cumulative explained variance plot for y
   decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotYCumVariance.plsres</code> </td>
<td style="text-align: left;"> shows cumulative explained variance plot for y
   decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotXResiduals.plsres</code> </td>
<td style="text-align: left;"> shows T2 vs. Q plot for x decomposition.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotYResiduals.plsres</code> </td>
<td style="text-align: left;"> shows residuals plot for y values.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Methods inherited from <code>regres</code> class (parent class for <code>plsres</code>):
</p>

<table>
<tr>
<td style="text-align: left;">
   <code>plotPredictions.regres</code> </td>
<td style="text-align: left;"> shows predicted vs. measured plot.</td>
</tr>
<tr>
<td style="text-align: left;">
   <code>plotRMSE.regres</code> </td>
<td style="text-align: left;"> shows RMSE plot.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>See also <code>pls</code> - a class for PLS models.
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Examples of using PLS result class
library(mdatools)
## 1. Make a PLS model for concentration of first component
## using full-cross validation and get calibration results

data(simdata)
x = simdata$spectra.c
y = simdata$conc.c[, 1]

model = pls(x, y, ncomp = 8, cv = 1)
model = selectCompNum(model, 2)
res = model$calres

summary(res)
plot(res)

## 2. Make a PLS model for concentration of first component
## and apply model to a new dataset

data(simdata)
x = simdata$spectra.c
y = simdata$conc.c[, 1]

model = pls(x, y, ncomp = 6, cv = 1)
model = selectCompNum(model, 2)

x.new = simdata$spectra.t
y.new = simdata$conc.t[, 1]
res = predict(model, x.new, y.new)

summary(res)
plot(res)

## 3. Show variance and error plots for PLS results
par(mfrow = c(2, 2))
plotXCumVariance(res, type = 'h')
plotYCumVariance(res, type = 'b', show.labels = TRUE, legend.position = 'bottomright')
plotRMSE(res)
plotRMSE(res, type = 'h', show.labels = TRUE)
par(mfrow = c(1, 1))

## 4. Show scores plots for PLS results
## (for results plot we can use color grouping)
par(mfrow = c(2, 2))
plotXScores(res)
plotXScores(res, show.labels = TRUE, cgroup = y.new)
plotXYScores(res)
plotXYScores(res, comp = 2, show.labels = TRUE)
par(mfrow = c(1, 1))

## 5. Show predictions and residuals plots for PLS results
par(mfrow = c(2, 2))
plotXResiduals(res, show.label = TRUE, cgroup = y.new)
plotYResiduals(res, show.label = TRUE)
plotPredictions(res)
plotPredictions(res, ncomp = 4, xlab = 'C, reference', ylab = 'C, predictions')
par(mfrow = c(1, 1))

</code></pre>


</div>