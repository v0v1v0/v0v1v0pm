<div class="container">

<table style="width: 100%;"><tr>
<td>selectCompNum.pls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select optimal number of components for PLS model</h2>

<h3>Description</h3>

<p>Allows user to select optimal number of components for PLS model
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'pls'
selectCompNum(obj, ncomp = NULL, selcrit = obj$ncomp.selcrit, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>PLS model (object of class <code>pls</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>
<p>number of components to select</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selcrit</code></td>
<td>
<p>criterion for selecting optimal number of components (<code>'min'</code> for
first local minimum of RMSECV and <code>'wold'</code> for Wold's rule.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters if any</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The method sets <code>ncomp.selected</code> parameter for the model and return it back. The parameter
points out to the optimal number of components in the model. You can either specify it manually,
as argument <code>ncomp</code>, or use one of the algorithms for automatic selection.
</p>
<p>Automatic selection by default based on cross-validation statistics. If no cross-validation
results are found in the model, the method will use test set validation results. If they are
not available as well, the model will use calibration results and give a warning as in this case
the selected number of components will lead to overfitted model.
</p>
<p>There are two algorithms for automatic selection you can chose between: either first local
minimum of RMSE (‘selcrit="min"') or Wold’s rule ('selcrit="wold"').
</p>
<p>The first local minimum criterion finds at which component, A, error of prediction starts
raising and selects (A - 1) as the optimal number. The Wold's criterion finds which component A
does not make error smaller at least by 5
as the optimal number.
</p>
<p>If model is PLS2 model (has several response variables) the method computes optimal number of
components for each response and returns the smallest value. For example, if for the first
response 2 components give the smallest error and for the second response this number is 3,
A = 2 will be selected as a final result.
</p>
<p>It is not recommended to use automatic selection for real applications, always investigate
your model (via RMSE, Y-variance plot, regression coefficients) to make correct decision.
</p>
<p>See examples in help for <code>pls</code> function.
</p>


<h3>Value</h3>

<p>the same model with selected number of components
</p>


</div>