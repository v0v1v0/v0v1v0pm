<div class="container">

<table style="width: 100%;"><tr>
<td>exposure</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MD-PMS Exposure Data Frame</h2>

<h3>Description</h3>

<p>Converts a data frame into a MD-PMS Exposure data frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">exposure(
  data_frame,
  time,
  device_hierarchy,
  event_hierarchy = NULL,
  key = NULL,
  match_levels = NULL,
  count = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_frame</code></td>
<td>
<p>The input data frame requiring components specified in the
remaining arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Character name of date variable in <code>data_frame</code>. Class must
be Date, POSIXt, or character.
</p>
<p>Example: <code>"event_date"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device_hierarchy</code></td>
<td>
<p>Vector of character variable names representing the
device hierarchy in <code>data_frame</code>. Vector ordering is lowest level first,
most general level last.
</p>
<p>Example: <code>c("Version", "Device", "ProductLine")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event_hierarchy</code></td>
<td>
<p>Vector of character variable names representing the
event hierarchy in <code>data_frame</code>. Vector ordering is most specific event
category first, most broad event category last.
</p>
<p>Example: <code>c("Family", "Device", "ProductCode")</code>
</p>
<p>Default: <code>NULL</code> will not include any event hierarchy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>Character name of (uniquely identifying) primary key variable in
<code>data_frame</code>. Class must be character or numeric.
</p>
<p>Example: <code>"key_ID"</code>
</p>
<p>Default: <code>NULL</code> will create a key variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match_levels</code></td>
<td>
<p>Vector of character variable names in <code>data_frame</code>
representing additional grouping factors for exposure. Specified variables
will be implicitly matched to equivalently named variables contained in the
<code>mds_de</code> object class.
</p>
<p>Example: <code>c("Country", "Region")</code>
</p>
<p>Default: <code>NULL</code> will not include any additional grouping factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>count</code></td>
<td>
<p>Character name of exposure count variable in <code>data_frame</code>.
Class must be numeric.
</p>
<p>Example: <code>"Units Sold"</code>
</p>
<p>Default: <code>NULL</code> will assume each row represents one exposure.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A standardized MD-PMS data frame of class <code>mds_e</code>.
Rows are deduplicated. Attributes are as follows:
</p>

<dl>
<dt>key</dt>
<dd>
<p>Original variable name for <code>key</code></p>
</dd>
<dt>time</dt>
<dd>
<p>Original variable name for <code>time</code></p>
</dd>
<dt>device_hierarchy</dt>
<dd>
<p>Vector of original variable names for
<code>device_hierarchy</code> with converted variable names correspondingly
named.</p>
</dd>
<dt>event_hierarchy</dt>
<dd>
<p>Vector of original variable names for
<code>event_hierarchy</code> with converted variable names correspondingly
named.</p>
</dd>
<dt>match_levels</dt>
<dd>
<p>Vector of variable names for grouping factors</p>
</dd>
<dt>count</dt>
<dd>
<p>Original variable name for <code>count</code></p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R"># A barebones dataset
ex &lt;- exposure(sales, "sales_month", "device_name")
# With more variables and variable types
ex &lt;- exposure(
  data_frame=sales,
  time="sales_month",
  device_hierarchy="device_name",
  match_levels="region",
  count="sales_volume")

</code></pre>


</div>