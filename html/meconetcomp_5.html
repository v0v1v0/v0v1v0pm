<div class="container">

<table style="width: 100%;"><tr>
<td>edge_node_distance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform the distance distribution of paired nodes in edges across networks.</h2>

<h3>Description</h3>

<p>This class is a wrapper for a series of analysis on the distance values 
of paired nodes in edges across networks, including distance matrix conversion, the differential test and the visualization.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-edge_node_distance-new"><code>edge_node_distance$new()</code></a>
</p>
</li>
<li> <p><a href="#method-edge_node_distance-cal_diff"><code>edge_node_distance$cal_diff()</code></a>
</p>
</li>
<li> <p><a href="#method-edge_node_distance-plot"><code>edge_node_distance$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-edge_node_distance-clone"><code>edge_node_distance$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-edge_node_distance-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>edge_node_distance$new(
  network_list,
  dis_matrix = NULL,
  label = "+",
  with_module = FALSE,
  module_thres = 2
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>network_list</code></dt>
<dd>
<p>a list with multiple networks; all the networks should be <code>trans_network</code> object 
created from <code>trans_network</code> class of <code>microeco</code> package.</p>
</dd>
<dt><code>dis_matrix</code></dt>
<dd>
<p>default NULL; the distance matrix of nodes, used for the value extraction; 
must be a symmetrical matrix with both colnames and rownames (i.e. feature names).</p>
</dd>
<dt><code>label</code></dt>
<dd>
<p>default "+"; "+" or "-" or <code>c("+", "-")</code>; the edge label used for the selection of edges.</p>
</dd>
<dt><code>with_module</code></dt>
<dd>
<p>default FALSE; whether show the module classification of nodes in the result.</p>
</dd>
<dt><code>module_thres</code></dt>
<dd>
<p>default 2; the threshold of the nodes number of modules remained when <code>with_module = TRUE</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>data_table</code>, stored in the object
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\donttest{
data(soil_amp_network)
data(soil_amp)
# filter useless features to speed up the calculation
node_names &lt;- unique(unlist(lapply(soil_amp_network, function(x){colnames(x$data_abund)})))
filter_soil_amp &lt;- microeco::clone(soil_amp)
filter_soil_amp$otu_table &lt;- filter_soil_amp$otu_table[node_names, ]
filter_soil_amp$tidy_dataset()
# obtain phylogenetic distance matrix
phylogenetic_distance &lt;- as.matrix(cophenetic(filter_soil_amp$phylo_tree))
# choose the positive labels
t1 &lt;- edge_node_distance$new(network_list = soil_amp_network, 
	 dis_matrix = phylogenetic_distance, label = "+")
}
</pre>
</div>


<hr>
<a id="method-edge_node_distance-cal_diff"></a>



<h4>Method <code>cal_diff()</code>
</h4>

<p>Differential test across networks.
</p>


<h5>Usage</h5>

<div class="r"><pre>edge_node_distance$cal_diff(
  method = c("anova", "KW", "KW_dunn", "wilcox", "t.test")[1],
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>method</code></dt>
<dd>
<p>default "anova"; see the following available options:
</p>

<dl>
<dt><strong>'anova'</strong></dt>
<dd>
<p>Duncan's multiple range test for anova</p>
</dd>
<dt><strong>'KW'</strong></dt>
<dd>
<p>KW: Kruskal-Wallis Rank Sum Test for all groups (&gt;= 2)</p>
</dd>
<dt><strong>'KW_dunn'</strong></dt>
<dd>
<p>Dunn's Kruskal-Wallis Multiple Comparisons, see <code>dunnTest</code> function in <code>FSA</code> package</p>
</dd>
<dt><strong>'wilcox'</strong></dt>
<dd>
<p>Wilcoxon Rank Sum and Signed Rank Tests for all paired groups </p>
</dd>
<dt><strong>'t.test'</strong></dt>
<dd>
<p>Student's t-Test for all paired groups</p>
</dd>
</dl>
</dd>
<dt><code>...</code></dt>
<dd>
<p>parameters passed to <code>cal_diff</code> function of <code>trans_alpha</code> class of <code>microeco</code> package.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>res_diff</code> in object. See the Return of <code>cal_diff</code> function in <code>trans_alpha</code> class of <code>microeco</code> package.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\donttest{
t1$cal_diff(method = "wilcox")
}
</pre>
</div>


<hr>
<a id="method-edge_node_distance-plot"></a>



<h4>Method <code>plot()</code>
</h4>

<p>Plot the distance.
</p>


<h5>Usage</h5>

<div class="r"><pre>edge_node_distance$plot(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>parameters pass to <code>plot_alpha</code> function of <code>trans_alpha</code> class of <code>microeco</code> package.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code>ggplot</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>\donttest{
t1$plot(boxplot_add = "none", add_sig = TRUE)
}
</pre>
</div>


<hr>
<a id="method-edge_node_distance-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>edge_node_distance$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `edge_node_distance$new`
## ------------------------------------------------


data(soil_amp_network)
data(soil_amp)
# filter useless features to speed up the calculation
node_names &lt;- unique(unlist(lapply(soil_amp_network, function(x){colnames(x$data_abund)})))
filter_soil_amp &lt;- microeco::clone(soil_amp)
filter_soil_amp$otu_table &lt;- filter_soil_amp$otu_table[node_names, ]
filter_soil_amp$tidy_dataset()
# obtain phylogenetic distance matrix
phylogenetic_distance &lt;- as.matrix(cophenetic(filter_soil_amp$phylo_tree))
# choose the positive labels
t1 &lt;- edge_node_distance$new(network_list = soil_amp_network, 
	 dis_matrix = phylogenetic_distance, label = "+")


## ------------------------------------------------
## Method `edge_node_distance$cal_diff`
## ------------------------------------------------


t1$cal_diff(method = "wilcox")


## ------------------------------------------------
## Method `edge_node_distance$plot`
## ------------------------------------------------


t1$plot(boxplot_add = "none", add_sig = TRUE)

</code></pre>


</div>