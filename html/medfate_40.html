<div class="container">

<table style="width: 100%;"><tr>
<td>extract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extracts model outputs</h2>

<h3>Description</h3>

<p>Function <code>extract()</code> extracts daily or subdaily output and returns it as a tidy data frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">extract(
  x,
  level = "forest",
  output = NULL,
  vars = NULL,
  dates = NULL,
  subdaily = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object returned by simulation functions <code>spwb</code>, <code>pwb</code> or <code>growth</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Level of simulation output, either "forest" (stand-level results), "soillayer" (soil layer-level results), "cohort" (cohort-level results), 
"sunlitleaf" or "shadeleaf" (leaf-level results)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>Section of the model output to be explored. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>Variables to be extracted (by default, all of them).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>A date vector indicating the subset of simulated days for which output is desired.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdaily</code></td>
<td>
<p>A flag to indicate that subdaily values are desired (see details).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>subdaily = FALSE</code>, parameter <code>output</code> is used to restrict the section in <code>x</code> where variables are located. For
example <code>output = "Plants"</code> will correspond to variables "LAI", "LAIlive", "Transpiration", "StemPLC",... as returned by a call
<code>names(x$Plants)</code>. 
</p>
<p>Option <code>subdaily = TRUE</code> only works when simulations have been carried using control option 'subdailyResults = TRUE' (see <code>defaultControl</code>). 
When using <code>subdaily = TRUE</code>, parameter <code>output</code> is not taken into account, and options for parameter <code>vars</code> are the following:
</p>

<ul>
<li>
<p>Variables for <code>level = "forest"</code> or <code>level = "soillayer"</code>: Not allowed. An error is raised.
</p>
</li>
<li>
<p>Variables for <code>level = "cohort"</code>: "E","Ag","An","dEdP","RootPsi","StemPsi","LeafPsi","StemPLC","StemRWC","LeafRWC","StemSympRWC","LeafSympRWC","PWB".
</p>
</li>
<li>
<p>Variables for <code>level = "shadeleaf"</code> and <code>level="sunlitleaf"</code>: "Abs_SWR","Abs_PAR","Net_LWR","E","Ag","An","Ci","Gsw","VPD","Temp","Psi","iWUE".
</p>
</li>
</ul>
<h3>Value</h3>

<p>Function <code>extract()</code> returns a data frame:
</p>

<ul>
<li>
<p>If <code>level = "forest"</code>, columns are "date" and variable names.
</p>
</li>
<li>
<p>If <code>level = "soillayer"</code>, columns are "date", "soillayer" and variable names. 
</p>
</li>
<li>
<p>If <code>level = "cohort"</code>, <code>level = "sunlitleaf"</code> or <code>level = "shadeleaf"</code>, columns are "date", "cohorts", "species" and variable names. 
</p>
</li>
<li>
<p>If <code>subdaily = TRUE</code>, columns are "datetime", "cohorts", "species" and variable names. 
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Miquel De CÃ¡ceres Ainsa, CREAF
</p>


<h3>See Also</h3>

<p><code>summary.spwb</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Load example daily meteorological data
data(examplemeteo)

#Load example plot plant data
data(exampleforest)

#Default species parameterization
data(SpParamsMED)

#Define soil with default soil params (4 layers)
examplesoil &lt;- defaultSoilParams(4)

#Initialize control parameters
control &lt;- defaultControl("Granier")

#Initialize input
x &lt;- spwbInput(exampleforest,examplesoil, SpParamsMED, control)

#Call simulation function (ten days)
S1&lt;-spwb(x, examplemeteo[1:10, ], latitude = 41.82592, elevation = 100)

#Extracts daily forest-level output as a data frame
extract(S1, level = "forest")

#Extracts daily soil layer-level output as a data frame
extract(S1, level = "soillayer")

#Extracts daily cohort-level output as a data frame
extract(S1, level = "cohort")

#Select the output tables/variables to be extracted
extract(S1, level ="cohort", output="Plants", vars = c("PlantStress", "StemPLC"))

</code></pre>


</div>