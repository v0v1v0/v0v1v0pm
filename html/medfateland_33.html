<div class="container">

<table style="width: 100%;"><tr>
<td>initialize_landscape</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Initialization of model inputs for spatially-distributed forest stands</h2>

<h3>Description</h3>

<p>Initializes state for local models <code>spwb</code> or <code>growth</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">initialize_landscape(
  x,
  SpParams,
  local_control,
  model = "spwb",
  simplify = FALSE,
  replace = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>sf</code> with the following columns:
</p>

<ul>
<li>
<p><code>geometry</code>: Spatial geometry.
</p>
</li>
<li>
<p><code>forest</code>: Objects of class <code>forest</code>.
</p>
</li>
<li>
<p><code>soil</code>: Objects of class <code>soil</code> or data frames of physical properties.
</p>
</li>
<li>
<p><code>land_cover_type</code>: Land cover type of each grid cell (values should be 'wildland' or 'agriculture').
</p>
</li>
<li>
<p><code>crop_factor</code>: Crop evapo-transpiration factor. Only required for 'agriculture' land cover type.
</p>
</li>
<li>
<p><code>local_control</code>: A list of control parameters (optional). Used to override function parameter <code>local_control</code> for specific cells (values can be <code>NULL</code> for the remaining ones).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SpParams</code></td>
<td>
<p>A data frame with species parameters (see <code>SpParamsMED</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local_control</code></td>
<td>
<p>A list of control parameters (see <code>defaultControl</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A string to indicate the model, either <code>"spwb"</code> or <code>"growth"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>Boolean flag to simplify forest to the tree and shrub cohorts with largest leaf area index. The leaf area index of the whole tree (respectively, shrub) layer will be attributed to the selected cohort.
See function <code>forest_reduceToDominant</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>Boolean flag to replace existing initialized states</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Boolean flag to display progress information.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Initialization is dealt automatically when calling simulation functions <code>spwb_spatial</code>,  <code>growth_spatial</code>,
<code>spwb_spatial_day</code> or <code>growth_spatial_day</code>. However, function <code>initialize_landscape</code>  allows separating initialization from model simulations.
</p>
<p>Option <code>simplify</code> has been implemented to allow simplification of forests to tree/shrub dominant cohorts during watershed simulations
where focus is on runoff (e.g. calibration of watershed parameters or burnin periods). Elements identified as <code>result_cell</code> will not be simplified.
</p>


<h3>Value</h3>

<p>Replaces or adds column 'state' whose elements are <code>spwbInput</code> or <code>growthInput</code> objects
and returns the modified object of class 'sf'.
</p>


<h3>Author(s)</h3>

<p>Miquel De CÃ¡ceres Ainsa, CREAF
</p>


<h3>See Also</h3>

<p><code>spwb_spatial</code>, <code>spwb_spatial_day</code>,
<code>update_landscape</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load example landscape data
data("example_ifn")
  
# Load example meteo data frame from package meteoland
data("examplemeteo")
  
# Load default medfate parameters
data("SpParamsMED")

# Define local control parameters using function in medfate
local_control &lt;- defaultControl()

# If necessary, change defaults

# Initialize state for 'spwb' simulations
example_ifn_init &lt;- initialize_landscape(example_ifn, SpParamsMED, 
                                         local_control = local_control, 
                                         model = "spwb")

</code></pre>


</div>