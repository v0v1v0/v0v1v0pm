<div class="container">

<table style="width: 100%;"><tr>
<td>neModel-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Methods for natural effect models</h2>

<h3>Description</h3>

<p>Extractor functions, confidence intervals, residual plots and statistical tests for natural effect models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'neModel'
coef(object, ...)

## S3 method for class 'neModelBoot'
confint(object, parm, level = 0.95, type = "norm", ...)

## S3 method for class 'neModel'
confint(object, parm, level = 0.95, ...)

## S3 method for class 'neModel'
residualPlot(model, ...)

## S3 method for class 'neModel'
residualPlots(model, ...)

## S3 method for class 'neModel'
summary(object, ...)

## S3 method for class 'neModel'
vcov(object, ...)

## S3 method for class 'neModel'
weights(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted natural effect model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p>a specification of which parameters are to be given
confidence intervals, either a vector of numbers or a vector of
names.  If missing, all parameters are considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>the confidence level required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the type of bootstrap intervals required. The default <code>"norm"</code> returns normal approximation bootstrap confidence intervals. Currently, <code>"norm"</code>, <code>"basic"</code>, <code>"perc"</code> and <code>"bca"</code> are supported (see <code>boot.ci</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a fitted natural effect model object (for use with <code>residualPlot</code> and <code>residualPlots</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>confint</code> yields bootstrap confidence intervals or confidence intervals based on the sandwich estimator (depending on the type of standard errors requested when fitting the <code>neModel</code> object). 
Bootstrap confidence intervals are internally called via the <code>boot.ci</code> function from the <span class="pkg">boot</span> package.
Confidence intervals based on the sandwich estimator are internally called via <code>confint.default</code>.
The default confidence level specified in <code>level</code> (which corresponds to the <code>conf</code> argument in <code>boot.ci</code>) is 0.95
and the default type of bootstrap confidence interval, <code>"norm"</code>, is based on the normal approximation.
Bias-corrected and accelerated (<code>"bca"</code>) bootstrap confidence intervals require a sufficiently large number of bootstrap replicates (for more details see <code>boot.ci</code>).
</p>
<p>A summary table with large sample tests, similar to that for <code>glm</code> output, can be obtained using <code>summary</code>.
</p>
<p><code>vcov</code> returns either the bootstrap variance-covariance matrix (calculated from the bootstrap samples stored in<br><code>object$bootRes</code>; see <code>neModel</code>)
or the robust variance-covariance matrix (which is a diagonal block matrix of the original sandwich covariance matrix).
</p>
<p><code>weights</code> returns a vector containing the regression weights used to fit the natural effect model.
These weights can be based on
</p>

<ol>
<li>
<p> ratio-of-mediator probability (density) weights (only if the weighting-based approach is used)
</p>
</li>
<li>
<p> inverse probability of treatment (exposure) weights (only if <code>xFit</code> was specified in <code>neModel</code>)
</p>
</li>
</ol>
<p><code>residualPlot</code> and <code>residualPlots</code> are convenience functions from the <span class="pkg">car</span> package. These can be used to assess model adequacy.
</p>


<h3>Note</h3>

<p>For the bootstrap, <em>z</em>-values in the summary table are calculated by dividing the parameter estimate by its corresponding bootstrap standard error. 
Corresponding <em>p</em>-values in the summary table are indicative, since the null distribution for each statistic is assumed to be approximately standard normal.
Therefore, whenever possible, it is recommended to focus mainly on bootstrap confidence intervals for inference, rather than the provided <em>p</em>-values.
</p>


<h3>See Also</h3>

<p><code>neModel</code>, <code>plot.neModel</code>, <code>residualPlot</code>, <code>residualPlots</code>, <code>weights</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(UPBdata)

weightData &lt;- neWeight(negaff ~ att + educ + gender + age,
                       data = UPBdata)
neMod &lt;- neModel(UPB ~ att0 * att1 + educ + gender + age, 
                 family = binomial, expData = weightData, se = "robust")

## extract coefficients
coef(neMod)

## extract variance-covariance matrix
vcov(neMod)

## extract regression weights
w &lt;- weights(neMod)
head(w)

## obtain bootstrap confidence intervals
confint(neMod)
confint(neMod, parm = c("att0"))
confint(neMod, type = "perc", level = 0.90)

## summary table
summary(neMod)

## residual plots
library(car)
residualPlots(neMod)
</code></pre>


</div>