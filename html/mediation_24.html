<div class="container">

<table style="width: 100%;"><tr>
<td>plot.medsens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Results from Sensitivity Analysis for Causal Mediation Effects</h2>

<h3>Description</h3>

<p>This function is used to plot results from the 'medsens' function. Causal 
average mediation effects (as well as average direct effects and proportions 
mediated for selected models) can be plotted against two alternative 
sensitivity parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'medsens'
plot(x, sens.par = c("rho", "R2"),
  r.type = c("residual", "total"), sign.prod = c("positive",
  "negative"), pr.plot = FALSE, smooth.effect = FALSE,
  smooth.ci = FALSE, ask = prod(par("mfcol")) &lt; nplots,
  levels = NULL, xlab = NULL, ylab = NULL, xlim = NULL,
  ylim = NULL, main = NULL, lwd = par("lwd"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>'medsens' object, typically output from <code>medsens</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sens.par</code></td>
<td>
<p>a character string indicating the sensitivity parameter to be
used. Default plots effects as functions of "rho". See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r.type</code></td>
<td>
<p>type of the R square parameter to be used in "R2" plots. If 
"residual", effects are plotted against the proportions of the residual 
variances that are explained by the unobserved confounder.  If "total", the
proportions of the total variances are used as sensitivity parameters. Only
relevant if 'sens.par' is "R2".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sign.prod</code></td>
<td>
<p>a value indicating the direction of hypothesized confounding
in the sensitivity analysis. If "positive", the confounder is assumed to 
affect the mediator and outcome variable in the same direction; if 
"negative" the effects are assumed to be in opposite directions.  Only 
relevant if sens.par is set to "R2".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr.plot</code></td>
<td>
<p>a logical value. If 'TRUE', the "proportions mediated" will be
plotted instead of the average causal mediation effects or direct effects. 
Currently only available if the object 'medsens' is based on the linear 
mediator and binary probit outcome models. Default is 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.effect</code></td>
<td>
<p>a logical value indicating whether the estimated 
mediation effects are smoothed via <code>lowess</code> before being 
plotted. Default is 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.ci</code></td>
<td>
<p>a logical value indicating whether the confidence bands are 
smoothed via <code>lowess</code> before being plotted. Default is 'FALSE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ask</code></td>
<td>
<p>a logical value. If 'TRUE', the user is asked for input before a 
new figure is plotted.  Default is to ask only if the number of plots on 
current screen is fewer than necessary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>vector of levels at which to draw contour lines. Only relevant 
if 'sens.par' is set to "R2". If 'NULL', default values in 
<code>contour.default</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label for the x axis. Default labels are used if 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label for the y axis. Default labels are used if 'NULL'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits of the x axis. If 'NULL' default values are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits of the y axis. If 'NULL' default values are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>main title for the plot. If 'NULL', default titles are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>width of the lines used in graphs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to plotting functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The sensitivity analysis for causal mediation effects can be
conducted in terms of two alternative sensitivity parameters, which both
quantify the degree of violation of the sequential ignorability assumption.
The "rho" parameter represents the correlation between the two error terms
of the (latent) linear models for the mediator and outcome variables. A
large value of rho indicates the existence of important common unobserved
predictors for both the mediator and outcome and therefore a high degree of
sequential ignorability violation, while a value close to zero implies
there is no such confounders.
</p>
<p>The resulting "rho" figures plot the estimated true values of ACME (or ADE,
proportion mediated) against rho, along with the confidence intervals. When
rho is zero, sequantial ignorability holds, so the estimated value at that 
point will be equal to the estimate returned by the <code>mediate</code>. 
The confidence level is determined by the 'conf.level' value of the
original <code>mediate</code> object.
</p>
<p>The "R2" parameters represent the proportions of the mediator and outcome 
variances that are explained by an unobserved pre-treatment confounder, 
thereby indicating the importance of such a confounder in each model.  When
'r.type' is "residual", the R2 parameters represent the proportions of the 
residual variances of the mediator and outcome models that become explained
by the inclusion of the hypothetical pre-treatment confounder.  These are 
denoted as "R square stars" in Imai, Keele and Yamamoto (2010) and can also
be specified as "star" or using a numeric value 1 in <code>medsens.plot</code>. 
When 'r.type' is "total", the R2s represent the total mediator and outcome 
variances the unobserved confounder would explain. This option can also be 
specified using "tilde" or a numeric value 2.
</p>
<p>For both types of the "R2" parameters, 'sign.prod' indicates the
hypothesized direction in which the unobserved confounder affects the
mediator and outcome. (The name derives from the fact that this direction
is mathematically represented by the sign of the product of two regression 
coefficients.) If "positive" (or a numeric value 1) is given, the
confounder is assumed to affect the mediator and outcome in the same
direction.  If "negative" (or a numeric value -1), the effect is assumed to
be in opposite directions.
</p>
<p>The resulting contours in the "R2" plots represent the values of the ACME
(or ADE) for different combinations of the mediator R2 and outcome R2
values. When both values are zero (the lower-left corner of the plot), the
unobserved pre-treatment confounder has no effect on either mediator or
outcome and therefore sequantial ignorability is satisfied.
</p>


<h3>Warning</h3>

<p>The 'smooth.effect' and 'smooth.ci' options should be used 
with caution since the smoothing could affect substantive implications of 
the graphical analysis in a significant way.
</p>


<h3>Author(s)</h3>

<p>Dustin Tingley, Harvard University, 
<a href="mailto:dtingley@gov.harvard.edu">dtingley@gov.harvard.edu</a>; Teppei Yamamoto, Massachusetts Institute
of Technology, <a href="mailto:teppei@mit.edu">teppei@mit.edu</a>; Jaquilyn Waddell-Boie, Princeton 
University, <a href="mailto:jwaddell@princeton.edu">jwaddell@princeton.edu</a>; Luke Keele, Penn State 
University, <a href="mailto:ljk20@psu.edu">ljk20@psu.edu</a>; Kosuke Imai, Princeton University, 
<a href="mailto:kimai@princeton.edu">kimai@princeton.edu</a>.
</p>


<h3>References</h3>

<p>Tingley, D., Yamamoto, T., Hirose, K., Imai, K. and Keele, L. 
(2014). "mediation: R package for Causal Mediation Analysis", Journal of 
Statistical Software, Vol. 59, No. 5, pp. 1-38.
</p>
<p>Imai, K., Keele, L. and Tingley, D. (2010) A General Approach to Causal 
Mediation Analysis, Psychological Methods, Vol. 15, No. 4 (December), pp. 
309-334.
</p>
<p>Imai, K., Keele, L. and Yamamoto, T. (2010) Identification, Inference, and 
Sensitivity Analysis for Causal Mediation Effects, Statistical Science, 
Vol. 25, No. 1 (February), pp. 51-71.
</p>
<p>Imai, K., Keele, L., Tingley, D. and Yamamoto, T. (2009) "Causal Mediation 
Analysis Using R" in Advances in Social Science Research Using R, ed. H. D.
Vinod New York: Springer.
</p>


<h3>See Also</h3>

<p><code>medsens</code>, <code>plot</code>, <code>contour</code>.
</p>


</div>