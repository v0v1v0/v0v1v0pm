<div class="container">

<table style="width: 100%;"><tr>
<td>groupSums</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Compute Summary Statistics of Data Subsets
</h2>

<h3>Description</h3>

<p>Compute summary statistics (sums, means) of data subsets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">groupSums(object, ...)
## S4 method for signature 'matrix'
groupSums(object, MARGIN, by, na.rm = FALSE, ...)
## S4 method for signature 'sparseMatrix'
groupSums(object, MARGIN, by, na.rm = FALSE, ...)
## S4 method for signature 'Mefa'
groupSums(object, MARGIN, by, replace, na.rm = FALSE, ...)

groupMeans(object, ...)
## S4 method for signature 'matrix'
groupMeans(object, MARGIN, by, na.rm = FALSE, ...)
## S4 method for signature 'sparseMatrix'
groupMeans(object, MARGIN, by, na.rm = FALSE, ...)
## S4 method for signature 'Mefa'
groupMeans(object, MARGIN, by, replace, na.rm = FALSE, ...)

sum_by(x, by)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>an object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>a vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MARGIN</code></td>
<td>

<p>numeric, <code>1</code> indicates rows are to be summed/averaged,
<code>2</code> indicates columns are to be summed/averaged.
<code>c(1, 2)</code> is not yet implemented, but can be calculated
calling the function twice.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>a vector of grouping elements corresponding to dimensions
of <code>object</code> and <code>MARGIN</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>a data frame to be used when applying the method on a
<code>"Mefa"</code> object. The attribute table
corresponding to <code>MARGIN</code> is dropped (<code>NULL</code>),
<code>replace</code>ment table can be specified via this argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical. Should missing values be removed?
Sum is calculated by zeroing out <code>NA</code> values,
mean is calculated as dividing the sum by the number of
non-<code>NA</code> values when collapsing.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other argument, currently not implemented.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The method sums/averages cells in a matrix.
The functions behind these methods use sparse matrices,
so calculations can be more efficient compared to using
<code>aggregate</code>.
</p>


<h3>Value</h3>

<p>An object similar to the input one.
</p>


<h3>Author(s)</h3>

<p>Peter Solymos &lt;solymos@ualberta.ca&gt;
</p>


<h3>See Also</h3>

<p><code>rowSums</code>, <code>rowMeans</code>,
<code>colSums</code>, <code>colMeans</code>
</p>
<p>Standard <code>aggregate</code> in package <span class="pkg">stats</span>
</p>
<p><code>aggregate.mefa</code> in package
<span class="pkg">mefa</span> for S3 <code>"mefa"</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- data.frame(
    sample = paste("Sample", c(1,1,2,2,3,4), sep="."),
    species = c(paste("Species", c(1,1,1,2,3), sep="."),
    "zero.pseudo"), count = c(1,2,10,3,4,0),
    stringsAsFactors = TRUE)
samp &lt;- data.frame(samples=levels(x$sample), var1=1:2,
    stringsAsFactors = TRUE)
taxa &lt;- data.frame(specnames=levels(x$species), var2=c("b","a"),
    stringsAsFactors = TRUE)
rownames(samp) &lt;- samp$samples
rownames(taxa) &lt;- taxa$specnames
x2 &lt;- Xtab(count ~ sample + species, x, cdrop=FALSE,rdrop=TRUE)
x5 &lt;- Mefa(x2, samp, taxa, join="inner")

groupSums(as.matrix(x2), 1, c(1,1,2))
groupSums(as.matrix(x2), 2, c(1,1,2,2))
groupSums(x2, 1, c(1,1,2))
groupSums(x2, 2, c(1,1,2,2))
groupSums(x5, 1, c(1,1,2))
groupSums(x5, 2, c(1,1,2,2))

groupMeans(as.matrix(x2), 1, c(1,1,2))
groupMeans(as.matrix(x2), 2, c(1,1,2,2))
groupMeans(x2, 1, c(1,1,2))
groupMeans(x2, 2, c(1,1,2,2))
groupMeans(x5, 1, c(1,1,2))
groupMeans(x5, 2, c(1,1,2,2))

sum_by(runif(100, 0, 1), sample(LETTERS[1:4], 100, replace=TRUE))
</code></pre>


</div>