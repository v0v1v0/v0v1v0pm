<div class="container">

<table style="width: 100%;"><tr>
<td>memsurveillance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates the surveillance graph of the current season</h2>

<h3>Description</h3>

<p>Function <code>memsurveillance</code> creates a surveillance graph for the current season.
</p>


<h3>Usage</h3>

<pre><code class="language-R">memsurveillance(
  i.current,
  i.epidemic.thresholds = NA,
  i.intensity.thresholds = NA,
  i.mean.length = 10,
  i.force.length = F,
  i.output = ".",
  i.graph.title = "",
  i.graph.subtitle = "",
  i.graph.file = T,
  i.graph.file.name = "",
  i.week.report = NA,
  i.equal = F,
  i.pos.epidemic = F,
  i.no.epidemic = F,
  i.no.intensity = F,
  i.epidemic.start = NA,
  i.range.x = c(40, 20),
  i.range.x.53 = F,
  i.range.y = NA,
  i.no.labels = F,
  i.start.end.marks = T,
  i.mem.info = T
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i.current</code></td>
<td>
<p>Current season weekly rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.epidemic.thresholds</code></td>
<td>
<p>Pre and post epidemic threholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.intensity.thresholds</code></td>
<td>
<p>Intensity thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.mean.length</code></td>
<td>
<p>Mean length of epidemic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.force.length</code></td>
<td>
<p>If you want to force the epidemic to be exactly as the mean length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.output</code></td>
<td>
<p>Directory where graph is saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.graph.title</code></td>
<td>
<p>Title of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.graph.subtitle</code></td>
<td>
<p>Subtitle of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.graph.file</code></td>
<td>
<p>Graph to a file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.graph.file.name</code></td>
<td>
<p>Name of the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.week.report</code></td>
<td>
<p>Week to use in the report.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.equal</code></td>
<td>
<p>If post epidemic and preepidemic thresholds must be equal (force post epidemic to be equal to the pre epidemic threshold).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.pos.epidemic</code></td>
<td>
<p>Print post epidemic threhsold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.no.epidemic</code></td>
<td>
<p>Force no start of the epidemic, print only the epidemic threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.no.intensity</code></td>
<td>
<p>Do not print intensity threholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.epidemic.start</code></td>
<td>
<p>Week to force start of the epidemic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.range.x</code></td>
<td>
<p>Range of weeks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.range.x.53</code></td>
<td>
<p>Is there a week 53 this season.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.range.y</code></td>
<td>
<p>Range of graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.no.labels</code></td>
<td>
<p>Do not use labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.start.end.marks</code></td>
<td>
<p>Do not place start and end marks of the epidemic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.mem.info</code></td>
<td>
<p>include information about the package in the graph.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Input data must be the current season and an object of class <code>mem</code>. The output
graph contains the weekly rates series along with the epidemic and intensity threshols
located at the exact situation where the epidemic started. If there is no epidemic yet,
only the epidemic threshold is placed.
</p>
<p>Surveillance consist on:
</p>

<ol>
<li>
<p> Draw weekly values along with the pre-epidemic threshold.
</p>
</li>
<li>
<p> When the weekly value rises above the threshold a marker of the start of
the epidemic is placed and the intensity thresholds are drawn.
</p>
</li>
<li>
<p> When the weekly value goes down the post-epidemic threshold, the marker of
the end of the epidemic is placed and the post-epidemic threshold is added to the graph.
</p>
</li>
</ol>
<p>The Surveillance Week allows select the week to use in the surveillance, the values of
the surveillance season are shown only up to this week, and the program will ignore
values past this week.
</p>
<p>The Force epidemic start allows to force the placement of the epidemic start marker
at a given week instead of using the first week above the epidemic threshold.
</p>


<h3>Value</h3>

<p><code>memsurveillance</code> writes a tiff graph of the surveillance of this season.
</p>


<h3>Author(s)</h3>

<p>Jose E. Lozano <a href="mailto:lozalojo@gmail.com">lozalojo@gmail.com</a>
</p>


<h3>References</h3>

<p>Vega T, Lozano JE, Ortiz de Lejarazu R, Gutierrez Perez M. Modelling influenza epidemic - can we
detect the beginning and predict the intensity and duration? Int Congr Ser. 2004 Jun;1263:281-3.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Mott J, Ortiz de Lejarazu R, et al. Influenza surveillance
in Europe: establishing epidemic thresholds by the moving epidemic method. Influenza Other Respir
Viruses. 2013 Jul;7(4):546-58. DOI:10.1111/j.1750-2659.2012.00422.x.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Beaute J, Jorgensen P, et al. Influenza surveillance in
Europe: comparing intensity levels calculated using the moving epidemic method. Influenza Other
Respir Viruses. 2015 Sep;9(5):234-46. DOI:10.1111/irv.12330.
</p>
<p>Lozano JE. lozalojo/mem: Second release of the MEM R library. Zenodo [Internet]. [cited 2017 Feb 1];
Available from: <a href="https://zenodo.org/record/165983">https://zenodo.org/record/165983</a>. DOI:10.5281/zenodo.165983
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Castilla y Leon Influenza Rates data
data(flucyl)
# Data of the last season
cur &lt;- flucyl[8]
# The model
epi &lt;- memmodel(flucyl[1:7])
# Epidemic thresholds
e.thr &lt;- epi$epidemic.thresholds
# Intensity threhsolds
i.thr &lt;- epi$intensity.thresholds
# Set the working directory to whererever you want to store the graph file
setwd(".")
# The graph, default values
# uncomment to execute
# m1 &lt;- memsurveillance(cur, e.thr, i.thr,
#    i.graph.file = TRUE,
#    i.graph.file.name = "graph 1"
# )
# No intensity levels
# m2 &lt;- memsurveillance(cur, e.thr, i.thr,
#    i.graph.file = TRUE,
#    i.graph.file.name = "graph 2", i.no.intensity = TRUE
# )
# No start/end tickmarks
# m3 &lt;- memsurveillance(cur, e.thr, i.thr,
#    i.graph.file = TRUE,
#    i.graph.file.name = "graph 3", i.start.end.marks = FALSE
# )
# Post-epidemic threshold
# m4 &lt;- memsurveillance(cur, e.thr, i.thr,
#    i.graph.file = TRUE,
#    i.graph.file.name = "graph 4", i.pos.epidemic = TRUE
# )
# Report for week 2, instead of all data
# m5 &lt;- memsurveillance(cur, e.thr, i.thr,
#    i.graph.file = TRUE,
#    i.graph.file.name = "graph 5", i.week.report = 2
# )


</code></pre>


</div>