<div class="container">

<table style="width: 100%;"><tr>
<td>memsurveillance.animated</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates the animated  graph of the surveillance of the current season</h2>

<h3>Description</h3>

<p>Function <code>memsurveillance.animated</code> creates an animated surveillance graph for the current season.
</p>


<h3>Usage</h3>

<pre><code class="language-R">memsurveillance.animated(
  i.current,
  i.epidemic.thresholds = NA,
  i.intensity.thresholds = NA,
  i.output = ".",
  i.animated.graph.file = T,
  i.animated.graph.file.name = "animated",
  i.fps = 2,
  i.loop = 0,
  i.remove = T,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i.current</code></td>
<td>
<p>Current season weekly rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.epidemic.thresholds</code></td>
<td>
<p>Pre and post epidemic threholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.intensity.thresholds</code></td>
<td>
<p>Intensity thresholds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.output</code></td>
<td>
<p>Directory where graph is saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.animated.graph.file</code></td>
<td>
<p>If a animated gif should be produced, or just the intermediate graphics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.animated.graph.file.name</code></td>
<td>
<p>Name of the animated graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.fps</code></td>
<td>
<p>Number of frames per second of the animated gif.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.loop</code></td>
<td>
<p>Number of loops for the animated dif, 0 for Infinite.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.remove</code></td>
<td>
<p>Remove partial graphs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters parsed to memsurveillance.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Input data must be the current season and an object of class <code>mem</code>. The output
graph contains the weekly rates series along with the epidemic and intensity threshols
located at the exact situation where the epidemic started. If there is no epidemic yet,
only the epidemic threshold is placed.
</p>
<p>See memsurveillance for more details
</p>


<h3>Value</h3>

<p><code>memsurveillance.animated</code> writes a gif graph of the surveillance of this season.
</p>


<h3>Author(s)</h3>

<p>Jose E. Lozano <a href="mailto:lozalojo@gmail.com">lozalojo@gmail.com</a>
</p>


<h3>References</h3>

<p>Vega T, Lozano JE, Ortiz de Lejarazu R, Gutierrez Perez M. Modelling influenza epidemic - can we
detect the beginning and predict the intensity and duration? Int Congr Ser. 2004 Jun;1263:281-3.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Mott J, Ortiz de Lejarazu R, et al. Influenza surveillance
in Europe: establishing epidemic thresholds by the moving epidemic method. Influenza Other Respir
Viruses. 2013 Jul;7(4):546-58. DOI:10.1111/j.1750-2659.2012.00422.x.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Beaute J, Jorgensen P, et al. Influenza surveillance in
Europe: comparing intensity levels calculated using the moving epidemic method. Influenza Other
Respir Viruses. 2015 Sep;9(5):234-46. DOI:10.1111/irv.12330.
</p>
<p>Lozano JE. lozalojo/mem: Second release of the MEM R library. Zenodo [Internet]. [cited 2017 Feb 1];
Available from: <a href="https://zenodo.org/record/165983">https://zenodo.org/record/165983</a>. DOI:10.5281/zenodo.165983
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Castilla y Leon Influenza Rates data
data(flucyl)
# Data of the last season
cur &lt;- flucyl[8]
# The model
epi &lt;- memmodel(flucyl[1:7])
# Epidemic thresholds
e.thr &lt;- epi$epidemic.thresholds
# Intensity threhsolds
i.thr &lt;- epi$intensity.thresholds
# Set the working directory to whererever you want to store the graph file
setwd(".")
# uncomment to execute
# m1 &lt;- memsurveillance.animated(cur,
#    i.animated.graph.file.name = "Animated",
#    i.epidemic.thresholds = e.thr, i.intensity.thresholds = i.thr, i.pos.epidemic = TRUE,
#    i.animated.graph.file = FALSE
# )


</code></pre>


</div>