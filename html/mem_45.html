<div class="container">

<table style="width: 100%;"><tr>
<td>memtiming</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Influenza Epidemic Timing</h2>

<h3>Description</h3>

<p>Function <code>memtiming</code> is used to find the optimal timing of an influenza epidemic
in a set of weekly influenza surveillance rates. It provides the start and the end of
the epidemic, also it returns a list of pre-epidemic and post-epidemic rates that can
be used to calculate influenza baselines and thresholds.
</p>


<h3>Usage</h3>

<pre><code class="language-R">memtiming(i.data, i.n.values = 5, i.method = 2, i.param = 2.8, i.mem.info = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i.data</code></td>
<td>
<p>a numeric object  (or one that can be coerced to that class).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.n.values</code></td>
<td>
<p>a number, which indicates how many pre-epidemic values are taken from the pre-epidemic period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.method</code></td>
<td>
<p>a number from 1 to 4, to select which optimization method to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.param</code></td>
<td>
<p>an optional parameter used by the method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.mem.info</code></td>
<td>
<p>include information about the package in the graph.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The method to calculate the optimal timing of an epidemic is described as part of the
<em>Moving Epidemics Method</em> (MEM), used to monitor influenza activity in a weekly
surveillance system.
</p>
<p>Input data is a vector of rates that represent a full influenza surveillance season.
It can start and end at any week (tipically at week 40th), and rates can be expressed
as per 100,000 inhabitants (or per consultations, if population is not available) or
any other scale.
</p>
<p>The <code>i.n.values</code> parameter is used to get information from the pre-epidemic and
post-epidemic period. The function will extract the highest pre/post values in order
to use it later to calculate other influenza indicators, such as baseline activity or
threshold for influenza epidemic.
</p>
<p>Depending of the value <code>i.method</code>, the function will use a different method to
calculate the optimum epidemic timing.
</p>

<ul>
<li>
<p>1 original method
</p>
</li>
<li>
<p>2 fixed criterium method
</p>
</li>
<li>
<p>3 slope method
</p>
</li>
<li>
<p>4 second derivative method
</p>
</li>
</ul>
<p>All methods are based upon the MAP curve, as described in the MEM Method.
</p>
<p>The <em>original method</em> uses the process shown in the original paper, which describes
the MEM as it was created. The <em>fixed criterium method</em> is an update of the MEM
that uses the slope of the MAP curve fo find the optimum, which is the point where the
slope is lower than a predefined value. The <em>slope method</em> also calculates the
slope of the MAP curve, but the optimum is the one that matches the global/mean slope.
The <em>second derivative method</em> calculates the second derivative and equals to zero
to search an inflexion point in the original curve.
</p>
<p>Two of the four methods require an additional parameter <code>i.param</code>: for the
<em>fixed criterium method</em> is the predefined value to find the optimum, which
typically is 2.5-3.0%, and for the <em>original method</em> it is needed the window
parameter to smooth the map curve. A value of <code>-1</code> indicates it should use
<code>h.select</code> to select the window parameter. See <code>sm</code> for more
information about this topic.
</p>


<h3>Value</h3>

<p><code>memtiming</code> returns an object of class <code>epidemic</code>.
An object of class <code>epidemic</code> is a list containing at least the following components:
</p>

<ul>
<li>
<p>i.data input data
</p>
</li>
<li>
<p>data data with missing rates filled with data from smothing regression
</p>
</li>
<li>
<p>map.curve MAP curve
</p>
</li>
<li>
<p>slope.curve slope of the MAP curve
</p>
</li>
<li>
<p>optimum.map optimum
</p>
</li>
<li>
<p>pre.epi pre-epidemic highest rates
</p>
</li>
<li>
<p>epi epidemic highest rates
</p>
</li>
<li>
<p>post.epi post-epidemic highest rates
</p>
</li>
<li>
<p>pre.epi.data pre-epidemic rates
</p>
</li>
<li>
<p>epi.data epidemic rates
</p>
</li>
<li>
<p>post.epi.data post-epidemic rates
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Jose E. Lozano <a href="mailto:lozalojo@gmail.com">lozalojo@gmail.com</a>
</p>


<h3>References</h3>

<p>Vega T, Lozano JE, Ortiz de Lejarazu R, Gutierrez Perez M. Modelling influenza epidemic - can we
detect the beginning and predict the intensity and duration? Int Congr Ser. 2004 Jun;1263:281-3.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Mott J, Ortiz de Lejarazu R, et al. Influenza surveillance
in Europe: establishing epidemic thresholds by the moving epidemic method. Influenza Other Respir
Viruses. 2013 Jul;7(4):546-58. DOI:10.1111/j.1750-2659.2012.00422.x.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Beaute J, Jorgensen P, et al. Influenza surveillance in
Europe: comparing intensity levels calculated using the moving epidemic method. Influenza Other
Respir Viruses. 2015 Sep;9(5):234-46. DOI:10.1111/irv.12330.
</p>
<p>Lozano JE. lozalojo/mem: Second release of the MEM R library. Zenodo [Internet]. [cited 2017 Feb 1];
Available from: <a href="https://zenodo.org/record/165983">https://zenodo.org/record/165983</a>. DOI:10.5281/zenodo.165983
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Castilla y Leon Influenza Rates data
data(flucyl)
# Finds the timing of the first season: 2001/2002
tim &lt;- memtiming(flucyl[1])
print(tim)
summary(tim)
plot(tim)
</code></pre>


</div>