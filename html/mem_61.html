<div class="container">

<table style="width: 100%;"><tr>
<td>transformdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Data transformation</h2>

<h3>Description</h3>

<p>Function <code>transformdata</code> transforms data from year,week,rate to week,rate1,...,rateN
suitable to use with mem.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transformdata(
  i.data,
  i.range.x = NA,
  i.name = "rates",
  i.max.na.per = 100,
  i.function = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i.data</code></td>
<td>
<p>Data frame of input data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.range.x</code></td>
<td>
<p>First and last surveillance week.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.name</code></td>
<td>
<p>Name of the column to transform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.max.na.per</code></td>
<td>
<p>maximum percentage of na's in a season allowable, otherwise, the season is removed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.function</code></td>
<td>
<p>function used to aggregate data when duplicate values are found for the same season and week, defaults to NULL (no aggregate function)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Transform data from format year, week, rate to a format suitable to be used
with mem, that is, one column with each season in the dataset and the
week names as rownames of the data.frame.
</p>


<h3>Value</h3>

<p><code>transformdata</code> returns a data.frame where each column has a different season and
rownames are the name of the epidemiological week.
</p>


<h3>Author(s)</h3>

<p>Jose E. Lozano <a href="mailto:lozalojo@gmail.com">lozalojo@gmail.com</a>
</p>


<h3>References</h3>

<p>Vega T, Lozano JE, Ortiz de Lejarazu R, Gutierrez Perez M. Modelling influenza epidemic - can we
detect the beginning and predict the intensity and duration? Int Congr Ser. 2004 Jun;1263:281-3.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Mott J, Ortiz de Lejarazu R, et al. Influenza surveillance
in Europe: establishing epidemic thresholds by the moving epidemic method. Influenza Other Respir
Viruses. 2013 Jul;7(4):546-58. DOI:10.1111/j.1750-2659.2012.00422.x.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Beaute J, Jorgensen P, et al. Influenza surveillance in
Europe: comparing intensity levels calculated using the moving epidemic method. Influenza Other
Respir Viruses. 2015 Sep;9(5):234-46. DOI:10.1111/irv.12330.
</p>
<p>Lozano JE. lozalojo/mem: Second release of the MEM R library. Zenodo [Internet]. [cited 2017 Feb 1];
Available from: <a href="https://zenodo.org/record/165983">https://zenodo.org/record/165983</a>. DOI:10.5281/zenodo.165983
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Castilla y Leon Influenza Rates data
data(flucylraw)
# Transform data
newdata &lt;- transformdata(flucylraw, i.range.x = c(40, 20))$data
epi &lt;- memmodel(newdata)
print(epi)
summary(epi)
plot(epi)
</code></pre>


</div>