<div class="container">

<table style="width: 100%;"><tr>
<td>transformseries</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transformation of series of data</h2>

<h3>Description</h3>

<p>Function <code>transformseries</code> transforms whole datasets.
</p>


<h3>Usage</h3>

<pre><code class="language-R">transformseries(i.data, i.transformation = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>i.data</code></td>
<td>
<p>Historical data series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i.transformation</code></td>
<td>
<p>Transformation to apply to the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other paramaters to be used by functions to fit two waves.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Input data must be a data.frame with each column a surveillance season and each
row a week.
</p>
<p>Transformation options:
</p>

<ul>
<li>
<p>1 No transformation
</p>
</li>
<li>
<p>2 Odd
</p>
</li>
<li>
<p>3 Fill missing data
</p>
</li>
<li>
<p>4 Smoothing regression
</p>
</li>
<li>
<p>5 Two waves (observed)
</p>
</li>
<li>
<p>6 Two waves (expected)
</p>
</li>
<li>
<p>7 Loess
</p>
</li>
<li>
<p>8 Spline
</p>
</li>
<li>
<p>9 Moving Average
</p>
</li>
</ul>
<p>Fill missings sustitute missing values with predicted values from a loess regression fit.
If does not impute leading or trailing missings, only missings in the middle of the season.
</p>
<p>Odd calculates the odd: p divided by 1-p.
</p>
<p>Loess substitute the dataset with predicted values from a loess regression fit.
</p>
<p>Spline fits a cubic smoothing spline to the supplied data.
</p>
<p>Two waves (observed) is used when there are two waves per season. It divides the original
dataset in two using a mixture of two normal distributions. The expected option uses the
same procedure but also substitutes all data with predicted values of the mixture fit.
</p>
<p>Moving Average has an additional parameter i.number for the number of observation to 
calculate the average.
</p>


<h3>Value</h3>

<p><code>transformseries</code> The transformed dataset.
</p>


<h3>Author(s)</h3>

<p>Jose E. Lozano <a href="mailto:lozalojo@gmail.com">lozalojo@gmail.com</a>
</p>


<h3>References</h3>

<p>Vega T, Lozano JE, Ortiz de Lejarazu R, Gutierrez Perez M. Modelling influenza epidemic - can we
detect the beginning and predict the intensity and duration? Int Congr Ser. 2004 Jun;1263:281-3.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Mott J, Ortiz de Lejarazu R, et al. Influenza surveillance
in Europe: establishing epidemic thresholds by the moving epidemic method. Influenza Other Respir
Viruses. 2013 Jul;7(4):546-58. DOI:10.1111/j.1750-2659.2012.00422.x.
</p>
<p>Vega T, Lozano JE, Meerhoff T, Snacken R, Beaute J, Jorgensen P, et al. Influenza surveillance in
Europe: comparing intensity levels calculated using the moving epidemic method. Influenza Other
Respir Viruses. 2015 Sep;9(5):234-46. DOI:10.1111/irv.12330.
</p>
<p>Lozano JE. lozalojo/mem: Second release of the MEM R library. Zenodo [Internet]. [cited 2017 Feb 1];
Available from: <a href="https://zenodo.org/record/165983">https://zenodo.org/record/165983</a>. DOI:10.5281/zenodo.165983
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Castilla y Leon Influenza Rates data
data(flucyl)
# Data of the last season
transformseries(flucyl, 2)
</code></pre>


</div>