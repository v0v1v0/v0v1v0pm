<div class="container">

<table style="width: 100%;"><tr>
<td>contr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convenience Methods for Setting Contrasts</h2>

<h3>Description</h3>

<p>This package provides modified versions of
<code>contr.treatment</code> and
<code>contr.sum</code>. <code>contr.sum</code>
gains an optional <code>base</code> argument, analog to the
one of <code>contr.treatment</code>, furthermore,
the <code>base</code> argument may be the name of a
factor level.
</p>
<p><code>contr</code> returns a function that calls either
<code>contr.treatment</code>, <code>contr.sum</code>, etc.,
according to the value given to its first argument.
</p>
<p>The <code>contrasts</code> method for <code>"item"</code> objects
returns a contrast matrix or a function to produce
a contrast matrix for the factor into which
the item would be coerced via <code>as.factor</code> or <code>as.ordered</code>.
This matrix or function can be specified by
using <code>contrasts(x)&lt;-value</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">contr(type,...)
contr.treatment(n, base=1,contrasts=TRUE)
contr.sum(n,base=NULL,contrasts=TRUE)
## S4 method for signature 'item'
contrasts(x,contrasts=TRUE,...)
## S4 replacement method for signature 'item'
contrasts(x,how.many) &lt;- value
# These methods are defined implicitely by making 'contrasts' generic.
## S4 method for signature 'ANY'
contrasts(x,contrasts=TRUE,...)
## S4 replacement method for signature 'ANY'
contrasts(x,how.many) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character vector, specifying the type of the contrasts.
This argument should have a value such that, if e.g. <code>type="something"</code>,
then there is a function <code>contr.something</code> that produces
a contrast matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments, passed to <code>contr.treatment</code>, etc. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a number of factor levels or a vector of factor levels names, see e.g. <code>contr.treatment</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>a number of a factor level or the names of a factor level,
which specifies the baseline category,
see e.g. <code>contr.treatment</code> or NULL.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrasts</code></td>
<td>
<p>a logical value, see  <code>contrasts</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>how.many</code></td>
<td>
<p>the number of contrasts to generate, see <code>contrasts</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a factor or an object of class "item"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>a matrix, a function or the name of a function</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>contr</code> returns a funtion that calls one of <code>contr.treatment</code>,
<code>contr.sum,...</code>.
<code>contr.treatment</code> and <code>contr.sum</code> return contrast matrices.
<code>contrasts(x)</code> returns the "contrasts" attribute of an
object, which may be a function name, a function, a contrast matrix or NULL.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ctr.t &lt;- contr("treatment",base="c")
ctr.t
ctr.s &lt;- contr("sum",base="c")
ctr.h &lt;- contr("helmert")
ctr.t(letters[1:7])
ctr.s(letters[1:7])
ctr.h(letters[1:7])

x &lt;- factor(rep(letters[1:5],3))
contrasts(x)
x &lt;- as.item(x)
contrasts(x)
contrasts(x) &lt;- contr.sum(letters[1:5],base="c")
contrasts(x)
missing.values(x) &lt;- 5
contrasts(x)
contrasts(as.factor(x))

# Obviously setting missing values after specifying
# contrast matrix breaks the contrasts.
# Using the 'contr' function, however, prevents this:

missing.values(x) &lt;- NULL
contrasts(x) &lt;- contr("sum",base="c")
contrasts(x)
missing.values(x) &lt;- 5
contrasts(x)
contrasts(as.factor(x))
</code></pre>


</div>