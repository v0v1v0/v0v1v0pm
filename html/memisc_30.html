<div class="container">

<table style="width: 100%;"><tr>
<td>value.filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Value Filters</h2>

<h3>Description</h3>

<p>Value filters, that is objects that inherit from class "value.filter",
are a mechanism to distinguish between valid codes of a survey
item and codes that are considered to be missing, such as
the codes for answers like "don't know" or "answer refused".
</p>
<p>Value filters are optional slot values of "item" objects.
They determine which codes of "item" objects are
replaced by <code>NA</code> when they are coerced into
a vector or a factor.
</p>
<p>There are three (sub)classes of value filters:
"missing.values", which specify individual
missing values and/or a range of missing values;
"valid.values", which specify individual
valid values (that is, all other values of the
item are considered as missing);
"valid.range", which specify a range of
valid values (that is, all values outside the range
are considered as missing).
Value filters of class "missing.values" correspond
to missing-values declarations in SPSS files,
imported by <code>spss.fixed.file</code>,
<code>spss.portable.file</code>, or
<code>spss.system.file</code>.
</p>
<p>Value filters also can be updated using the  <code>+</code>
and <code>-</code> operators.
</p>


<h3>Usage</h3>

<pre><code class="language-R">value.filter(x)

missing.values(x)
missing.values(x)&lt;-value

valid.values(x)
valid.values(x)&lt;-value

valid.range(x)
valid.range(x)&lt;-value

is.valid(x)
nvalid(x)
is.missing(x)
include.missings(x,mark="*")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x,value</code></td>
<td>
<p>objects of the appropriate class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mark</code></td>
<td>
<p>a character string, used to pasted
to value labels of <code>x</code> (if present).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>value.filter(x)</code>, <code>missing.values(x)</code>, <code>valid.values(x)</code>, and <code>valid.range(x)</code>,
return the value filter associated with <code>x</code>, an
object of class "value.filter", that is, of class
"missing.values", "valid.values", or "valid.range", respectively.
</p>
<p><code>is.missing(x)</code> returns a logical vector indicating for
each element of <code>x</code> whether it is a missing value or not.
<code>is.valid(x)</code> returns a logical vector indicating for
each element of <code>x</code> whether it is a valid value or not.
<code>nvalid(x)</code> returns the number of elements of <code>x</code>
that are valid.
</p>
<p>For convenience, <code>is.missing(x)</code> and <code>is.valid(x)</code> also work
for atomic vectors and factors, where they are equivalent to
<code>is.na(x)</code> and <code>!is.na(x)</code>. For atomic vectors and factors,
<code>nvalid(x)</code> returns the number of elements of <code>x</code> for
which <code>!is.na(x)</code> is TRUE.
</p>
<p><code>include.missings(x,...)</code> returns a copy of <code>x</code>
that has all values declared as valid.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- rep(c(1:4,8,9),2,length=60)
labels(x) &lt;- c(
    a=1,
    b=2,
    c=3,
    d=4,
    dk=8,
    refused=9
    )
missing.values(x) &lt;- 9
missing.values(x)
missing.values(x) &lt;- missing.values(x) + 8
missing.values(x)
missing.values(x) &lt;- NULL
missing.values(x)
missing.values(x) &lt;- list(range=c(8,Inf))
missing.values(x)
valid.values(x)
print(x)
is.missing(x)
is.valid(x)
as.factor(x)
as.factor(include.missings(x))
as.integer(x)
as.integer(include.missings(x))
</code></pre>


</div>