<div class="container">

<table style="width: 100%;"><tr>
<td>percentages</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Easy Creation of Tables of Percentages
</h2>

<h3>Description</h3>

<p>The generic function <code>percentages</code> and its methods
create one- or multidimensional tables of percentages. As such,
the function <code>percentages</code> can be viewed as a convenience
interface to <code>prop.table</code>. However, it also
allows to obtain standard errors and confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">percentages(obj, ...)
## S3 method for class 'table'
percentages(obj,
      by=NULL, which=NULL, se=FALSE, ci=FALSE, ci.level=.95, ...)
## S3 method for class 'formula'
percentages(obj,
      data=parent.frame(), weights=NULL, ...)
## Default S3 method:
percentages(obj,
      weights=NULL, ...)
## S3 method for class 'data.frame'
percentages(obj,
      weights=NULL, ...)
## S3 method for class 'list'
percentages(obj,
      weights=NULL, ...)
## S3 method for class 'percentage.table'
as.data.frame(x, ...)
## S3 method for class 'xpercentage.table'
as.data.frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>an object; a contingency table or a formula. If
it is a formula, its left-hand side determines the factor 
or combination of factors for which percentages are 
computed while its right-hand side determines the 
factor or combination of factors that define the 
groups within which percentages are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>a character vector with the names of the
factor variables that define the groups within which percentages
are computed. Percentages sum to 100 within combination
of levels of these factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>a character vector with the names of the
factor variables for which percentages 
are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>a logical value; determines whether standard
errors are computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>a logical value; determines whether confidence
intervals are computed. Note that the confidence intervals
are for infinite (or very large) populations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.level</code></td>
<td>
<p>a numerical value, the required confidence level of
the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a contingency table (an object that inherits from "table")
or a data frame or an object coercable into a data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of weights. Should be NULL or a
numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed on to the
"table" method of <code>percentages</code> or ignored in case of
a call to <code>as.data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object coerced into a data frame.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An array that inherits classes "percentage.table" and "table". If
<code>percentages</code> was called with <code>se=TRUE</code> or <code>ci=TRUE</code>
then the result additionally inherits class "xpercentage.table".
</p>


<h3>Examples</h3>

<pre><code class="language-R">percentages(UCBAdmissions)

# Three equivalent ways to create the same table of conditional
# percentages
percentages(Admit~Gender+Dept,data=UCBAdmissions)
percentages(UCBAdmissions,by=c("Gender","Dept"))
percentages(UCBAdmissions,which="Admit")
# Percentage table as data frame
as.data.frame(percentages(Admit~Gender+Dept,data=UCBAdmissions))

# Standard errors and confidence intervals
percentages(Admit~Dept,data=UCBAdmissions,se=TRUE)
percentages(Admit~Dept,data=UCBAdmissions,ci=TRUE)
(p&lt;- percentages(Admit~Dept,data=UCBAdmissions,ci=TRUE,se=TRUE))

# An extended table of percentages as data frame
as.data.frame(p)

# A table of percentages of a factor
percentages(iris$Species)

UCBA &lt;- as.data.frame(UCBAdmissions)
percentages(UCBA$Admit,weights=UCBA$Freq)

percentages(UCBA,weights=UCBA$Freq)

</code></pre>


</div>