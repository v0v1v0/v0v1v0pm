<div class="container">

<table style="width: 100%;"><tr>
<td>withSE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Alternative Variance Estimates to Models Estimates</h2>

<h3>Description</h3>

<p>A simple object-orientation infrastructure to add alternative standard
errors, e.g. sandwich estimates or New-West standard errors to 
fitted regression-type models, such as fitted by <code>lm()</code> or <code>glm()</code>.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">
withSE(object, vcov, ...) 

withVCov(object, vcov, ...)

## S3 method for class 'lm'
withVCov(object, vcov, ...)

## S3 method for class 'withVCov'
summary(object, ...)
## S3 method for class 'withVCov.lm'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a fitted model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>a function that returns a variance matrix estimate, a
given matrix that is such an estimate, or a character string that
identifies a function that returns a variance matrix estimate
(e.g. <code>"HAC"</code> for <code>vcovHAC</code>).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments, passed to <code>vcov()</code> or, respectively,
to the parent method of <code>summary()</code>  </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Using <code>withVCov()</code> an alternative variance-covariance matrix is
attributed to a fitted model object. Such a matrix may be produced by
any of the variance estimators provided by the "sandwich" package or
any package that extends it.
</p>
<p><code>withVCov()</code> has no consequences on how a fitted model itself is
printed or represented, but it does have consequences what standard
errors are reported, when the function <code>summary()</code> or the function
<code>mtable()</code> is applied.
</p>
<p><code>withSE()</code> is a convenience front-end to <code>withVCov()</code>. It can
be called in the same way as <code>withVCov</code>, but also allows to specify
the type of variance estimate by a character string that identifies
the function that gives the covariance matrix (e.g. <code>"OPG"</code> for
<code>vcovOPG</code>).
</p>


<h3>Value</h3>

<p><code>withVCov</code> returns a slightly modified model object: It adds an
attribute named ".VCov" that contains the alternate covaraince matrix
and modifies the class attribute. If e.g. the original model object has class
"lm" then the model object modified by <code>withVCov</code> has the class
attribute <code>c("withVCov.lm", "withVCov", "lm")</code>.  
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Generate poisson regression relationship
x &lt;- sin(1:100)
y &lt;- rpois(100, exp(1 + x))
## compute usual covariance matrix of coefficient estimates
fm &lt;- glm(y ~ x, family = poisson)

library(sandwich)
fmo &lt;- withVCov(fm,vcovOPG)
vcov(fm)
vcov(fmo)

summary(fm)
summary(fmo)

mtable(Default=fm,
       OPG=withSE(fm,"OPG"),
       summary.stats=c("Deviance","N")
       )

vo &lt;- vcovOPG(fm)

mtable(Default=fm,
       OPG=withSE(fm,vo),
       summary.stats=c("Deviance","N")
       )
</code></pre>


</div>