<div class="container">

<table style="width: 100%;"><tr>
<td>codebook</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a Codebook of a Data Set</h2>

<h3>Description</h3>

<p>Function <code>codebook</code> collects documentation about an item,
or the items in a data set or external data file. It returns
an object that, when <code>show</code>n, print this documentation
in a nicely formatted way. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'item'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'atomic'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'factor'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'data.set'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'importer'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'data.frame'
codebook(x, weights = NULL, unweighted = TRUE, ...)
## S4 method for signature 'tbl_df'
codebook(x, weights = NULL, unweighted = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <code>item</code>, numeric or character vector, factor,
<code>data.set</code>, <code>data.frame</code> or <code>importer</code> object for <code>codebook()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>an optional vector of weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unweighted</code></td>
<td>
<p>an optional logical vector; if weights are given, it
determines of only summaries of weighted data are show or also summaries of
unweighted data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments, currently ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "codebook", for which a <code>show</code> method exists that
produces a nicely formatted output.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
Data &lt;- data.set(
          vote = sample(c(1,2,3,8,9,97,99),size=300,replace=TRUE),
          region = sample(c(rep(1,3),rep(2,2),3,99),size=300,replace=TRUE),
          income = exp(rnorm(300,sd=.7))*2000
          )

Data &lt;- within(Data,{
  description(vote) &lt;- "Vote intention"
  description(region) &lt;- "Region of residence"
  description(income) &lt;- "Household income"
  wording(vote) &lt;- "If a general election would take place next tuesday,
                    the candidate of which party would you vote for?"
  wording(income) &lt;- "All things taken into account, how much do all
                    household members earn in sum?"
  foreach(x=c(vote,region),{
    measurement(x) &lt;- "nominal"
    })
  measurement(income) &lt;- "ratio"
  labels(vote) &lt;- c(
                    Conservatives         =  1,
                    Labour                =  2,
                    "Liberal Democrats"   =  3,
                    "Don't know"          =  8,
                    "Answer refused"      =  9,
                    "Not applicable"      = 97,
                    "Not asked in survey" = 99)
  labels(region) &lt;- c(
                    England               =  1,
                    Scotland              =  2,
                    Wales                 =  3,
                    "Not applicable"      = 97,
                    "Not asked in survey" = 99)
  foreach(x=c(vote,region,income),{
    annotation(x)["Remark"] &lt;- "This is not a real survey item, of course ..."
    })
  missing.values(vote) &lt;- c(8,9,97,99)
  missing.values(region) &lt;- c(97,99)
})

description(Data)

codebook(Data)

codebook(Data)$vote
codebook(Data)[2]

codebook(Data[2])
 
DataFr &lt;- as.data.frame(Data)
DataHv &lt;- as_haven(Data,user_na=TRUE)

codebook(DataFr)
codebook(DataHv)

   
## Not run: 
Write(description(Data),
           file="Data-desc.txt")
Write(codebook(Data),
           file="Data-cdbk.txt")
  
## End(Not run)
</code></pre>


</div>