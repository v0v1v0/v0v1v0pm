<div class="container">

<table style="width: 100%;"><tr>
<td>memo</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Memo</h2>

<h3>Description</h3>

<p>Creates a memoized function, based on the provided named or anonymous function.  Calls to the memoized function will 
be retrieved from a cache, unless it is the first time it is called.
</p>
<p>Passing <code>memo.force = TRUE</code> to the memo function call will by-pass any previously cached values and execute the underlying
function, storing the newly retrieved values for subsequent calls.  <code>memo.force = FALSE</code> by default.
</p>
<p>Passing <code>memo.dryrun = TRUE</code> to the memo function call will prevent the underlying function from executing and return TRUE
if call isn't caches and <code>FALSE</code> if it is.  These values are not cached as responses for the function.
</p>
<p>Note that results are cached based on the argument values passed to the function.  The order is not important since all
names are resolved.  So <code>fun(a=1, b=2)</code> will return the same cached value as <code>fun(b=2, a=1)</code>, for example.
</p>
<p>Functions as arguments are supported, but only the body is compared.  So a named function parameter and an anonymouse function
parameter with the same body, will be evaluated as identical and return the same cached value.
</p>
<p><code>...</code> is supported, but note that unless named then the order of the values is significant and will produce different cache values
unless identical.
</p>
<p>By default <code>NULL</code> values are not cached.  Setting <code>allow.null=TRUE</code> when creating the memo will, however, ensure that NULL values
are cached.
</p>


<h3>Usage</h3>

<pre><code class="language-R">memo(f, allow.null = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>function to memoise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow.null</code></td>
<td>
<p>if <code>TRUE</code> then the memoed function will cache <code>NULL</code> results, otherwise it won't.  <code>FALSE</code> by default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>the memoed function
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(magrittr)

# a simple example function
simple.function &lt;- function (value) {
  print("Executing!")
  value
}

# call memo function to memoise a function
simple.function.memo &lt;- memo(simple.function)

# or like this
simple.function %&lt;&gt;% memo()

# or use an anon function
simple.function2 &lt;- (function (value) value) %&gt;% memo()

# the first time we call the memo the function will execute
simple.function(10)

# if we call the memo again with the same parameter values then
# the cached value will be returned
simple.function(10)

# calling the memo with a different set of parameter values will
# cause the function to execute
simple.function(20)

# consider a slow function which is memoised, note that we have used the allow.null argument
# so that NULL is cached when returned from a function, the default is FALSE
slow.function &lt;- (function (value) Sys.sleep(value)) %&gt;% memo(allow.null = TRUE)

# the first time we call the slow function it takes some time
system.time(slow.function(3))

# subsequent calls make use of the cache and are much faster
system.time(slow.function(3))
</code></pre>


</div>