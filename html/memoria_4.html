<div class="container">

<table style="width: 100%;"><tr>
<td>extractMemoryFeatures</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extracts ecological memory features on the output of <code>computeMemory</code>.</h2>

<h3>Description</h3>

<p>It computes the following features of the ecological memory patterns returned by <code>computeMemory</code>:
</p>

<ul>
<li> <p><code>memory strength</code> maximum difference in relative importance between each component (endogenous, exogenous, and concurrent) and the median of the random component. This is computed for exogenous, endogenous, and concurrent effect.
</p>
</li>
<li> <p><code>memory length</code> proportion of lags over which the importance of a memory component is above the median of the random component. This is only computed for endogenous and exogenous memory.
</p>
</li>
<li> <p><code>dominance</code> proportion of the lags above the median of the random term over which a memory component has a higher importance than the other component. This is only computed for endogenous and exogenous memory.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">extractMemoryFeatures(
 memory.pattern = NULL,
 exogenous.component = NULL,
 endogenous.component = NULL,
 sampling.subset = NULL,
 scale.strength = TRUE
 )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>memory.pattern</code></td>
<td>
<p>either a list resulting from <code>computeMemory</code>, or a dataframe with memory patterns of several taxa generated by <code>experimentToTable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exogenous.component</code></td>
<td>
<p>character string or vector of character strings, name of the variable or variables defining the exogenous component.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endogenous.component</code></td>
<td>
<p>character string, string, name of the variable defining the endogenous component. If the data was generated by <code>prepareLaggedData</code>, <code>endogenous.component</code> would usually be <code>"Response"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling.subset</code></td>
<td>
<p>only relevant when <code>analysis.output</code> is the result of <code>runExperiment</code>. Character string with the name of the column of the list with the simulation outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale.strength</code></td>
<td>
<p>boolean. If <code>TRUE</code>, the strength of the ecological memory components, which has the same units as the importance scores yielded by Random Forest (percentage of increment in mean squared error when a variable is permuted), is scaled between 0 and 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Warning:</strong> this function only works when only one exogenous component (driver) is used to define the model in <code>computeMemory</code>. If more than one driver is provided throught the argument <code>exogenous.component</code>, the maximum importance scores of all exogenous variables is considered. In other words, the importance of exogenous variables is not additive.
</p>


<h3>Value</h3>

<p>A dataframe with 8 columns and 1 row if <code>memory.pattern</code> is the output of <code>computeMemory</code> and 13 columns and as many rows as taxa are in the input if it is the output of <code>experimentToTable</code>. The columns are:
</p>

<ul>
<li> <p><em>label</em> character string to identify the taxon. It either inherits its values from <code>experimentToTable</code>, or sets the default ID as "1".
</p>
</li>
<li> <p><em>strength.endogenous</em> numeric in the range [0, 100], in importance units (percentage of increment in the mean squared error of the random forest model if the variable is permuted) difference between the maximum importance of the endogenous component at any lag and the median of the random component (see details in <code>computeMemory</code>)
</p>
</li>
<li> <p><em>strength.exogenous</em> numeric in the range [0, 100], same as above, but for the exogenous component.
</p>
</li>
<li> <p><em>strenght.concurrent</em> numeric in the range [0, 100], same as above, but for the concurrent component (driver at lag 0).
</p>
</li>
<li> <p><em>length.endogenous</em> numeric in the range [0, 100], proportion of lags over which the importance of the endogenous memory component is above the median of the random component.
</p>
</li>
<li> <p><em>length.exogenous</em> numeric in the range [0, 1], same as above but for the exogenous memory component.
</p>
</li>
<li> <p><em>dominance.endogenous</em> numeric in the range [0, 1], proportion of the lags above the median of the random term over which a the endogenous memory component has a higher importance than the exogenous component.
</p>
</li>
<li> <p><em>dominance.exogenous</em>, opposite as above.
</p>
</li>
<li> <p><em>maximum.age</em>, numeric. As every column after this one, only provided if <code>memory.pattern</code> is the output of <code>experimentToTable</code>. Trait of the given taxon.
</p>
</li>
<li> <p><em>fecundity</em> numeric, trait of the given taxon.
</p>
</li>
<li> <p><em>niche.A.mean</em> numeric, trait of the given taxon.
</p>
</li>
<li> <p><em>niche.A.sd</em> numeric, trait of the given taxon.
</p>
</li>
<li> <p><em>sampling</em> numeric, trait of the given taxon.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Blas M. Benito  &lt;blasbenito@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code>computeMemory</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#loading example data
data(palaeodataMemory)

#computing ecological memory features
memory.features &lt;- extractMemoryFeatures(
  memory.pattern = palaeodataMemory,
  exogenous.component = c(
  "climate.temperatureAverage",
  "climate.rainfallAverage"
  ),
  endogenous.component = "Response",
  sampling.subset = NULL,
  scale.strength = TRUE
  )


</code></pre>


</div>