<div class="container">

<table style="width: 100%;"><tr>
<td>runCodeInResponse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Executes the code in the received response from the agent</h2>

<h3>Description</h3>

<p>The function extracts and executes the code in the response. If required it can
try to correct errors in the code via different strategies.
</p>


<h3>Usage</h3>

<pre><code class="language-R">runCodeInResponse(
  response,
  prompt = NULL,
  agent = NULL,
  context = NULL,
  correction = c("none", "selfcorrect", "sampleMore", "sampleThenCorrect",
    "correctThenSample"),
  attempts = 3,
  output.file = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>response to be parsed for code and executed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prompt</code></td>
<td>
<p>prompt for the response, if correction="none" it is not needed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agent</code></td>
<td>
<p>AI agent, if correction="none" it is not needed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>context</code></td>
<td>
<p>context for the prompt, if correction="none" it is not needed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction</code></td>
<td>
<p>"none" no code correction is needed. "selfcorrect" feedback the errors to LLM and ask for fix.
"sampleMore" sample responses for the #prompt until an executable code is returned or number of attempts reached.
"correctThenSample" first try self-correct "attempt" number of times.
If no executable code is returned. It will sample new responses "attempt" number of times or until executable code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attempts</code></td>
<td>
<p>Numeric value denoting how many times the code should be sent back for fixing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.file</code></td>
<td>
<p>Optional output file created holding parsed code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to sendPrompt()</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>init.response</code></td>
<td>
<p>A character vector representing the initial prompt response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.blocks</code></td>
<td>
<p>A list of initial blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final.blocks</code></td>
<td>
<p>A list of final blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code.works</code></td>
<td>
<p>A boolean value indicating whether the code works.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exec.result</code></td>
<td>
<p>A character string representing the execution results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tried.attempts</code></td>
<td>
<p>An integer representing the number of attempts.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>selfcorrect</code>,<code>sampleResponse</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

resp.list &lt;- runCodeInResponse(agent,prompt,context=rbionfoExp,correction="sampleMore",attempt=2)

## End(Not run)
</code></pre>


</div>