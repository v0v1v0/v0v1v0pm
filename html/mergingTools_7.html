<div class="container">

<table style="width: 100%;"><tr>
<td>HRM_merge</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>HRM merge</h2>

<h3>Description</h3>

<p><code>HRM_merge</code> merges HEMs coming from separate subexperiments into one single dataset. A Subexperiment is a measurement of a group of HEMs the size of the allowed PMCs by the machine. For HRM there is a designated anchor HEM that will be included on each subexperiment.
For more details check the reference paper below.
The input data must be in a specific format:
</p>

<table>
<tr>
<td style="text-align: left;">
<strong>1</strong>  </td>
<td style="text-align: left;"> <strong>2</strong>  </td>
<td style="text-align: left;"> <strong>3</strong>  </td>
<td style="text-align: left;">  <strong>1</strong> </td>
<td style="text-align: left;">  <strong>4</strong> </td>
<td style="text-align: left;">  <strong>5</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
30 </td>
<td style="text-align: left;"> 15 </td>
<td style="text-align: left;"> 20 </td>
<td style="text-align: left;"> 40 </td>
<td style="text-align: left;"> 10 </td>
<td style="text-align: left;"> 12</td>
</tr>
<tr>
<td style="text-align: left;">
35 </td>
<td style="text-align: left;"> 16 </td>
<td style="text-align: left;"> 25 </td>
<td style="text-align: left;"> 25 </td>
<td style="text-align: left;"> 13 </td>
<td style="text-align: left;"> 15</td>
</tr>
<tr>
<td style="text-align: left;">
32 </td>
<td style="text-align: left;"> 14 </td>
<td style="text-align: left;"> 30 </td>
<td style="text-align: left;"> 21 </td>
<td style="text-align: left;"> 11 </td>
<td style="text-align: left;"> 17</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>where the numbers on top are the codes for the HEMs on the T2080. In this case we have two subexperiments: subexp1 = (<strong>1</strong>, <strong>2</strong>, <strong>3</strong>), subexp2 = (<strong>1</strong>, <strong>4</strong>, <strong>5</strong>);
and H1 is the anchor HEM that should be included in each subexperiment. The data will be processed into:
</p>

<table>
<tr>
<td style="text-align: left;">
<strong>H1</strong>  </td>
<td style="text-align: left;"> <strong>H2</strong>  </td>
<td style="text-align: left;"> <strong>H3</strong>  </td>
<td style="text-align: left;">  <strong>H1</strong> </td>
<td style="text-align: left;">  <strong>H4</strong> </td>
<td style="text-align: left;">  <strong>H5</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
30 </td>
<td style="text-align: left;"> 15 </td>
<td style="text-align: left;"> 20 </td>
<td style="text-align: left;"> 40 </td>
<td style="text-align: left;"> 10 </td>
<td style="text-align: left;"> 12</td>
</tr>
<tr>
<td style="text-align: left;">
35 </td>
<td style="text-align: left;"> 16 </td>
<td style="text-align: left;"> 25 </td>
<td style="text-align: left;"> 25 </td>
<td style="text-align: left;"> 13 </td>
<td style="text-align: left;"> 15</td>
</tr>
<tr>
<td style="text-align: left;">
32 </td>
<td style="text-align: left;"> 14 </td>
<td style="text-align: left;"> 30 </td>
<td style="text-align: left;"> 21 </td>
<td style="text-align: left;"> 11 </td>
<td style="text-align: left;"> 17</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>The processing transforms the code of the HEMs to the reference name on the T2080 manual.
<code>merge_hems</code> sorts each subexperiment by the anchor HEM, and the substitutes the anchor HEM by its quantiles. If one inputs the example dataset, <code>merge_hems</code> will return:
</p>

<table>
<tr>
<td style="text-align: left;">
<strong>H1</strong> </td>
<td style="text-align: left;"> <strong>H2</strong> </td>
<td style="text-align: left;"> <strong>H3</strong> </td>
<td style="text-align: left;"> <strong>H4</strong> </td>
<td style="text-align: left;"> <strong>H5</strong>
</td>
</tr>
<tr>
<td style="text-align: left;">
21 </td>
<td style="text-align: left;"> 15 </td>
<td style="text-align: left;"> 20 </td>
<td style="text-align: left;"> 11 </td>
<td style="text-align: left;"> 17</td>
</tr>
<tr>
<td style="text-align: left;">
31 </td>
<td style="text-align: left;"> 14 </td>
<td style="text-align: left;"> 30 </td>
<td style="text-align: left;"> 13 </td>
<td style="text-align: left;"> 15</td>
</tr>
<tr>
<td style="text-align: left;">
40 </td>
<td style="text-align: left;"> 16 </td>
<td style="text-align: left;"> 25 </td>
<td style="text-align: left;"> 10 </td>
<td style="text-align: left;"> 12</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Usage</h3>

<pre><code class="language-R">HRM_merge(data = NULL, anchor_hem = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Sample data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anchor_hem</code></td>
<td>
<p>Reference HEM for merging</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a merged dataframe as stated in the description
</p>


<h3>References</h3>

<p>S. Vilardell, I. Serra, R. Santalla, E. Mezzetti, J. Abella and F. J. Cazorla, "HRM: Merging Hardware Event Monitors for Improved Timing Analysis of Complex MPSoCs," in IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems, vol. 39, no. 11, pp. 3662-3673, Nov. 2020, &lt;doi:10.1109/TCAD.2020.3013051&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mergingTools)
n_pmcs &lt;- 6
data_hrm &lt;- mergingTools::process_raw_experiments(data = data_hrm_raw_vignette, n_pmcs = n_pmcs)
merged_data &lt;- mergingTools::HRM_merge(data = data_hrm, anchor_hem = "PROCESSOR_CYCLES")
</code></pre>


</div>