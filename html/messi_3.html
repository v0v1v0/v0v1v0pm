<div class="container">

<table style="width: 100%;"><tr>
<td>messi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Implementation of Mediation with External Summary Statistics Information (MESSI) from Boss et al. (2023).</h2>

<h3>Description</h3>

<p>Implementation of Mediation with External Summary Statistics Information (MESSI) from Boss et al. (2023).
</p>


<h3>Usage</h3>

<pre><code class="language-R">messi(
  Y,
  M,
  A,
  C = NULL,
  method = "Soft EB",
  T.hat.external,
  var.T.hat.external,
  n.boot = 200,
  s2.fixed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>A (n x 1) continuous outcome vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>A (n x p_m) matrix of mediators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A</code></td>
<td>
<p>A (n x 1) vector of exposures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>A (n x p_c) matrix of confounders and adjustment covariates. If there are no confounders or adjustment covariates set C = NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string specifying which method to use. Options include 'Unconstrained', 'Hard', 'Soft EB', and 'Soft Fixed'. Default is 'Soft EB'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.hat.external</code></td>
<td>
<p>External estimate of the total effect. Set to NULL if method = 'Unconstrained'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.T.hat.external</code></td>
<td>
<p>Estimated variance of the external estimator of the total effect. Set to NULL if method = 'Unconstrained' or method = 'Hard'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>Number of parametric bootstrap draws for obtaining quantile-based confidence intervals for the TE and NDE. Relevant for method = 'Soft EB' and method = 'Soft Fixed'. Can set to NULL for method = 'Unconstrained' and method = 'Hard'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s2.fixed</code></td>
<td>
<p>Option to specify the tuning parameter s^2 in the soft constraint model. Only use if method = 'Soft Fixed'.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The Soft EB method should be the default method if the user is not sure which
method to use.
</p>


<h3>Value</h3>

<p>A list containing the (1) point estimates and confidence intervals for the natural direct effect, the natural indirect effect, and the total effect (2) point estimates for all mediation model parameters (3) the asymptotic variance covariance matrix corresponding to alpha_a and beta_m.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Med)

Y = Med$Y
M = Med$M
A = Med$A
C = Med$C
T.hat.external = Med$T.hat.external
var.T.hat.external = Med$var.T.hat.external

test &lt;- messi(Y = Y, M = M, A = A, C = C, method = 'Unconstrained', T.hat.external = T.hat.external,
              var.T.hat.external = var.T.hat.external, s2.fixed = NULL)

n = Med$n
p = Med$p

plot_messi(n = n, alpha.a.hat = test$alpha.a.hat, beta.m.hat = test$beta.m.hat, 
           labels = paste0("M",1:p), asym.var.mat = test$asym.var.mat)
              
test &lt;- messi(Y = Y, M = M, A = A, C = C, method = 'Hard', T.hat.external = T.hat.external,
              var.T.hat.external = var.T.hat.external, s2.fixed = NULL)

</code></pre>


</div>