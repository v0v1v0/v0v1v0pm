<div class="container">

<table style="width: 100%;"><tr>
<td>annotate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Annotates dates as censored, uncertain, or approximate</h2>

<h3>Description</h3>

<p>Some datasets have for example an arbitrary cut off point
for start and end points, but these are often coded as precise dates
when they are not necessarily the real start or end dates.
This collection of functions helps annotate uncertainty and
approximation to dates according to ISO2019E standards.
Inaccurate start or end dates can be represented by an affix
indicating "on or before", if used as a prefix (e.g. <code>..1816-01-01</code>),
or indicating "on or after", if used as a suffix (e.g. <code style="white-space: pre;">⁠2016-12-31..⁠</code>).
Approximate dates are indicated by adding a tilde to year,
month, or day components, as well as groups of components or whole dates
to estimate values that are possibly correct (e.g. <code style="white-space: pre;">⁠2003-03-03~⁠</code>).
Day, month, or year, uncertainty can be indicated by adding a question mark
to a possibly dubious date (e.g. <code style="white-space: pre;">⁠1916-10-10?⁠</code>) or date
component (e.g. <code>1916-?10-10</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">on_or_before(x)

on_or_after(x)

as_approximate(x, component = NULL)

as_uncertain(x, component = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A date vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>component</code></td>
<td>
<p>Annotation can be added on specific date components
("year", "month" or "day"), or to groups of date components (month and
day ("md"), or year and month ("ym")). This must be specified.
If unspecified, annotation will be added after the date (e.g. <code style="white-space: pre;">⁠1916-10-10?⁠</code>),
indicating the whole date is uncertain or approximate.
For specific date components, uncertainty or approximation is annotated to
the left of the date component.
E.g. for "day": <code>1916-10-?10</code> or <code>1916-10-~10</code>.
For groups of date components, uncertainty or approximation is annotated to
the right of the group ("ym") or to both components ("md").
E.g. for "ym": <code>1916-10~-10</code>; for "md": <code>1916-?10-?10</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>mdate</code> object with annotated date(s)
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>on_or_before()</code>: prefixes dates with ".." where start date is uncertain
</p>
</li>
<li> <p><code>on_or_after()</code>: suffixes dates with ".." where end date is uncertain
</p>
</li>
<li> <p><code>as_approximate()</code>: adds tildes to indicate approximate dates/date components
</p>
</li>
<li> <p><code>as_uncertain()</code>: adds question marks to indicate dubious dates/date components.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data &lt;- data.frame(Beg = c("1816-01-01", "1916-01-01", "2016-01-01"),
  End = c("1816-12-31", "1916-12-31", "2016-12-31"))
dplyr::mutate(data, Beg = ifelse(Beg &lt;= "1816-01-01",
  on_or_before(Beg), Beg))
dplyr::mutate(data, End = ifelse(End &gt;= "2016-01-01",
  on_or_after(End), End))
dplyr::mutate(data, Beg = ifelse(Beg == "1916-01-01",
  as_approximate(Beg), Beg))
dplyr::mutate(data, End = ifelse(End == "1916-12-31",
  as_uncertain(End), End))
</code></pre>


</div>