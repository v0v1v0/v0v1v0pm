<div class="container">

<table style="width: 100%;"><tr>
<td>ilab-class</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
The 'ilab' class. 
</h2>

<h3>Description</h3>

<p>The ‘ilab’ class and its constructor function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct.ilab(org, item, measurand, x, u, df, k, U, U.lower, U.upper,
           distrib=NULL, distrib.pars=NULL, study=NA, title=NA, p=0.95, ...) 

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>org</code></td>
<td>
<p>Character vector or factor of organisation names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item</code></td>
<td>
<p>vector or factor of identifiers for test items. Coerced to factor on storage.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measurand</code></td>
<td>
<p>vector or factor identifying the measurand(s) involved in the study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector of reported values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>u</code></td>
<td>
<p>numeric vector of reported standard uncertainties or standard errors associated with x.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>optional numeric vector of degrees of freedom associated with each reported uncertainty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>numeric vector of coverage factors. The coverage factor is the factor multiplying u to obtain U.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>U</code></td>
<td>
<p>numeric or character vector of expanded uncertainties or confidence interval half-widths. 
Coerced to numeric but may include a character representation of interval limits; see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>U.lower, U.upper</code></td>
<td>
<p>numeric vectors of lower and upper limits for the confidence 
interval around x, allowing asymmetric intervals. Defaults to U or to the limits 
specified by U. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distrib</code></td>
<td>
<p>A character vector of length <code>length(x)</code> or a named list 
of names of distribution functions associated with <code>u</code>. If a character vector, 
<code>distrib</code> is recycled to length <code>length(x)</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distrib.pars</code></td>
<td>
<p>A named list of lists of parameters describing the distributions 
associated with <code>u</code> to be passed to the relevant distribution function.
If <code>distrib</code> is present but <code>distrib.pars</code> is not, an attempt is made 
to set defaults based on other parameters; see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>study</code></td>
<td>
<p>A character value or vector or a factor identifying different studies 
or study populations within the data set. Typically used, for example, for identifying 
participants in global and regional components of a combined study. Recycled to length
<code>length(x)</code> if necessary.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>An optional title for the study. May be a character vector, 
in which case each element is displayed on a separate line when printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>Confidence level assumed to apply to <code>k</code>. Used only to set a default value 
for <code>df</code> when <code>distrib</code> indicates a t-distribution and <code>df</code> is 
unspecified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other <em>named</em> factors or character vectors used to group observations.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>U</code> is a character vector, it may contain character representations of range.
Two forms are permitted:
</p>

<dl>
<dt>"a-b"</dt>
<dd>
<p>Interpreted as limits of a range from <code>a</code> to <code>b</code>. <code>U.lower</code>
and <code>U.upper</code> are calculated from these limits and <code>x</code></p>
</dd>
<dt>"+a[/]-b" (or "-a[/]+b")</dt>
<dd>
<p><code>U.upper</code> is set to <code>a</code> in <code>"+a"</code>, 
and <code>U.lower</code> is set to <code>b</code> in <code>"-b"</code>.</p>
</dd>
</dl>
<p>If <code>distrib.pars</code> is missing, an attempt is made to deduce appropriate 
distribution parameters from <code>x</code>, <code>u</code>, <code>df</code> and <code>distrib</code>. 
In doing so, the following assumptions and values apply for the respective distributions:
</p>

<dl>
<dt>norm</dt>
<dd>
<p><code>mean=x$name, sd=u$name</code>.</p>
</dd>
<dt>unif</dt>
<dd>
<p><code>min=x-sqrt(3)*u, max=x+sqrt(3)*u</code>.</p>
</dd>
<dt>tri</dt>
<dd>
<p><code>min=x-sqrt(6)*u, max=x+sqrt(6)*u, mode=x</code>.</p>
</dd>
<dt>t, t.scaled</dt>
<dd>
<p><code>df=df, mean=x, sd=u</code>.</p>
</dd>
</dl>
<p>In addition, if <code>distrib</code> contains <code>"t"</code> or <code>"t.scaled"</code>, and
<code>df</code> is <code>NA</code>, the corresponding degrees of freedom are chosen based on 
<code>k</code> and <code>p</code>.
</p>


<h3>Value</h3>

<p>An object of class ‘ilab’ consisting of:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>A character value or vector describing the study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>A character string describing any subset operation used to form the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame with columns:
</p>

<table>
<tr>
<td style="text-align: left;">
    org	</td>
<td style="text-align: left;">	Factor of organisations submitting results in the study  </td>
</tr>
<tr>
<td style="text-align: left;">
    item	</td>
<td style="text-align: left;">	Factor of test item identifiers.   </td>
</tr>
<tr>
<td style="text-align: left;">
    measurand	</td>
<td style="text-align: left;">	Factor of measurands determined for each item  </td>
</tr>
<tr>
<td style="text-align: left;">
    x	</td>
<td style="text-align: left;">	numeric vector of reported values.  </td>
</tr>
<tr>
<td style="text-align: left;">
    u	</td>
<td style="text-align: left;">	numeric vector of reported standard uncertainties or standard 
    		errors associated with x.  </td>
</tr>
<tr>
<td style="text-align: left;">
    df	</td>
<td style="text-align: left;">	numeric vector of degrees of freedom associated with each reported
    		uncertainty. Set to <code>NA</code> if not provided.  </td>
</tr>
<tr>
<td style="text-align: left;">
    k	</td>
<td style="text-align: left;">	numeric vector of coverage factors. The coverage factor is the 
    		factor multiplying u to obtain U.  </td>
</tr>
<tr>
<td style="text-align: left;">
    U	</td>
<td style="text-align: left;">	numeric or character vector of expanded uncertainties or confidence 
    		interval half-widths. <code>U</code> is coerced to numeric but may include
    		a character representation of interval limits; see Details.  </td>
</tr>
<tr>
<td style="text-align: left;">
    U.lower, U.upper	</td>
<td style="text-align: left;">	numeric vectors of lower and upper limits for the confidence 
      interval around x.  </td>
</tr>
<tr>
<td style="text-align: left;">
    study	</td>
<td style="text-align: left;">	Identifier for study groups (see Arguments above).  </td>
</tr>
<tr>
<td style="text-align: left;">
    ...	</td>
<td style="text-align: left;">	Other grouping factors (supplied in ‘...’ in <code>construct.ilab</code>)
	which can be used for sub-categorisation.  </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distrib</code></td>
<td>
<p>An unnamed list of distribution names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distrib.pars</code></td>
<td>
<p>An unnamed list of lists of parameters describing the distributions 
associated with <code>u</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>S. L. R. Ellison <a href="mailto:s.ellison@lgc.co.uk">s.ellison@lgc.co.uk</a>
</p>


<h3>References</h3>

<p>None, yet.</p>


<h3>See Also</h3>

<p><code>print.ilab</code>,  <code>subset.ilab</code>,  <code>plot.ilab</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Pb)
construct.ilab(org=Pb$lab, x=Pb$value, measurand="Pb", item="none", 
                u=Pb$u, k=Pb$k, U=Pb$U, title=c("CCQM K30", "Lead in wine"), 
                method=Pb$method)

#Illustrate default for U and automatic distrib.pars
construct.ilab(org=Pb$lab, x=Pb$value, measurand="Pb", item="none", 
                u=Pb$u, k=Pb$k, distrib="norm")

construct.ilab(org=Pb$lab, x=Pb$value, measurand="Pb", item="none", 
                u=Pb$u, k=Pb$k, distrib="t.scaled")

</code></pre>


</div>