<div class="container">

<table style="width: 100%;"><tr>
<td>makeObject</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function used to make a <code>meta4diag</code> object.
</h2>

<h3>Description</h3>

<p>Takes an internal data list, an internal prior setting list and an <code>INLA</code> object produced by <code>makeData()</code>, <code>makePriors()</code> and <code>runModel()</code>, respectively and makes a <code>meta4diag</code> object which contains various informations for later use. This function is used in the main function <code>meta4diag()</code> and can also be used as a separate function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  makeObject(model, nsample=FALSE, seed=0L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>An <code>INLA</code> object. Get from function <code>runModel()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsample</code></td>
<td>

<p>A numerical value specifying the number of posterior samples, default is FALSE. The posterior samples are used to compute the marginals and estimates values of non-linear functions, such as log ratios and diagnostic odds ratios. If <code>nsample</code> is given, <code>summary.summarized.statistics</code>, <code>summary.fitted.LRpos</code>, <code>summary.fitted.LRneg</code>, <code>summary.fitted.DOR</code> and samples of <code class="reqn">E(se)</code>, <code class="reqn">E(sp)</code>, <code class="reqn">E(1-se)</code> and <code class="reqn">E(1-sp)</code> will be returned.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>A numerical value specifying the random seed to control the RNG for generating posterior samples if nsample &gt; 0. If you want reproducible results, you ALSO need to control the seed for the RNG in R by controlling the variable .Random.seed or using the function set.seed.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>makeObject</code> returns a <code>meta4diag</code> object with components: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The provided input data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outdata</code></td>
<td>
<p>The internal data that could be used in <span class="pkg">INLA</span> from function <code>makeData()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priors.density</code></td>
<td>
<p>Prior distributions for the variance components and correlation from function <code>makePriors()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names.fitted</code></td>
<td>
<p>Names of the jointly modelled accuracies in the model. For example, se and sp or (1-se) and sp.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpu.used</code></td>
<td>
<p>The cpu time used for running the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.fixed</code></td>
<td>
<p>Matrix containing the mean and standard deviation (plus, possibly quantiles) of the fixed effects of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginals.fixed</code></td>
<td>
<p>A list containing the posterior marginal densities of the fixed effects of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.expected.(...).accuracy</code></td>
<td>
<p>Matrix containing the mean and standard deviation (plus, possibly quantiles) of the mean of accuracies transformed with the link function, i.e. E(g(Se)), E(g(Sp)), E(g(1-Se)) and E(g(1-Sp)). Dynamic name for this output. (...) indicates the name of link function used in <code>runModel()</code>, i.e. if link function is "logit", the full name of this output is "summary.expected.logit.accuracy".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginals.expected.(...).accuracy</code></td>
<td>
<p>A list containing the posterior marginal densities of the mean of accuracies transformed with the link function, i.e. E(g(Se)), E(g(Sp)), E(g(1-Se)) and E(g(1-Sp)). Dynamic name for this output. (...) indicates the name of link function used in <code>runModel()</code>, i.e. if link function is "logit", the full name of this output is "marginals.expected.logit.accuracy".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.expected.accuracy</code></td>
<td>
<p>Matrix containing the mean and standard deviation (plus, possibly quantiles) of the mean of the accuracies, i.e.  E(Se), E(Sp), E(1-Se) and E(1-Sp).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginals.expected.accuracy</code></td>
<td>
<p>A list containing the posterior marginal densities of of the mean of the accuracies, i.e.  E(Se), E(Sp), E(1-Se) and E(1-Sp).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.hyperpar</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of the hyperparameters of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginals.hyperpar</code></td>
<td>
<p>A list containing the posterior marginal densities of the hyperparameters of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correlation.expected.(...).accuracy</code></td>
<td>
<p>A correlation matrix between the mean of the accuracies transformed with the link function. Dynamic name for this output. (...) indicates the name of link function used in <code>runModel()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariance.expected.(...).accuracy</code></td>
<td>
<p>A covariance matrix between the mean of the accuracies transformed with the link function. Dynamic name for this output. (...) indicates the name of link function used in <code>runModel()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.predictor.(...)</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of the linear predictors one transformed accuracy in the model. The accuracy type depends on the model type. See argument <code>model.type</code>. For example, the possible accuracy type could be <code class="reqn">g(se)</code>, <code class="reqn">g(sp)</code>, <code class="reqn">(se)</code> or <code class="reqn">(sp)</code>, where <code class="reqn">g()</code> is the link function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marginals.predictor.(...)</code></td>
<td>
<p>A list containing the posterior marginals of the linear predictors of one transformed accuracy in the model. The accuracy type depends on the model type. See argument <code>model.type</code>. For example, the possible accuracy type could be <code class="reqn">g(se)</code>, <code class="reqn">g(sp)</code>, <code class="reqn">(se)</code> or <code class="reqn">(sp)</code>, where <code class="reqn">g()</code> is the link function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>misc</code></td>
<td>
<p>Some other settings that maybe useful retruned by <span class="pkg">meta4diag</span>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dic</code></td>
<td>
<p>The deviance information criteria and effective number of parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cpo</code></td>
<td>
<p>A list of three elements: <code>cpo$cpo</code> are the values of the conditional predictive ordinate (CPO), <code>cpo$pit</code> are the values of the 
probability integral transform (PIT) and <code>cpo$failure</code> 
indicates whether some assumptions are violated. In short, if 
cpo$failure[i] &gt; 0 then some assumption is violated, the higher the 
value (maximum 1) the more seriously.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>waic</code></td>
<td>
<p>A list of two elements: <code>waic$waic</code> is the Watanabe-Akaike information criteria,  and <code>waic$p.eff</code> is the estimated effective number of parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mlik</code></td>
<td>
<p>The log marginal likelihood of the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inla.result</code></td>
<td>
<p>A <code>INLA</code> object that from function <code>runModel()</code> which implements INLA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.fixed</code></td>
<td>
<p>A matrix of the fixed effects samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.hyperpar</code></td>
<td>
<p>A matrix of the hyperparameter samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.overall.Se</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of overall sensitivity samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.overall.Sp</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of overall specificity samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.overall.statistics</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of mean positive and negative likelihood ratios and mean diagnostic odds ratios if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.study.specific.Se</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of study specific sensitivity samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples.study.specific.Sp</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of study specific specificity samples if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.LRpos</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of positive likelihood ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.LRneg</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of negative likelihood ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.DOR</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of diagnostic odds ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.RD</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of risk difference for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.LDOR</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of log diagnostic odds ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.LLRpos</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of log positive likelihood ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary.study.specific.LLRneg</code></td>
<td>
<p>A matrix containing the mean and sd (plus, possibly quantiles) of log negative likelihood ratios for each study if <code>nsample</code> is given.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jingyi Guo
</p>


<h3>See Also</h3>

<p><code>makeData, makePriors, runModel, meta4diag</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
if(requireNamespace("INLA", quietly = TRUE)){
  require("INLA", quietly = TRUE)
  data(Catheter)
  outdata = makeData(Catheter)
  outpriors = makePriors()
  model = runModel(outdata=outdata, outpriors=outpriors, link="logit")
  res = makeObject(outdata, outpriors, model, nsample=2000)
}

## End(Not run)
</code></pre>


</div>