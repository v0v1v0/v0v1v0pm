<div class="container">

<table style="width: 100%;"><tr>
<td>aggregate_df</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Aggregate a dataframe containing dependent effect sizes according to Borenstein's formulas</h2>

<h3>Description</h3>

<p>Aggregate a dataframe containing dependent effect sizes according to Borenstein's formulas
</p>


<h3>Usage</h3>

<pre><code class="language-R">aggregate_df(
  x,
  dependence = "outcomes",
  cor_outcomes = 0.8,
  agg_fact,
  es = "es",
  se = "se",
  col_mean = NA,
  col_weighted_mean = NA,
  weights = NA,
  col_sum = NA,
  col_min = NA,
  col_max = NA,
  col_fact = NA,
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a dataframe that should be aggregated (must contain effect size values and standard errors).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependence</code></td>
<td>
<p>The type of dependence in your dataframe (can be either "outcomes" or "subgroups"). See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor_outcomes</code></td>
<td>
<p>The correlation between effect sizes coming from the same clustering unit (only used when <code>dependence = "outcomes"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_fact</code></td>
<td>
<p>A character string identifying the column name that contains the clustering units (all rows with the same <code>agg_fact</code> value will be aggregated together).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>es</code></td>
<td>
<p>A character string identifying the column name containing the effect size values. Default is "es".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>A character string identifying the column name containing the standard errors of the effect size. Default is "se".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_mean</code></td>
<td>
<p>a vector of character strings identifying the column names for which the dependent values are summarized by taking their mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_weighted_mean</code></td>
<td>
<p>a vector of character strings identifying the column names for which the dependent values are summarized by taking their weighted mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>The weights that will be used to estimated the weighted means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_sum</code></td>
<td>
<p>a vector of character strings identifying the column names for which the dependent values are summarized by taking their sum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_min</code></td>
<td>
<p>a vector of character strings identifying the column names for which the dependent values are summarized by taking their minimum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_max</code></td>
<td>
<p>a vector of character strings identifying the column names for which the dependent values are summarized by taking their maximum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_fact</code></td>
<td>
<p>a vector of character strings identifying the column names that are factors (different values will be separated by a "/" character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical vector indicating whether missing values should be ignored in the calculations for the <code>col_mean</code>, <code>col_weighted_mean</code>, <code>col_sum</code>, <code>col_min</code> and <code>col_max</code> arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ol>
<li>
<p> In the <code>dependence</code> argument, you should indicate "outcomes" if the dependence within the same clustering unit (e.g., study) is due to the presence of multiple effect sizes produced from the same participants (e.g., multiple outcomes, or multiple time-points)
</p>
</li>
<li>
<p> In the <code>dependence</code> argument, you should indicate "subgroups" if the dependence within the same clustering unit (e.g., study) is due to the presence of multiple effect sizes produced by independent subgroups (e.g., one effect size for boys, and one for girls).
</p>
</li>
</ol>
<p>If you are working with ratio measures, make sure that the information on
the effect size estimates (i.e., the column passed to the es argument of the function)
is presented on the log scale.
</p>


<h3>Value</h3>

<p>The object returned by the <code>aggregate_df</code> contains, is a dataframe containing at the very least,
the aggregating factor, and the aggregated effect size values and standard errors. All columns indicated in the <code>col_*</code> arguments
will also be included in this dataframe.
</p>

<table>
<tr>
<td style="text-align: left;">
<code>row_id</code> </td>
<td style="text-align: left;"> the row number in the original dataset.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>es</code> </td>
<td style="text-align: left;"> the aggregated effect size value.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>se</code> </td>
<td style="text-align: left;"> the standard error of the aggregated effect size.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>...</code> </td>
<td style="text-align: left;"> any columns indicated in the <code>col_*</code> arguments.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">res &lt;- summary(convert_df(df.haza, measure = "d"))
aggregate_df(res, dependence = "outcomes", cor_outcomes = 0.8,
             agg_fact = "study_id", es = "es_crude", se = "se_crude",
             col_fact = c("outcome", "type_publication"))

</code></pre>


</div>