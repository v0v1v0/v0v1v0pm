<div class="container">

<table style="width: 100%;"><tr>
<td>metaRangePriorityQueue</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process priority queue</h2>

<h3>Description</h3>

<p>Creates a priority queue in form of an R6 class,
that manages the correct process execution order.
</p>


<h3>Value</h3>

<p><code style="white-space: pre;">⁠&lt;metaRangePriorityQueue&gt;⁠</code> A metaRangePriorityQueue object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-metaRangePriorityQueue-new"><code>metaRangePriorityQueue$new()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-execute_next_process"><code>metaRangePriorityQueue$execute_next_process()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-enqueue"><code>metaRangePriorityQueue$enqueue()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-dequeue"><code>metaRangePriorityQueue$dequeue()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-sort_future_queue"><code>metaRangePriorityQueue$sort_future_queue()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-update"><code>metaRangePriorityQueue$update()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-is_empty"><code>metaRangePriorityQueue$is_empty()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-get_queue"><code>metaRangePriorityQueue$get_queue()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-get_future_queue"><code>metaRangePriorityQueue$get_future_queue()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-get_current_index"><code>metaRangePriorityQueue$get_current_index()</code></a>
</p>
</li>
<li> <p><a href="#method-metaRangePriorityQueue-print"><code>metaRangePriorityQueue$print()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-metaRangePriorityQueue-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates a new metaRangePriorityQueue object.
Note: No reason to call this as user.
The priority queue is created automatically when a simulation is created.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$new()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;metaRangePriorityQueue&gt;⁠</code> A metaRangePriorityQueue object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Only for illustration purposes.
pr_queue &lt;- metaRangePriorityQueue$new()
pr_queue
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-execute_next_process"></a>



<h4>Method <code>execute_next_process()</code>
</h4>

<p>Executes the next process in the queue.
No reason to call this as user. The next process is executed automatically.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$execute_next_process(verbose)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>verbose</code></dt>
<dd>
<p><code style="white-space: pre;">⁠&lt;logical&gt;⁠</code> Print timing and information or not.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;logical&gt;⁠</code> <code>TRUE</code> if the next process has been executed,
<code>FALSE</code> if not and the queue is empty.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Only for illustration purposes.
pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$execute_next_process(verbose = TRUE)
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-enqueue"></a>



<h4>Method <code>enqueue()</code>
</h4>

<p>Add a process to the (future) queue.
Users should only use this method if they added a process to the simulation
via the add_process method of the simulation object with the argument
<code>queue = FALSE</code>. Otherwise the process is added to the queue automatically.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$enqueue(process)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>process</code></dt>
<dd>
<p><code style="white-space: pre;">⁠&lt;metaRangeProcess&gt;⁠</code> A metaRangeProcess that should be added
to the queue.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;boolean&gt;⁠</code> <code>TRUE</code> on success <code>FALSE</code> on failure.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$get_future_queue()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-dequeue"></a>



<h4>Method <code>dequeue()</code>
</h4>

<p>Remove a process from the (future) queue.
Useful to remove a process from the queue if it is no longer needed.
E.g. if a species went extinct.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$dequeue(PID = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>PID</code></dt>
<dd>
<p><code style="white-space: pre;">⁠&lt;string&gt;⁠</code> the ID of the process, that should be dequeued.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;boolean&gt;⁠</code> <code>TRUE</code> on success <code>FALSE</code> on failure.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$dequeue(pr$get_PID())
pr_queue$get_future_queue()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-sort_future_queue"></a>



<h4>Method <code>sort_future_queue()</code>
</h4>

<p>Sort the (future) queue based on the execution priority.
This method is called automatically when a process is added to the queue.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$sort_future_queue()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;invisible self&gt;⁠</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$sort_future_queue()
# at least no error
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-update"></a>



<h4>Method <code>update()</code>
</h4>

<p>Update and reset the queue.
This method is called automatically at the end of each time step.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$update()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;invisible self&gt;⁠</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_queue()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-is_empty"></a>



<h4>Method <code>is_empty()</code>
</h4>

<p>Check if the queue is empty.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$is_empty()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;boolean&gt;⁠</code> <code>TRUE</code> if queue is empty <code>FALSE</code> otherwise.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
stopifnot(pr_queue$is_empty())
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-get_queue"></a>



<h4>Method <code>get_queue()</code>
</h4>

<p>Get the current queue.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$get_queue()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;named int vector&gt;⁠</code> The current queue.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_queue()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-get_future_queue"></a>



<h4>Method <code>get_future_queue()</code>
</h4>

<p>Get the future queue.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$get_future_queue()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;named int vector&gt;⁠</code> The future queue.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$get_future_queue()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-get_current_index"></a>



<h4>Method <code>get_current_index()</code>
</h4>

<p>Get the number / index of the next to be executed process.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$get_current_index()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;integer&gt;⁠</code> The index.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_current_index()
</pre>
</div>


<hr>
<a id="method-metaRangePriorityQueue-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Prints information about the queue to the console.
</p>


<h5>Usage</h5>

<div class="r"><pre>metaRangePriorityQueue$print()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">⁠&lt;invisible self&gt;⁠</code>.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>pr_queue &lt;- metaRangePriorityQueue$new()
pr_queue$print()
</pre>
</div>




<h3>Examples</h3>

<pre><code class="language-R">
## ------------------------------------------------
## Method `metaRangePriorityQueue$new`
## ------------------------------------------------

# Only for illustration purposes.
pr_queue &lt;- metaRangePriorityQueue$new()
pr_queue

## ------------------------------------------------
## Method `metaRangePriorityQueue$execute_next_process`
## ------------------------------------------------

# Only for illustration purposes.
pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$execute_next_process(verbose = TRUE)

## ------------------------------------------------
## Method `metaRangePriorityQueue$enqueue`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$get_future_queue()

## ------------------------------------------------
## Method `metaRangePriorityQueue$dequeue`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$dequeue(pr$get_PID())
pr_queue$get_future_queue()

## ------------------------------------------------
## Method `metaRangePriorityQueue$sort_future_queue`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$sort_future_queue()
# at least no error

## ------------------------------------------------
## Method `metaRangePriorityQueue$update`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_queue()

## ------------------------------------------------
## Method `metaRangePriorityQueue$is_empty`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
stopifnot(pr_queue$is_empty())

## ------------------------------------------------
## Method `metaRangePriorityQueue$get_queue`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_queue()

## ------------------------------------------------
## Method `metaRangePriorityQueue$get_future_queue`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$get_future_queue()

## ------------------------------------------------
## Method `metaRangePriorityQueue$get_current_index`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr &lt;- metaRangeProcess$new("A", "1", \() {message("test")}, 1, new.env())
pr_queue$enqueue(pr)
pr_queue$update()
pr_queue$get_current_index()

## ------------------------------------------------
## Method `metaRangePriorityQueue$print`
## ------------------------------------------------

pr_queue &lt;- metaRangePriorityQueue$new()
pr_queue$print()
</code></pre>


</div>