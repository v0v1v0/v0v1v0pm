<div class="container">

<table style="width: 100%;"><tr>
<td>rCor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate (Nested) Sample/Population Correlation/Covariance Matrices
</h2>

<h3>Description</h3>

<p>It generates (nested) random sample or population correlation or
covariance matrices. <code>rCor()</code> is a wrapper to call
<code>rCorPop()</code> and then <code>rCorSam()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rCor(Sigma, V, n, corr=TRUE, raw.data=FALSE,
     nonPD.pop=c("replace", "nearPD", "accept"),
     nonPD.sam=c("stop", "nearPD"))
rCorPop(Sigma, V, k, corr=TRUE, 
        nonPD.pop=c("replace", "nearPD", "accept"))
rCorSam(Sigma, n, corr=TRUE, raw.data=FALSE, 
        nonPD.sam=c("stop", "nearPD"))
rCor3L(Sigma, V.B, V.W, n, cluster, corr=TRUE, raw.data=FALSE,
       nonPD.pop=c("replace", "nearPD", "accept"),
       nonPD.sam=c("stop", "nearPD"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>A list of population correlation/covariance matrices or a
single matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>A variance-covariance matrix of Sigma.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V.B</code></td>
<td>
<p>A variance-covariance matrix of between-study Sigma.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V.W</code></td>
<td>
<p>A variance-covariance matrix of within-study Sigma</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>A vector or a single sample sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>A vector of number of studies in clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>Logical. Whether to generate correlation or covariance matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw.data</code></td>
<td>
<p>Logical. Whether correlation/covariance matrices are
generated via raw.data or directly from a Wishart distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonPD.pop</code></td>
<td>
<p>If it is <code>replace</code>, generated non-positive
definite matrices are replaced by generated new ones which are
positive definite. If it is <code>nearPD</code>, they are replaced by
nearly positive definite matrices by calling
<code>Matrix::nearPD()</code>. If it is <code>accept</code>, they are accepted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonPD.sam</code></td>
<td>
<p>If it is <code>stop</code>, the program stops when the
inputs in the <code>rCorSam</code> are non-positive definite. If it is
<code>nearPD</code>, they are replaced by nearly positive definite matrices by calling
<code>Matrix::nearPD()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>A vector or a single number of studies.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of the generated population/sample
correlation/covariance matrices.
</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">Sigma &lt;- matrix(c(1, .2, .3,
                  .2, 1, .4,
                  .3, .4, 1), ncol=3, nrow=3)
V &lt;- diag(c(.1, .1, .1))

## Generate two population correlation matrices
Pop.corr &lt;- rCorPop(Sigma, V, k=2)
Pop.corr
                  
summary(Pop.corr)
                  
## Generate two sample correlation matrices
rCorSam(Sigma=Pop.corr, n=c(10, 10))
                 
## The above code is the same as the following one
rCor(Sigma, V, n=c(10, 10))                  
</code></pre>


</div>