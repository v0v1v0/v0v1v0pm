<div class="container">

<table style="width: 100%;"><tr>
<td>asyCov</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Asymptotic Covariance Matrix of a Correlation/Covariance Matrix
</h2>

<h3>Description</h3>

<p>It computes the asymptotic sampling covariance matrix of a
correlation/covariance matrix under the assumption of multivariate normality. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">asyCov(x, n, cor.analysis = TRUE, as.matrix = TRUE,
       acov=c("weighted", "individual", "unweighted"), ...)
asyCovOld(x, n, cor.analysis = TRUE, dropNA = FALSE, as.matrix = TRUE,
       acov=c("individual", "unweighted", "weighted"),
       suppressWarnings = TRUE,  silent = TRUE, run = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A correlation/covariance matrix or a list of
correlation/covariance matrices. <code>NA</code> on the variables or other
values defined in <code>na.strings</code> will be removed before the
analysis. Note that it only checks the diagonal elements of
the matrices. If there are missing values, make sure that the
diagonals are coded with <code>NA</code> or values defined in <code>na.strings</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size or a vector of sample sizes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor.analysis</code></td>
<td>
<p>Logical. The output is either a correlation or
covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dropNA</code></td>
<td>
<p>Logical. If it is <code>TRUE</code>, the resultant dimensions
will be reduced by dropping the missing variables. If it is
<code>FALSE</code>, the resultant dimensions are the same as the input by
keeping the missing variables. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.matrix</code></td>
<td>
<p>Logical. If it is <code>TRUE</code> and <code>x</code> is a list of correlation/covariance
matrices with the same dimensions, the asymptotic covariance
matrices will be column vectorized and stacked together. If it is
<code>FALSE</code>, the output will be a list of asymptotic covariance
matrices. Note that if it is <code>TRUE</code>, <code>dropNA</code> will be
<code>FALSE</code> automatically. This option is useful when passing the
asymptotic covariance matrices to <code>meta</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acov</code></td>
<td>
<p>If it is <code>individual</code> (the default), the sampling variance-covariance
matrices are calculated based on the individual correlation/covariance
matrix. If it is either <code>unweighted</code> or <code>weighted</code>, the average
correlation/covariance matrix is calculated based on the unweighted
or weighted mean with the sample sizes. The average
correlation/covariance matrix is used to calculate the sampling
variance-covariance matrices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppressWarnings</code></td>
<td>
<p>Logical. If <code>TRUE</code>, warnings are
suppressed. It is passed to <code>mxRun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>Logical. An argument to be passed to <code>mxRun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run</code></td>
<td>
<p>Logical. If <code>FALSE</code>, only return the mx model without
running the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>It is ignored in <code>asyCov</code>. The additional arguments
will be passed to
<code>mxRun</code> in <code>asyCovOld</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An asymptotic covariance matrix of the vectorized
correlation/covariance matrix or a list of these matrices. If
<code>as.matrix</code>=<code>TRUE</code> and <code>x</code> is a list of matrices, the output
is a stacked matrix. </p>


<h3>Note</h3>

<p>Before 1.2.6, <code>asyCov</code> used an SEM approach based on Cheung
and Chan (2004). After 1.2.6, <code>asyCov</code> was rewritten based on
Olkin and Siotani (1976) for correlation matrix and Yuan and Bentler
(2007, p. 371) for covariance matrix. Arguments such as <code>dropNA</code>,
<code>suppressWarnings</code>, <code>silent</code>, and <code>run</code> were
dropped. The original version was renamed to <code>asyCovOld</code> for
compatibility.</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>References</h3>

<p>Cheung, M. W.-L., &amp; Chan, W. (2004). Testing dependent correlation
coefficients via structural equation modeling. <em>Organizational
Research Methods</em>, <b>7</b>, 206-223.
</p>
<p>Olkin, I., &amp; Siotani, M. (1976). Asymptotic distribution of functions of a correlation matrix. In S. Ideka (Ed.), <em>Essays in probability and statistics</em> (pp. 235-251). Shinko Tsusho.
</p>
<p>Yuan, K.-H., &amp; Bentler, P. M. (2007). Robust procedures in structural equation modeling. In S.-Y. Lee (Ed.), <em>Handbook of Latent Variable and Related Models</em> (pp. 367-397). Elsevier/North-Holland.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
C1 &lt;- matrix(c(1,0.5,0.4,0.5,1,0.2,0.4,0.2,1), ncol=3)  
asyCov(C1, n=100)

## Data with missing values
C2 &lt;- matrix(c(1,0.4,NA,0.4,1,NA,NA,NA,NA), ncol=3)  
C3 &lt;- matrix(c(1,0.2,0.2,1), ncol=2)

## Output is a stacked matrix of asymptotic covariance matrices
asyCov(list(C1,C2), n=c(100,50), as.matrix=TRUE)

## Output is a stacked matrix of asymptotic covariance matrices
asyCov(list(C3,C3), n=c(100,50), as.matrix=TRUE)

## Output is a list of asymptotic covariance matrices using the old version
asyCovOld(list(C1,C2,C3), n=c(100,50,50), dropNA=TRUE, as.matrix=FALSE)

</code></pre>


</div>