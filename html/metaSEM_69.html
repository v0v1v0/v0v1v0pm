<div class="container">

<table style="width: 100%;"><tr>
<td>lavaan2RAM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert <code>lavaan</code> models to RAM models
</h2>

<h3>Description</h3>

<p>It converts models specified in <code>lavaan</code> model syntax to RAM models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">lavaan2RAM(model, obs.variables = NULL, A.notation = "ON",
           S.notation = "WITH", M.notation = "mean",
           A.start=0.1, S.start=0.5, M.start=0,
           auto.var = TRUE, std.lv = TRUE, ngroups = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A character string of model using the lavaan model syntax.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.variables</code></td>
<td>
<p>A character vector of the observed variables. The
observed variables in the RAM specification will follow the order
specified in <code>obs.variables</code>. It is important to check whether the
order of the observed variables matches the order in the dataset. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A.notation</code></td>
<td>
<p>A character string to be used in the A matrix if the labels
are not included in the lavaan model. For example, the label will be "yONx" for
regressing "y" on "x".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S.notation</code></td>
<td>
<p>A character string to be used in the S matrix if the labels
are not included in the lavaan model. For example, the label will be "yWITHx" for
the covariance between "y" with "x" and "yWITHy" for the (error) variance
of "y". 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M.notation</code></td>
<td>
<p>A character string to be used in the M matrix if the labels
are not included in the lavaan model. For example, the label will be "ymean" for
the mean of "y" if <code>M.notation="mean"</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>A.start</code></td>
<td>
<p>A numeric value of starting value for the <code>Amatrix</code>
when the starting values are not provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S.start</code></td>
<td>
<p>A numeric value of starting value for the <code>Smatrix</code>
when the starting values are not provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M.start</code></td>
<td>
<p>A numeric value of starting value for the <code>Mmatrix</code>
when the starting values are not provided.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.var</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the residual variances and the
variances of exogenous latent variables are included in the model and
set free. See <code>model.syntax</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>std.lv</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the metric of each latent
variable is determined by fixing their variances to 1.0. If FALSE, the
metric of each latent variable is determined by fixing the factor
loading of the first indicator to 1.0. See <code>model.syntax</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngroups</code></td>
<td>
<p>Number. The number of groups in the <code>model</code>. See <code>model.syntax</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to <code>model.syntax</code></p>
</td>
</tr>
</table>
<p>. Please note that <code>fixed.x</code> is set at <code>FALSE</code>. Thus it cannot be passed to ....
</p>


<h3>Details</h3>

<p>It uses the <code>model.syntax</code> to do the
conversion. Experimental: functions of parameters (':=' in lavaan) and
constraints ('==', '&gt;', and '&lt;' in lavaan) will be converted to
mxAlgebra and mxConstraint in OpenMx. As there are differences between
lavaan and OpenMx, they may not work properly.
</p>


<h3>Value</h3>

<p>A list of RAM specification with <code>A</code>, <code>S</code>, <code>F</code>, and <code>M</code> matrices.
</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>See Also</h3>

<p><code>ramModel</code>,
<code>Becker92</code>, <code>Becker09</code>,
<code>Digman97</code>, <code>Hunter83</code>,
<code>as.mxMatrix</code>,
<code>checkRAM</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Regression model on correlation matrix
model1 &lt;- "## y is modelled by x1, x2, and x3
           y ~ b1*x1 + b2*x2 + b3*x3
           ## Fix the independent variables at 1
           x1 ~~ 1*x1
           x2 ~~ 1*x2
           x3 ~~ 1*x3
           ## Declare the correlations among the independent variables
           x1 ~~ x2
           x1 ~~ x3
           x2 ~~ x3
           ## Constraint
           b3 == b1 + b2
           ## Function of parameters
           fn1 := b1*b2^b3"

## Compare the arrangements of variables with and without
## specifying the obs.variables arguments. 
lavaan2RAM(model1, obs.variables=c("y", "x1", "x2", "x3"))

## Two-factor CFA model
model2 &lt;- "f1 =~ x1 + x2 + x3
           f2 =~ x4 + x5 + x6
           ## Declare the correlation between f1 and f2
           ## and label it with cor_f1f2
           f1 ~~ cor_f1f2*f2"

lavaan2RAM(model2)

## Regression model with the mean structure
model3 &lt;- "y ~ x
           ## Intercept of y
           y ~ 1
           ## Mean of x
           x ~ 1"

lavaan2RAM(model3)

## Multiple group regression model
## Different intercepts with a common slope
model4 &lt;- "y ~ c(a1, a2)*1 + c(b, b)*x"

lavaan2RAM(model4, ngroups=2)
</code></pre>


</div>