<div class="container">

<table style="width: 100%;"><tr>
<td>list2matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a List of Symmetric Matrices into a Stacked Matrix
</h2>

<h3>Description</h3>

<p>It converts a list of symmetric matrices into
a stacked matrix. Dimensions of the symmetric matrices have to be the
same. It tries to preserve the dimension names if possible. Dimension names will
be created if there are no dimension names in the first symmetric matrix. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">list2matrix(x, diag = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list of <code class="reqn">k</code> <code class="reqn">p</code> x <code class="reqn">p</code> symmetric matrices.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>Logical. If it is <code>TRUE</code>, <code>vech</code>
is used to vectorize the (covariance) matrices. If it is <code>FALSE</code>, <code>vechs</code>
is used to vectorize the (correlation) matrices.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code class="reqn">k</code> x <code class="reqn">p*</code> stacked matrix where <code class="reqn">p* = p(p-1)/2 </code> for <code>diag</code>=<code>FALSE</code> or <code class="reqn">p* = p(p+1)/2
  </code> for <code>diag</code>=<code>TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Mike W.-L. Cheung &lt;mikewlcheung@nus.edu.sg&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">C1 &lt;- matrix(c(1,0.5,0.4,0.5,1,0.2,0.4,0.2,1), ncol=3)  
C2 &lt;- matrix(c(1,0.4,NA,0.4,1,NA,NA,NA,NA), ncol=3)  

## A list without dimension names 
list2matrix(list(C1, C2))
#      x2_x1 x3_x1 x3_x2
# [1,]   0.5   0.4   0.2
# [2,]   0.4    NA    NA

dimnames(C1) &lt;- list( c("x","y","z"), c("x","y","z") )
dimnames(C2) &lt;- list( c("x","y","z"), c("x","y","z") )

## A list with dimension names
list2matrix(list(C1, C2))
#      y_x z_x z_y
# [1,] 0.5 0.4 0.2
# [2,] 0.4  NA  NA
</code></pre>


</div>