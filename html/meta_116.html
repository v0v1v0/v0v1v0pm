<div class="container">

<table style="width: 100%;"><tr>
<td>trimfill.meta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Trim-and-fill method to adjust for bias in meta-analysis</h2>

<h3>Description</h3>

<p>Trim-and-fill method for estimating and adjusting for the number
and outcomes of missing studies in a meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'meta'
trimfill(
  x,
  left = NULL,
  ma.common = TRUE,
  type = "L",
  n.iter.max = 50,
  common = FALSE,
  random = TRUE,
  prediction = x$prediction,
  backtransf = x$backtransf,
  pscale = x$pscale,
  irscale = x$irscale,
  irunit = x$irunit,
  silent = TRUE,
  warn.deprecated = gs("warn.deprecated"),
  ...
)

## Default S3 method:
trimfill(
  x,
  seTE,
  left = NULL,
  ma.common = TRUE,
  type = "L",
  n.iter.max = 50,
  sm = "",
  studlab = NULL,
  level = 0.95,
  level.ma = level,
  common = FALSE,
  random = TRUE,
  method.random.ci = gs("method.random.ci"),
  adhoc.hakn.ci = gs("adhoc.hakn.ci"),
  method.tau = gs("method.tau"),
  method.tau.ci = if (method.tau == "DL") "J" else "QP",
  prediction = FALSE,
  level.predict = level,
  method.predict = gs("method.predict"),
  adhoc.hakn.pi = gs("adhoc.hakn.pi"),
  seed.predict = NULL,
  backtransf = TRUE,
  pscale = 1,
  irscale = 1,
  irunit = "person-years",
  silent = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>meta</code>, or estimated treatment
effect in individual studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>left</code></td>
<td>
<p>A logical indicating whether studies are supposed to be
missing on the left or right side of the funnel plot. If NULL,
the linear regression test for funnel plot symmetry (i.e.,
function <code>metabias(..., method="Egger")</code>) is used to
determine whether studies are missing on the left or right side.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ma.common</code></td>
<td>
<p>A logical indicating whether a common effect or
random effects model is used to estimate the number of missing
studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character indicating which method is used to estimate
the number of missing studies. Either <code>"L"</code> or <code>"R"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.iter.max</code></td>
<td>
<p>Maximum number of iterations to estimate number
of missing studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common</code></td>
<td>
<p>A logical indicating whether a common effect
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>A logical indicating whether a random effects
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>A logical indicating whether a prediction
interval should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results should be
back transformed in printouts and plots. If
<code>backtransf=TRUE</code>, results for <code>sm="OR"</code> are printed as
odds ratios rather than log odds ratios and results for
<code>sm="ZCOR"</code> are printed as correlations rather than Fisher's
z transformed correlations, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pscale</code></td>
<td>
<p>A numeric giving scaling factor for printing of
single event probabilities or risk differences, i.e. if argument
<code>sm</code> is equal to <code>"PLOGIT"</code>, <code>"PLN"</code>,
<code>"PRAW"</code>, <code>"PAS"</code>, <code>"PFT"</code>, or <code>"RD"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irscale</code></td>
<td>
<p>A numeric defining a scaling factor for printing of
single incidence rates or incidence rate differences, i.e. if
argument <code>sm</code> is equal to <code>"IR"</code>, <code>"IRLN"</code>,
<code>"IRS"</code>, <code>"IRFT"</code>, or <code>"IRD"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irunit</code></td>
<td>
<p>A character specifying the time unit used to
calculate rates, e.g. person-years.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>A logical indicating whether basic information on
iterations shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.deprecated</code></td>
<td>
<p>A logical indicating whether warnings should
be printed if deprecated arguments are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments (to catch deprecated arguments).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE</code></td>
<td>
<p>Standard error of estimated treatment effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sm</code></td>
<td>
<p>An optional character string indicating underlying
summary measure, e.g., <code>"RD"</code>, <code>"RR"</code>, <code>"OR"</code>,
<code>"ASD"</code>, <code>"HR"</code>, <code>"MD"</code>, <code>"SMD"</code>, or
<code>"ROM"</code>; ignored if <code>x</code> is of class <code>meta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>An optional vector with study labels; ignored if
<code>x</code> is of class <code>meta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The level used to calculate confidence intervals for
individual studies. If existing, <code>x$level</code> is used as value
for <code>level</code>; otherwise 0.95 is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.ma</code></td>
<td>
<p>The level used to calculate confidence interval for
the pooled estimate. If existing, <code>x$level.ma</code> is used as
value for <code>level.ma</code>; otherwise 0.95 is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.random.ci</code></td>
<td>
<p>A character string indicating which method
is used to calculate confidence interval and test statistic for
random effects estimate (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.ci</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied in the case
of an arbitrarily small Hartung-Knapp variance estimate (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau</code></td>
<td>
<p>A character string indicating which method is
used to estimate the between-study variance <code class="reqn">\tau^2</code> and its
square root <code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau.ci</code></td>
<td>
<p>A character string indicating which method is
used to estimate the confidence interval of <code class="reqn">\tau^2</code> and
<code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.predict</code></td>
<td>
<p>The level used to calculate prediction
interval for a new study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.predict</code></td>
<td>
<p>A character string indicating which method is
used to calculate a prediction interval (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.pi</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied for the
prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.predict</code></td>
<td>
<p>A numeric value used as seed to calculate
bootstrap prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The trim-and-fill method (Duval, Tweedie 2000a, 2000b) can be used
for estimating and adjusting for the number and outcomes of missing
studies in a meta-analysis. The method relies on scrutiny of one
side of a funnel plot for asymmetry assumed due to publication
bias.
</p>
<p>Three different methods have been proposed originally to estimate
the number of missing studies. Two of these methods (L- and
R-estimator) have been shown to perform better in simulations, and
are available in this R function (argument <code>type</code>).
</p>
<p>A common effect or random effects model can be used to estimate the
number of missing studies (argument <code>ma.common</code>). Furthermore,
a common effect and/or random effects model can be used to
summaries study results (arguments <code>common</code> and
<code>random</code>). Simulation results (Peters et al. 2007) indicate
that the common-random model, i.e. using a common effect model to
estimate the number of missing studies and a random effects model
to summaries results, (i) performs better than the common-common
model, and (ii) performs no worse than and marginally better in
certain situations than the random-random model. Accordingly, the
common-random model is the default.
</p>
<p>An empirical comparison of the trim-and-fill method and the Copas
selection model (Schwarzer et al. 2010) indicates that the
trim-and-fill method leads to excessively conservative inference in
practice. The Copas selection model is available in R package
<b>metasens</b>.
</p>
<p>The function <code>metagen</code> is called internally.
</p>


<h3>Value</h3>

<p>An object of class <code>c("trimfill", "metagen", "meta")</code> with
corresponding generic functions (see <code>meta-object</code>).
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Duval S &amp; Tweedie R (2000a):
A nonparametric "Trim and Fill" method of accounting for
publication bias in meta-analysis.
<em>Journal of the American Statistical Association</em>,
<b>95</b>, 89–98
</p>
<p>Duval S &amp; Tweedie R (2000b):
Trim and Fill: A simple funnel-plot-based method of testing and
adjusting for publication bias in meta-analysis.
<em>Biometrics</em>,
<b>56</b>, 455–63
</p>
<p>Peters JL, Sutton AJ, Jones DR, Abrams KR, Rushton L (2007):
Performance of the trim and fill method in the presence of
publication bias and between-study heterogeneity.
<em>Statisics in Medicine</em>,
<b>10</b>, 4544–62
</p>
<p>Schwarzer G, Carpenter J, Rücker G (2010):
Empirical evaluation suggests Copas selection model preferable to
trim-and-fill method for selection bias in meta-analysis
<em>Journal of Clinical Epidemiology</em>,
<b>63</b>, 282–8
</p>


<h3>See Also</h3>

<p><code>metagen</code>, <code>metabias</code>,
<code>funnel</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Fleiss1993bin)
m1 &lt;- metabin(d.asp, n.asp, d.plac, n.plac, data = Fleiss1993bin, sm = "OR")
tf1 &lt;- trimfill(m1)
tf1
funnel(tf1)
funnel(tf1, pch = ifelse(tf1$trimfill, 1, 16), level = 0.9, random = FALSE)
#
# Use log odds ratios on x-axis
#
funnel(tf1, backtransf = FALSE)
funnel(tf1, pch = ifelse(tf1$trimfill, 1, 16), level = 0.9, random = FALSE,
  backtransf = FALSE)

trimfill(m1$TE, m1$seTE, sm = m1$sm)

</code></pre>


</div>