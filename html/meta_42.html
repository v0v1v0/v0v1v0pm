<div class="container">

<table style="width: 100%;"><tr>
<td>longarm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Transform data from pairwise comparisons to long arm-based format</h2>

<h3>Description</h3>

<p>This function transforms data from pairwise comparisons to a long
arm-based format, i.e., two rows for a pairwise comparison.
</p>


<h3>Usage</h3>

<pre><code class="language-R">longarm(
  treat1,
  treat2,
  event1,
  n1,
  event2,
  n2,
  mean1,
  sd1,
  mean2,
  sd2,
  time1,
  time2,
  data = NULL,
  studlab,
  id1 = NULL,
  id2 = NULL,
  append = TRUE,
  keep.duplicated = FALSE,
  keep.internal = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>treat1</code></td>
<td>
<p>Either label for first treatment or a meta-analysis
or pairwise object (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat2</code></td>
<td>
<p>Label for second treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event1</code></td>
<td>
<p>Number of events (first treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>Number of observations (first treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event2</code></td>
<td>
<p>Number of events (second treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>Number of observations (second treatment)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean1</code></td>
<td>
<p>Estimated mean (first treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd1</code></td>
<td>
<p>Standard deviation (first treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean2</code></td>
<td>
<p>Estimated mean (second treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd2</code></td>
<td>
<p>Standard deviation (second treatment).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time1</code></td>
<td>
<p>Person time at risk (first treatment)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time2</code></td>
<td>
<p>Person time at risk (second treatment)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing the study
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>A vector with study labels (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id1</code></td>
<td>
<p>Last character(s) of variable names for additional
variables with group specific information for first treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id2</code></td>
<td>
<p>Last character(s) of variable names for additional
variables with group specific information for second treatment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>A logical indicating if data frame provided in
argument 'data' should be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.duplicated</code></td>
<td>
<p>A logical indicating if duplicated rows
should be returned (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.internal</code></td>
<td>
<p>A logical indicating if variables generated
internally should be returned (typically only relevant for data
checking).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function transforms data given as one pairwise comparison per
row to a long arm-based format with one row per treatment arm. The
long arm-based format is, for example, the required input format
for WinBUGS.
</p>
<p>The function can be used to transform data with a binary,
continuous or count outcome. The corresponding meta-analysis
functions are <code>metabin</code>, <code>metacont</code> and
<code>metainc</code>. Accordingly, a meta-analysis object created
with one of these functions can be provided as argument
<code>treat1</code>. It is also possible to use the longarm function with
an R objected created with <code>pairwise</code> from R
package <b>netmeta</b>.
</p>
<p>Otherwise, arguments <code>treat1</code> and <code>treat2</code> are mandatory
to identify the individual treatments and, depending on the
outcome, the following additional arguments are mandatory:
</p>

<ul>
<li>
<p> event1, n1, event2, n2 (binary outcome);
</p>
</li>
<li>
<p> n1, mean1, sd1, n2, mean2, sd2 (continuous outcome);
</p>
</li>
<li>
<p> time1, n1, time2, n2 (count outcome).
</p>
</li>
</ul>
<p>Argument <code>studlab</code> must be provided if several pairwise
comparisons come from a single study with more than two treatments.
</p>
<p>The following variables will be returned:
</p>

<table>
<tr>
<td style="text-align: right;">
<b><em>studlab</em></b>
</td>
<td style="text-align: left;"> study label </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>treat</em></b>
</td>
<td style="text-align: left;"> treatment label </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>n</em></b>
</td>
<td style="text-align: left;"> group sample size (count outcome only if provided) </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>events</em></b>
</td>
<td style="text-align: left;"> number of events (binary or count outcome) </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>nonevents</em></b>
</td>
<td style="text-align: left;"> number of non-events (binary outcome) </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>mean</em></b>
</td>
<td style="text-align: left;"> estimated mean (continuous outcome) </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>sd</em></b>
</td>
<td style="text-align: left;"> standard deviation (continuous outcome) </td>
</tr>
<tr>
<td style="text-align: right;">
<b><em>time</em></b>
</td>
<td style="text-align: left;"> person time at risk (count outcome) </td>
</tr>
<tr>
<td style="text-align: right;">
</td>
</tr>
</table>
<p>In addition, the data set provided in argument <code>data</code> will be
returned if argument <code>append = TRUE</code> (default).
</p>
<p>Argument <code>keep.duplicated</code> can be used to keep duplicated rows
from the data set. Duplicated rows can occur, for example, in a
three-arm study comparing treatments A and B with placebo. In this
situation, the placebo arm will be returned twice in the data set
in long arm-based format if <code>keep.duplicated = TRUE</code>. By
default, duplicated rows with not be kept in the data set.
</p>


<h3>Value</h3>

<p>A data frame in long arm-based format.
</p>


<h3>Note</h3>

<p>R function <code>to.long</code> from R package
<b>metafor</b> is called internally.
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>See Also</h3>

<p><code>metabin</code>, <code>metacont</code>,
<code>metainc</code>, <code>pairwise</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Artificial example with three studies
m &lt;- metabin(1:3, 100:102, 4:6, 200:202, studlab = LETTERS[1:3])
# Transform data to long arm-based format
longarm(m)
# Keep internal variables
longarm(m, keep.internal = TRUE)

</code></pre>


</div>