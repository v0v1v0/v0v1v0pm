<div class="container">

<table style="width: 100%;"><tr>
<td>metagen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generic inverse variance meta-analysis</h2>

<h3>Description</h3>

<p>Common effect and random effects meta-analysis based on estimates
(e.g. log hazard ratios) and their standard errors. The inverse
variance method is used for pooling.
</p>
<p>Three-level random effects meta-analysis (Van den Noortgate et al.,
2013) is available by internally calling
<code>rma.mv</code> function from R package
<b>metafor</b> (Viechtbauer, 2010).
</p>


<h3>Usage</h3>

<pre><code class="language-R">metagen(
  TE,
  seTE,
  studlab,
  data = NULL,
  subset = NULL,
  exclude = NULL,
  cluster = NULL,
  rho = 0,
  sm = "",
  method.ci = if (missing(df)) "z" else "t",
  level = gs("level"),
  common = gs("common"),
  random = gs("random") | !is.null(tau.preset),
  overall = common | random,
  overall.hetstat = if (is.null(gs("overall.hetstat"))) common | random else
    gs("overall.hetstat"),
  prediction = gs("prediction") | !missing(method.predict),
  method.tau = gs("method.tau"),
  method.tau.ci = gs("method.tau.ci"),
  tau.preset = NULL,
  TE.tau = NULL,
  tau.common = gs("tau.common"),
  detail.tau = "",
  level.ma = gs("level.ma"),
  method.random.ci = gs("method.random.ci"),
  adhoc.hakn.ci = gs("adhoc.hakn.ci"),
  level.predict = gs("level.predict"),
  method.predict = gs("method.predict"),
  adhoc.hakn.pi = gs("adhoc.hakn.pi"),
  seed.predict = NULL,
  null.effect = 0,
  method.bias = gs("method.bias"),
  n.e = NULL,
  n.c = NULL,
  pval,
  df,
  lower,
  upper,
  level.ci = 0.95,
  median,
  q1,
  q3,
  min,
  max,
  method.mean = "Luo",
  method.sd = "Shi",
  approx.TE,
  approx.seTE,
  transf = gs("transf") &amp; missing(func.transf),
  backtransf = gs("backtransf") | !missing(func.backtransf),
  func.transf,
  func.backtransf,
  args.transf,
  args.backtransf,
  pscale = 1,
  irscale = 1,
  irunit = "person-years",
  text.common = gs("text.common"),
  text.random = gs("text.random"),
  text.predict = gs("text.predict"),
  text.w.common = gs("text.w.common"),
  text.w.random = gs("text.w.random"),
  title = gs("title"),
  complab = gs("complab"),
  outclab = "",
  label.e = gs("label.e"),
  label.c = gs("label.c"),
  label.left = gs("label.left"),
  label.right = gs("label.right"),
  subgroup,
  subgroup.name = NULL,
  print.subgroup.name = gs("print.subgroup.name"),
  sep.subgroup = gs("sep.subgroup"),
  test.subgroup = gs("test.subgroup"),
  prediction.subgroup = gs("prediction.subgroup"),
  seed.predict.subgroup = NULL,
  byvar,
  id,
  adhoc.hakn,
  keepdata = gs("keepdata"),
  warn = gs("warn"),
  warn.deprecated = gs("warn.deprecated"),
  control = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>TE</code></td>
<td>
<p>Estimate of treatment effect, e.g., log hazard ratio or
risk difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE</code></td>
<td>
<p>Standard error of treatment estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>An optional vector with study labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing the study
information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>An optional vector specifying a subset of studies to
be used (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>An optional vector specifying studies to exclude
from meta-analysis, however, to include in printouts and forest
plots (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>An optional vector specifying which estimates come
from the same cluster resulting in the use of a three-level
meta-analysis model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>Assumed correlation of estimates within a cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sm</code></td>
<td>
<p>A character string indicating underlying summary measure,
e.g., <code>"RD"</code>, <code>"RR"</code>, <code>"OR"</code>, <code>"ASD"</code>,
<code>"HR"</code>, <code>"MD"</code>, <code>"SMD"</code>, or <code>"ROM"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.ci</code></td>
<td>
<p>A character string indicating which method is used
to calculate confidence intervals for individual studies, see
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The level used to calculate confidence intervals for
individual studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common</code></td>
<td>
<p>A logical indicating whether a common effect
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>A logical indicating whether a random effects
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall</code></td>
<td>
<p>A logical indicating whether overall summaries
should be reported. This argument is useful in a meta-analysis
with subgroups if overall results should not be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall.hetstat</code></td>
<td>
<p>A logical value indicating whether to print
heterogeneity measures for overall treatment comparisons. This
argument is useful in a meta-analysis with subgroups if
heterogeneity statistics should only be printed on subgroup
level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>A logical indicating whether a prediction
interval should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau</code></td>
<td>
<p>A character string indicating which method is
used to estimate the between-study variance <code class="reqn">\tau^2</code> and its
square root <code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau.ci</code></td>
<td>
<p>A character string indicating which method is
used to estimate the confidence interval of <code class="reqn">\tau^2</code> and
<code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.preset</code></td>
<td>
<p>Prespecified value for the square root of the
between-study variance <code class="reqn">\tau^2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.tau</code></td>
<td>
<p>Overall treatment effect used to estimate the
between-study variance tau-squared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.common</code></td>
<td>
<p>A logical indicating whether tau-squared should
be the same across subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detail.tau</code></td>
<td>
<p>Detail on between-study variance estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.ma</code></td>
<td>
<p>The level used to calculate confidence intervals
for meta-analysis estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.random.ci</code></td>
<td>
<p>A character string indicating which method
is used to calculate confidence interval and test statistic for
random effects estimate (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.ci</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied in the case
of an arbitrarily small Hartung-Knapp variance estimate (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.predict</code></td>
<td>
<p>The level used to calculate prediction
interval for a new study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.predict</code></td>
<td>
<p>A character string indicating which method is
used to calculate a prediction interval (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.pi</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied for
prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.predict</code></td>
<td>
<p>A numeric value used as seed to calculate
bootstrap prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.effect</code></td>
<td>
<p>A numeric value specifying the effect under the
null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.bias</code></td>
<td>
<p>A character string indicating which test is to
be used. Either <code>"Begg"</code>, <code>"Egger"</code>, or
<code>"Thompson"</code>, can be abbreviated. See function
<code>metabias</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.e</code></td>
<td>
<p>Number of observations in experimental group (or total
sample size in study).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.c</code></td>
<td>
<p>Number of observations in control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval</code></td>
<td>
<p>P-value (used to estimate the standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Degrees of freedom (used in test or to construct
confidence interval).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>Lower limit of confidence interval (used to estimate
the standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>Upper limit of confidence interval (used to estimate
the standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.ci</code></td>
<td>
<p>Level of confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median</code></td>
<td>
<p>Median (used to estimate the treatment effect and
standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q1</code></td>
<td>
<p>First quartile (used to estimate the treatment effect and
standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q3</code></td>
<td>
<p>Third quartile (used to estimate the treatment effect and
standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>Minimum (used to estimate the treatment effect and
standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Maximum (used to estimate the treatment effect and
standard error).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.mean</code></td>
<td>
<p>A character string indicating which method to
use to approximate the mean from the median and other statistics
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.sd</code></td>
<td>
<p>A character string indicating which method to use
to approximate the standard deviation from sample size, median,
interquartile range and range (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approx.TE</code></td>
<td>
<p>Approximation method to estimate treatment
estimate (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approx.seTE</code></td>
<td>
<p>Approximation method to estimate standard error
(see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transf</code></td>
<td>
<p>A logical indicating whether inputs for arguments
<code>TE</code>, <code>lower</code> and <code>upper</code> are already
appropriately transformed to conduct the meta-analysis or on the
original scale. If <code>transf = TRUE</code> (default), inputs are
expected to be log odds ratios instead of odds ratios for
<code>sm = "OR"</code> and Fisher's z transformed correlations instead
of correlations for <code>sm = "ZCOR"</code>, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results should be
back transformed in printouts and plots. If <code>backtransf =
TRUE</code> (default), results for <code>sm = "OR"</code> are printed as odds
ratios rather than log odds ratios and results for <code>sm =
"ZCOR"</code> are printed as correlations rather than Fisher's z
transformed correlations, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func.transf</code></td>
<td>
<p>A function used to transform inputs for
arguments <code>TE</code>, <code>lower</code> and <code>upper</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func.backtransf</code></td>
<td>
<p>A function used to back-transform results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args.transf</code></td>
<td>
<p>An optional list to provide additional arguments
to <code>func.transf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args.backtransf</code></td>
<td>
<p>An optional list to provide additional
arguments to <code>func.backtransf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pscale</code></td>
<td>
<p>A numeric giving scaling factor for printing of
single event probabilities or risk differences, i.e. if argument
<code>sm</code> is equal to <code>"PLOGIT"</code>, <code>"PLN"</code>,
<code>"PRAW"</code>, <code>"PAS"</code>, <code>"PFT"</code>, or <code>"RD"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irscale</code></td>
<td>
<p>A numeric defining a scaling factor for printing of
single incidence rates or incidence rate differences, i.e. if
argument <code>sm</code> is equal to <code>"IR"</code>, <code>"IRLN"</code>,
<code>"IRS"</code>, <code>"IRFT"</code>, or <code>"IRD"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irunit</code></td>
<td>
<p>A character specifying the time unit used to
calculate rates, e.g. person-years.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.common</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the pooled common effect estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.random</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the pooled random effects estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.predict</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the prediction interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.common</code></td>
<td>
<p>A character string used to label weights of
common effect model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.random</code></td>
<td>
<p>A character string used to label weights of
random effects model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Title of meta-analysis / systematic review.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complab</code></td>
<td>
<p>Comparison label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outclab</code></td>
<td>
<p>Outcome label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.e</code></td>
<td>
<p>Label for experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.c</code></td>
<td>
<p>Label for control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.left</code></td>
<td>
<p>Graph label on left side of forest plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.right</code></td>
<td>
<p>Graph label on right side of forest plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subgroup</code></td>
<td>
<p>An optional vector to conduct a meta-analysis with
subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subgroup.name</code></td>
<td>
<p>A character string with a name for the
subgroup variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.subgroup.name</code></td>
<td>
<p>A logical indicating whether the name of
the subgroup variable should be printed in front of the group
labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep.subgroup</code></td>
<td>
<p>A character string defining the separator
between name of subgroup variable and subgroup label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.subgroup</code></td>
<td>
<p>A logical value indicating whether to print
results of test for subgroup differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction.subgroup</code></td>
<td>
<p>A logical indicating whether prediction
intervals should be printed for subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.predict.subgroup</code></td>
<td>
<p>A numeric vector providing seeds to
calculate bootstrap prediction intervals within subgroups. Must
be of same length as the number of subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byvar</code></td>
<td>
<p>Deprecated argument (replaced by 'subgroup').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Deprecated argument (replaced by 'cluster').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn</code></td>
<td>
<p>Deprecated argument (replaced by
'adhoc.hakn.ci').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepdata</code></td>
<td>
<p>A logical indicating whether original data (set)
should be kept in meta object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A logical indicating whether warnings should be printed
(e.g., if studies are excluded from meta-analysis due to zero
standard errors).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.deprecated</code></td>
<td>
<p>A logical indicating whether warnings should
be printed if deprecated arguments are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>An optional list to control the iterative process to
estimate the between-study variance <code class="reqn">\tau^2</code>. This argument
is passed on to <code>rma.uni</code> or
<code>rma.mv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments (to catch deprecated arguments).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function provides the <em>generic inverse variance method</em>
for meta-analysis which requires treatment estimates and their
standard errors (Borenstein et al., 2010). The method is useful,
e.g., for pooling of survival data (using log hazard ratio and
standard errors as input). Arguments <code>TE</code> and <code>seTE</code> can
be used to provide treatment estimates and standard errors
directly. However, it is possible to derive these quantities from
other information.
</p>
<p>A three-level random effects meta-analysis model (Van den Noortgate
et al., 2013) is utilized if argument <code>cluster</code> is used and at
least one cluster provides more than one estimate. Internally,
<code>rma.mv</code> is called to conduct the analysis and
<code>weights.rma.mv</code> with argument <code>type =
"rowsum"</code> is used to calculate random effects weights.
</p>
<p>Default settings are utilised for several arguments (assignments
using <code>gs</code> function). These defaults can be changed for
the current R session using the <code>settings.meta</code>
function.
</p>
<p>Furthermore, R function <code>update.meta</code> can be used to
rerun a meta-analysis with different settings.
</p>


<h4>Approximate treatment estimates</h4>

<p>Missing treatment estimates can be derived from
</p>

<ol>
<li>
<p> confidence limits provided by arguments <code>lower</code> and
<code>upper</code>;
</p>
</li>
<li>
<p> median, interquartile range and range (arguments
<code>median</code>, <code>q1</code>, <code>q3</code>, <code>min</code>, and <code>max</code>);
</p>
</li>
<li>
<p> median and interquartile range (arguments <code>median</code>,
<code>q1</code> and <code>q3</code>);
</p>
</li>
<li>
<p> median and range (arguments <code>median</code>, <code>min</code> and
<code>max</code>).
</p>
</li>
</ol>
<p>For confidence limits, the treatment estimate is defined as the
center of the confidence interval (on the log scale for relative
effect measures like the odds ratio or hazard ratio).
</p>
<p>If the treatment effect is a mean it can be approximated from
sample size, median, interquartile range and range.
</p>
<p>By default, methods described in Luo et al. (2018) are utilized
(argument <code>method.mean = "Luo"</code>):
</p>

<ul>
<li>
<p> equation (7) if sample size, median and range are available,
</p>
</li>
<li>
<p> equation (11) if sample size, median and interquartile range
are available,
</p>
</li>
<li>
<p> equation (15) if sample size, median, range and interquartile
range are available.
</p>
</li>
</ul>
<p>Instead the methods described in Wan et al. (2014) are used if
argument <code>method.mean = "Wan"</code>:
</p>

<ul>
<li>
<p> equation (2) if sample size, median and range are available,
</p>
</li>
<li>
<p> equation (14) if sample size, median and interquartile range
are available,
</p>
</li>
<li>
<p> equation (10) if sample size, median, range and interquartile
range are available.
</p>
</li>
</ul>
<p>The following methods are also available to estimate means from
quantiles or ranges if R package <b>estmeansd</b> is installed:
</p>

<ul>
<li>
<p> Method for Unknown Non-Normal Distributions (MLN) approach
(Cai et al. (2021), argument <code>method.mean = "Cai"</code>),
</p>
</li>
<li>
<p> Quantile Estimation (QE) method (McGrath et al. (2020),
argument <code>method.mean = "QE-McGrath"</code>)),
</p>
</li>
<li>
<p> Box-Cox (BC) method (McGrath et al. (2020),
argument <code>method.mean = "BC-McGrath"</code>)).
</p>
</li>
</ul>
<p>By default, missing treatment estimates are replaced successively
using these method, i.e., confidence limits are utilised before
interquartile ranges. Argument <code>approx.TE</code> can be used to
overwrite this default for each individual study:
</p>

<ul>
<li>
<p> Use treatment estimate directly (entry <code>""</code> in argument
<code>approx.TE</code>);
</p>
</li>
<li>
<p> confidence limits (<code>"ci"</code> in argument <code>approx.TE</code>);
</p>
</li>
<li>
<p> median, interquartile range and range (<code>"iqr.range"</code>);
</p>
</li>
<li>
<p> median and interquartile range (<code>"iqr"</code>);
</p>
</li>
<li>
<p> median and range (<code>"range"</code>).
</p>
</li>
</ul>
<h4>Approximate standard errors</h4>

<p>Missing standard errors can be derived from
</p>

<ol>
<li>
<p> p-value provided by arguments <code>pval</code> and (optional)
<code>df</code>;
</p>
</li>
<li>
<p> confidence limits (arguments <code>lower</code>, <code>upper</code>, and
(optional) <code>df</code>);
</p>
</li>
<li>
<p> sample size, median, interquartile range and range (arguments
<code>n.e</code> and / or <code>n.c</code>, <code>median</code>, <code>q1</code>,
<code>q3</code>, <code>min</code>, and <code>max</code>);
</p>
</li>
<li>
<p> sample size, median and interquartile range (arguments
<code>n.e</code> and / or <code>n.c</code>, <code>median</code>, <code>q1</code> and
<code>q3</code>);
</p>
</li>
<li>
<p> sample size, median and range (arguments <code>n.e</code> and / or
<code>n.c</code>, <code>median</code>, <code>min</code> and <code>max</code>).
</p>
</li>
</ol>
<p>For p-values and confidence limits, calculations are either based
on the standard normal or <em>t</em>-distribution if argument
<code>df</code> is provided. Furthermore, argument <code>level.ci</code> can be
used to provide the level of the confidence interval.
</p>
<p>Wan et al. (2014) describe methods to estimate the standard
deviation (and thus the standard error by deviding the standard
deviation with the square root of the sample size) from the sample
size, median and additional statistics. Shi et al. (2020) provide
an improved estimate of the standard deviation if the interquartile
range and range are available in addition to the sample size and
median. Accordingly, equation (11) in Shi et al. (2020) is the
default (argument <code>method.sd = "Shi"</code>), if the median,
interquartile range and range are provided (arguments
<code>median</code>, <code>q1</code>, <code>q3</code>, <code>min</code> and
<code>max</code>). The method by Wan et al. (2014) is used if argument
<code>method.sd = "Wan"</code> and, depending on the sample size, either
equation (12) or (13) is used. If only the interquartile range or
range is available, equations (15) / (16) and (7) / (9) in Wan et
al. (2014) are used, respectively. The sample size of individual
studies must be provided with arguments <code>n.e</code> and / or
<code>n.c</code>. The total sample size is calculated as <code>n.e</code> +
<code>n.c</code> if both arguments are provided.
</p>
<p>The following methods are also available to estimate standard
deviations from quantiles or ranges if R package <b>estmeansd</b>
is installed:
</p>

<ul>
<li>
<p> Method for Unknown Non-Normal Distributions (MLN) approach
(Cai et al. (2021), argument <code>method.mean = "Cai"</code>),
</p>
</li>
<li>
<p> Quantile Estimation (QE) method (McGrath et al. (2020),
argument <code>method.mean = "QE-McGrath"</code>)),
</p>
</li>
<li>
<p> Box-Cox (BC) method (McGrath et al. (2020),
argument <code>method.mean = "BC-McGrath"</code>)).
</p>
</li>
</ul>
<p>By default, missing standard errors are replaced successively using
these method, e.g., p-value before confidence limits before
interquartile range and range. Argument <code>approx.seTE</code> can be
used to overwrite this default for each individual study:
</p>

<ul>
<li>
<p> Use standard error directly (entry <code>""</code> in argument
<code>approx.seTE</code>);
</p>
</li>
<li>
<p> p-value (<code>"pval"</code> in argument <code>approx.seTE</code>);
</p>
</li>
<li>
<p> confidence limits (<code>"ci"</code>);
</p>
</li>
<li>
<p> median, interquartile range and range (<code>"iqr.range"</code>);
</p>
</li>
<li>
<p> median and interquartile range (<code>"iqr"</code>);
</p>
</li>
<li>
<p> median and range (<code>"range"</code>).
</p>
</li>
</ul>
<h4>Confidence intervals for individual studies</h4>

<p>For the mean difference (argument <code>sm = "MD"</code>), the confidence
interval for individual studies can be based on the
</p>

<ul>
<li>
<p> standard normal distribution (<code>method.ci = "z"</code>), or
</p>
</li>
<li> <p><em>t</em>-distribution (<code>method.ci = "t"</code>).
</p>
</li>
</ul>
<p>By default, the first method is used if argument <code>df</code> is
missing and the second method otherwise.
</p>
<p>Note, this choice does not affect the results of the common effect
and random effects meta-analysis.
</p>



<h4>Subgroup analysis</h4>

<p>Argument <code>subgroup</code> can be used to conduct subgroup analysis for
a categorical covariate. The <code>metareg</code> function can be
used instead for more than one categorical covariate or continuous
covariates.
</p>



<h4>Specify the null hypothesis of test for an overall effect</h4>

<p>Argument <code>null.effect</code> can be used to specify the (treatment)
effect under the null hypothesis in a test for an overall
effect.
</p>
<p>By default (<code>null.effect = 0</code>), the null hypothesis
corresponds to "no difference" (which is obvious for absolute
effect measures like the mean difference (<code>sm = "MD"</code>) or
standardised mean difference (<code>sm = "SMD"</code>)). For relative
effect measures, e.g., risk ratio (<code>sm = "RR"</code>) or odds ratio
(<code>sm = "OR"</code>), the null effect is defined on the log scale,
i.e., <em>log</em>(RR) = 0 or <em>log</em>(OR) = 0 which is equivalent
to testing RR = 1 or OR = 1.
</p>
<p>Use of argument <code>null.effect</code> is especially useful for summary
measures without a "natural" null effect, i.e., in situations
without a second (treatment) group. For example, an overall
proportion of 50% could be tested in the meta-analysis of single
proportions with argument <code>null.effect = 0.5</code>.
</p>
<p>Note, all tests for an overall effect are two-sided with the
alternative hypothesis that the effect is unequal to
<code>null.effect</code>.
</p>



<h4>Exclusion of studies from meta-analysis</h4>

<p>Arguments <code>subset</code> and <code>exclude</code> can be used to exclude
studies from the meta-analysis. Studies are removed completely from
the meta-analysis using argument <code>subset</code>, while excluded
studies are shown in printouts and forest plots using argument
<code>exclude</code> (see Examples).
Meta-analysis results are the same for both arguments.
</p>



<h4>Presentation of meta-analysis results</h4>

<p>Internally, both common effect and random effects models are
calculated regardless of values choosen for arguments <code>common</code>
and <code>random</code>. Accordingly, the estimate for the random effects
model can be extracted from component <code>TE.random</code> of an object
of class <code>"meta"</code> even if argument <code>random =
FALSE</code>. However, all functions in R package <b>meta</b> will
adequately consider the values for <code>common</code> and
<code>random</code>. For example, functions <code>print.meta</code> and
<code>forest.meta</code> will not show results for the random
effects model if <code>random = FALSE</code>.
</p>
<p>A prediction interval will only be shown if <code>prediction =
TRUE</code>.
</p>
<p>Argument <code>pscale</code> can be used to rescale single proportions or
risk differences, e.g. <code>pscale = 1000</code> means that proportions
are expressed as events per 1000 observations. This is useful in
situations with (very) low event probabilities.
</p>
<p>Argument <code>irscale</code> can be used to rescale single rates or rate
differences, e.g. <code>irscale = 1000</code> means that rates are
expressed as events per 1000 time units, e.g. person-years. This is
useful in situations with (very) low rates. Argument <code>irunit</code>
can be used to specify the time unit used in individual studies
(default: "person-years"). This information is printed in summaries
and forest plots if argument <code>irscale</code> is not equal to 1.
</p>
<p>Default settings for <code>common</code>, <code>random</code>,
<code>pscale</code>, <code>irscale</code>, <code>irunit</code> and several other
arguments can be set for the whole R session using
<code>settings.meta</code>.
</p>



<h3>Value</h3>

<p>An object of class <code>c("metagen", "meta")</code> with corresponding
generic functions (see <code>meta-object</code>).
</p>


<h3>Note</h3>

<p>R function <code>rma.uni</code> from R package
<span class="pkg">metafor</span> (Viechtbauer 2010) is called internally to estimate
the between-study variance <code class="reqn">\tau^2</code>.
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Borenstein M, Hedges LV, Higgins JP, Rothstein HR (2010):
A basic introduction to fixed-effect and random-effects models for
meta-analysis.
<em>Research Synthesis Methods</em>,
<b>1</b>, 97–111
</p>
<p>Cai S, Zhou J, Pan J (2021):
Estimating the sample mean and standard deviation from order
statistics and sample size in meta-analysis.
<em>Statistical Methods in Medical Research</em>,
<b>30</b>, 2701–2719
</p>
<p>Luo D, Wan X, Liu J, Tong T (2018):
Optimally estimating the sample mean from the sample size, median,
mid-range, and/or mid-quartile range.
<em>Statistical Methods in Medical Research</em>,
<b>27</b>, 1785–805
</p>
<p>McGrath S, Zhao X, Steele R, et al. and the DEPRESsion Screening
Data (DEPRESSD) Collaboration (2020):
Estimating the sample mean and standard deviation from commonly
reported quantiles in meta-analysis.
<em>Statistical Methods in Medical Research</em>,
<b>29</b>, 2520–2537
</p>
<p>Shi J, Luo D, Weng H, Zeng X-T, Lin L, Chu H, et al. (2020):
Optimally estimating the sample standard deviation from the
five-number summary.
<em>Research Synthesis Methods</em>.
</p>
<p>Viechtbauer W (2010):
Conducting Meta-Analyses in R with the metafor Package.
<em>Journal of Statistical Software</em>,
<b>36</b>, 1–48
</p>
<p>Van den Noortgate W, López-López JA, Marín-Martínez F, Sánchez-Meca J (2013):
Three-level meta-analysis of dependent effect sizes.
<em>Behavior Research Methods</em>,
<b>45</b>, 576–94
</p>
<p>Wan X, Wang W, Liu J, Tong T (2014):
Estimating the sample mean and standard deviation from the sample
size, median, range and/or interquartile range.
<em>BMC Medical Research Methodology</em>,
<b>14</b>, 135
</p>


<h3>See Also</h3>

<p><code>meta-package</code>, <code>update.meta</code>,
<code>metabin</code>, <code>metacont</code>,
<code>print.meta</code>, <code>settings.meta</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Fleiss1993bin)
m1 &lt;- metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I")
m1

# Identical results using the generic inverse variance method with
# log risk ratio and its standard error:
# Note, argument 'n.e' in metagen() is used to provide the total
# sample size which is calculated from the group sample sizes n.e
# and n.c in meta-analysis m1.
m1.gen &lt;- metagen(TE, seTE, studlab, n.e = n.e + n.c, data = m1, sm = "RR")
m1.gen
forest(m1.gen, leftcols = c("studlab", "n.e", "TE", "seTE"))

# Meta-analysis with prespecified between-study variance
#
metagen(m1$TE, m1$seTE, sm = "RR", tau.preset = sqrt(0.1))

# Meta-analysis of survival data:
#
logHR &lt;- log(c(0.95, 1.5))
selogHR &lt;- c(0.25, 0.35)
metagen(logHR, selogHR, sm = "HR")

# Paule-Mandel method to estimate between-study variance for data
# from Paule &amp; Mandel (1982)
#
average &lt;- c(27.044, 26.022, 26.340, 26.787, 26.796)
variance &lt;- c(0.003, 0.076, 0.464, 0.003, 0.014)
#
metagen(average, sqrt(variance), sm = "MD", method.tau = "PM")

# Conduct meta-analysis using hazard ratios and 95% confidence intervals
#
# Data from Steurer et al. (2006), Analysis 1.1 Overall survival
# https://www.cochranelibrary.com/cdsr/doi/10.1002/14651858.CD004270.pub2/abstract
#
study &lt;- c("FCG on CLL 1996", "Leporrier 2001", "Rai 2000", "Robak 2000")
HR &lt;- c(0.55, 0.92, 0.79, 1.18)
lower.HR &lt;- c(0.28, 0.79, 0.59, 0.64)
upper.HR &lt;- c(1.09, 1.08, 1.05, 2.17)
#
# Hazard ratios and confidence intervals as input
#
summary(metagen(HR, lower = lower.HR, upper = upper.HR,
  studlab = study, sm = "HR", transf = FALSE))
#
# Same result with log hazard ratios as input
#
summary(metagen(log(HR), lower = log(lower.HR), upper = log(upper.HR),
  studlab = study, sm = "HR"))
#
# Again, same result using an unknown summary measure and
# arguments 'func.transf' and 'func.backtransf'
#
summary(metagen(HR, lower = lower.HR, upper = upper.HR,
  studlab = study, sm = "Hazard ratio",
  func.transf = log, func.backtransf = exp))
#
# Finally, same result only providing argument 'func.transf' as the
# back-transformation for the logarithm is known
#
summary(metagen(HR, lower = lower.HR, upper = upper.HR,
  studlab = study, sm = "Hazard ratio",
  func.transf = log))

# Exclude MRC-1 and MRC-2 studies from meta-analysis, however,
# show them in printouts and forest plots
#
metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I",
  exclude = study %in% c("MRC-1", "MRC-2"))
#
# Exclude MRC-1 and MRC-2 studies completely from meta-analysis
#
metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I",
  subset = !(study %in% c("MRC-1", "MRC-2")))

# Exclude studies with total sample size above 1500
#
metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I",
  exclude = (n.asp + n.plac) &gt; 1500)

# Exclude studies containing "MRC" in study name
#
metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I",
  exclude = grep("MRC", study))

# Use both arguments 'subset' and 'exclude'
#
metabin(d.asp, n.asp, d.plac, n.plac, study,
  data = Fleiss1993bin, sm = "RR", method = "I",
  subset = (n.asp + n.plac) &gt; 1500,
  exclude = grep("MRC", study))

## Not run: 
# Three-level model: effects of modified school calendars on
# student achievement
data(dat.konstantopoulos2011, package = "metadat")
metagen(yi, sqrt(vi), studlab = study, data = dat.konstantopoulos2011,
  sm = "SMD",
  cluster = district, detail.tau = c("district", "district/school"))

## End(Not run)

</code></pre>


</div>