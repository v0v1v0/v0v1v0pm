<div class="container">

<table style="width: 100%;"><tr>
<td>metamerge</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Merge results of two meta-analyses on the same data set</h2>

<h3>Description</h3>

<p>This function can be used to merge results of two meta-analyses
into a single meta-analysis object if they are based on the same
data set. This is, for example, useful to produce a forest plot of
a random-effects meta-analysis with different estimates of the
between-study variance <code class="reqn">\tau^2</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">metamerge(
  meta1,
  meta2,
  common1 = meta1$common,
  random1 = meta1$random,
  prediction1 = meta1$prediction,
  common2 = meta2$common,
  random2 = meta2$random,
  prediction2 = meta2$prediction,
  label1 = NULL,
  label2 = NULL,
  label1.common = label1,
  label2.common = label2,
  label1.random = label1,
  label2.random = label2,
  label1.predict = label1,
  label2.predict = label2,
  label1.subgroup = label1,
  label2.subgroup = label2,
  hetlabel1 = label1.random,
  hetlabel2 = label2.random,
  taulabel1 = label1.random,
  taulabel2 = label2.random,
  text.pooled1 = NULL,
  text.pooled2 = NULL,
  text.w.pooled1 = NULL,
  text.w.pooled2 = NULL,
  text.common1 = text.pooled1,
  text.common2 = text.pooled2,
  text.random1 = text.pooled1,
  text.random2 = text.pooled2,
  text.predict1 = text.pooled1,
  text.predict2 = text.pooled2,
  text.w.common1 = text.w.pooled1,
  text.w.common2 = text.w.pooled2,
  text.w.random1 = text.w.pooled1,
  text.w.random2 = text.w.pooled2,
  keep = FALSE,
  keep.Q = keep,
  keep.I2 = keep.Q,
  keep.w = keep,
  common = common1 | common2,
  random = random1 | random2,
  overall = common | random,
  overall.hetstat = common | random,
  prediction = prediction1 | prediction2,
  backtransf,
  warn.deprecated = gs("warn.deprecated"),
  pooled1,
  pooled2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>meta1</code></td>
<td>
<p>First meta-analysis object (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta2</code></td>
<td>
<p>Second meta-analysis object (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common1</code></td>
<td>
<p>A logical indicating whether results of common
effect model should be considered for first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random1</code></td>
<td>
<p>A logical indicating whether results of random
effects model should be considered for first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction1</code></td>
<td>
<p>A logical indicating whether prediction interval
should be considered for first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common2</code></td>
<td>
<p>A logical indicating whether results of common
effect model should be considered for second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random2</code></td>
<td>
<p>A logical indicating whether results of random
effects model should be considered for second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction2</code></td>
<td>
<p>A logical indicating whether prediction interval
should be considered for second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label1</code></td>
<td>
<p>Default setting for arguments 'label1.common',
'label1.random', 'label1.predict' and 'label1.subgroup'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label2</code></td>
<td>
<p>Default setting for arguments 'label2.common',
'label2.random', 'label2.predict' and 'label2.subgroup'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label1.common</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label2.common</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label1.random</code></td>
<td>
<p>A character string ... (default label for
arguments 'hetlabel1' and 'taulabel1').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label2.random</code></td>
<td>
<p>A character string ... (default label for
arguments 'hetlabel2' and 'taulabel2').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label1.predict</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label2.predict</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label1.subgroup</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label2.subgroup</code></td>
<td>
<p>A character string ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hetlabel1</code></td>
<td>
<p>A character string used to label heterogeneity
statistics of the first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hetlabel2</code></td>
<td>
<p>A character string used to label heterogeneity
statistics of the second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taulabel1</code></td>
<td>
<p>A character string used to label estimate of
between-study variance of the first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taulabel2</code></td>
<td>
<p>A character string used to label estimate of
between-study variance of the second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.pooled1</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the results from the first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.pooled2</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the results from the second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.pooled1</code></td>
<td>
<p>A character string used to label weights of
the first meta-analysis; can be of same length as the number of
pooled estimates requested in argument <code>pooled1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.pooled2</code></td>
<td>
<p>A character string used to label weights of
the second meta-analysis; can be of same length as the number of
pooled estimates requested in argument <code>pooled1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.common1</code></td>
<td>
<p>A character string used in printouts and forest
plot to label results for common effect models from the first
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.common2</code></td>
<td>
<p>A character string used in printouts and forest
plot to label results for common effect models from the second
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.random1</code></td>
<td>
<p>A character string used in printouts and forest
plot to label results for random effects models from the first
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.random2</code></td>
<td>
<p>A character string used in printouts and forest
plot to label results for random effects models from the second
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.predict1</code></td>
<td>
<p>A character string used in printouts and
forest plot to label prediction interval from the first
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.predict2</code></td>
<td>
<p>A character string used in printouts and
forest plot to label prediction interval from the second
meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.common1</code></td>
<td>
<p>A character string used to label common
effect weights of the first meta-analysis; can be of same length
as the number of common effect estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.common2</code></td>
<td>
<p>A character string used to label common
effect weights of the second meta-analysis; can be of same length
as the number of common effect estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.random1</code></td>
<td>
<p>A character string used to label random
effects weights of the first meta-analysis; can be of same length
as the number of random effects estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.random2</code></td>
<td>
<p>A character string used to label random
effects weights of the second meta-analysis; can be of same
length as the number of random effects estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep</code></td>
<td>
<p>A logical indicating whether to keep additional
information from second meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.Q</code></td>
<td>
<p>A logical indicating whether heterogeneity statistic
Q of second meta-analysis should be kept or ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.I2</code></td>
<td>
<p>A logical indicating whether heterogeneity statistic
I2 of second meta-analysis should be kept or ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep.w</code></td>
<td>
<p>A logical indicating whether weights of the second
meta-analysis should be kept or ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common</code></td>
<td>
<p>A logical indicating whether results of common effect
meta-analyses should be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>A logical indicating whether results of random
effects meta-analyses should be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall</code></td>
<td>
<p>A logical indicating whether overall summaries
should be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall.hetstat</code></td>
<td>
<p>A logical value indicating whether to print
heterogeneity measures for overall treatment comparisons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>A logical indicating whether prediction intervals
should be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results should be
back transformed in printouts and plots. If
<code>backtransf=TRUE</code> (default), results for <code>sm="OR"</code> are
printed as odds ratios rather than log odds ratios, for example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.deprecated</code></td>
<td>
<p>A logical indicating whether warnings should
be printed if deprecated arguments are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pooled1</code></td>
<td>
<p>Deprecated argument (replaced by 'common1',
'random1', 'prediction1'). A character string indicating whether
results of common effect or random effects model should be
considered for first meta-analysis. Either <code>"both"</code>,
<code>"common"</code> or <code>"random"</code>, can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pooled2</code></td>
<td>
<p>Deprecated argument (replaced by 'common2',
'random2', 'prediction2'). A character string indicating whether
results of common effect or random effects model should be
considered for second meta-analysis. Either <code>"both"</code>,
<code>"common"</code> or <code>"random"</code>, can be abbreviated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In R package <b>meta</b>, objects of class <code>"meta"</code> contain
results of both common effect and random effects
meta-analyses. This function enables the user to merge the results
of two meta-analysis object if they are based on the same data set.
</p>
<p>Applications of this function include printing and plotting results
of the common effect or random effects meta-analysis and the
</p>

<ul>
<li>
<p> trim-and-fill method (<code>trimfill</code>),
</p>
</li>
<li>
<p> limit meta-analyis (<code>limitmeta</code> from R
package <b>metasens</b>),
</p>
</li>
<li>
<p> Copas selection model (<code>copas</code> from R
package <b>metasens</b>),
</p>
</li>
<li>
<p> robust variance meta-analysis model
(<code>robu</code> from R package <b>robumeta</b>).
</p>
</li>
</ul>
<p>The first argument (<code>meta1</code>) must be an object created by a
meta-analysis function (see <code>meta-object</code>). If an
object created with <code>limitmeta</code> or
<code>copas</code> is provided as the first argument,
this object will be returned, i.e., argument <code>meta2</code> will be
ignored.
</p>
<p>The second meta-analysis could be an object created by a
meta-analysis function or with <code>trimfill</code>,
<code>limitmeta</code>, <code>copas</code>,
or <code>robu</code>.
</p>
<p>The created meta-analysis object only contains the study results,
i.e., estimated effects and confidence intervals, from the first
meta-analysis which are shown in printouts and forest plots. This
only makes a difference for meta-analysis methods where individual
study results differ, e.g., Mantel-Haenszel and Peto method for
binary outcomes (see <code>metabin</code>).
</p>
<p>R function <code>metaadd</code> can be used to add pooled results
from any (external) meta-analysis.
</p>
<p>R function <code>metabind</code> can be used to print and plot the
results of several meta-analyses without the restriction that the
same data set has to be used. Accordingly, individual study results
are ignored.
</p>


<h3>Value</h3>

<p>An object of class <code>"meta"</code> and <code>"metamerge"</code> with
corresponding generic functions (see <code>meta-object</code>).
</p>
<p>The following list elements have a different meaning:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>TE, seTE, studlab</code></td>
<td>
<p>Treatment estimate, standard error, and
study labels (first meta-analyis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>Lower and upper confidence interval limits for
individual studies (first meta-analysis).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic, pval</code></td>
<td>
<p>Statistic and p-value for test of treatment
effect for individual studies (first meta-analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.common</code></td>
<td>
<p>Vector or matrix with common effect weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.random</code></td>
<td>
<p>Vector or matrix with random effects weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Vector with number of estimates (same length as number of
common effect and random effects estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.study</code></td>
<td>
<p>Vector with number of studies (same length as
number of common effect and random effects estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.all</code></td>
<td>
<p>Vector with total number of studies (same length as
number of common effect and random effects estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.TE</code></td>
<td>
<p>Vector with number of studies with estimable effects
(same length as number of common effect and random effects
estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k.MH</code></td>
<td>
<p>Vector with number of studies combined with
Mantel-Haenszel method (same length as number of common effect
and random effects estimates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.common</code></td>
<td>
<p>Vector with common effect estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE.common</code></td>
<td>
<p>Vector with standard errors of common effect
estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.common</code></td>
<td>
<p>Vector with lower confidence limits (common
effect model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper.common</code></td>
<td>
<p>Vector with upper confidence limits (common
effect model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic.common</code></td>
<td>
<p>Vector with test statistics for test of
overall effect (common effect model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.common</code></td>
<td>
<p>Vector with p-value of test for overall effect
(common effect model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.random</code></td>
<td>
<p>Vector with random effects estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seTE.random</code></td>
<td>
<p>Vector with standard errors of random effects
estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.random</code></td>
<td>
<p>Vector with lower confidence limits (random
effects model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper.random</code></td>
<td>
<p>Vector with upper confidence limits (random
effects model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistic.random</code></td>
<td>
<p>Vector with test statistics for test of
overall effect (random effects model).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pval.random</code></td>
<td>
<p>Vector with p-value of test for overall effect
(random effects model).</p>
</td>
</tr>
</table>
<p>Furthermore, meta-analysis results of common effect or random
effects model are taken from first meta-analysis if only random
effects or common effects models are selected from both
meta-analyses (arguments <code>pooled1</code> and <code>pooled2</code>).
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>See Also</h3>

<p><code>metagen</code>, <code>metabind</code>,
<code>metaadd</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Print results with more significant digits and do not show confidence
# intervals for tau^2 and tau
oldset &lt;- settings.meta(digits = 6, digits.stat = 4, digits.pval = 6,
  digits.Q = 6, digits.I2 = 4, digits.H = 4,
  print.tau2.ci = FALSE, print.tau.ci = FALSE)
oldopts &lt;- options(width = 120)

data(Fleiss1993bin)

# Mantel-Haenszel method
m1 &lt;- metabin(d.asp, n.asp, d.plac, n.plac, data = Fleiss1993bin,
  studlab = paste(study, year), sm = "OR")
# Peto method
m2 &lt;- update(m1, method = "Peto")
# Inverse variance method (only common effect model)
m3 &lt;- update(m2, method = "Inverse", random = FALSE)

# Merge results from MH and Peto method
# - show individual results for MH method
#   (as this is the first meta-analysis)
# - keep all additional information from Peto meta-analysis (i.e.,
#   weights, Q statistic and I2 statistic)
m12 &lt;- metamerge(m1, m2,
  label1 = "REML", label2 = "REML-Peto",
  label1.common = "MH", label2.common = "Peto", 
  text.common1 = "Mantel-Haenszel method",
  text.common2 = "Peto method",
  text.w.random1 = "REML", text.w.random2 = "REML-Peto",
  hetlabel1 = "MH/IV", hetlabel2 = "Peto",
  keep = TRUE)

# Add common effect results from inverse variance method
# - keep weights from IV meta-analysis
# - Q and I2 statistic are identical for sm = "MH" and sm = "Inverse"
#   as inverse variance method is used for sm = "MH" under random
#   effects model
m123 &lt;- metamerge(m12, m3,
  label2 = "IV",
  text.common2 = "Inverse variance method",
  keep.w = TRUE)
summary(m123)
## Not run: 
forest(m123, digits = 6)

# Merge results (show individual results for Peto method)
m21 &lt;- metamerge(m2, m1,
  label1 = "REML-Peto", label2 = "REML",
  label1.common = "Peto", label2.common = "MH", 
  hetlabel1 = "Peto", hetlabel2 = "MH/IV",
  text.common1 = "Peto method",
  text.common2 = "Mantel-Haenszel method",
  keep = TRUE)

# Add results from inverse variance method
# - keep weights from IV meta-analysis
# - Q and I2 statistic are identical for sm = "MH" and sm = "Inverse"
#   as inverse variance method is used for sm = "MH" under random
#   effects model
m213 &lt;- metamerge(m21, m3,
  label2 = "IV",
  text.common2 = "Inverse variance method",
  keep.w = TRUE)
summary(m213)

# Random effects method using ML estimator for between-study variance tau2
m4 &lt;- update(m1, common = FALSE, method.tau = "ML")

# Use DerSimonian-Laird estimator for tau2
m5 &lt;- update(m4, method.tau = "DL")

# Use Paule-Mandel estimator for tau2
m6 &lt;- update(m4, method.tau = "PM")

# Merge random effects results for ML and DL estimators
# - keep weights for DL estimator (which are different from ML)
m45 &lt;- metamerge(m4, m5, label1 = "ML", label2 = "DL",
  text.w.random1 = "RE-ML", text.w.random2 = "RE-DL", keep.w = TRUE)
summary(m45)

# Add results for PM estimator
# - keep weights
m456 &lt;- metamerge(m45, m6, label2 = "PM",
  text.w.random2 = "RE-PM", keep.w = TRUE)
summary(m456)

m123456 &lt;- metamerge(m123, m456)
m123456

# Use Hartung-Knapp confidence intervals
# - do not keep information on Q, I2 and weights
m7 &lt;- update(m4, method.random.ci = "HK",
  text.random = "Hartung-Knapp method")
m8 &lt;- update(m5, method.random.ci = "HK",
  text.random = "Hartung-Knapp method")
m9 &lt;- update(m6, method.random.ci = "HK",
  text.random = "Hartung-Knapp method")

# Merge results for Hartung-Knapp method (with REML and DL estimator)
# - RE weights for REML estimator are shown
m78 &lt;- metamerge(m7, m8, label1 = "ML", label2 = "DL")
summary(m78)

m789 &lt;- metamerge(m78, m9, label2 = "PM")
summary(m789)

# Merge everything
m1to9 &lt;- metamerge(metamerge(m123, m456, keep.w = TRUE), m789)
summary(m1to9)

m10 &lt;- update(m1, method = "GLMM")

m.all &lt;- metamerge(m1to9, m10, keep.Q = TRUE,
  label2 = "GLMM", taulabel2 = "ML-GLMM")
summary(m.all)

forest(m.all, layout = "JAMA")
forest(m.all, details = TRUE)

## End(Not run)

settings.meta(oldset)
options(oldopts)

</code></pre>


</div>