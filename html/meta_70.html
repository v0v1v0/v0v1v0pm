<div class="container">

<table style="width: 100%;"><tr>
<td>metarate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Meta-analysis of single incidence rates</h2>

<h3>Description</h3>

<p>Calculation of an overall incidence rate from studies reporting a
single incidence rate. Inverse variance method and generalised
linear mixed model (GLMM) are available for pooling. For GLMMs, the
<code>rma.glmm</code> function from R package
<b>metafor</b> (Viechtbauer 2010) is called internally.
</p>


<h3>Usage</h3>

<pre><code class="language-R">metarate(
  event,
  time,
  studlab,
  data = NULL,
  subset = NULL,
  exclude = NULL,
  cluster = NULL,
  rho = 0,
  n = NULL,
  method = "Inverse",
  sm = gs("smrate"),
  incr = gs("incr"),
  method.incr = gs("method.incr"),
  method.ci = gs("method.ci.rate"),
  level = gs("level"),
  common = gs("common"),
  random = gs("random") | !is.null(tau.preset),
  overall = common | random,
  overall.hetstat = if (is.null(gs("overall.hetstat"))) common | random else
    gs("overall.hetstat"),
  prediction = gs("prediction") | !missing(method.predict),
  method.tau,
  method.tau.ci = gs("method.tau.ci"),
  tau.preset = NULL,
  TE.tau = NULL,
  tau.common = gs("tau.common"),
  level.ma = gs("level.ma"),
  method.random.ci = gs("method.random.ci"),
  adhoc.hakn.ci = gs("adhoc.hakn.ci"),
  level.predict = gs("level.predict"),
  method.predict = gs("method.predict"),
  adhoc.hakn.pi = gs("adhoc.hakn.pi"),
  seed.predict = NULL,
  null.effect = NA,
  method.bias = gs("method.bias"),
  backtransf = gs("backtransf"),
  irscale = 1,
  irunit = "person-years",
  text.common = gs("text.common"),
  text.random = gs("text.random"),
  text.predict = gs("text.predict"),
  text.w.common = gs("text.w.common"),
  text.w.random = gs("text.w.random"),
  title = gs("title"),
  complab = gs("complab"),
  outclab = "",
  subgroup,
  subgroup.name = NULL,
  print.subgroup.name = gs("print.subgroup.name"),
  sep.subgroup = gs("sep.subgroup"),
  test.subgroup = gs("test.subgroup"),
  prediction.subgroup = gs("prediction.subgroup"),
  seed.predict.subgroup = NULL,
  byvar,
  hakn,
  adhoc.hakn,
  keepdata = gs("keepdata"),
  warn = gs("warn"),
  warn.deprecated = gs("warn.deprecated"),
  control = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>event</code></td>
<td>
<p>Number of events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Person time at risk.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studlab</code></td>
<td>
<p>An optional vector with study labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An optional data frame containing the study
information, i.e., event and time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>An optional vector specifying a subset of studies to
be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>An optional vector specifying studies to exclude
from meta-analysis, however, to include in printouts and forest
plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>An optional vector specifying which estimates come
from the same cluster resulting in the use of a three-level
meta-analysis model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>Assumed correlation of estimates within a cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A character string indicating which method is to be
used for pooling of studies. One of <code>"Inverse"</code> and
<code>"GLMM"</code>, can be abbreviated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sm</code></td>
<td>
<p>A character string indicating which summary measure
(<code>"IR"</code>, <code>"IRLN"</code>, <code>"IRS"</code>, or <code>"IRFT"</code>) is
to be used for pooling of studies, see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incr</code></td>
<td>
<p>A numeric which is added to the event number of studies
with zero events, i.e., studies with an incidence rate of 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.incr</code></td>
<td>
<p>A character string indicating which continuity
correction method should be used (<code>"only0"</code>,
<code>"if0all"</code>, or <code>"all"</code>), see Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.ci</code></td>
<td>
<p>A character string indicating whether to use
approximate normal ("NAsm") or exact Poisson ("Poisson")
confidence limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The level used to calculate confidence intervals for
individual studies.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>common</code></td>
<td>
<p>A logical indicating whether a common effect
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random</code></td>
<td>
<p>A logical indicating whether a random effects
meta-analysis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall</code></td>
<td>
<p>A logical indicating whether overall summaries
should be reported. This argument is useful in a meta-analysis
with subgroups if overall results should not be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall.hetstat</code></td>
<td>
<p>A logical value indicating whether to print
heterogeneity measures for overall treatment comparisons. This
argument is useful in a meta-analysis with subgroups if
heterogeneity statistics should only be printed on subgroup
level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction</code></td>
<td>
<p>A logical indicating whether a prediction
interval should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau</code></td>
<td>
<p>A character string indicating which method is
used to estimate the between-study variance <code class="reqn">\tau^2</code> and its
square root <code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.tau.ci</code></td>
<td>
<p>A character string indicating which method is
used to estimate the confidence interval of <code class="reqn">\tau^2</code> and
<code class="reqn">\tau</code> (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.preset</code></td>
<td>
<p>Prespecified value for the square root of the
between-study variance <code class="reqn">\tau^2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TE.tau</code></td>
<td>
<p>Overall treatment effect used to estimate the
between-study variance tau-squared.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau.common</code></td>
<td>
<p>A logical indicating whether tau-squared should
be the same across subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.ma</code></td>
<td>
<p>The level used to calculate confidence intervals
for meta-analysis estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.random.ci</code></td>
<td>
<p>A character string indicating which method
is used to calculate confidence interval and test statistic for
random effects estimate (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.ci</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied in the case
of an arbitrarily small Hartung-Knapp variance estimate (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.predict</code></td>
<td>
<p>The level used to calculate prediction
interval for a new study.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.predict</code></td>
<td>
<p>A character string indicating which method is
used to calculate a prediction interval (see
<code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn.pi</code></td>
<td>
<p>A character string indicating whether an
<em>ad hoc</em> variance correction should be applied for
prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.predict</code></td>
<td>
<p>A numeric value used as seed to calculate
bootstrap prediction interval (see <code>meta-package</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.effect</code></td>
<td>
<p>A numeric value specifying the effect under the
null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.bias</code></td>
<td>
<p>A character string indicating which test is to
be used. Either <code>"Begg"</code>, <code>"Egger"</code>, or
<code>"Thompson"</code>, can be abbreviated. See function
<code>metabias</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backtransf</code></td>
<td>
<p>A logical indicating whether results for
transformed rates (argument <code>sm != "IR"</code>) should be back
transformed in printouts and plots. If TRUE (default), results
will be presented as incidence rates; otherwise transformed rates
will be shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irscale</code></td>
<td>
<p>A numeric defining a scaling factor for printing of
rates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>irunit</code></td>
<td>
<p>A character string specifying the time unit used to
calculate rates, e.g. person-years.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.common</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the pooled common effect estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.random</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the pooled random effects estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.predict</code></td>
<td>
<p>A character string used in printouts and forest
plot to label the prediction interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.common</code></td>
<td>
<p>A character string used to label weights of
common effect model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.w.random</code></td>
<td>
<p>A character string used to label weights of
random effects model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Title of meta-analysis / systematic review.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>complab</code></td>
<td>
<p>Comparison label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outclab</code></td>
<td>
<p>Outcome label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subgroup</code></td>
<td>
<p>An optional vector to conduct a meta-analysis with
subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subgroup.name</code></td>
<td>
<p>A character string with a name for the
subgroup variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print.subgroup.name</code></td>
<td>
<p>A logical indicating whether the name of
the subgroup variable should be printed in front of the group
labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep.subgroup</code></td>
<td>
<p>A character string defining the separator
between name of subgroup variable and subgroup label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test.subgroup</code></td>
<td>
<p>A logical value indicating whether to print
results of test for subgroup differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction.subgroup</code></td>
<td>
<p>A logical indicating whether prediction
intervals should be printed for subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed.predict.subgroup</code></td>
<td>
<p>A numeric vector providing seeds to
calculate bootstrap prediction intervals within subgroups. Must
be of same length as the number of subgroups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>byvar</code></td>
<td>
<p>Deprecated argument (replaced by 'subgroup').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hakn</code></td>
<td>
<p>Deprecated argument (replaced by 'method.random.ci').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adhoc.hakn</code></td>
<td>
<p>Deprecated argument (replaced by 'adhoc.hakn.ci').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepdata</code></td>
<td>
<p>A logical indicating whether original data (set)
should be kept in meta object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>A logical indicating whether the addition of
<code>incr</code> to studies with zero events should result in a
warning.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.deprecated</code></td>
<td>
<p>A logical indicating whether warnings should
be printed if deprecated arguments are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>An optional list to control the iterative process to
estimate the between-study variance <code class="reqn">\tau^2</code>. This argument
is passed on to <code>rma.uni</code> or
<code>rma.glmm</code>, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to
<code>rma.glmm</code> function and to catch deprecated
arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function provides methods for common effect and random effects
meta-analysis of single incidence rates to calculate an overall
rate. Note, you should use R function <code>metainc</code> to
compare incidence rates of pairwise comparisons instead of using
<code>metarate</code> for each treatment arm separately which will break
randomisation in randomised controlled trials.
</p>
<p>The following transformations of incidence rates are implemented to
calculate an overall rate:
</p>

<ul>
<li>
<p> Log transformation (<code>sm = "IRLN"</code>, default)
</p>
</li>
<li>
<p> Square root transformation (<code>sm = "IRS"</code>)
</p>
</li>
<li>
<p> Freeman-Tukey Double arcsine transformation (<code>sm =
  "IRFT"</code>)
</p>
</li>
<li>
<p> No transformation (<code>sm = "IR"</code>)
</p>
</li>
</ul>
<p>List elements <code>TE</code>, <code>TE.common</code>, <code>TE.random</code>, etc.,
contain the transformed incidence rates. In printouts and plots
these values are back transformed if argument <code>backtransf =
TRUE</code> (default).
</p>
<p>By default (argument <code>method = "Inverse"</code>), the inverse
variance method (Borenstein et al., 2010) is used for pooling by
calling <code>metagen</code> internally. A random intercept
Poisson regression model (Stijnen et al., 2010) can be utilised
instead with argument <code>method = "GLMM"</code> which calls the
<code>rma.glmm</code> function from R package
<b>metafor</b>.
</p>
<p>A three-level random effects meta-analysis model (Van den Noortgate
et al., 2013) is utilized if argument <code>cluster</code> is used and at
least one cluster provides more than one estimate. Internally,
<code>rma.mv</code> is called to conduct the analysis and
<code>weights.rma.mv</code> with argument <code>type =
"rowsum"</code> is used to calculate random effects weights.
</p>
<p>Default settings are utilised for several arguments (assignments
using <code>gs</code> function). These defaults can be changed for
the current R session using the <code>settings.meta</code>
function.
</p>
<p>Furthermore, R function <code>update.meta</code> can be used to
rerun a meta-analysis with different settings.
</p>


<h4>Continuity correction</h4>

<p>Three approaches are available to apply a continuity correction:
</p>

<ul>
<li>
<p> Only studies with a zero cell count (<code>method.incr =
  "only0"</code>)
</p>
</li>
<li>
<p> All studies if at least one study has a zero cell count
(<code>method.incr = "if0all"</code>)
</p>
</li>
<li>
<p> All studies irrespective of zero cell counts
(<code>method.incr = "all"</code>)
</p>
</li>
</ul>
<p>If the summary measure (argument <code>sm</code>) is equal to "IR" or
"IRLN", the continuity correction is applied if a study has zero
events, i.e., an incidence rate of 0.
</p>
<p>By default, 0.5 is used as continuity correction (argument
<code>incr</code>). This continuity correction is used both to calculate
individual study results with confidence limits and to conduct
meta-analysis based on the inverse variance method.
</p>
<p>For the Freeman-Tukey (Freeman &amp; Tukey, 1950) and square root
transformation as well as GLMMs no continuity correction is used.
</p>



<h4>Subgroup analysis</h4>

<p>Argument <code>subgroup</code> can be used to conduct subgroup analysis for
a categorical covariate. The <code>metareg</code> function can be
used instead for more than one categorical covariate or continuous
covariates.
</p>



<h4>Specify the null hypothesis of test for an overall effect</h4>

<p>Argument <code>null.effect</code> can be used to specify the rate used
under the null hypothesis in a test for an overall effect.
</p>
<p>By default (<code>null.effect = NA</code>), no hypothesis test is
conducted as it is unclear which value is a sensible choice for the
data at hand.  An overall rate of 2, for example, could be tested
by setting argument <code>null.effect = 2</code>.
</p>
<p>Note, all tests for an overall effect are two-sided with the
alternative hypothesis that the effect is unequal to
<code>null.effect</code>.
</p>



<h4>Exclusion of studies from meta-analysis</h4>

<p>Arguments <code>subset</code> and <code>exclude</code> can be used to exclude
studies from the meta-analysis. Studies are removed completely from
the meta-analysis using argument <code>subset</code>, while excluded
studies are shown in printouts and forest plots using argument
<code>exclude</code> (see Examples in <code>metagen</code>).
Meta-analysis results are the same for both arguments.
</p>



<h4>Presentation of meta-analysis results</h4>

<p>Internally, both common effect and random effects models are
calculated regardless of values choosen for arguments
<code>common</code> and <code>random</code>. Accordingly, the estimate
for the random effects model can be extracted from component
<code>TE.random</code> of an object of class <code>"meta"</code> even if
argument <code>random = FALSE</code>. However, all functions in R
package <b>meta</b> will adequately consider the values for
<code>common</code> and <code>random</code>. E.g. function
<code>print.meta</code> will not print results for the random
effects model if <code>random = FALSE</code>.
</p>
<p>Argument <code>irscale</code> can be used to rescale rates, e.g.
<code>irscale = 1000</code> means that rates are expressed as events per
1000 time units, e.g. person-years. This is useful in situations
with (very) low rates. Argument <code>irunit</code> can be used to
specify the time unit used in individual studies (default:
"person-years"). This information is printed in summaries and
forest plots if argument <code>irscale</code> is not equal to 1.
</p>
<p>A prediction interval will only be shown if <code>prediction =
TRUE</code>.
</p>



<h3>Value</h3>

<p>An object of class <code>c("metarate", "meta")</code> with corresponding
generic functions (see <code>meta-object</code>).
</p>


<h3>Author(s)</h3>

<p>Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Borenstein M, Hedges LV, Higgins JP, Rothstein HR (2010):
A basic introduction to fixed-effect and random-effects models for
meta-analysis.
<em>Research Synthesis Methods</em>,
<b>1</b>, 97–111
</p>
<p>Freeman MF &amp; Tukey JW (1950):
Transformations related to the angular and the square root.
<em>Annals of Mathematical Statistics</em>,
<b>21</b>, 607–11
</p>
<p>Stijnen T, Hamza TH, Ozdemir P (2010):
Random effects meta-analysis of event outcome in the framework of
the generalized linear mixed model with applications in sparse
data.
<em>Statistics in Medicine</em>,
<b>29</b>, 3046–67
</p>
<p>Van den Noortgate W, López-López JA, Marín-Martínez F, Sánchez-Meca J (2013):
Three-level meta-analysis of dependent effect sizes.
<em>Behavior Research Methods</em>,
<b>45</b>, 576–94
</p>
<p>Viechtbauer W (2010):
Conducting Meta-Analyses in R with the Metafor Package.
<em>Journal of Statistical Software</em>,
<b>36</b>, 1–48
</p>


<h3>See Also</h3>

<p><code>meta-package</code>, <code>update.meta</code>,
<code>metacont</code>, <code>metagen</code>,
<code>print.meta</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Apply various meta-analysis methods to estimate incidence rates
#
m1 &lt;- metarate(4:1, c(10, 20, 30, 40))
m2 &lt;- update(m1, sm = "IR")
m3 &lt;- update(m1, sm = "IRS")
m4 &lt;- update(m1, sm = "IRFT")
#
m1
m2
m3
m4
#
forest(m1)
forest(m1, irscale = 100)
forest(m1, irscale = 100, irunit = "person-days")
forest(m1, backtransf = FALSE)
## Not run: 
forest(m2)
forest(m3)
forest(m4)

## End(Not run)

m5 &lt;- metarate(40:37, c(100, 200, 300, 400), sm = "IRFT")
m5

</code></pre>


</div>