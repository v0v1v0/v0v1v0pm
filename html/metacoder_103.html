<div class="container">

<table style="width: 100%;"><tr>
<td>leaves_apply</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply function to leaves of each taxon</h2>

<h3>Description</h3>

<p>Apply a function to the leaves of each taxon. This is similar
to using [leaves()] with [lapply()] or [sapply()].
</p>
<pre>
obj$leaves_apply(func, subset = NULL, recursive = TRUE,
  simplify = FALSE, value = "taxon_indexes", ...)
leaves_apply(obj, func, subset = NULL, recursive = TRUE,
  simplify = FALSE, value = "taxon_indexes", ...)</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>The [taxonomy()] or [taxmap()] object containing taxon
information to be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>('function') The function to apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Taxon IDs, TRUE/FALSE vector, or taxon indexes to use.
Default: All taxa in 'obj' will be used. Any variable name that appears in
[all_names()] can be used as if it was a vector on its own.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>('logical' or 'numeric') If 'FALSE', only return the
leaves if they occur one rank below the target taxa. If 'TRUE', return all of the
leaves for each taxon. Positive numbers indicate the number of
recursions (i.e. number of ranks below the target taxon to return). '1' is
equivalent to 'FALSE'. Negative numbers are equivalent to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>('logical') If 'TRUE', then combine all the results into a
single vector of unique values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>What data to give to the function. Any result of
'all_names(obj)' can be used, but it usually only makes sense to use data
that has an associated taxon id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments are passed to the function 'func'.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># Count number of leaves under each taxon or its subtaxa
leaves_apply(ex_taxmap, length)

# Count number of leaves under each taxon
leaves_apply(ex_taxmap, length, recursive = FALSE)

# Converting output of leaves to upper case
leaves_apply(ex_taxmap, value = "taxon_names", toupper)

# Passing arguments to the function
leaves_apply(ex_taxmap, value = "taxon_names", paste0, collapse = ", ")

</code></pre>


</div>