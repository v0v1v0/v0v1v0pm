<div class="container">

<table style="width: 100%;"><tr>
<td>obs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get data indexes associated with taxa</h2>

<h3>Description</h3>

<p>Given a [taxmap()] object, return data associated with each taxon in a
given table included in that [taxmap()] object.
</p>
<pre>
obj$obs(data, value = NULL, subset = NULL,
  recursive = TRUE, simplify = FALSE)
obs(obj, data, value = NULL, subset = NULL,
  recursive = TRUE, simplify = FALSE)</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>([taxmap()]) The [taxmap()] object containing taxon information to
be queried.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Either the name of something in 'obj$data' that has taxon
information or a an external object with taxon information. For tables,
there must be a column named "taxon_id" and lists/vectors must be named by
taxon ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>What data to return. This is usually the name of column in a
table in 'obj$data'. Any result of 'all_names(obj)' can be used. If the
value used has names, it is assumed that the names are taxon ids and the
taxon ids are used to look up the correct values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Taxon IDs, TRUE/FALSE vector, or taxon indexes to find observations
for. Default: All taxa in 'obj' will be used. Any variable name that
appears in [all_names()] can be used as if it was a vector on its own.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>('logical' or 'numeric') If 'FALSE', only return the
observation assigned to the specified input taxa, not subtaxa. If 'TRUE',
return all the observations of every subtaxa, etc. Positive numbers
indicate the number of ranks below the each taxon to get observations for
'0' is equivalent to 'FALSE'. Negative numbers are equivalent to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simplify</code></td>
<td>
<p>('logical') If 'TRUE', then combine all the results into a
single vector of unique observation indexes.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If 'simplify = FALSE', then a list of vectors of observation indexes
are returned corresponding to the 'data' argument. If 'simplify = TRUE',
then the observation indexes for all 'data' taxa are returned in a single
vector.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Get indexes of rows corresponding to each taxon
obs(ex_taxmap, "info")

# Get only a subset of taxon indexes
obs(ex_taxmap, "info", subset = 1:2)

# Get only a subset of taxon IDs
obs(ex_taxmap, "info", subset = c("b", "c"))

# Get only a subset of taxa using logical tests
obs(ex_taxmap, "info", subset = taxon_ranks == "genus")

# Only return indexes of rows assinged to each taxon explicitly
obs(ex_taxmap, "info", recursive = FALSE)

# Lump all row indexes in a single vector
obs(ex_taxmap, "info", simplify = TRUE)

# Return values from a dataset instead of indexes
obs(ex_taxmap, "info", value = "name")

</code></pre>


</div>