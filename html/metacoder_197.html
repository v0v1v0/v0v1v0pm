<div class="container">

<table style="width: 100%;"><tr>
<td>sample_frac_taxa</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sample a proportion of taxa from [taxonomy()] or [taxmap()]</h2>

<h3>Description</h3>

<p>Randomly sample some proportion of taxa from a [taxonomy()] or [taxmap()]
object. Weights can be specified for taxa or the observations assigned to
them. See
[dplyr::sample_frac()] for the inspiration for this function.
</p>
<pre>
obj$sample_frac_taxa(size, taxon_weight = NULL,
  obs_weight = NULL, obs_target = NULL,
  use_subtaxa = TRUE, collapse_func = mean, ...)
sample_frac_taxa(obj, size, taxon_weight = NULL,
  obs_weight = NULL, obs_target = NULL,
  use_subtaxa = TRUE, collapse_func = mean, ...)</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>([taxonomy()] or [taxmap()]) The object to sample from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>('numeric' of length 1) The proportion of taxa to sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>taxon_weight</code></td>
<td>
<p>('numeric') Non-negative sampling weights of each
taxon. If 'obs_weight' is also specified, the two weights are
multiplied (after 'obs_weight' for each taxon is calculated).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_weight</code></td>
<td>
<p>('numeric')  This option only applies to [taxmap()]
objects. Sampling weights of each observation. The weights for each
observation assigned to a given taxon are supplied to 'collapse_func' to
get the taxon weight. If 'use_subtaxa' is 'TRUE' then the observations
assigned to every subtaxa are also used. Any variable name that appears in
[all_names()] can be used as if it was a vector on its own. If
'taxon_weight' is also specified, the two weights are multiplied (after
'obs_weight' for each observation is calculated). 'obs_target' must be used
with this option.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_target</code></td>
<td>
<p>('character' of length 1)  This option only applies to
[taxmap()] objects. The name of the data set in 'obj$data' that values in
'obs_weight' corresponds to. Must be used when 'obs_weight' is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_subtaxa</code></td>
<td>
<p>('logical' or 'numeric' of length 1) Affects how the
'obs_weight' option is used. If 'TRUE', the weights for each taxon in an
observation's classification are multiplied to get the observation weight.
If 'TRUE' just the taxonomic level the observation is assign to it
considered. Positive numbers indicate the number of ranks below the target
taxa to return. '0' is equivalent to 'FALSE'. Negative numbers are
equivalent to 'TRUE'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse_func</code></td>
<td>
<p>('function' of length 1) If 'taxon_weight' is
used and 'supertaxa' is 'TRUE', the weights for each taxon in an
observation's classification are supplied to 'collapse_func' to get
the observation weight. This function should take  numeric vector and
return a single number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional options are passed to [filter_taxa()].</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of type [taxonomy()] or [taxmap()]
</p>


<h3>See Also</h3>

<p>Other taxmap manipulation functions: 
<code>arrange_obs()</code>,
<code>arrange_taxa()</code>,
<code>filter_obs()</code>,
<code>filter_taxa()</code>,
<code>mutate_obs()</code>,
<code>sample_frac_obs()</code>,
<code>sample_n_obs()</code>,
<code>sample_n_taxa()</code>,
<code>select_obs()</code>,
<code>transmute_obs()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># sample half of the taxa
sample_frac_taxa(ex_taxmap, 0.5, supertaxa = TRUE)

</code></pre>


</div>