<div class="container">

<table style="width: 100%;"><tr>
<td>forest.cumul.rma</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Forest Plots (Method for 'cumul.rma' Objects)</h2>

<h3>Description</h3>

<p>Function to create forest plots for objects of class <code>"cumul.rma"</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cumul.rma'
forest(x, annotate=TRUE, header=FALSE,
       xlim, alim, olim, ylim, at, steps=5,
       level=x$level, refline=0, digits=2L, width,
       xlab, ilab, ilab.xpos, ilab.pos,
       transf, atransf, targs, rows,
       efac=1, pch, psize, col, shade, colshade,
       lty, fonts, cex, cex.lab, cex.axis, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>"cumul.rma"</code> obtained with <code>cumul</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>annotate</code></td>
<td>
<p>logical to specify whether annotations should be added to the plot (the default is <code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>logical to specify whether column headings should be added to the plot (the default is <code>FALSE</code>). Can also be a character vector to specify the left and right headings (or only the left one).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>horizontal limits of the plot region. If unspecified, the function sets the horizontal plot limits to some sensible values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alim</code></td>
<td>
<p>the x-axis limits. If unspecified, the function sets the x-axis limits to some sensible values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>olim</code></td>
<td>
<p>optional argument to specify observation/outcome limits. If unspecified, no limits are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>the y-axis limits of the plot. If unspecified, the function sets the y-axis limits to some sensible values. Can also be a single value to set the lower bound (while the upper bound is still set automatically).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>at</code></td>
<td>
<p>position of the x-axis tick marks and corresponding labels. If unspecified, the function sets the tick mark positions/labels to some sensible values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>steps</code></td>
<td>
<p>the number of tick marks for the x-axis (the default is 5). Ignored when the positions are specified via the <code>at</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>numeric value between 0 and 100 to specify the confidence interval level (see here for details). The default is to take the value from the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refline</code></td>
<td>
<p>numeric value to specify the location of the vertical ‘reference’ line (the default is 0). The line can be suppressed by setting this argument to <code>NA</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer to specify the number of decimal places to which the tick mark labels of the x-axis and the annotations should be rounded (the default is <code>2L</code>). Can also be a vector of two integers, the first to specify the number of decimal places for the annotations, the second for the x-axis labels. When specifying an integer (e.g., <code>2L</code>), trailing zeros after the decimal mark are dropped for the x-axis labels. When specifying a numeric value (e.g., <code>2</code>), trailing zeros are retained.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>optional integer to manually adjust the width of the columns for the annotations (either a single integer or a vector of the same length as the number of annotation columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>title for the x-axis. If unspecified, the function sets an appropriate axis title. Can also be a vector of three/two values (to also/only add labels at the end points of the x-axis limits).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ilab</code></td>
<td>
<p>optional vector, matrix, or data frame providing additional information about the studies that should be added to the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ilab.xpos</code></td>
<td>
<p>numeric vector to specify the horizontal position(s) of the variable(s) given via <code>ilab</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ilab.pos</code></td>
<td>
<p>integer(s) (either 1, 2, 3, or 4) to specify the alignment of the vector(s) given via <code>ilab</code> (2 means right, 4 mean left aligned). If unspecified, the default is to center the labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transf</code></td>
<td>
<p>optional argument to specify a function to transform the estimates and confidence interval bounds (e.g., <code>transf=exp</code>; see also transf). If unspecified, no transformation is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atransf</code></td>
<td>
<p>optional argument to specify a function to transform the x-axis labels and annotations (e.g., <code>atransf=exp</code>; see also transf). If unspecified, no transformation is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targs</code></td>
<td>
<p>optional arguments needed by the function specified via <code>transf</code> or <code>atransf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rows</code></td>
<td>
<p>optional vector to specify the rows (or more generally, the horizontal positions) for plotting the outcomes. Can also be a single value to specify the row (horizontal position) of the first outcome (the remaining outcomes are then plotted below this starting row).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efac</code></td>
<td>
<p>vertical expansion factor for confidence interval limits and arrows. The default value of 1 should usually work okay. Can also be a vector of two numbers, the first for CI limits, the second for arrows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>plotting symbol to use for the estimates. By default, a filled square is used. See <code>points</code> for other options. Can also be a vector of values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>psize</code></td>
<td>
<p>numeric value to specify the point sizes for the estimates (the default is 1). Can also be a vector of values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>optional character string to specify the color of the estimates. Can also be a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shade</code></td>
<td>
<p>optional character string or a (logical or numeric) vector for shading rows of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colshade</code></td>
<td>
<p>optional argument to specify the color for the shading.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>optional character string to specify the line type for the confidence intervals. If unspecified, the function sets this to <code>"solid"</code> by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fonts</code></td>
<td>
<p>optional character string to specify the font for the study labels, annotations, and the extra information (if specified via <code>ilab</code>). If unspecified, the default font is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>optional character and symbol expansion factor. If unspecified, the function sets this to a sensible value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>optional expansion factor for the x-axis title. If unspecified, the function sets this to a sensible value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>optional expansion factor for the x-axis labels. If unspecified, the function sets this to a sensible value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The plot shows the estimated (average) outcome with corresponding confidence interval as one study at a time is added to the analysis.
</p>
<p>See <code>forest.default</code> and <code>forest.rma</code> for further details on the purpose of the various arguments.
</p>


<h3>Note</h3>

<p>The function sets some sensible values for the optional arguments, but it may be necessary to adjust these in certain circumstances.
</p>
<p>The function actually returns some information about the chosen values invisibly. Printing this information is useful as a starting point to make adjustments to the plot.
</p>
<p>If the number of studies is quite large, the labels, annotations, and symbols may become quite small and impossible to read. Stretching the plot window vertically may then provide a more readable figure (one should call the function again after adjusting the window size, so that the label/symbol sizes can be properly adjusted). Also, the <code>cex</code>, <code>cex.lab</code>, and <code>cex.axis</code> arguments are then useful to adjust the symbol and text sizes.
</p>
<p>If the outcome measure used for creating the plot is bounded (e.g., correlations are bounded between -1 and +1, proportions are bounded between 0 and 1), one can use the <code>olim</code> argument to enforce those limits (the observed outcomes and confidence intervals cannot exceed those bounds then).
</p>
<p>The <code>lty</code> argument can also be a vector of two elements, the first for specifying the line type of the individual CIs (<code>"solid"</code> by default), the second for the line type of the horizontal line that is automatically added to the plot (<code>"solid"</code> by default; set to <code>"blank"</code> to remove it).
</p>


<h3>Author(s)</h3>

<p>Wolfgang Viechtbauer <a href="mailto:wvb@metafor-project.org">wvb@metafor-project.org</a> <a href="https://www.metafor-project.org">https://www.metafor-project.org</a>
</p>


<h3>References</h3>

<p>Chalmers, T. C., &amp; Lau, J. (1993). Meta-analytic stimulus for changes in clinical trials. <em>Statistical Methods in Medical Research</em>, <b>2</b>(2), 161–172. <code style="white-space: pre;">⁠https://doi.org/10.1177/096228029300200204⁠</code>
</p>
<p>Lau, J., Schmid, C. H., &amp; Chalmers, T. C. (1995). Cumulative meta-analysis of clinical trials builds evidence for exemplary medical care. <em>Journal of Clinical Epidemiology</em>, <b>48</b>(1), 45–57. <code style="white-space: pre;">⁠https://doi.org/10.1016/0895-4356(94)00106-z⁠</code>
</p>
<p>Lewis, S., &amp; Clarke, M. (2001). Forest plots: Trying to see the wood and the trees. <em>British Medical Journal</em>, <b>322</b>(7300), 1479–1480. <code style="white-space: pre;">⁠https://doi.org/10.1136/bmj.322.7300.1479⁠</code>
</p>
<p>Viechtbauer, W. (2010). Conducting meta-analyses in R with the metafor package. <em>Journal of Statistical Software</em>, <b>36</b>(3), 1–48. <code style="white-space: pre;">⁠https://doi.org/10.18637/jss.v036.i03⁠</code>
</p>


<h3>See Also</h3>

<p><code>forest</code> for an overview of the various <code>forest</code> functions.
</p>
<p><code>cumul</code> for the function to create <code>cumul.rma</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">### calculate log risk ratios and corresponding sampling variances
dat &lt;- escalc(measure="RR", ai=tpos, bi=tneg, ci=cpos, di=cneg,
              data=dat.bcg, slab=paste(author, year, sep=", "))

### fit random-effects model
res &lt;- rma(yi, vi, data=dat)

### draw cumulative forest plots
x &lt;- cumul(res, order=year)
forest(x, cex=0.8, header=TRUE, top=2)
forest(x, xlim=c(-4,2.5), alim=c(-2,1), cex=0.8, header=TRUE, top=2)

### meta-analysis of the (log) risk ratios using the Mantel-Haenszel method
res &lt;- rma.mh(measure="RR", ai=tpos, bi=tneg, ci=cpos, di=cneg, data=dat.bcg,
              slab=paste(author, year, sep=", "))

### draw cumulative forest plot
x &lt;- cumul(res, order=year)
forest(x, xlim=c(-4,2.5), alim=c(-2,1), cex=0.8, header=TRUE, top=2)
</code></pre>


</div>