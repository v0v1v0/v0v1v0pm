<div class="container">

<table style="width: 100%;"><tr>
<td>datagenerator</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>simulate data</h2>

<h3>Description</h3>

<p>Simulate a dataset with data from <code>K</code> different sources, for demonstration of <code>metafuse</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">datagenerator(n, beta0, family, seed = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a vector of length <code>K</code> (the total number of datasets being integrated), specifying the sample sizes of individual datasets; can also be an scalar, in which case the function simulates <code>K</code> datasets of equal sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0</code></td>
<td>
<p>a coefficient matrix of dimension <code>K * p</code>, where <code>K</code> is the number of datasets being integrated and <code>p</code> is the number of covariates, including the intercept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>the type of the response vector, <code>c("gaussian", "binomial", "poisson", "cox")</code>; <code>"gaussian"</code> for continuous response, <code>"binomial"</code> for binary response, <code>"poisson"</code> for count response, <code>"cox"</code> for observed time-to-event response, with censoring indicator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>the random seed for data generation, default is <code>NA</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These datasets are artifical, and are used to demonstrate the features of <code>metafuse</code>. In the case when <code>family="cox"</code>, the response will contain two vectors, a time-to-event variable <code>time</code> and a censoring indicator <code>status</code>.
</p>


<h3>Value</h3>

<p>Returns data frame with <code>n*K</code> rows (if <code>n</code> is a scalar), or <code>sum(n)</code> rows (if <code>n</code> is a <code>K</code>-element vector). The data frame contains columns "y", "x1", ..., "x_p-1" and "group" if <code>family="gaussian"</code>, <code>"binomial"</code> or <code>"poisson"</code>; or contains columns "time", "status", "x1", ..., "x_p-1" and "group" if <code>family="cox"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">########### generate data ###########
n &lt;- 200    # sample size in each dataset (can also be a K-element vector)
K &lt;- 10     # number of datasets for data integration
p &lt;- 3      # number of covariates in X (including the intercept)

# the coefficient matrix of dimension K * p, used to specify the heterogeneous pattern
beta0 &lt;- matrix(c(0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   # beta_0 of intercept
                  0.0,0.0,0.0,0.0,0.0,1.0,1.0,1.0,1.0,1.0,   # beta_1 of X_1
                  0.0,0.0,0.0,0.0,0.5,0.5,0.5,1.0,1.0,1.0),  # beta_2 of X_2
                K, p)

# generate a data set, family=c("gaussian", "binomial", "poisson", "cox")
data &lt;- datagenerator(n=n, beta0=beta0, family="gaussian", seed=123)
names(data)

# if family="cox", returned dataset contains columns "time"" and "status" instead of "y"
data &lt;- datagenerator(n=n, beta0=beta0, family="cox", seed=123)
names(data)
</code></pre>


</div>