<div class="container">

<table style="width: 100%;"><tr>
<td>rate_compare_sum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Unstratified and stratified Miettinen and Nurminen test in
aggregate data level</h2>

<h3>Description</h3>

<p>Unstratified and stratified Miettinen and Nurminen test in
aggregate data level
</p>


<h3>Usage</h3>

<pre><code class="language-R">rate_compare_sum(
  n0,
  n1,
  x0,
  x1,
  strata = NULL,
  delta = 0,
  weight = c("ss", "equal", "cmh"),
  test = c("one.sided", "two.sided"),
  bisection = 100,
  eps = 1e-06,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n0, n1</code></td>
<td>
<p>The sample size in the control group and experimental group,
separately. The length should be the same as the length for
<code>x0/x1</code> and <code>strata</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x0, x1</code></td>
<td>
<p>The number of events in the control group and
experimental group, separately. The length should be the same
as the length for <code>n0/n1</code> and <code>strata</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>A vector of stratum indication to be used in the analysis.
If <code>NULL</code> or the length of unique values of <code>strata</code> equals to 1,
it is unstratified MN analysis. Otherwise, it is stratified MN analysis.
The length of <code>strata</code> should be the same as the length for
<code>x0/x1</code> and <code>n0/n1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta</code></td>
<td>
<p>A numeric value to set the difference of two groups
under the null.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>Weighting schema used in stratified MN method.
Default is <code>"ss"</code>:
</p>

<ul>
<li> <p><code>"equal"</code> for equal weighting.
</p>
</li>
<li> <p><code>"ss"</code> for sample size weighting.
</p>
</li>
<li> <p><code>"cmh"</code> for Cochran-Mantel-Haenszel's weights.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>A character string specifying the side of p-value,
must be one of <code>"one.sided"</code>, or <code>"two.sided"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bisection</code></td>
<td>
<p>The number of sections in the interval used in
bisection method. Default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>The level of precision. Default is 1e-06.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Pre-defined alpha level for two-sided confidence interval.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with the test results.
</p>


<h3>References</h3>

<p>Miettinen, O. and Nurminen, M, Comparative Analysis of Two Rates.
<em>Statistics in Medicine</em>, 4(2):213â€“226, 1985.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Conduct the stratified MN analysis with sample size weights
treatment &lt;- c(rep("pbo", 100), rep("exp", 100))
response &lt;- c(rep(0, 80), rep(1, 20), rep(0, 40), rep(1, 60))
stratum &lt;- c(rep(1:4, 12), 1, 3, 3, 1, rep(1:4, 12), rep(1:4, 25))
n0 &lt;- sapply(split(treatment[treatment == "pbo"], stratum[treatment == "pbo"]), length)
n1 &lt;- sapply(split(treatment[treatment == "exp"], stratum[treatment == "exp"]), length)
x0 &lt;- sapply(split(response[treatment == "pbo"], stratum[treatment == "pbo"]), sum)
x1 &lt;- sapply(split(response[treatment == "exp"], stratum[treatment == "exp"]), sum)
strata &lt;- c("a", "b", "c", "d")
rate_compare_sum(
  n0, n1, x0, x1,
  strata,
  delta = 0,
  weight = "ss",
  test = "one.sided",
  alpha = 0.05
)
</code></pre>


</div>