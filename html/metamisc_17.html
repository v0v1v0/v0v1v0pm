<div class="container">

<table style="width: 100%;"><tr>
<td>fat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Regression tests for detecting funnel plot asymmetry</h2>

<h3>Description</h3>

<p>The presence of small-study effects is a common threat to systematic reviews and meta-analyses, especially when 
it is due to publication bias, which occurs when small primary studies are more likely to be reported (published) 
if their findings were positive. The presence of small-study effects can be verified by visual inspection of 
the funnel plot, where for each included study of the meta-analysis, the estimate of the reported effect size is 
depicted against a measure of precision or sample size. 
The premise is that the scatter of plots should reflect a funnel shape, if small-study 
effects do not exist. However, when small studies are predominately in one direction (usually the 
direction of larger effect sizes), asymmetry will ensue.<br><br>
The <code>fat</code> function implements several tests for detecting funnel plot asymmetry, 
which can be used when the presence of between-study heterogeneity in treatment effect is relatively low.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fat(b, b.se, n.total, d.total, d1, d2, method = "E-FIV")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Vector with the effect size of each study. Examples are log odds ratio, log hazards ratio, 
log relative risk.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b.se</code></td>
<td>
<p>Optional vector with the standard error of the effect size of each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.total</code></td>
<td>
<p>Optional vector with the total sample size of each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d.total</code></td>
<td>
<p>Optional vector with the total number of observed events for each study</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d1</code></td>
<td>
<p>Optional vector with the total number of observed events in the exposed groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d2</code></td>
<td>
<p>Optional vector with the total number of observed events in the unexposed groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method for testing funnel plot asymmetry, defaults to <code>"E-FIV"</code> (Egger's test with 
multiplicative dispersion). Other options are <code>E-UW</code>, <code>M-FIV</code>, <code>M-FPV</code>, <code>D-FIV</code> and 
<code>D-FAV</code>. More info in "Details"</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>Egger regression method</h4>

<p>A common approach to test the presence of small-study effects is to
estimate a regression model where the standardized effect estimate 
(effect/SE) is regressed on a measure of precision (1/SE),
(<code>method="E-UW"</code>, Egger 1997).
It is possible to allow for between-study heterogeneity by adopting a 
multiplicative overdispersion parameter by which the variance in each 
study is multiplied (<code>method="E-FIV"</code>, Sterne 2000).
</p>
<p>Unfortunately, it has been demonstrated that the aforementioned two tests 
are biased because: (i) the independent variable is subject to sampling 
variability; (ii) the standardized treatment effect is correlated with its 
estimated precision; and (iii) for binary data, the independent regression 
variable is a biased estimate of the true precision, with larger bias for 
smaller sample sizes (Macaskill et al. 2001).
</p>



<h4>Macaskill regression method</h4>

<p>The standard approach estimates a regression model with the effect size as 
a function of the study size (<code>method="M-FIV"</code>, Macaskill et al. 
2001). Each study is weighted by the precision of the treatment effect 
estimate to allow for possible heteroscedasticity.
An alternative approach is to weight each study by a pooled' estimate of the 
outcome proportion (<code>method="M-FPV"</code>)
</p>
<p>For studies with zero events, a continuity correction is applied by adding 
0.5 to all cell counts.
</p>



<h4>Peters regression method</h4>

<p>This approach (<code>method="P-FPV"</code>) estimates a regression model with the 
treatment effect as a function of the inverse of the total sample size 
(Peters et al. 2006).
</p>
<p>For studies with zero events, a continuity correction is applied by adding 
0.5 to all cell counts.
</p>



<h4>Debray regression method</h4>

<p>This approach was proposed for survival data, and uses the total 
number of events as independent variable in the weighted regression model 
(Debray et al. 2017). The study weights are based on the inverse variance
(<code>method="D-FIV"</code>) or on an approximation thereof 
(<code>method="D-FAV"</code>).
</p>



<h3>Value</h3>

<p>a list containing the following entries:
</p>

<dl>
<dt>"pval"</dt>
<dd>
<p>A two-sided P-value indicating statistical significance of the funnel plot asymettry test. 
Values below the significance level (usually defined as 10%) support the presence of funnel plot asymmetry,
and thus small-study effects.  </p>
</dd>
<dt>"model"</dt>
<dd>
<p>A fitted <code>glm</code> object, representing the estimated regression model used for testing funnel
plot asymmetry.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Thomas Debray &lt;thomas.debray@gmail.com&gt;
</p>


<h3>References</h3>

<p>Debray TPA, Moons KGM, Riley RD. Detecting small-study effects and funnel plot asymmetry in meta-analysis of 
survival data: a comparison of new and existing tests. Res Syn Meth. 2018;9(1):41–50.<br><br>
Egger M, Davey Smith G, Schneider M, Minder C. Bias in meta-analysis detected by a simple, graphical test. 
<em>BMJ</em>. 1997;315(7109):629–34. <br><br>
Macaskill P, Walter SD, Irwig L. A comparison of methods to detect publication bias in meta-analysis. 
<em>Stat Med</em>. 2001;20(4):641–54.<br><br>
Peters JL, Sutton AJ, Jones DR, Abrams KR, Rushton L. Comparison of two methods to detect publication bias 
in meta-analysis. <em>JAMA</em>. 2006 Feb 8;295(6):676–80.<br><br> 
Sterne JA, Gavaghan D, Egger M. Publication and related bias in meta-analysis: power of statistical tests 
and prevalence in the literature. <em>J Clin Epidemiol</em>. 2000;53(11):1119–29.
</p>


<h3>See Also</h3>

<p><code>plot.fat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Fibrinogen)
b &lt;- log(Fibrinogen$HR)
b.se &lt;- ((log(Fibrinogen$HR.975) - log(Fibrinogen$HR.025))/(2*qnorm(0.975)))
n.total &lt;- Fibrinogen$N.total
d.total &lt;- Fibrinogen$N.events

fat(b=b, b.se=b.se)
fat(b=b, b.se=b.se, d.total=d.total, method="D-FIV")

# Note that many tests are also available via metafor
require(metafor)
fat(b=b, b.se=b.se, n.total=n.total, method="M-FIV")
regtest(x=b, sei=b.se, ni=n.total, model="lm", predictor="ni") 

</code></pre>


</div>