<div class="container">

<table style="width: 100%;"><tr>
<td>plot.waasb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Several types of residual plots</h2>

<h3>Description</h3>

<p>Residual plots for a output model of class <code>waas</code> and <code>waasb</code>. Six types
of plots are produced: (1) Residuals vs fitted, (2) normal Q-Q plot for the
residuals, (3) scale-location plot (standardized residuals vs Fitted
Values), (4) standardized residuals vs Factor-levels, (5) Histogram of raw
residuals and (6) standardized residuals vs observation order. For a <code>waasb</code>
object, normal Q-Q plot for random effects may also be obtained declaring
<code>type = 're'</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'waasb'
plot(
  x,
  var = 1,
  type = "res",
  position = "fill",
  trait.levels = NULL,
  percent = TRUE,
  percent.digits = 2,
  size.text.percent = 3.5,
  rotate = FALSE,
  conf = 0.95,
  out = "print",
  n.dodge = 1,
  check.overlap = FALSE,
  labels = FALSE,
  plot_theme = theme_metan(),
  alpha = 0.2,
  fill.hist = "gray",
  col.hist = "black",
  col.point = "black",
  col.line = "red",
  col.lab.out = "red",
  size.line = 0.7,
  size.text = 10,
  width.bar = 0.75,
  size.lab.out = 2.5,
  size.tex.lab = 10,
  size.shape = 1.5,
  bins = 30,
  which = c(1:4),
  ncol = NULL,
  nrow = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>waasb</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>The variable to plot. Defaults to <code>var = 1</code> the first
variable of <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>One of the <code>"res"</code> to plot the model residuals (default),
<code>type = 're'</code> to plot normal Q-Q plots for the random effects, or
<code>"vcomp"</code> to create a bar plot with the variance components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>The position adjustment when <code>type = "vcomp"</code>. Defaults
to <code>"fill"</code>, which shows relative proportions at each trait by
stacking the bars and then standardizing each bar to have the same height.
Use <code>position = "stack"</code> to plot the phenotypic variance for each
trait.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trait.levels</code></td>
<td>
<p>By default, variables are ordered in the x-axis by
alphabetic order. If a plot with two variables (eg., "GY" and "PH") "PH"
should appers before "GY", one can use a comma-separated vector of variable
names to relevel the variable's position in the plot (eg., <code>trait.levels = "PH, GY"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>If <code>TRUE</code> (default) shows the y-axis as percent and the
percentage values within each bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent.digits</code></td>
<td>
<p>The significant figures for the percentage values.
Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.text.percent</code></td>
<td>
<p>The size of the text for the percentage values.
Defaults to <code>3.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rotate</code></td>
<td>
<p>Logical argument. If <code>rotate = TRUE</code> the plot is rotated,
i.e., traits in y axis and value in the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>Level of confidence interval to use in the Q-Q plot (0.95 by
default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>How the output is returned. Must be one of the 'print' (default)
or 'return'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.dodge</code></td>
<td>
<p>The number of rows that should be used to render the x labels.
This is useful for displaying labels that would otherwise overlap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.overlap</code></td>
<td>
<p>Silently remove overlapping labels, (recursively)
prioritizing the first, last, and middle labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Logical argument. If <code>TRUE</code> labels the points outside
confidence interval limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_theme</code></td>
<td>
<p>The graphical theme of the plot. Default is
<code>plot_theme = theme_metan()</code>. For more details, see
<code>ggplot2::theme()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The transparency of confidence band in the Q-Q plot. Must be a
number between 0 (opaque) and 1 (full transparency).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.hist</code></td>
<td>
<p>The color to fill the histogram. Default is 'gray'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.hist</code></td>
<td>
<p>The color of the border of the the histogram. Default is
'black'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.point</code></td>
<td>
<p>The color of the points in the graphic. Default is 'black'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.line</code></td>
<td>
<p>The color of the lines in the graphic. Default is 'red'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.lab.out</code></td>
<td>
<p>The color of the labels for the 'outlying' points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.line</code></td>
<td>
<p>The size of the line in graphic. Defaults to 0.7.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.text</code></td>
<td>
<p>The size for the text in the plot. Defaults to 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width.bar</code></td>
<td>
<p>The width of the bars if <code>type = "contribution"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.lab.out</code></td>
<td>
<p>The size of the labels for the 'outlying' points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.tex.lab</code></td>
<td>
<p>The size of the text in axis text and labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.shape</code></td>
<td>
<p>The size of the shape in the plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>The number of bins to use in the histogram. Default is 30.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Which graphics should be plotted. Default is <code>which = c(1:4)</code> that means that the first four graphics will be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol, nrow</code></td>
<td>
<p>The number of columns and rows of the plot pannel. Defaults
to <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to the function
<code>patchwork::wrap_plots()</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)
x &lt;- gamem_met(data_ge,
               gen = GEN,
               env = ENV,
               rep = REP,
               resp = everything())
plot(x)

</code></pre>


</div>