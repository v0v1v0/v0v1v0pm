<div class="container">

<table style="width: 100%;"><tr>
<td>utils_progress</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities for text progress bar in the terminal</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Progress bars are configurable, may include percentage, elapsed time, and
custom text.
</p>

<ul>
<li> <p><code>progress()</code>: Initiate a custom progress bar of class <code>pb_metan</code>.
</p>
</li>
<li> <p><code>run_progress()</code>: Run the progress bar and should be called within a 'for
loop' statement, a <code>lapply()</code> family or <code>purrr::map()</code> family of functional
programming tools.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">progress(
  min = 0,
  max = 100,
  leftd = "|",
  rightd = "|",
  char = "=",
  style = 2,
  width = getOption("width"),
  time = Sys.time()
)

run_progress(pb, actual, text = "", digits = 0, sleep = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>min, max</code></td>
<td>
<p>Numeric values for the extremes of the progress bar. Must have
<code>min &lt; max</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftd, rightd</code></td>
<td>
<p>The left and right delimiters for the progress bar.
Defaults to <code>"|"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>char</code></td>
<td>
<p>The character (or character string) to form the progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>The 'style' of the progress bar. Elapsed time is counted from
calling <code>progress()</code> up to each call of <code>run_progress()</code>.
</p>

<ul>
<li> <p><code>type = 1</code>: Shows a progress bar without percentage or elapsed time.
</p>
</li>
<li> <p><code>type = 2</code>: The default, shows the progress bar and its percentage.
</p>
</li>
<li> <p><code>type = 3</code>: Shows the progress bar and elapsed time.
</p>
</li>
<li> <p><code>type = 4</code>: Shows the progress bar, percentage, and elapsed time.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>The the width of the progress bar. Defaults to the number of
characters is that which fits into <code>getOption("width")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>The system time used to compute the elapsed time from calling
<code>progress()</code> to each call of <code>run_progress()</code>. Defaults to <code>Sys.time()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pb</code></td>
<td>
<p>An object created with <code>progress()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>actual</code></td>
<td>
<p>The actual value, for example, a loop variable that define the
loop index value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>An optional character string to be shown at the begining of the
progress bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>The number of significant figures in percentage value. Defaults
to <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sleep</code></td>
<td>
<p>Suspend execution for a time interval with <code>Sys.sleep()</code> within
<code>run_progress()</code>. Defaults to <code>0</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>progress()</code> returns a list of class <code>pb_metan</code> that contains the set
parameters that will called by <code>run_progress()</code>.
</p>


<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

################### A for looping approach ################
pb &lt;-  progress()
for (i in 1:100) {
 run_progress(pb, actual = i, sleep = 0.01)
}

################### An apply family approach ##############
pb &lt;- progress(max = 10)
foo &lt;- function(...){
   run_progress(pb, ...)
   rnorm(100) %&gt;%  mean()
 }
(a &lt;- sapply(1:10, FUN = foo, sleep = 0.05))

######## A purrr functional programming approach ##########
foo2 &lt;- function(...){
     run_progress(pb2, ...)
     rnorm(100) %&gt;%  mean()
}
pb2 &lt;- progress(max = 10000,
                style = 4,
                leftd = "",
                char = ".",
                rightd = "!")

b &lt;- purrr::map_dbl(1:10000, foo2, text = "Progress bar for sampling")
hist(b)

</code></pre>


</div>