<div class="container">

<table style="width: 100%;"><tr>
<td>utils_data_org</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities for data organization</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Useful function for data organization before statistical analysis
</p>

<ul>
<li> <p><code>add_seq_block()</code>: Add a column with sequential block numeration in
multi-environment data sets.
</p>
</li>
<li> <p><code>recode_factor()</code>: Recode a factor column. A sequential numbering (with
possible prefix) is used to identify each level.
</p>
</li>
<li> <p><code>df_to_selegen_54()</code>: Given a multi-environment data with environment,
genotype, and replication, format the data to be used in the Selegen software
(model 54).
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">add_seq_block(data, env, rep, new_factor = BLOCK, prefix = "", verbose = TRUE)

recode_factor(data, factor, new_factor = CODE, prefix = "", verbose = TRUE)

df_to_selegen_54(data, env, gen, rep, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>The name of the column that contains the levels of the
environments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rep</code></td>
<td>
<p>The name of the column that contains the levels of the
replications/blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_factor</code></td>
<td>
<p>The name of the new column created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>An optional prefix to bind with the new factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical argument. If <code>verbose = FALSE</code> the code will run
silently.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factor</code></td>
<td>
<p>A column to recode.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen</code></td>
<td>
<p>The name of the column that contains the levels of the genotypes,
that will be treated as random effect.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>References</h3>

<p>Resende, M.D. V. 2016. Software Selegen-REML/BLUP: a useful tool for plant
breeding. Crop Breed. Appl. Biotechnol. 16(4): 330â€“339.
<a href="https://doi.org/10.1590/1984-70332016v16n4a49">doi:10.1590/1984-70332016v16n4a49</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)
df_ge &lt;- ge_simula(ngen = 2,
                   nenv = 3,
                   nrep = 2) %&gt;%
         add_cols(ENV = c(rep("CACIQUE", 4),
                          rep("FREDERICO", 4),
                          rep("SANTA_MARIA", 4)))
df_ge

# Add sequential block numbering over environments
add_seq_block(df_ge, ENV, REP, prefix = "B")

# Recode the 'ENV' column to "ENV1", "ENV2", and so on.
recode_factor(df_ge,
              factor = ENV,
              prefix = "ENV",
              new_factor = ENV_CODE)

# Format the data to be used in the Selegen software (model 54)
df &lt;- df_to_selegen_54(df_ge, ENV, GEN, REP) %&gt;%
recode_factor(ENV, prefix = "E", new_factor = ENV)


</code></pre>


</div>