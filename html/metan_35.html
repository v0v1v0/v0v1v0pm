<div class="container">

<table style="width: 100%;"><tr>
<td>barplots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fast way to create bar plots</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>

<ul>
<li> <p><code>plot_bars()</code> Creates a bar plot based on one categorical variable and
one numeric variable.  It can be used to show the results of a one-way trial
with <strong>qualitative treatments</strong>.
</p>
</li>
<li> <p><code>plot_factbars()</code> Creates a bar plot based on two categorical
variables and one numeric variable.  It can be used to show the results of a
two-way trial with <strong>qualitative-qualitative treatment structure</strong>.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">plot_bars(
  .data,
  x,
  y,
  order = NULL,
  y.lim = NULL,
  y.breaks = waiver(),
  y.expand = 0.05,
  y.contract = 0,
  xlab = NULL,
  ylab = NULL,
  n.dodge = 1,
  check.overlap = FALSE,
  color.bar = "black",
  fill.bar = "gray",
  lab.bar = NULL,
  lab.bar.hjust = 0.5,
  lab.bar.vjust = -0.5,
  lab.bar.angle = 0,
  size.text.bar = 5,
  values = FALSE,
  values.hjust = 0.5,
  values.vjust = 1.5,
  values.angle = 0,
  values.digits = 2,
  values.size = 4,
  lab.x.hjust = 0.5,
  lab.x.vjust = 1,
  lab.x.angle = 0,
  errorbar = TRUE,
  stat.erbar = "se",
  width.erbar = NULL,
  level = 0.95,
  invert = FALSE,
  width.bar = 0.9,
  size.line = 0.5,
  size.text = 12,
  fontfam = "sans",
  na.rm = TRUE,
  verbose = FALSE,
  plot_theme = theme_metan()
)

plot_factbars(
  .data,
  ...,
  resp,
  y.lim = NULL,
  y.breaks = waiver(),
  y.expand = 0.05,
  y.contract = 0,
  xlab = NULL,
  ylab = NULL,
  n.dodge = 1,
  check.overlap = FALSE,
  lab.bar = NULL,
  lab.bar.hjust = 0.5,
  lab.bar.vjust = -0.5,
  lab.bar.angle = 0,
  size.text.bar = 5,
  values = FALSE,
  values.hjust = 0.5,
  values.vjust = 1.5,
  values.angle = 0,
  values.digits = 2,
  values.size = 4,
  lab.x.hjust = 0.5,
  lab.x.vjust = 1,
  lab.x.angle = 0,
  errorbar = TRUE,
  stat.erbar = "se",
  width.erbar = NULL,
  level = 0.95,
  invert = FALSE,
  col = TRUE,
  palette = "Spectral",
  width.bar = 0.9,
  legend.position = "bottom",
  size.line = 0.5,
  size.text = 12,
  fontfam = "sans",
  na.rm = TRUE,
  verbose = FALSE,
  plot_theme = theme_metan()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>The data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x, y</code></td>
<td>
<p>Argument valid for <code>plot_bars()</code> The variables to be mapped
to the <code>x</code> and <code>y</code> axes, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>Argument valid for <code>plot_bars()</code>. Controls the order of the
factor in the <code>x</code> axis. Defaults to the order of the factors in
<code>.data</code>. Use <code>order = "asce"</code> or <code>order = "desc"</code> to reorder
the labels to ascending or descending order, respectively, based on the
values of the variable <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.lim</code></td>
<td>
<p>The range of y axis. Defaults to <code>NULL</code> (maximum and
minimum values of the data set). New values can be inserted as <code>y.lim = c(y.min, y.max)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.breaks</code></td>
<td>
<p>The breaks to be plotted in the y-axis. Defaults to waiver().
<code style="white-space: pre;">⁠authomatic breaks⁠</code>. The same arguments than <code>x.breaks</code> can be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.expand, y.contract</code></td>
<td>
<p>A multiplication range expansion/contraction
factor. <code>y.expand</code> expands the upper limit of the y escale, while
<code>y.contract</code> contracts the lower limit of the y scale. By default
<code>y.expand = 0.05</code> and <code>y.contract = 0</code> produces a plot without
spacing in the lower y limit and an expansion in the upper y limit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>
<p>The labels of the axes x and y, respectively. Defaults to
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.dodge</code></td>
<td>
<p>The number of rows that should be used to render the x labels.
This is useful for displaying labels that would otherwise overlap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check.overlap</code></td>
<td>
<p>Silently remove overlapping labels, (recursively)
prioritizing the first, last, and middle labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.bar, fill.bar</code></td>
<td>
<p>Argument valid for <code>plot_bars()</code>. The color and
fill values of the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.bar</code></td>
<td>
<p>A vector of characters to show in each bar. Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.bar.hjust, lab.bar.vjust</code></td>
<td>
<p>The horizontal and vertical adjust for the
labels in the bar. Defaults to 0.5 and -0.5, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.bar.angle</code></td>
<td>
<p>The angle for the labels in the plot. Defaults to 0. Use
in combination with <code>lab.bar.hjust</code> and <code>lab.bar.vjust</code> to best
fit the labels in the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.text.bar</code></td>
<td>
<p>The size of the text in the bar labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Logical argument. Shows the values in the plot bar?
Defaults to <code>FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values.hjust, values.vjust</code></td>
<td>
<p>The horizontal and vertical adjust
for the values in the bar. Defaults to 0.5 and 1.5, respectively. If
<code>values = TRUE</code> the values are shown bellow the error bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values.angle</code></td>
<td>
<p>The angle for the labels in the plot. Defaults to 0.
Use in combination with <code>values.hjust</code> and <code>values.vjust</code>
to best fit the values in the plot bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values.digits</code></td>
<td>
<p>The significant digits to show if <code>values = TRUE</code>. Defaults to <code>2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values.size</code></td>
<td>
<p>The size of the text for values shown in the bars.
Defaults to <code>3</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.x.hjust, lab.x.vjust</code></td>
<td>
<p>The horizontal and vertical adjust for the
labels in the bar. Defaults to 0.5 and 1, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab.x.angle</code></td>
<td>
<p>The angle for the labels in x axis. Defaults to 0. Use
in combination with <code>lab.x.hjust</code> and <code>lab.x.vjust</code> to best
fit the labels in the axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorbar</code></td>
<td>
<p>Logical argument, set to TRUE. In this case, an error bar is
shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat.erbar</code></td>
<td>
<p>The statistic to be shown in the errorbar. Must be one of
the <code>stat.erbar = "se"</code> (standard error, default), <code>stat.erbar = "sd"</code> (standard deviation), or <code>stat.erbar = "ci"</code> (confidence
interval), based on the confidence level in the argument <code>level</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width.erbar</code></td>
<td>
<p>The width of the error bar. Defaults to 25% of
<code>width.bar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Logical argument. If <code>TRUE</code>, rotate the plot in
<code>plot_bars()</code> and invert the order of the factors in
<code>plot_factbars()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width.bar</code></td>
<td>
<p>The width of the bars in the graph. Defaults to 0.9.
Possible values are in the range 0-1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.line</code></td>
<td>
<p>The size of the line in the bars. Default to <code>0.5</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.text</code></td>
<td>
<p>The size of the text. Default to <code>12</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontfam</code></td>
<td>
<p>The family of the font text. Defaults to <code>"sans"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Should 'NA' values be removed to compute the statistics?
Defaults to true</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical argument. If TRUE a tibble containing the mean, N,
standard deviation, standard error of mean and confidence interval is
returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_theme</code></td>
<td>
<p>The graphical theme of the plot. Default is
<code>plot_theme = theme_metan()</code>. For more details, see
<code>ggplot2::theme()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Argument valid for <code>plot_factbars()</code>. A comma-separated list
of unquoted variable names. Sets the two variables to be mapped to the
<code>x</code> axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resp</code></td>
<td>
<p>Argument valid for <code>plot_factbars()</code>. The response variable
to be mapped to the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Logical argument valid for <code>plot_factbars()</code>. If
<code>FALSE</code>, a gray scale is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>Argument valid for <code>plot_factbars()</code> The color palette to
be used. For more details, see <code>?scale_colour_brewer</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.position</code></td>
<td>
<p>The position of the legend in the plot.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code style="white-space: pre;">⁠gg, ggplot⁠</code>.
</p>


<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code>plot_lines()</code>, <code>plot_factlines()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)
# two categorical variables
plot_factbars(data_ge2,
              GEN,
              ENV,
              resp = PH)

# one categorical variable
p1 &lt;- plot_bars(data_g, GEN, PH)
p2 &lt;- plot_bars(data_g, GEN, PH,
                n.dodge = 2, # two rows for x labels
                y.expand = 0.1, # expand y scale
                y.contract = -0.75, # contract the lower limit
                errorbar = FALSE, # remove errorbar
                color.bar = "red", # color of bars
                fill.bar = alpha_color("cyan", 75), # create a transparent color
                lab.bar = letters[1:13]) # add labels
arrange_ggplot(p1, p2)

</code></pre>


</div>