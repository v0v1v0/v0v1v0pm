<div class="container">

<table style="width: 100%;"><tr>
<td>wsmp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Weighting between stability and mean performance</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>This function computes the WAASY or WAASBY indexes (Olivoto et al., 2019)
considering different scenarios of weights for stability and mean
performance.
</p>
<p>After fitting a model with the functions <code>waas()</code> or
<code>waasb()</code> it is possible to compute the superiority indexes WAASY
or WAASBY in different scenarios of weights for stability and mean
performance. The number of scenarios is defined by the arguments
<code>increment</code>. By default, twenty-one different scenarios are computed. In
this case, the the superiority index is computed considering the following
weights: stability (waasb or waas) = 100; mean performance = 0. In other
words, only stability is considered for genotype ranking. In the next
iteration, the weights becomes 95/5 (since increment = 5). In the third
scenario, the weights become 90/10, and so on up to these weights become
0/100. In the last iteration, the genotype ranking for WAASY or WAASBY
matches perfectly with the ranks of the response variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">wsmp(
  model,
  mresp = 100,
  increment = 5,
  saveWAASY = 50,
  prob = 0.05,
  progbar = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An object computed with <code>waas()</code>, <code>waasb()</code>, or <code>mps()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mresp</code></td>
<td>
<p>A numeric value that will be the new maximum value after
rescaling. By default, the variable in <code>resp</code> is rescaled so that the
original maximum and minimum values are 100 and 0, respectively. Let us
consider that for a specific trait, say, lodging incidence, lower values
are better. In this case, you should use <code>mresp = 0</code> to rescale the
response variable so that the lowest values will become 100 and the highest
values 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>increment</code></td>
<td>
<p>The increment in the weight ratio for stability and mean
performance. Se the <strong>Details</strong> section for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveWAASY</code></td>
<td>
<p>Automatically save the WAASY values when the weight for
stability is <code>saveWAASY</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>The p-value for considering an interaction principal component
axis significant. must be multiple of <code>increment</code>. If this assumption
is not valid, an error will be occur.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progbar</code></td>
<td>
<p>A logical argument to define if a progress bar is shown.
Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>wsmp</code> with the following items for each
variable
</p>

<ul>
<li>
<p> When computed with <code>waas()</code> or <code>waasb()</code>.
</p>

<ul>
<li> <p><strong>scenarios</strong> A list with the model for all computed scenarios.
</p>
</li>
<li> <p><strong>WAASY</strong> The values of the WAASY estimated when the weight for the
stability in the loop match with argument <code>saveWAASY</code>.
</p>
</li>
<li> <p><strong>hetdata, hetcomb</strong> The data used to produce the heatmaps.
</p>
</li>
<li> <p><strong>Ranks</strong> All the values of WAASY estimated in the different
scenarios of WAAS/GY weighting ratio.
</p>
</li>
</ul>
</li>
<li>
<p> When computed with <code>mps()</code>
</p>
</li>
<li> <p><strong>hetcomb</strong> showing the rank for mean performance and stability in the different weights.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>References</h3>

<p>Olivoto, T., A.D.C. L\'ucio, J.A.G. da silva, V.S. Marchioro, V.Q. de
Souza, and E. Jost. 2019. Mean performance and stability in multi-environment
trials I: Combining features of AMMI and BLUP techniques. Agron. J.
<a href="https://doi.org/10.2134/agronj2019.03.0220">doi:10.2134/agronj2019.03.0220</a>
</p>


<h3>See Also</h3>

<p><code>resca()</code>, <code>mps()</code>, <code>mtmps()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)
# using the WAASB as statistic and BLUP as mean performance
# the same as using waasb()

model &lt;- mps(data_ge2,
             env = ENV,
             gen = GEN,
             rep = REP,
             resp = PH)
scenarios &lt;- wsmp(model)

</code></pre>


</div>