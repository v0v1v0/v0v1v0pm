<div class="container">

<table style="width: 100%;"><tr>
<td>can_corr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Canonical correlation analysis</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>
<p>Performs canonical correlation analysis with collinearity diagnostic,
estimation of canonical loads, canonical scores, and hypothesis testing for
correlation pairs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">can_corr(
  .data,
  FG,
  SG,
  by = NULL,
  use = "cor",
  test = "Bartlett",
  prob = 0.05,
  center = TRUE,
  stdscores = FALSE,
  verbose = TRUE,
  collinearity = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>The data to be analyzed. It can be a data frame (possible with
grouped data passed from <code>dplyr::group_by()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FG, SG</code></td>
<td>
<p>A comma-separated list of unquoted variable names that will
compose the first (smallest) and second (highest) group of the correlation
analysis, respectively. Select helpers are also allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>One variable (factor) to compute the function by. It is a shortcut
to <code>dplyr::group_by()</code>. To compute the statistics by more than
one grouping variable use that function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>The matrix to be used. Must be one of 'cor' for analysis using the
correlation matrix (default) or 'cov' for analysis using the covariance
matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>The test of significance of the relationship between the FG and
SG. Must be one of the 'Bartlett' (default) or 'Rao'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob</code></td>
<td>
<p>The probability of error assumed. Set to 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>Should the data be centered to compute the scores?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stdscores</code></td>
<td>
<p>Rescale scores to produce scores of unit variance?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical argument. If <code>TRUE</code> (default) then the results
are shown in the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collinearity</code></td>
<td>
<p>Logical argument. If <code>TRUE</code> (default) then a
collinearity diagnostic is performed for each group of variables according
to Olivoto et al.(2017).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>.data</code> is a grouped data passed from
<code>dplyr::group_by()</code> then the results will be returned into a
list-column of data frames.
</p>

<ul>
<li> <p><strong>Matrix</strong> The correlation (or covariance) matrix of the variables
</p>
</li>
<li> <p><strong>MFG, MSG</strong> The correlation (or covariance) matrix for the variables of
the first group or second group, respectively.
</p>
</li>
<li> <p><strong>MFG_SG</strong> The correlation (or covariance) matrix for the variables of the
first group with the second group.
</p>
</li>
<li> <p><strong>Coef_FG, Coef_SG</strong> Matrix of the canonical coefficients of the first
group or second group, respectively.
</p>
</li>
<li>
<p> Loads_FG, Loads_SG Matrix of the canonical loadings of the first group
or second group, respectively.
</p>
</li>
<li> <p><strong>Score_FG, Score_SG</strong> Canonical scores for the variables in FG and SG,
respectively.
</p>
</li>
<li> <p><strong>Crossload_FG, Crossload_FG</strong> Canonical cross-loadings for FG variables
on the SG scores, and cross-loadings for SG variables on the FG scores,
respectively.
</p>
</li>
<li> <p><strong>SigTest</strong> A dataframe with the correlation of the canonical pairs and
hypothesis testing results.
</p>
</li>
<li> <p><strong>collinearity</strong> A list with the collinearity diagnostic for each group of
variables.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>References</h3>

<p>Olivoto, T., V.Q. Souza, M. Nardino, I.R. Carvalho, M. Ferrari, A.J.
Pelegrin, V.J. Szareski, and D. Schmidt. 2017. Multicollinearity in path
analysis: a simple method to reduce its effects. Agron. J. 109:131-142.
<a href="https://doi.org/10.2134/agronj2016.04.0196">doi:10.2134/agronj2016.04.0196</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)

cc1 &lt;- can_corr(data_ge2,
               FG = c(PH, EH, EP),
               SG = c(EL, ED, CL, CD, CW, KW, NR))


# Canonical correlations for each environment
cc3 &lt;- data_ge2 %&gt;%
       can_corr(FG = c(PH, EH, EP),
                SG = c(EL, ED, CL, CD, CW, KW, NR),
                by = ENV,
                verbose = FALSE)


</code></pre>


</div>