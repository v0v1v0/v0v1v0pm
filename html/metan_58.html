<div class="container">

<table style="width: 100%;"><tr>
<td>corr_coef</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Linear and partial correlation coefficients</h2>

<h3>Description</h3>

<p>Computes Pearson's linear correlation or partial correlation with p-values
</p>


<h3>Usage</h3>

<pre><code class="language-R">corr_coef(
  data,
  ...,
  type = c("linear", "partial"),
  method = c("pearson", "kendall", "spearman"),
  use = c("pairwise.complete.obs", "everything", "complete.obs"),
  by = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data set. It understand grouped data passed from
<code>dplyr::group_by()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Variables to use in the correlation. If no variable is informed
all the numeric variables from <code>data</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>The type of correlation to be computed. Defaults to <code>"linear"</code>.
Use <code>type = "partial"</code> to compute partial correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating which partial correlation
coefficient is to be computed. One of "pearson" (default), "kendall", or
"spearman"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>an optional character string giving a method for computing
covariances in the presence of missing values. See stats::cor for more
details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>One variable (factor) to compute the function by. It is a shortcut
to <code>dplyr::group_by()</code>.This is especially useful, for example,
to compute correlation matrices by levels of a factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical argument. If <code>verbose = FALSE</code> the code is run
silently.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The partial correlation coefficient is a technique based on matrix operations
that allow us to identify the association between two variables by removing
the effects of the other set of variables present (Anderson 2003) A
generalized way to estimate the partial correlation coefficient between two
variables (i and j ) is through the simple correlation matrix that involves
these two variables and m other variables from which we want to remove the
effects. The estimate of the partial correlation coefficient between i and j
excluding the effect of m other variables is given by:
<script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script>
\[r_{ij.m} = \frac{{- {a_{ij}}}}{{\sqrt {{a_{ii}}{a_{jj}}}}}\]
</p>
<p>Where \(r_{ij.m}\) is the partial correlation coefficient between
variables i and j, without the effect of the other m variables;
\(a_{ij}\) is the ij-order element of the inverse of the linear
correlation matrix; \(a_{ii}\), and \(a_{jj}\) are the elements of
orders ii and jj, respectively, of the inverse of the simple correlation
matrix.
</p>


<h3>Value</h3>

<p>A list with the correlation coefficients and p-values
</p>


<h3>Author(s)</h3>

<p>Tiago Olivoto <a href="mailto:tiagoolivoto@gmail.com">tiagoolivoto@gmail.com</a>
</p>


<h3>References</h3>

<p>Anderson, T. W. 2003. An introduction to multivariate statistical analysis.
3rd ed. Wiley-Interscience.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(metan)

# All numeric variables
all &lt;- corr_coef(data_ge2)


# Select variable
sel &lt;-
  corr_coef(data_ge2,
            EP, EL, CD, CL)
sel$cor

# Select variables, partial correlation
sel &lt;-
  corr_coef(data_ge2,
            EP, EL, CD, CL,
            type = "partial")
sel$cor



</code></pre>


</div>