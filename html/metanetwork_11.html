<div class="container">

<table style="width: 100%;"><tr>
<td>ggmetanet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ggmetanet</h2>

<h3>Description</h3>

<p>Function that provides network static representation  (using 'ggnet') from a
'metanetwork' object using 'TL-tsne' or 'group-TL-tsne' layout.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggmetanet(
  metanetwork,
  g = NULL,
  beta = 0.1,
  legend = NULL,
  mode = "TL-tsne",
  edge_thrs = NULL,
  layout_metaweb = FALSE,
  nrep_ly = 1,
  flip_coords = FALSE,
  diff_plot_bool = FALSE,
  alpha_per_group = NULL,
  alpha_per_node = NULL,
  alpha_interactive = FALSE,
  ggnet.config = ggnet.default,
  TL_tsne.config = TL_tsne.default
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>metanetwork</code></td>
<td>
<p>object of class metanetwork</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>network (igraph object) to represent, default is metaweb</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>the diffusion parameter of the diffusion kernel, a positive scalar controlling the
vertical squeezing of the network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>resolution for the legend, legend resolution must be a coarser resolution than the resolution of g, default is NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>mode used for layout, 'TL-tsne' or 'group-TL-tsne' Default is 'TL-tsne'.
This argument can also be a two-column matrix for custom layout.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edge_thrs</code></td>
<td>
<p>if non-null, a numeric (between 0 and 1) indicating an edge threshold for the representation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layout_metaweb</code></td>
<td>
<p>a boolean indicating whether the layout of the metaweb should be used to represent the network
to use metaweb layout = TRUE, you need first to compute metaweb layout for this beta value using <code>attach_layout()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep_ly</code></td>
<td>
<p>If several layouts for this beta value are attached to the metaweb (if <code>layout_metaweb = T</code>), index of the layout to use, see <code>attach_layout()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip_coords</code></td>
<td>
<p>a boolean indicating whether coordinates should be flipped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff_plot_bool</code></td>
<td>
<p>boolean, do not edit by hand</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_per_group</code></td>
<td>
<p>controlling alpha per group (only for 'ggnet' vis), a list of format
<code>list(resolutions = "XX",groups = XX,alpha_focal = XX,alpha_hidden = XX)</code>, see example</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_per_node</code></td>
<td>
<p>controlling alpha per node (only for 'ggnet' vis), a list of format
<code>list(nodes = XX,alpha_focal = XX,alpha_hidden = XX)</code>, see example
In that case, y-axis is the trophic level and x-axis is the layout axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_interactive</code></td>
<td>
<p>a boolean indicating whether alpha (that is node transparency)
should be asked in interactive mode to the user</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggnet.config</code></td>
<td>
<p>configuration list for ggnet representation, default is ggnet.default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TL_tsne.config</code></td>
<td>
<p>configuration list for mode 'TL-tsne', default is TL_tsne.default</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>At each call of the function with 'TL-tsne' layout, it computes a layout for the current beta value.
If a layout is already attached to the current network, it uses directly this layout (without computing).
This function provides many static visualisation tools:
</p>

<ul>
<li>
<p> customising ggnet parameters wrapped in <code>ggnet.config</code>
</p>
</li>
<li>
<p> legending using the trophicTable
</p>
</li>
<li>
<p> playing on group transparency (alpha)
</p>
</li>
<li>
<p> using the metaweb layout
</p>
</li>
<li>
<p> building a legend for large networks.
</p>
</li>
</ul>
<h3>Value</h3>

<p>an object of class <code>ggplot</code>, the current network representation
</p>


<h3>See Also</h3>

<p><code>attach_layout()</code>,ggnet.default
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(metanetwork)
library(igraph)

#lattice example
g = make_lattice(dim = 2,length = 4,directed = TRUE)
#building metanetwork and computing trophic levels
meta0 = build_metanet(g) 
meta0 = compute_TL(meta0)
ggmetanet(meta0)
#storing layout
meta0 = attach_layout(meta0)
ggmetanet(meta0)

#custom ggnet parameters
ggnet.custom = ggnet.default
ggnet.custom$label = TRUE
ggnet.custom$edge.alpha = 0.5
ggnet.custom$alpha = 0.7
ggnet.custom$arrow.size = 1
ggnet.custom$max_size = 12

# using pre-computed layout and custom ggnet parametersfor vertebrates metaweb
data("meta_vrtb")
#custom ggnet parameters
ggnet.custom = ggnet.default
ggnet.custom$label = TRUE
ggnet.custom$edge.alpha = 0.5
ggnet.custom$alpha = 0.7
ggnet.custom$arrow.size = 1
ggnet.custom$max_size = 12
#at SBM group level
beta = 0.005
ggmetanet(meta_vrtb,g = meta_vrtb$metaweb_group,flip_coords = TRUE,
         beta = beta,legend = "group",
         ggnet.config = ggnet.custom,edge_thrs = 0.1)

</code></pre>


</div>