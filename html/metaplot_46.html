<div class="container">

<table style="width: 100%;"><tr>
<td>scatter_data_frame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scatterplot Function for Data Frame</h2>

<h3>Description</h3>

<p>Scatterplot function for class 'data.frame'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scatter_data_frame(
  x,
  yvar,
  xvar,
  groups = NULL,
  facets = NULL,
  log = metOption("log_scatter", FALSE),
  ylog = metOption("ylog_scatter", log),
  xlog = metOption("xlog_scatter", log),
  crit = metOption("crit_scatter", 1.3),
  yref = metOption("yref_scatter", "metaplot_ref"),
  xref = metOption("xref_scatter", "metaplot_ref"),
  ylab = metOption("ylab_scatter", "axislabel"),
  xlab = metOption("xlab_scatter", "axislabel"),
  ysmooth = metOption("ysmooth_scatter", FALSE),
  xsmooth = metOption("xsmooth_scatter", FALSE),
  iso = metOption("iso_scatter", FALSE),
  na.rm = metOption("na.rm_scatter", TRUE),
  aspect = metOption("aspect_scatter", 1),
  space = metOption("space_scatter", "right"),
  key = metOption("key_scatter", "metaplot_key"),
  as.table = metOption("as.table_scatter", TRUE),
  prepanel = metOption("prepanel_scatter", NULL),
  isoprepanel = metOption("isoprepanel_scatter", "iso_prepanel"),
  scales = metOption("scales_scatter", NULL),
  panel = metOption("panel_scatter", "scatter_panel"),
  points = metOption("points_scatter", TRUE),
  colors = metOption("colors_scatter", NULL),
  fill = metOption("fill_scatter", NULL),
  symbols = metOption("symbols_scatter", NULL),
  sizes = metOption("sizes_scatter", 1),
  types = metOption("types_scatter", "solid"),
  widths = metOption("widths_scatter", 1),
  lines = metOption("lines_scatter", FALSE),
  main = metOption("main_scatter", NULL),
  sub = metOption("sub_scatter", NULL),
  subscripts = metOption("subscripts_scatter", TRUE),
  settings = metOption("settings_scatter", NULL),
  padding = metOption("padding_scatter", 1),
  ref.col = metOption("ref.col_scatter", "grey"),
  ref.lty = metOption("ref.lty_scatter", "solid"),
  ref.lwd = metOption("ref.lwd_scatter", 1),
  ref.alpha = metOption("ref.alpha_scatter", 1),
  xref.col = metOption("xref.col_scatter", NULL),
  xref.lty = metOption("xref.lty_scatter", NULL),
  xref.lwd = metOption("xref.lwd_scatter", NULL),
  xref.alpha = metOption("xref.alpha_scatter", NULL),
  yref.col = metOption("yref.col_scatter", NULL),
  yref.lty = metOption("yref.lty_scatter", NULL),
  yref.lwd = metOption("yref.lwd_scatter", NULL),
  yref.alpha = metOption("yref.alpha_scatter", NULL),
  smooth.lty = metOption("smooth.lty_scatter", "dashed"),
  smooth.lwd = metOption("smooth.lwd_scatter", 1),
  smooth.alpha = metOption("smooth.alpha_scatter", 1),
  fit = metOption("fit_scatter", conf),
  fit.lty = metOption("fit.lty_scatter", "solid"),
  fit.lwd = metOption("fit.lwd_scatter", 1),
  fit.alpha = metOption("fit.alpha_scatter", 1),
  conf = metOption("conf_scatter", FALSE),
  conf.alpha = metOption("conf.alpha_scatter", 0.3),
  loc = metOption("loc_scatter", 0),
  global = metOption("global_scatter", FALSE),
  global.col = metOption("global.col_scatter", "grey"),
  global.fill = metOption("global.fill_scatter", "grey"),
  msg = metOption("msg_scatter", "metastats"),
  gg = metOption("gg_scatter", FALSE),
  verbose = metOption("verbose", FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yvar</code></td>
<td>
<p>character: y variable(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xvar</code></td>
<td>
<p>character: x variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>optional grouping variable; ignored if more than one <code>yvar</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facets</code></td>
<td>
<p>optional conditioning variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log</code></td>
<td>
<p>a default shared by <code>ylog</code> and <code>xlog</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylog</code></td>
<td>
<p>log transform y axis (auto-selected if NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlog</code></td>
<td>
<p>log transform x axis (auto-selected if NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit</code></td>
<td>
<p>if ylog or xlog missing, log transform if mean/median ratio for non-missing values is greater than crit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yref</code></td>
<td>
<p>reference line from y axis; can be function(x = x, var = yvar, ...) or NULL to suppress</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xref</code></td>
<td>
<p>reference line from x axis; can be function(x = x, var = xvar, ...) or NULL to suppress</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y axis label; can be function(x = x, var = yvar, log = ylog, ..)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x axis label; can be function(x = x, var = xvar, log = xlog, ..)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ysmooth</code></td>
<td>
<p>supply loess smooth of y on x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xsmooth</code></td>
<td>
<p>supply loess smmoth of x on y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iso</code></td>
<td>
<p>logical: plot line of unity (auto-selected if NA); can be a (partial) list of aesthetics (col, lty, lwd, alpha)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>whether to remove data points with one or more missing coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aspect</code></td>
<td>
<p>passed to <code>bwplot</code> or ggplot; use 'fill', NA, or NULL to calculate automatically</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>location of key (right, left, top, bottom)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>list: passed to <code>xyplot</code> as <code>auto.key</code> or to <code>theme</code>; can be a function groups name, groups levels, points, lines, space, gg, and ... .  See <code>metaplot_key</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.table</code></td>
<td>
<p>passed to <code>xyplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepanel</code></td>
<td>
<p>passed to <code>xyplot</code> (guessed if NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isoprepanel</code></td>
<td>
<p>passed to <code>xyplot</code> if iso is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>passed to <code>xyplot</code> or <code>facet_grid</code> or <code>facet_wrap</code> (guessed if NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>name or definition of panel function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>whether to plot points and fill for each group: logical, or alpha values between 0 and 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>replacements for default colors in group order; can be length one integer to auto-select that many colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>replacements for default fill colors in group order (means something different
for <code>densplot_data_frame</code> and <code>categorical_data_frame</code>). Used for confidence
regions and for filling symbols (pch 21:25).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbols</code></td>
<td>
<p>replacements for default symbols in group order (i.e. values of pch)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sizes</code></td>
<td>
<p>replacements for default symbol sizes in group order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>types</code></td>
<td>
<p>replacements for default line types in group order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>widths</code></td>
<td>
<p>replacements for default line widths in group order</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lines</code></td>
<td>
<p>whether to plot lines for each group: logical, or alpha values between 0 and 1. Points are connected in the order in which they appear in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>character, or a function of x, yvar, xvar, groups, facets, and log</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sub</code></td>
<td>
<p>character, or a function of x, yvar, xvar, groups, facets, and log</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subscripts</code></td>
<td>
<p>passed to <code>xyplot</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>settings</code></td>
<td>
<p>default parameter settings: a list from which matching elements are passed to lattice (as par.settings) or  to ggplot theme()  and facet_wrap() or facet_grid().  <code>ncol</code> and <code>nrow</code> are used as layout indices for lattice (for homology with facet_wrap). Also merged with ....</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>padding</code></td>
<td>
<p>numeric (will be recycled to length 4) giving plot margins in default units: top, right, bottom, left (in multiples of 5.5 points for ggplot)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.col</code></td>
<td>
<p>default shared by <code>xref.col</code> and <code>yref.col</code>; can be length one integer to auto-select that many colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.lty</code></td>
<td>
<p>default shared by <code>xref.lty</code> and <code>yref.lty</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.lwd</code></td>
<td>
<p>default shared by <code>xref.lwd</code> and <code>yref.lwd</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.alpha</code></td>
<td>
<p>default shared by <code>xref.alpha</code> and <code>yref.alpha</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xref.col</code></td>
<td>
<p>x reference line color (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xref.lty</code></td>
<td>
<p>x reference line type (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xref.lwd</code></td>
<td>
<p>x reference line size (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xref.alpha</code></td>
<td>
<p>x reference line alpha (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yref.col</code></td>
<td>
<p>y reference line color (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yref.lty</code></td>
<td>
<p>y reference line type (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yref.lwd</code></td>
<td>
<p>y reference line size (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yref.alpha</code></td>
<td>
<p>y reference line alpha (recycled)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.lty</code></td>
<td>
<p>smooth line type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.lwd</code></td>
<td>
<p>smooth line size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth.alpha</code></td>
<td>
<p>smooth alpha</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>draw a linear fit of y ~ x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.lty</code></td>
<td>
<p>fit line type</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.lwd</code></td>
<td>
<p>fit line size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.alpha</code></td>
<td>
<p>fit alpha</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>logical, or width for a confidence region around a linear fit; passed to <code>region</code>; <code>TRUE</code> defaults to 95 percent confidence interval; may not make sense if xlog is TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.alpha</code></td>
<td>
<p>alpha transparency for confidence region</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loc</code></td>
<td>
<p>where to print statistics on a panel; suppressed for grouped plots an facetted ggplots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global</code></td>
<td>
<p>if TRUE, xsmooth, ysmooth, fit, and conf are applied to all data rather than groupwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global.col</code></td>
<td>
<p>color for global aesthetics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>global.fill</code></td>
<td>
<p>fill color for global aesthetics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msg</code></td>
<td>
<p>a function to print text on a panel: called with x values, y values, and ....</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gg</code></td>
<td>
<p>logical: whether to generate <code>ggplot</code> instead of <code>trellis</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>generate messages describing process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed to called functions e.g.,  <code>region</code></p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>scatter_panel</code>
</p>
<p>Other bivariate plots: 
<code>iso_prepanel()</code>,
<code>metaplot.data.frame()</code>,
<code>scatter.data.frame()</code>,
<code>scatter()</code>
</p>
<p>Other metaplot: 
<code>boxplot_data_frame()</code>,
<code>categorical_data_frame()</code>,
<code>corsplom_data_frame()</code>,
<code>densplot_data_frame()</code>,
<code>metaplot_key()</code>,
<code>metaplot()</code>,
<code>test_metaplot()</code>
</p>
<p>Other scatter: 
<code>metaplot_key()</code>,
<code>scatter.data.frame()</code>,
<code>scatter_panel()</code>,
<code>scatter()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(magrittr)
library(dplyr)
attr(Theoph$conc,'label') &lt;- 'theophylline concentration'
attr(Theoph$conc,'guide') &lt;- 'mg/L'
attr(Theoph$Time,'label') &lt;- 'time'
attr(Theoph$Time,'guide') &lt;- 'h'
attr(Theoph$Subject,'guide') &lt;- '////'
scatter_data_frame(Theoph, 'conc', 'Time')
scatter_data_frame(Theoph, 'conc','Time', 'Subject')
scatter_data_frame(Theoph, 'conc','Time', facets = 'Subject')
scatter_data_frame(Theoph %&gt;% filter(conc &gt; 0), 'conc','Time', 'Subject',ylog = TRUE, yref = 5)
scatter_data_frame(Theoph, 'conc','Time', 'Subject',ylog = TRUE, yref = 5)
scatter_data_frame(Theoph, 'conc','Time', 'Subject',ysmooth = TRUE)
scatter_data_frame(Theoph, 'conc','Time', 'Subject',ysmooth = TRUE,global = TRUE)
scatter_data_frame(Theoph, 'conc','Time', conf = TRUE, loc = 3, yref = 6)
scatter_data_frame(Theoph, 'conc','Time', conf = TRUE, loc = 3, yref = 6)
</code></pre>


</div>