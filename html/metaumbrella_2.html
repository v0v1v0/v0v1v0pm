<div class="container">

<table style="width: 100%;"><tr>
<td>add.evidence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add evidence classes to “umbrella” objects</h2>

<h3>Description</h3>

<p>Add evidence classes to the factors included in an umbrella review.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add.evidence(
  x,
  criteria = "Ioannidis",
  class_I = c(n_studies = NA, total_n = NA, n_cases = NA, p_value = NA, I2 = NA,
    imprecision = NA, rob = NA, amstar = NA, egger_p = NA, esb_p = NA, JK_p = NA, pi =
    NA, largest_CI = NA),
  class_II = c(n_studies = NA, total_n = NA, n_cases = NA, p_value = NA, I2 = NA,
    imprecision = NA, rob = NA, amstar = NA, egger_p = NA, esb_p = NA, JK_p = NA, pi =
    NA, largest_CI = NA),
  class_III = c(n_studies = NA, total_n = NA, n_cases = NA, p_value = NA, I2 = NA,
    imprecision = NA, rob = NA, amstar = NA, egger_p = NA, esb_p = NA, JK_p = NA, pi =
    NA, largest_CI = NA),
  class_IV = c(n_studies = NA, total_n = NA, n_cases = NA, p_value = NA, I2 = NA,
    imprecision = NA, rob = NA, amstar = NA, egger_p = NA, esb_p = NA, JK_p = NA, pi =
    NA, largest_CI = NA),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class “umbrella”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria</code></td>
<td>
<p>the evidence criteria. It must be "GRADE", "Ioannidis" or "Personalized".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_I</code></td>
<td>
<p>a vector or list of threshold values required for reaching Class I in the Personalized criteria (see details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_II</code></td>
<td>
<p>a vector or list of threshold values required for reaching Class II in the Personalized criteria (see details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_III</code></td>
<td>
<p>a vector or list of threshold values required for reaching Class III in the Personalized criteria (see details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class_IV</code></td>
<td>
<p>a vector or list of threshold values required for reaching Class IV in the Personalized criteria (see details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical variable indicating whether text outputs and messages should be generated. We recommend turning this option to FALSE only after having carefully read all the generated messages.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>add.evidence()</code> function performs a stratification of evidence according to three criteria.
</p>


<h4><b>"Ioannidis" classification</b></h4>

<p>This classification allows to stratify evidence according to the criteria described in Fusar-Poli &amp; Radua (2018).
This classification proposes to stratify evidence in five ordinal classes: "Class I", "Class II", "Class III", "Class IV", "Class ns".
The criteria for each class are the following:
</p>

<ul>
<li> <p><b>Class I:</b> number of cases &gt; 1000, p-value of the meta-analysis &lt; <code class="reqn">10^-6</code>, <code class="reqn">I^2</code> &lt; 0.5, 95% prediction interval excluding the null, p-value of the Egger test &gt; .05 and p-value of the excess of statistical significance test &gt; .05.
</p>
</li>
<li> <p><b>Class II:</b> number of cases &gt; 1000, p-value of the meta-analysis &lt; <code class="reqn">10^-6</code>, largest study with a statistically significant effect and class I criteria not met.
</p>
</li>
<li> <p><b>Class III:</b> number of cases &gt; 1000, p-value of the meta-analysis &lt; <code class="reqn">10^-3</code> and class I-II criteria not met.
</p>
</li>
<li> <p><b>Class IV:</b> p-value of the meta-analysis &lt; 0.05 and class I-III criteria not met.
</p>
</li>
<li> <p><b>Class ns:</b> p-value of the meta-analysis &gt;= 0.05.
To apply this classification with R and Z effect size measures, you should indicate both the 'n_sample' AND the 'n_cases'.
</p>
</li>
</ul>
<h4><b>"GRADE" classification</b></h4>

<p>This classification allows to stratify evidence according to four ordinal classes: "High", "Moderate", "Low", "Very low".
Importantly, this classification should not be taken as an equivalent to the subjective approach underlying the standard GRADE classification
However, in line with the standard GRADE approach, this classification uses a downgrading procedure in which all factors start with a "High" evidence class that
could then be downgraded according to the following criteria:
</p>

<ul>
<li> <p><b>Imprecision:</b> a total number of participants included in the meta-analysis giving a lower power than 0.8 to detect a SMD = 0.20 leads to a downgrading of 1 class.
A number of participants giving a lower power than 0.8 to detect a SMD = 0.50, leads to a downgrading of 2 classes.
</p>
</li>
<li> <p><b>Limitations:</b> a proportion of participants included in studies at low risk of bias inferior to 75% leads to a downgrading of 1 class. A proportion inferior to 50% leads to a downgrading of 2 classes.
</p>
</li>
<li> <p><b>Publication bias:</b> a p-value of an Egger's test &lt; .10 leads to a downgrading of 1 class.
</p>
</li>
<li> <p><b>Inconsistency:</b> an <code class="reqn">I^2</code> value &gt;= 0.5 leads to a downgrading of 1 class.
This classification is not available for R and Z effect size measures.
</p>
</li>
</ul>
<h4><b>"Personalized" classification</b></h4>

<p>Because the "Ioannidis" and "GRADE" classifications do not necessarily provide a rating system that perfectly matches the requirements of your umbrella review, the <code>add.evidence()</code> function offers the possibility to use a "Personalized" criteria to stratify the evidence according to 13 criteria. This Personalized criteria proposes to stratify the evidence in 5 ordinal classes: "Class I", "Class II", "Class III", "Class IV" and "Class V". "Class I" is the highest class that could be achieved and "Class V" is the lowest.<br>
The overall class achieved by a factor is equal to the lowest class achieved by all the criteria used to stratify evidence. For example, if users choose to stratify the evidence according to 3 criteria (the p-value of the meta-analysis, the inconsistency, the publication bias), and that the classes achieved by these 3 criteria are respectively "Class I", "Class III" and "Class IV", the overall class reached by the factor will be "Class IV".<br>
To determine the class that should be assigned to a factor, users have to indicate - for each class - a vector/list of threshold values for all the criteria that are used to stratify the evidence.
A description of the criteria and their corresponding inputs is provided below:
</p>

<ol>
<li> <p><code>n_studies</code>: a number of studies included in the meta-analysis. If the number of studies included in the meta-analysis is <b>strictly superior</b> to the threshold value indicated in <code>studies</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>total_n</code>: a total number of participants included in the meta-analysis. If the total number of participants included in the meta-analysis is <b>strictly superior</b> to the threshold value indicated in <code>total_n</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>n_cases</code>: a number of cases included in the meta-analysis. If the number of cases included in the meta-analysis is <b>strictly superior</b> to the threshold value indicated in <code>cases</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>p_value</code>: a p-value of the pooled effect size under the random-effects model. If the p-value of the pooled effect size is <b>strictly inferior</b> to the threshold value indicated in <code>p.value</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>I2</code>: an i-squared (<code class="reqn">I^2</code>) value. If the <code class="reqn">I^2</code> value of the meta-analysis is <b>strictly inferior</b> to the threshold value indicated in <code>I2</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>imprecision</code>: a SMD value that will be used to calculate the statistical power of the meta-analysis. If the number of participants included in the meta-analyses allows to obtain a statistical power <b>strictly superior</b> to 80% for the SMD value indicated in <code>imprecision</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>rob</code>: a percentage of participants included in studies <b>at low risk of bias</b>. Note that the approach to determining whether a study is at low risk of bias is left to the user. If the percentage of participants included in studies at low risk of bias is <b>strictly superior</b> to the threshold value indicated in <code>rob</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>amstar</code>: an AMSTAR rating on the methodological quality of the meta-analysis. If the AMSTAR value of the meta-analysis is <b>strictly superior</b> to the threshold value indicated in <code>amstar</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>egger_p</code>: a p-value of an Egger's test for publication bias. If the p-value of the Egger's test is <b>strictly superior</b> to the threshold value indicated in <code>egger_p</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>esb_p</code>: a p-value of a test for excess of statistical significance bias (ESB). If the p-value  of the test is <b>strictly superior</b> to the threshold value indicated in <code>esb_p</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>JK_p</code>: the largest p-value obtained in the jackknife meta-analysis (JK). If the largest p-value obtained in the jackknife meta-analysis is <b>strictly inferior</b> to the threshold value indicated in <code>JK_p</code>, the class for which this value is indicated can be reached.
</p>
</li>
<li> <p><code>pi</code>: a "notnull" value indicates that users request the 95% prediction interval of the meta-analysis to exclude the null value to achieve the class for which it is indicated.
</p>
</li>
<li> <p><code>largest_CI</code>: a "notnull" value indicates that users request the 95% confidence interval of the largest study included in the meta-analysis to exclude the null value to achieve the class for which it is indicated.
</p>
</li>
</ol>
<h3>Value</h3>

<p>Return an object of class “umbrella” with the evidence classes added.
</p>


<h3>References</h3>

<p>Fusar-Poli, P., &amp; Radua, J. (2018). Ten simple rules for conducting umbrella reviews. <em>Evidence-Based Mental Health</em>, <b>21</b>, 95-100.
</p>


<h3>See Also</h3>

<p><code>umbrella()</code> for conducting an umbrella review.
</p>


<h3>Examples</h3>

<pre><code class="language-R">### perform calculations required for an umbrella review
df &lt;- subset(df.SMD, factor == "Surgical")
umb.full &lt;- umbrella(df)

### stratify evidence according to the Ioannidis classification
evid_ioannidis &lt;- add.evidence(umb.full, criteria = "Ioannidis")
summary(evid_ioannidis)

### stratify evidence according to the Personalized classification with
### the number of studies and cases, the inconsistency as criteria.
### - a class I can be reached if the number of studies is &gt; 10, the number of cases is &gt; 500 and
###   the I2 is &lt; 25%.
### - a class II can be reached if the number of studies is &gt; 5, the number of cases is &gt; 400 and
###   the I2 is &lt; 50%.
### - a class III can be reached if the number of cases is &gt; 300 and the I2 is &lt; 75%.
### - a class IV can be reached if the number of cases is &gt; 100.
### - else, if the number of cases is &lt;= 100, a class V is assigned.
evid_perso1 &lt;- add.evidence(umb.full, criteria = "Personalized",
   class_I = c(n_studies = 10, n_cases = 500, I2 = 25),
   class_II = c(n_studies = 5, n_cases = 400, I2 = 50),
   class_III = c(n_cases = 300, I2 = 75),
   class_IV = c(n_cases = 100))
summary(evid_perso1)
</code></pre>


</div>