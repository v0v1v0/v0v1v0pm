<div class="container">

<table style="width: 100%;"><tr>
<td>view.errors.umbrella</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Detect incorrect formatting of a dataset</h2>

<h3>Description</h3>

<p>Check the formatting of a dataset to ensure it can be passed to the functions of the <span class="pkg">metaumbrella</span> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">view.errors.umbrella(data, return = "data_and_messages")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return</code></td>
<td>
<p>the type of information returned by the function. Must be either "messages", "data_and_messages", or "data".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions included in the <span class="pkg">metaumbrella</span> package require very specific formatting of the dataset (see <code>metaumbrella-package</code>).
The <code>view.errors.umbrella()</code> function checks that a dataframe meets all requirements of the functions of the <span class="pkg">metaumbrella</span> package.
If this function finds some formatting issues, error messages describing the issues are produced and the rows / columns in which the issues occurred are identified.
</p>


<h3>Value</h3>

<p>Depending on the value passed to the <code>return</code> argument, different information is returned: </p>

<table>
<tr>
<td style="text-align: left;">
<code>"messages"</code> </td>
<td style="text-align: left;"> return global messages describing the different formatting issues.</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"data"</code> </td>
<td style="text-align: left;"> return the rows of the original dataset with formatting issues (see below).</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> </td>
</tr>
<tr>
<td style="text-align: left;">
<code>"data_and_messages"</code> </td>
<td style="text-align: left;"> return both (i) global messages describing the different formatting issues and</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> (ii) the rows of the original dataset with formatting issues (see below).
</td>
</tr>
</table>
<p>When returning a dataset (i.e., when <code>"data"</code> or <code>"data_and_messages"</code> are indicated in the return argument), the rows with problematic formatting are identified and
two new columns are added to the original dataset (<code>column_type_errors</code> and <code>column_errors</code>). These columns help to understand formatting issues. </p>

<ul>
<li>
<p> A <b>WARNING</b> value in the <code>column_type_errors</code> column indicates a potential issue that should be checked but that do not prevent calculations.
</p>
</li>
<li>
<p> An <b>ERROR</b> value in the <code>column_type_errors</code> column indicates an issue that must be solved before running calculations.
</p>
</li>
<li>
<p> The text in the <code>column_errors</code> describes the issues encountered for each problematic row.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">df.errors1 &lt;- df.errors2 &lt;- df.errors3 &lt;- df.errors4 &lt;- df.OR

### include some unknown measures
df.errors1$measure[c(1,4,12)] &lt;- "unknown_measure"
view.errors.umbrella(df.errors1, return = "data_and_messages")

### include some not numeric inputs while expected
df.errors2$value[c(2,13,15)] &lt;- c("a", "b", "c")
view.errors.umbrella(df.errors2, return = "data")

### make the lower bound of a confidence interval &gt; to the value
df.errors3$ci_lo[c(12,14,21)] &lt;- c(5,6,7)
view.errors.umbrella(df.errors3, return = "messages")

### create errors in sample sizes
df.errors4$n_cases_exp[c(5,10,15)] &lt;- c(100, 200, 300)
view.errors.umbrella(df.errors4, return = "data_and_messages")
</code></pre>


</div>