<div class="container">

<table style="width: 100%;"><tr>
<td>viz_sunset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sunset (power-enhanced) funnel plot</h2>

<h3>Description</h3>

<p>Creates a funnel plot with power regions and computes power-related statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">viz_sunset(
  x,
  y_axis = "se",
  true_effect = NULL,
  method = "FE",
  sig_level = 0.05,
  power_stats = TRUE,
  power_contours = "discrete",
  contours = FALSE,
  sig_contours = TRUE,
  text_size = 3,
  point_size = 2,
  xlab = "Effect",
  ylab = NULL,
  x_trans_function = NULL,
  x_breaks = NULL,
  y_breaks = NULL,
  x_limit = NULL,
  y_limit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame or matrix with the effect sizes of all studies (e.g.,
log odds ratios, or Cohen <em>d</em>) in the first column and their
respective standard errors in the second column. Alternatively, x can be the
output object of function <code>rma.uni</code> from package
<span class="pkg">metafor</span>; then effect sizes and standard errors are extracted from <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_axis</code></td>
<td>
<p>character string indicating which y axis should be used in the funnel plot. Available options are "se" (default) for
standard error and "precision" for the reciprocal of the standard error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_effect</code></td>
<td>
<p>numeric scalar. Which true effect should be assumed for power calculations? The default is <code>NULL</code>,
for which the meta-analytic summary effect is used (computed with <code>method</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>character string indicating the method used to compute the meta-analytic summary effect. Can be any method argument from <code>rma.uni</code>
(e.g., "FE" for the fixed effect model (default), or "DL" for the random effects model using the DerSimonian-Laird method to estimate <code class="reqn">\tau^2</code>).
If input <code>x</code> is an output object of function <code>rma.uni</code> from package <span class="pkg">metafor</span>, then the method is extracted from <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_level</code></td>
<td>
<p>logical scalar. For which significance level alpha should the study power be computed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power_stats</code></td>
<td>
<p>logical scalar. Should power-related statistics be computed and printed in the caption of the plot? (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power_contours</code></td>
<td>
<p>character string specifying how different power regions are plotted. Can be either "continuous"
or "discrete" (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contours</code></td>
<td>
<p>logical scalar indicating if classic funnel plot confidence contours and the summary effect
should be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_contours</code></td>
<td>
<p>logical scalar. Should significance contours be drawn (at the 0.05 or 0.01 level using a two-sided Wald test)?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text_size</code></td>
<td>
<p>numeric value. Size of text in the funnel plot. Default is 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>numeric value. Size of the study points in the funnel plot. Default is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>character string specifying the label of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>character string specifying the label of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_trans_function</code></td>
<td>
<p>function to transform the labels of the x axis. Common uses are to transform
log-odds-ratios or log-risk-ratios with <code>exp</code> to their original scale (odds ratios and risk ratios), or Fisher's z values
back to correlation coefficients using <code>tanh</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_breaks</code></td>
<td>
<p>numeric vector of values for the breaks on the x-axis. When used in tandem with <code>x_trans_function</code>
the supplied values should be not yet transformed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_breaks</code></td>
<td>
<p>numeric vector of values for the breaks on the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_limit</code></td>
<td>
<p>numeric vector of length two with user specified x axis limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_limit</code></td>
<td>
<p>numeric vector of length two with user specified y axis limits.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The funnel plot is the most widely used diagnostic plot in meta-analysis, primarily to assess
small-study effects. The sunset (power-enhanced) funnel plot incorporates study-level power information
in the funnel display. This directly allows to examine the power studies had to detect an effect of interest
(e.g., the observed meta-analytic summary effect), whether funnel plot asymmetry is driven by underpowered but significant studies, and to visually
assess if there is an excess of low-powered significant effects in the meta-analysis
(conceptually related to the test of excess significance, Ioannidis &amp; Trikalinos, 2007).
For effect sizes assumed to be normally distributed (e.g., Cohen d, log OR),
the power corresponding to a given standard error is computed by using a two-sided Wald test and (by default) the meta-analytic
summary effect as assumed true effect. Colored regions of different power levels and a second axis with study level power are shown in the
funnel plot. In addition, power-related statistics are shown: a) The median power of all studies, b) the true effect size necessary such that
the median power of the studies would have been 33% or 66%, c) results of a test of excess significance (Ioannidis &amp; Trikalinos, 2007), and d)
the R-Index for expected replicability (Schimmack, 2016).
</p>


<h3>Value</h3>

<p>A power enhanced ("sunset") funnel plot is created using ggplot2.
</p>


<h3>Author(s)</h3>

<p>Michael Kossmeier* &lt;michael.kossmeier@univie.ac.at&gt;
</p>
<p>Ulrich S. Tran* &lt;ulrich.tran@univie.ac.at&gt;
</p>
<p>Martin Voracek* &lt;martin.voracek@univie.ac.at&gt;
</p>
<p>*Department of Basic Psychological Research and Research Methods, School of Psychology, University of Vienna
</p>


<h3>References</h3>

<p>Ioannidis, J. P., &amp; Trikalinos, T. A. (2007). An exploratory test for an excess of significant
findings. <em>Clinical Trials</em>, <em>4</em>, 245-253.
</p>
<p>Schimmack, U. (2016). The replicability-index: Quantifying statistical research integrity.
Retrieved from https://replicationindex.wordpress.com/2016/01/31/a-revised-introduction-to-the-r-index/
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(metaviz)
# Create a power-enhanced ("sunset") funnel plot using confidence and significance contours
viz_sunset(x = homeopath[, c("d", "se")], contours = TRUE)
</code></pre>


</div>