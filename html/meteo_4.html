<div class="container">

<table style="width: 100%;"><tr>
<td>data.prepare</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare data</h2>

<h3>Description</h3>

<p>Function for data preparation for RFSI and STRK functions. It transforms data to a data.frame.</p>


<h3>Usage</h3>

<pre><code class="language-R">data.prepare(data,
             data.staid.x.y.z=NULL,
             obs.col=NULL,
             s.crs=NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>sf-class, sftime-class, SpatVector-class, SpatRaster-class or data.frame; Contains target variable (observations) and covariates. If data.frame object, it should have next columns: station ID (staid), longitude (x), latitude (y), 3rd component - time, depth, ... (z) of the observation, and observation value (obs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.staid.x.y.z</code></td>
<td>
<p>numeric or character vector; Positions or names of the station ID (staid), longitude (x), latitude (y) and 3rd component (z) columns in data.frame object (e.g. c(1,2,3,4)). If <code>data</code> is sf-class, sftime-class, or SpatVector-class object, <code>data.staid.x.y.z</code> is used to point staid and z position. Set z position to NA (e.g. c(1,2,3,NA)) or ommit it (e.g. c(1,2,3)) for spatial interpolation. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.col</code></td>
<td>
<p>numeric or character; Column name or number showing position of the observation column in the <code>data</code>. Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.crs</code></td>
<td>
<p>st_crs or crs; Source CRS of <code>data</code>. If <code>data</code> contains crs, <code>s.crs</code> will not be used. Default is NA.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>data.df</code></td>
<td>
<p>A data.frame obtained from <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.staid.x.y.z</code></td>
<td>
<p>Positions of the station ID (staid), longitude (x), latitude (y) and 3rd component (z) columns in data.frame object (e.g. c(1,2,3,4)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s.crs</code></td>
<td>
<p>Source CRS of <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs.col</code></td>
<td>
<p>Column number showing position of the observation column in the <code>data</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Aleksandar Sekulic <a href="mailto:asekulic@grf.bg.ac.rs">asekulic@grf.bg.ac.rs</a></p>


<h3>References</h3>

<p>Sekulić, A., Kilibarda, M., Heuvelink, G. B., Nikolić, M. &amp; Bajat, B. Random Forest Spatial Interpolation. Remote. Sens. 12, 1687, https://doi.org/10.3390/rs12101687 (2020).
</p>


<h3>See Also</h3>

<p><code>near.obs</code>
<code>rfsi</code>
<code>tune.rfsi</code>
<code>cv.rfsi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)
library(meteo)
library(sp)

# prepare data
demo(meuse, echo=FALSE)
meuse &lt;- meuse[complete.cases(meuse@data),]
data = st_as_sf(meuse, coords = c("x", "y"), crs = 28992, agr = "constant")
data.df &lt;- data.prepare(data,
                        obs.col="zinc")
str(data.df)
</code></pre>


</div>