<div class="container">

<table style="width: 100%;"><tr>
<td>get_meteo_from</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get meteorological stations data</h2>

<h3>Description</h3>

<p>Connect and retrieve data from AEMET, SMC and other Spanish meteorological stations services.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_meteo_from(
  service = c("aemet", "meteocat", "meteoclimatic", "meteogalicia", "ria"),
  options
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>service</code></td>
<td>
<p>Character with the service name (in lower case).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>options</code></td>
<td>
<p>List with the needed service options. See <code>services_options</code> to have more info
about the different services and their options.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Depending on the service and the temporal resolution selected, the variables present can change, but all
services have at least temperature values.
</p>


<h3>Value</h3>

<p>An sf (spatial) object with the stations meteorological data.
</p>


<h3>API limits</h3>

<p>Some APIs have limits in terms of the data that can be retrieved with one call. For example, AEMET
only serves daily data for 31 days in one query. See <code>vignette('api_limits', package = 'meteospain')</code>
for a detailed explanations of those limits and the ways to retrieve longer periods.
</p>


<h3>Cache</h3>

<p>In order to avoid unnecessary API calls, results of this function are cached in memory with
<code>memoise</code>. This means that subsequent calls from <code>get_meteo_from</code> with the same
arguments will be faster as they will not call the meteorological service API. This cache has a maximum
size of 1024 MB and persist 24 hours in the same R session after loading the package.
To forgot the cache, <code>memoise::forget(get_meteo_from)</code> can be used.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if (identical(Sys.getenv("NOT_CRAN"), "true")) {
  library(meteospain)
  library(keyring)

  # AEMET (we need a key)
  # key_set('aemet')
  options_for_aemet &lt;- aemet_options(
    'daily',
    start_date = as.Date('2012-01-01'),
    end_date = as.Date('2012-02-01'),
    api_key = key_get('aemet')
  )
  get_meteo_from('aemet', options_for_aemet)
}


</code></pre>


</div>