<div class="container">

<table style="width: 100%;"><tr>
<td>confusion_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confusion Matrix</h2>

<h3>Description</h3>

<p>It creates a confusion matrix table or plot displaying the agreement
between the observed and the predicted classes by the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">confusion_matrix(
  data = NULL,
  obs,
  pred,
  plot = FALSE,
  unit = "count",
  colors = c(low = NULL, high = NULL),
  print_metrics = FALSE,
  metrics_list = c("accuracy", "precision", "recall"),
  position_metrics = "top",
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(Optional) argument to call an existing data frame containing the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>Vector with observed values (character or factor).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>Vector with predicted values (character or factor).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>Logical operator (TRUE/FALSE) that controls the output as a
<code>data.frame</code> (plot = FALSE) or as a plot of type <code>ggplot</code> (plot = TRUE), Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>String (text) indicating the type of unit ("count" or "proportion")
to show in the confusion matrix, Default: 'count'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>Vector or list with two colors indicating how to paint the gradient
between "low" and "high", Default: c(low = NULL, high = NULL) uses the standard
blue gradient of ggplot2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print_metrics</code></td>
<td>
<p>boolean TRUE/FALSE to embed metrics in the plot. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics_list</code></td>
<td>
<p>vector or list of selected metrics to print on the plot.
Default: c("accuracy", "precision", "recall").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position_metrics</code></td>
<td>
<p>string specifying the position to print the performance
<code>metrics_list</code>. Options are "top" (as a subtitle) or "bottom" (as a caption).
Default: "bottom".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logic argument to remove rows with missing values
(NA). Default is na.rm = TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A confusion matrix is a method for summarizing the predictive performance of a classification algorithm.
It is particularly useful if you have an unbalanced number of observations belonging to each class or if you have
a multinomial dataset (more than two classes in your dataset. A confusion matrix can give you a good hint about
the types of errors that your model is making.
See <a href="https://adriancorrendo.github.io/metrica/articles/available_metrics_classification.html">online-documentation</a>
</p>


<h3>Value</h3>

<p>An object of class <code>data.frame</code> when plot = FALSE, or of type <code>ggplot</code>
when plot = TRUE.
</p>


<h3>References</h3>

<p>Ting K.M. (2017).
Confusion Matrix. <em>In: Sammut C., Webb G.I. (eds) Encyclopedia of Machine Learning and Data Mining.</em>
<em>Springer, Boston, MA.</em> <a href="https://doi.org/10.1007/978-1-4899-7687-1_50">doi:10.1007/978-1-4899-7687-1_50</a>
</p>


<h3>See Also</h3>

<p><code>eval_tidy</code>, <code>defusing-advanced</code>
<code>select</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(183)
# Two-class
binomial_case &lt;- data.frame(labels = sample(c("True","False"), 100, replace = TRUE),
predictions = sample(c("True","False"), 100, replace = TRUE))
# Multi-class
multinomial_case &lt;- data.frame(labels = sample(c("Red","Blue", "Green"), 100,
replace = TRUE), predictions = sample(c("Red","Blue", "Green"), 100, replace = TRUE))

# Plot two-class confusion matrix
confusion_matrix(data = binomial_case, obs = labels, pred = predictions, 
plot = TRUE, colors = c(low="pink" , high="steelblue"), unit = "count")

# Plot multi-class confusion matrix
confusion_matrix(data = multinomial_case, obs = labels, pred = predictions, 
plot = TRUE, colors = c(low="#f9dbbd" , high="#735d78"), unit = "count")

</code></pre>


</div>