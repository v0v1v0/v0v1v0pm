<div class="container">

<table style="width: 100%;"><tr>
<td>likelihood_ratios</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Likelihood Ratios (Classification)</h2>

<h3>Description</h3>

<p>It estimates the positive likelihood ratio <code>posLr</code>,
negative likelihood ratio <code>negLr</code>, and diagnostic odds ratio <code>dor</code>
for a nominal/categorical predicted-observed dataset.
</p>


<h3>Usage</h3>

<pre><code class="language-R">posLr(
  data = NULL,
  obs,
  pred,
  pos_level = 2,
  atom = FALSE,
  tidy = FALSE,
  na.rm = TRUE
)

negLr(
  data = NULL,
  obs,
  pred,
  pos_level = 2,
  atom = FALSE,
  tidy = FALSE,
  na.rm = TRUE
)

dor(
  data = NULL,
  obs,
  pred,
  pos_level = 2,
  atom = FALSE,
  tidy = FALSE,
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(Optional) argument to call an existing data frame containing the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>Vector with observed values (character | factor).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>Vector with predicted values (character | factor).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos_level</code></td>
<td>
<p>Integer, for binary cases, indicating the order (1|2) of the level
corresponding to the positive. Generally, the positive level is the second (2)
since following an alpha-numeric order, the most common pairs are
<code>(Negative | Positive)</code>, <code>(0 | 1)</code>, <code>(FALSE | TRUE)</code>. Default : 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>atom</code></td>
<td>
<p>Logical operator (TRUE/FALSE) to decide if the estimate is made for
each class (atom = TRUE) or at a global level (atom = FALSE); Default : FALSE.
When dataset is "binomial" atom does not apply.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tidy</code></td>
<td>
<p>Logical operator (TRUE/FALSE) to decide the type of return. TRUE
returns a data.frame, FALSE returns a list; Default : FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Logic argument to remove rows with missing values
(NA). Default is na.rm = TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The likelihood ratios are metrics designed to assess the expectations of
classification tasks. They are highly related to recall (sensitivity or true positive rate)
and specificity (selectivity or true negative rate).
</p>
<p>For a multiclass case, positive and negative results are class-wise. We can either
hit the actual class, or the actual non-class. For example, a classification
may have 3 potential results: cat, dog, or fish. Thus, when the actual value is dog,
the only true positive is dog, but we can obtain a true negative either by classifying
it as a cat or a fish. The posLr, negLr, and dor estimates are the mean across all classes.
</p>
<p>The positive likelihood ratio (posLr) measures the odds of obtaining a positive
prediction in cases that are actual positives.
</p>
<p>The negative likelihood ratio (negLr) relates the odds of obtaining a negative
prediction for actual non-negatives relative to the probability of actual negative
cases obtaining a negative prediction result.
</p>
<p>Finally, the diagnostic odds ratio (dor) measures the effectiveness of classification.
It represents the odds of a positive prediction result in actual (observed) positive
cases with respect to the odds of a positive prediction for the actual negative cases.
</p>
<p>The ratios are define as follows:
</p>
<p><code class="reqn">posLr = \frac{recall}{1+specificity} = \frac{TPR}{FPR}</code>
</p>
<p><code class="reqn">negLr = \frac{1-recall}{specificity} = \frac{FNR}{TNR}</code>
</p>
<p><code class="reqn">dor = \frac{posLr}{negLr}</code>
</p>
<p>For more details, see
<a href="https://adriancorrendo.github.io/metrica/articles/available_metrics_classification.html">online-documentation</a>
</p>


<h3>Value</h3>

<p>an object of class <code>numeric</code> within a <code>list</code> (if tidy = FALSE) or within a
<code style="white-space: pre;">⁠data frame⁠</code> (if tidy = TRUE).
</p>


<h3>References</h3>

<p>GlasaJeroen, A.S., Lijmer, G., Prins, M.H., Bonsel, G.J., Bossuyta, P.M.M. (2009).
The diagnostic odds ratio: a single indicator of test performance.
<em>Journal of Clinical Epidemiology 56(11): 1129-1135.</em> <a href="https://doi.org/10.1016/S0895-4356%2803%2900177-X">doi:10.1016/S0895-4356(03)00177-X</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(123)
# Two-class
binomial_case &lt;- data.frame(labels = sample(c("True","False"), 100, replace = TRUE), 
predictions = sample(c("True","False"), 100, replace = TRUE))
# Multi-class
multinomial_case &lt;- data.frame(labels = sample(c("Red","Blue", "Green"), 100, replace = TRUE),
predictions = sample(c("Red","Blue", "Green"), 100, replace = TRUE)    )

# Get posLr, negLr, and dor for a two-class case
posLr(data = binomial_case, obs = labels, pred = predictions, tidy = TRUE)
negLr(data = binomial_case, obs = labels, pred = predictions, tidy = TRUE)
dor(data = binomial_case, obs = labels, pred = predictions, tidy = TRUE)


</code></pre>


</div>