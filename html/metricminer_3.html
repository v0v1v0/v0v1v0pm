<div class="container">

<table style="width: 100%;"><tr>
<td>auth_from_secret</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use secrets to Authorize R package to access endpoints</h2>

<h3>Description</h3>

<p>This is a function to authorize metricminer to access calendly, github or google noninteractively from passing in a keys or tokens.
</p>


<h3>Usage</h3>

<pre><code class="language-R">auth_from_secret(
  app_name,
  token,
  access_token,
  refresh_token,
  cache = FALSE,
  in_test = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>app_name</code></td>
<td>
<p>Which app are you trying to authorize? 'google', 'calendly' or 'github'?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>For calendly or github, pass in the API key or Personal Access Token that you have set up from going to https://github.com/settings/tokens/new or https://calendly.com/integrations/api_webhooks respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>access_token</code></td>
<td>
<p>For Google, access token can be obtained from running authorize interactively: token &lt;-authorize(); token$credentials$access_token</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>refresh_token</code></td>
<td>
<p>For Google, refresh token can be obtained from running authorize interactively: token &lt;-authorize(); token$credentials$refresh_token</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>Should the credentials be cached? TRUE or FALSE?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in_test</code></td>
<td>
<p>If setting up auth in a test, set to TRUE so that way the authorization doesn't stick</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>OAuth token saved to the environment so the package access the API data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# Example for authorizing Calendly
# You go to https://calendly.com/integrations/api_webhooks to get an api key
auth_from_secret("calendly", token = "A_calendly_token_here")

# Example for GitHub
# You go to https://github.com/settings/tokens/new to get a Personal Access Token
auth_from_secret("github", token = "ghp_a_github_pat_here")

# Example for authorizing for Google
token &lt;- authorize("google")
auth_from_secret(
  app_name = "google",
  access_token = token$credentials$access_token,
  refresh_token = token$credentials$refresh_token
)

## End(Not run)

</code></pre>


</div>