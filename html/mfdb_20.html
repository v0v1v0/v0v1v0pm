<div class="container">

<table style="width: 100%;"><tr>
<td>mfdb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>MareFrame DB class</h2>

<h3>Description</h3>

<p>Create a class representing a connection to a MareFrame DB
</p>


<h3>Usage</h3>

<pre><code class="language-R">    mfdb(schema_name,
         db_params = list(),
         destroy_schema = FALSE,
         save_temp_tables = FALSE)

    mfdb_disconnect(mdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>schema_name</code></td>
<td>

<p>This can be one of:
</p>

<ol>
<li>
<p> Postgresql schema name
</p>
</li>
<li>
<p> A file path ending with "<code>.sqlite</code>" to connect to a SQLite file database
</p>
</li>
<li>
<p> A file path ending with "<code>.duckdb</code>" to connect to a DuckDB file database
</p>
</li>
</ol>
<p>If connecting to a SQLite/DuckDB database, <var>db_params</var> should remain empty (
<var>schema_name</var> will be used as a <code>dbname</code>).
</p>
<p>If connecting to a Postgres database, it can be used to
store any number of case studies, by storing them in separate
<em>schemas</em>. This parameter defines the schema to connect to,
and can contain any lower case characters or underscore.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>db_params</code></td>
<td>

<p>Extra parameters to supply to <code>DBI::dbConnect</code>. By default it will
search for a "mf" database locally, but you can override any of the parameters,
in particular <code>host</code>, <code>dbname</code>, <code>user</code>, <code>password</code>.
See <code>?RPostgres::Postgres</code> for more information.
</p>
<p>If <code>dbname</code> looks like a SQLite database filename,
then MFDB will use the <code>RSQLite</code> driver. If <code>dbdir</code> is set, then
MFDB will use the <code>duckdb</code> driver. Otherwise, <code>RPostgres</code> will
be used.
</p>
<p><var>db_params</var> can also be supplied by environment variable, for example
if a <code>MFDB_DBNAME</code> environment variable is set then it will be used
instead of any <code>dbname</code> supplied here.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destroy_schema</code></td>
<td>

<p>Optional boolean. If true, all mfdb tables will be destroyed when
connecting. This allows you to start populating your case study from
scratch if required. The function will return NULL, you need to call
<code>mfdb</code> again to connect, at which point the mfdb tables will be
recreated and you can populate with data again.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_temp_tables</code></td>
<td>

<p>Optional boolean. If true, any temporary tables will be made permanent
for later inspection.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mdb</code></td>
<td>

<p>Database connection created by <code>mfdb()</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A 'mfdb' object representing the DB connection</p>


<h3>Examples</h3>

<pre><code class="language-R"># Connect to a SQLite database file
mdb &lt;- mfdb(tempfile(fileext = '.sqlite'))
mfdb_disconnect(mdb)

## Not run: # NB: Requires a PostgreSQL installation, see README

# Connect to local DB, as the "examples" case study
mdb &lt;- mfdb('examples')
mfdb_disconnect(mdb)

# Connect to remote server, will prompt for username/password
if (interactive()) {
    mdb &lt;- mfdb('examples', db_params = list(host = "mfdb.rhi.hi.is"))
}


## End(Not run)
</code></pre>


</div>