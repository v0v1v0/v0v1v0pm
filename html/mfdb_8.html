<div class="container">

<table style="width: 100%;"><tr>
<td>gadget_directory</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Gadget directory objects</h2>

<h3>Description</h3>

<p>Structures representing a directory of data files
</p>


<h3>Usage</h3>

<pre><code class="language-R">gadget_directory(dir, mainfile = "main")
gadget_dir_write(gd, obj)
gadget_dir_read(gd, file_name, missing_okay = TRUE, file_type = c())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>

<p>Name of directory, will be created if it doesn't exist.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mainfile</code></td>
<td>

<p>Name of the GADGET mainfile to use.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gd</code></td>
<td>

<p>A <code>gadget_directory</code> object.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>

<p>The <code>gadget_file</code>, or <code>gadget_likelihood_component</code> to write.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>

<p>File to read out of the directory and turn into a <code>gadget_file</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_okay</code></td>
<td>

<p>If true, return an empty file instead of complaining that the given
file does not exist.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_type</code></td>
<td>

<p>A character vector that alters how the file is parsed. Currently either
NULL or "bare_component", which implies we write "something" instead of
"[something]".
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions handle reading and writing of files to a directory
containing GADGET model files.
</p>
<p>First a gadget_directory object needs to be created with <code>gadget_directory</code>,
this ensures the directory exists and stores the name of the mainfile to use.
</p>
<p>Any portion of a gadget model can then be written out with <code>gadget_dir_write</code>.
You do not need to tell it which files in the model to update, since this is worked
out based on what you are writing out.
</p>


<h3>Value</h3>

<p><code>gadget_directory</code> returns a list of class 'gadget_directory',
containing the location of the mainfile that the gadget configuration will use.
</p>
<p><code>gadget_dir_write</code> returns NULL
</p>
<p><code>gadget_dir_read</code> returns a gadget_file object from <code>read.gadget_file</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create a gadget directory
gd &lt;- gadget_directory(tempfile())

# Read in the likelihood file
likelihood &lt;- gadget_dir_read(gd, 'likelihood')

# Write out an area file to "(tempfile)/areas", replacing any existing file
gadget_dir_write(gd, gadget_file("areas", components = list(list(north = 1:3, south = 4:7))))

# Replace a likelihood component if one already exists with
# the same name/type or append it to the bottom
gadget_dir_write(gd, gadget_likelihood_component("understocking", name = "frank"))
</code></pre>


</div>