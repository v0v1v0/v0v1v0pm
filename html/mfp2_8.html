<div class="container">

<table style="width: 100%;"><tr>
<td>calculate_model_metrics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to compute model metrics to be used within <code>mfp2</code>
</h2>

<h3>Description</h3>

<p>Mostly used within an mfp step to compare between the different fp models
of a variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calculate_model_metrics(obj, n_obs, df_additional = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>a list returned by <code>fit_model()</code> representing a glm or Cox model
fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_obs</code></td>
<td>
<p>a numeric value indicating the number of observations for the
data used to fit <code>obj</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_additional</code></td>
<td>
<p>a numeric value indicating the number of additional
degrees of freedom to be accounted for in the computations of AIC and BIC.
These may be necessary when a model uses FP terms, as these add another
degree of freedom per estimated power.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric vector with the following entries:
</p>

<ul>
<li> <p><code>df</code>: number of degrees of freedom of model (i.e. coefficients plus
<code>df_additional</code>).
</p>
</li>
<li> <p><code>deviance_rs</code>: "deviance", i.e. minus twice the log likelihood.
This is not the usual definition of deviance used by R, which is defined as
twice the difference between the log likelihoods of the saturated model
(one parameter per observation) and the null (or reduced) model.
It is, however, the definition used in Royston and Sauerbrei (2008) and in
<code>mfp</code>. For selection of fps this does not really play a role, as the common
factor would be cancelled anyway when comparing models based on deviances.
</p>
</li>
<li> <p><code>sse</code>: sum of squared residuals as returned by <code>fit_model()</code>.
</p>
</li>
<li> <p><code>deviance_gaussian</code>: deviance computed by <code>deviance_gaussian()</code>,
applicable to Gaussian models and used for F-test computations.
</p>
</li>
<li> <p><code>aic</code>: Akaike information criterion, defined as
<code style="white-space: pre;">⁠-2logL + 2(df + df_additional)⁠</code>.
</p>
</li>
<li> <p><code>bic</code>: Bayesian information criterion, defined as
<code style="white-space: pre;">⁠-2logL + log(n_obs)(df + df_additional)⁠</code>.
</p>
</li>
<li> <p><code>df_resid</code>: residual degrees of freedom, defined as <code>n_obs - df</code>.
For consistency with stata we subtract the scale parameter from <code>df</code>.
</p>
</li>
</ul>
<h3>References</h3>

<p>Royston, P. and Sauerbrei, W., 2008. <em>Multivariable Model - Building:
A Pragmatic Approach to Regression Anaylsis based on Fractional Polynomials
for Modelling Continuous Variables. John Wiley &amp; Sons.</em><br></p>


</div>