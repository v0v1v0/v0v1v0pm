<div class="container">

<table style="width: 100%;"><tr>
<td>plot.ALE1D</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot 1D Accumulated Local Effects (ALE)</h2>

<h3>Description</h3>

<p>Plot 1D Accumulated Local Effects (ALE)
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ALE1D'
plot(x, trans = identity, maxpo = 10000, nsim = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a 1D ALE effects, produced by the <code>ALE</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>monotonic function to apply to the ALE effect, before plotting.
Monotonicity is not checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpo</code></td>
<td>
<p>maximum number of rug lines that will be used by <code>l_rug</code>.
If number of datapoints &gt; <code>maxpo</code>, then a subsample of <code>maxpo</code> points will be taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>number of ALE effect curves to be simulated from the posterior distribution.
These can be plotted using the l_simLine layer. See Examples section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>currently not used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An objects of class <code>plotSmooth</code>.
</p>


<h3>Author(s)</h3>

<p>Matteo Fasiolo and Christian Capezza, with some internal code having been adapted from the ALEPlot
package of Dan Apley.
</p>


<h3>References</h3>

<p>Apley, D.W., and Zhu, J, 2016. Visualizing the effects of predictor variables in black
box supervised learning models. arXiv preprint arXiv:1612.08468.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(mgcViz)
# Here x1 and x2 are very correlated, but only 
# x1 has influence of the response
set.seed(4141)
n &lt;- 1000
X &lt;- rmvn(n, c(0, 0), matrix(c(1, 0.9, 0.9, 1), 2, 2))
y &lt;- X[ , 1] + 0.2 * X[ , 1]^2 + rnorm(n, 0, 0.8)
dat &lt;- data.frame(y = y, x1 = X[ , 1], x2 = X[ , 2])
fit &lt;- gam(y ~ te(x1, x2), data = dat)

# Marginal plot suggests that E(y) depends on x2, but
# this is due to the correlation between x1 and x2...
plot(dat$x2, fit$fitted.values)

# ... in fact ALE effect of x2 is flat ...
plot(ALE(fit, "x2")) + l_ciPoly() + l_fitLine() + l_rug()

# ... while ALE effect of x1 is strong.
plot(ALE(fit, "x1", center = 2), nsim = 20) + 
  l_simLine() + l_fitLine()
  
</code></pre>


</div>