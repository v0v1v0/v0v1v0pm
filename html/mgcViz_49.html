<div class="container">

<table style="width: 100%;"><tr>
<td>plot.mgamViz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting multiple quantile GAMs</h2>

<h3>Description</h3>

<p>This function is similar to plot.gamViz, but it is used
to plot multiple quantile GAM models fitted using mqgamV or mqgam.
It allows plotting standards 1D and 2D smooths, and parametric effects,
It is basically a wrapper around plotting methods that are specific to
individual smooth effect classes (such as plot.multi.mgcv.smooth.1D).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mgamViz'
plot(x, n = 100, n2 = 40, select = NULL, allTerms = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>mgamViz</code>, the output of a getViz call. Alternatively x can
be a list of fitted GAM models, each having the same model formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of points used for each 1-d plot. For a nice smooth plot
this needs to be several times the estimated degrees of freedom for the smooth.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>square root of number of grid points used for plotting 2D functions effects
using contours or heatmaps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>allows plotting a subset of model terms. For instance, if you just want the plot
for the second smooth term, set <code>select = 2</code>. Parametric effects always come
after smooth or random effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allTerms</code></td>
<td>
<p>if <code>TRUE</code> also the parametric effects will be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters, such as <code>maxpo</code> or <code>trans</code>, to be passed to the specific
plotting methods for each effect (e.g. to plot.multi.mgcv.smooth.1D).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>c("plotGam", "gg")</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mgcViz)
set.seed(2) ## simulate some data...
dat &lt;- gamSim(1,n=500,dist="normal",scale=2)
dat$logi &lt;- as.logical( sample(c(TRUE, FALSE), nrow(dat), replace = TRUE) )

dat$fac &lt;- as.factor( sample(c("A1", "A2", "A3"), nrow(dat), replace = TRUE) )

# Fit GAM and get gamViz object
fit &lt;- mqgamV(y ~ fac + s(x0) + s(x1, x2) + x3 + logi, data = dat, 
              qu = c(0.2, 0.4, 0.6, 0.8))

print(plot(fit, select = 1:4, allTerms = T), pages = 1)

## Not run: 
# Example where we are fitting the same model to different datasets, but
# plotting the estimate effects together 
dat &lt;- list()
for(ii in 1:4){
  # Simulate 4 datasets, we are adding 2 factor variables "fac" and "ref" just
  # for illustrating the plotting method (the two factors have no effect on y)
  n &lt;- 1000
  dat[[ii]] &lt;- gamSim(1,n=n,dist="normal",scale=2)
  dat[[ii]]$fac &lt;- as.factor( sample(c("A1", "A2", "A3"), n, replace = TRUE) )
  dat[[ii]]$ref &lt;- as.factor( sample(letters[1:10], n, replace = TRUE) )
}

# Estimating model on each dataset
mods &lt;- list()
for(ii in 1:4){
  mods[[ii]] &lt;- gamV(y~s(x0)+s(x1, x2)+x3+fac+s(ref, bs = "re"), data = dat[[ii]])
}

# Names will be used to identify the four models we have fitted 
names(mods) &lt;- c("M1", "M2", "M3", "M4")
# Plotting on the same plots
print(plot.mgamViz(mods, allTerms = TRUE), pages = 1)

## End(Not run)

</code></pre>


</div>