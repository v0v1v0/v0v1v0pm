<div class="container">

<table style="width: 100%;"><tr>
<td>aidsCalc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Shares and Quantities of the Almost Ideal Demand System </h2>

<h3>Description</h3>

<p>Given prices, total expenditure and coefficients this function
calculates the demanded quantities and expenditure shares based
on the Almost Ideal Demand System.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aidsCalc( priceNames, totExpName, coef, data, priceIndex = "TL",
   basePrices = NULL, baseShares = NULL, shifterNames = NULL )

## S3 method for class 'aidsEst'
predict( object, newdata = NULL,
   observedShares = FALSE, ... )

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>priceNames</code></td>
<td>
<p>a vector of strings containing the names of the prices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>totExpName</code></td>
<td>
<p>a string containing the variable name of total expenditure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>a list containing the coefficients alpha, beta, gamma,
and (only for the translog price index) alpha0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priceIndex</code></td>
<td>
<p>a character string specifying the price index
(see <code>aidsPx</code>)
or a numeric vector providing the log values of the price index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basePrices</code></td>
<td>
<p>a vector specifying the base prices for the
Paasche, Laspeyres, and Tornqvist price index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseShares</code></td>
<td>
<p>a vector specifying the base expenditure shares for the
Laspeyres, simplified Laspeyres, and Tornqvist index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shifterNames</code></td>
<td>
<p>a vector of strings containing the names 
of the demand shifters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class <code>aidsEst</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>an optional data frame which should contain the variables
for the prediction.
If omitted, the data frame used for the estimation is used
also for the prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>observedShares</code></td>
<td>
<p>logical. Using observed shares? (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>currently not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>predict</code> method for objects of class <code>aidsEst</code>
extracts all relevant elements from an object returned by <code>aidsEst</code>
and passes them as arguments to <code>aidsCalc</code>.
The optional argument <code>observedShares</code> determines
whether fitted (default) or observed expenditure shares are
used in the price index of the LA-AIDS.
</p>


<h3>Value</h3>

<p><code>aidsCalc</code> and
the <code>predict</code> method for objects of class <code>aidsEst</code>
return a list with following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>shares</code></td>
<td>
<p>a data frame containing the calculated expenditure shares.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantities</code></td>
<td>
<p>a data frame containing the calculated quantites.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Arne Henningsen</p>


<h3>References</h3>

<p>Deaton, A.S. and J. Muellbauer (1980)
An Almost Ideal Demand System.
<em>American Economic Review</em>, 70, p. 312-326.
</p>


<h3>See Also</h3>

 <p><code>aidsEst</code>, <code>aidsPx</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">   data( Blanciforti86 )
   # Data on food consumption are available only for the first 32 years
   Blanciforti86 &lt;- Blanciforti86[ 1:32, ]

   priceNames &lt;- c( "pFood1", "pFood2", "pFood3", "pFood4" )
   shareNames &lt;- c( "wFood1", "wFood2", "wFood3", "wFood4" )

   ## LA-AIDS
   estResult &lt;- aidsEst( priceNames, shareNames, "xFood",
      data = Blanciforti86, priceIndex = "S" )

   # using observed shares in the Stone index
   lnp &lt;- aidsPx( "S", priceNames, Blanciforti86, shareNames )
   fitted &lt;- aidsCalc( priceNames, "xFood", coef = coef( estResult ),
      data = Blanciforti86, priceIndex = lnp )
   fitted$shares  # equal to estResult$wFitted
   fitted$quant   # equal to estResult$qFitted
   # now the same with the predict method
   fitted2 &lt;- predict( estResult, observedShares = TRUE )
   all.equal( fitted, fitted2 ) 

   # using fitted shares in the Stone index
   fitted &lt;- aidsCalc( priceNames, "xFood", coef = estResult$coef,
      data = Blanciforti86, priceIndex = "S" )
   # now the same with the predict method
   fitted2 &lt;- predict( estResult )
   all.equal( fitted, fitted2 ) 

   ## AIDS
   estResult &lt;- aidsEst( priceNames, shareNames, "xFood",
      data = Blanciforti86, method = "IL" )

   fitted &lt;- aidsCalc( priceNames, "xFood", coef = coef( estResult ),
      data = Blanciforti86 )

   fitted$shares  # equal to estResult$wFitted
   fitted$quant   # equal to estResult$qFitted

   fitted2 &lt;- predict( estResult )
   all.equal( fitted, fitted2 ) 
</code></pre>


</div>