<div class="container">

<table style="width: 100%;"><tr>
<td>distRayMonoRestr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Imposing Monotonicity on a Ray-Based Input Distance Function</h2>

<h3>Description</h3>

<p>Create a matrix and vector for imposing monotonicity 
on a ray-based input distance function
(Price &amp; Henningsen, forthcoming).
</p>


<h3>Usage</h3>

<pre><code class="language-R">distRayMonoRestr( xNames, yNames, zNames = NULL, sNames = NULL, 
  data, form = "tl", conDummy = NULL )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xNames</code></td>
<td>
<p>a vector of character strings 
containing the names of the variables
that indicate the input quantities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yNames</code></td>
<td>
<p>a vector of two or more character strings 
containing the names of the variables 
that indicate the output quantities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zNames</code></td>
<td>
<p>an optional vector of character strings 
containing the names of ‘environmental’ variables,
i.e., variables that affect the production possibility set
(i.e., the feasible combinations of input-output quantities)
that—in the case of a Translog functional form—should be interacted 
with the input quantities and the angles of the output vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sNames</code></td>
<td>
<p>an optional vector of character strings 
containing the names of ‘environmental’ variables,
i.e., variables that affect the production possibility set
(i.e., the feasible combinations of input-output quantities)
that—in the case of a Translog functional form—should not be interacted 
with the input quantities and the angles of the output vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame containing the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>a character string that indicates the functional form;
currently, <code>"cd"</code> for the Cobb-Douglas functional form
and <code>"tl"</code> for the Translog functional form are available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conDummy</code></td>
<td>
<p>an optional numeric vector indicating the positions
in argument <code>zNames</code> that are dummy variables
so that quadratic terms of these variables are omitted.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list that contains a matrix (<code>RMat</code>) 
and a vector (<code>rVec</code>).
</p>


<h3>Author(s)</h3>

<p>Arne Henningsen and Juan José Price</p>


<h3>References</h3>

<p>Price, J.J. &amp; Henningsen, A. (forthcoming):
A Ray-Based Input Distance Function to Model Zero-Valued Output Quantities: 
Derivation and an Empirical Application.
Journal of Productivity Analysis.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load and prepare data set 
data( appleProdFr86, package = "micEcon" )
appleProdFr86$qCap &lt;- appleProdFr86$vCap / appleProdFr86$pCap
appleProdFr86$qLab &lt;- appleProdFr86$vLab / appleProdFr86$pLab
appleProdFr86$qMat &lt;- appleProdFr86$vMat / appleProdFr86$pMat

# Cobb-Douglas ray-based input distance function (with manually set parameters)
estCD &lt;- distRayEst( xNames = c( "qCap", "qLab", "qMat" ),
  yNames = c( "qApples", "qOtherOut" ),
  data = appleProdFr86, form = "cd" )
summary( estCD )

# the vector of unrestricted coefficients and their covariance matrix
nCoefCD &lt;- length( coef( estCD ) ) - 2
uCoefCD &lt;- coef( estCD )[ 1:nCoefCD ]
uCovInvCD &lt;- solve( vcov( estCD )[ 1:nCoefCD, 1:nCoefCD ] )

# obtain the matrix and vector to impose monotonicity
restrCD &lt;- distRayMonoRestr( xNames = c( "qCap", "qLab", "qMat" ),
  yNames = c( "qApples", "qOtherOut" ), data = appleProdFr86,
  form = "cd" )

# obtain the restricted coefficients
library( "quadprog" )
minDistCD &lt;- solve.QP( Dmat = uCovInvCD, dvec = rep( 0, nCoefCD ),
  Amat = t( restrCD$RMat ), bvec = - restrCD$RMat %*% uCoefCD + restrCD$rVec )
rCoefCD &lt;- minDistCD$solution + uCoefCD


# Translog ray-based input distance function (with estimated parameters)
estTL &lt;- distRayEst( xNames = c( "qCap", "qLab", "qMat" ),
  yNames = c( "qApples", "qOtherOut" ),
  data = appleProdFr86 )
appleProdFr86$logDistTL &lt;- distRayCalc( xNames = c( "qCap", "qLab", "qMat" ),
  yNames= c( "qApples", "qOtherOut" ), data = appleProdFr86,
  coef = coef( estTL ) )
summary( appleProdFr86$logDistTL )

# the vector of unrestricted coefficients and their covariance matrix
nCoefTL &lt;- length( coef( estTL ) ) - 2
uCoefTL &lt;- coef( estTL )[ 1:nCoefTL ]
uCovInvTL &lt;- solve( vcov( estTL )[ 1:nCoefTL, 1:nCoefTL ] )

# obtain the matrix and vector to impose monotonicity
restrTL &lt;- distRayMonoRestr( xNames = c( "qCap", "qLab", "qMat" ),
  yNames = c( "qApples", "qOtherOut" ), data = appleProdFr86 )

# obtain the restricted coefficientslibrary( "quadprog" )
minDistTL &lt;- solve.QP( Dmat = uCovInvTL, dvec = rep( 0, nCoefTL ),
  Amat = t( restrTL$RMat ), bvec = - restrTL$RMat %*% uCoefTL + restrTL$rVec )
rCoefTL &lt;- minDistTL$solution + uCoefTL
</code></pre>


</div>