<div class="container">

<table style="width: 100%;"><tr>
<td>makeResiduals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate residuals based on variables in imputed data sets</h2>

<h3>Description</h3>

<p>Generate residuals based on variables in imputed data sets
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeResiduals(data, v, confounder, method = c("res", "cc", "pd"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>Vector of integers referring to the location of the variable(s) in the data set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confounder</code></td>
<td>
<p>Vector of integers referring to the location of the variable(s)
in the data set (confounders are not included in the network!)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Default method 'res' uses residuals, 'cc' uses complete cases
and 'pd' uses pairwise deletion</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data matrix of residuals.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(windspeed)
daten &lt;- mice::ampute(windspeed)$amp

# Impute missing values
imp &lt;- mice(daten, m = 5)

# Build residuals
knoten &lt;- 1:4
confounder &lt;- 5:6

# Residuals based on dataset with missing values
res.pd &lt;- makeResiduals(daten, v = knoten, confounder = confounder, method = "pd")

# Residuals based in multiple imputed data
residuals &lt;- list(data = list(), m = 5)
imp_c &lt;- mice::complete(imp, "all")
for (i in 1:imp$m){
   residuals$data[[i]] &lt;- makeResiduals(imp_c[[i]],
                          v = knoten, confounder = confounder)
 }

pc.res &lt;- pcMI(data = residuals, p = length(knoten), alpha = 0.05)
fci.res &lt;- fciMI(data = imp, p = length(knoten), alpha = 0.05)

if (requireNamespace("Rgraphviz", quietly = TRUE)){
oldpar &lt;- par(mfrow = c(1,2)) 
  plot(pc.res)
  plot(fci.res)
par(oldpar)
}

</code></pre>


</div>