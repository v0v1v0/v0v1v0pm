<div class="container">

<table style="width: 100%;"><tr>
<td>mice.impute.rf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Imputation by random forests</h2>

<h3>Description</h3>

<p>Imputes univariate missing data using random forests.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mice.impute.rf(
  y,
  ry,
  x,
  wy = NULL,
  ntree = 10,
  rfPackage = c("ranger", "randomForest"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector to be imputed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ry</code></td>
<td>
<p>Logical vector of length <code>length(y)</code> indicating the
the subset <code>y[ry]</code> of elements in <code>y</code> to which the imputation
model is fitted. The <code>ry</code> generally distinguishes the observed
(<code>TRUE</code>) and missing values (<code>FALSE</code>) in <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Numeric design matrix with <code>length(y)</code> rows with predictors for
<code>y</code>. Matrix <code>x</code> may have no missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wy</code></td>
<td>
<p>Logical vector of length <code>length(y)</code>. A <code>TRUE</code> value
indicates locations in <code>y</code> for which imputations are created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntree</code></td>
<td>
<p>The number of trees to grow. The default is 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rfPackage</code></td>
<td>
<p>A single string specifying the backend for estimating the
random forest. The default backend is the <code>ranger</code> package. The only
alternative currently implemented is the <code>randomForest</code> package, which
used to be the default in mice 3.13.10 and earlier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other named arguments passed down to
<code>mice:::install.on.demand()</code>, <code>randomForest::randomForest()</code> and
<code>randomForest:::randomForest.default()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Imputation of <code>y</code> by random forests. The method
calls <code>randomForrest()</code> which implements Breiman's random forest
algorithm (based on Breiman and Cutler's original Fortran code)
for classification and regression. See Appendix A.1 of Doove et al.
(2014) for the definition of the algorithm used.
</p>


<h3>Value</h3>

<p>Vector with imputed data, same type as <code>y</code>, and of length
<code>sum(wy)</code>
</p>


<h3>Note</h3>

<p>An alternative implementation was independently
developed by Shah et al (2014). This were available as
functions <code>CALIBERrfimpute::mice.impute.rfcat</code> and
<code>CALIBERrfimpute::mice.impute.rfcont</code> (now archived).
Simulations by Shah (Feb 13, 2014) suggested that
the quality of the imputation for 10 and 100 trees was identical,
so mice 2.22 changed the default number of trees from <code>ntree = 100</code> to
<code>ntree = 10</code>.
</p>


<h3>Author(s)</h3>

<p>Lisa Doove, Stef van Buuren, Elise Dusseldorp, 2012; Patrick Rockenschaub, 2021
</p>


<h3>References</h3>

<p>Doove, L.L., van Buuren, S., Dusseldorp, E. (2014), Recursive partitioning
for missing data imputation in the presence of interaction Effects.
Computational Statistics &amp; Data Analysis, 72, 92-104.
</p>
<p>Shah, A.D., Bartlett, J.W., Carpenter, J., Nicholas, O., Hemingway, H. (2014),
Comparison of random forest and parametric imputation models for
imputing missing data using MICE: A CALIBER study. American Journal
of Epidemiology, <a href="https://doi.org/10.1093/aje/kwt312">doi:10.1093/aje/kwt312</a>.
</p>
<p>Van Buuren, S. (2018).
<a href="https://stefvanbuuren.name/fimd/sec-cart.html"><em>Flexible Imputation of Missing Data. Second Edition.</em></a>
Chapman &amp; Hall/CRC. Boca Raton, FL.
</p>


<h3>See Also</h3>

<p><code>mice</code>, <code>mice.impute.cart</code>,
<code>randomForest</code>
<code>ranger</code>
</p>
<p>Other univariate imputation functions: 
<code>mice.impute.cart()</code>,
<code>mice.impute.lasso.logreg()</code>,
<code>mice.impute.lasso.norm()</code>,
<code>mice.impute.lasso.select.logreg()</code>,
<code>mice.impute.lasso.select.norm()</code>,
<code>mice.impute.lda()</code>,
<code>mice.impute.logreg.boot()</code>,
<code>mice.impute.logreg()</code>,
<code>mice.impute.mean()</code>,
<code>mice.impute.midastouch()</code>,
<code>mice.impute.mnar.logreg()</code>,
<code>mice.impute.mpmm()</code>,
<code>mice.impute.norm.boot()</code>,
<code>mice.impute.norm.nob()</code>,
<code>mice.impute.norm.predict()</code>,
<code>mice.impute.norm()</code>,
<code>mice.impute.pmm()</code>,
<code>mice.impute.polr()</code>,
<code>mice.impute.polyreg()</code>,
<code>mice.impute.quadratic()</code>,
<code>mice.impute.ri()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
imp &lt;- mice(nhanes2, meth = "rf", ntree = 3)
plot(imp)

## End(Not run)
</code></pre>


</div>