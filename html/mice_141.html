<div class="container">

<table style="width: 100%;"><tr>
<td>mice.impute.mpmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Imputation by multivariate predictive mean matching</h2>

<h3>Description</h3>

<p>Imputes multivariate incomplete data among which there are specific relations,
for instance, polynomials, interactions, range restrictions and sum scores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mice.impute.mpmm(data, format = "imputes", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>matrix with exactly two missing data patterns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>A character vector specifying the type of object that should
be returned. The default is <code>format = "imputes"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other named arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function implements the predictive mean matching and applies canonical
regression analysis to select donors fora set of missing variables. In general,
canonical regressionanalysis looks for a linear combination of covariates that
predicts a linear combination of outcomes (a set of missing variables)
optimally in a least-square sense (Israels, 1987). The predicted
value of the linear combination of the set of missing variables
would be applied to perform predictive mean matching.
</p>


<h3>Value</h3>

<p>A matrix with imputed data, which has <code>ncol(y)</code> columns and
<code>sum(wy)</code> rows.
</p>


<h3>Note</h3>

<p>The function requires variables in the block have the same missingness pattern.
If there are more than one missingness pattern, the function will return
a warning.
</p>


<h3>Author(s)</h3>

<p>Mingyang Cai and Gerko Vink
</p>


<h3>See Also</h3>

<p><code>mice.impute.pmm</code>
Van Buuren, S. (2018).
<a href="https://stefvanbuuren.name/fimd/sec-knowledge.html#sec:quadratic"><em>Flexible Imputation of Missing Data. Second Edition.</em></a>
Chapman &amp; Hall/CRC. Boca Raton, FL.
</p>
<p>Other univariate imputation functions: 
<code>mice.impute.cart()</code>,
<code>mice.impute.lasso.logreg()</code>,
<code>mice.impute.lasso.norm()</code>,
<code>mice.impute.lasso.select.logreg()</code>,
<code>mice.impute.lasso.select.norm()</code>,
<code>mice.impute.lda()</code>,
<code>mice.impute.logreg.boot()</code>,
<code>mice.impute.logreg()</code>,
<code>mice.impute.mean()</code>,
<code>mice.impute.midastouch()</code>,
<code>mice.impute.mnar.logreg()</code>,
<code>mice.impute.norm.boot()</code>,
<code>mice.impute.norm.nob()</code>,
<code>mice.impute.norm.predict()</code>,
<code>mice.impute.norm()</code>,
<code>mice.impute.pmm()</code>,
<code>mice.impute.polr()</code>,
<code>mice.impute.polyreg()</code>,
<code>mice.impute.quadratic()</code>,
<code>mice.impute.rf()</code>,
<code>mice.impute.ri()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># simulate data
beta2 &lt;- beta1 &lt;- .5
x &lt;- rnorm(1000)
e &lt;- rnorm(1000, 0, 1)
y &lt;- beta1 * x + beta2 * x^2 + e
dat &lt;- data.frame(y = y, x = x, x2 = x^2)
m &lt;- as.logical(rbinom(1000, 1, 0.25))
dat[m, c("x", "x2")] &lt;- NA

# impute
blk &lt;- list("y", c("x", "x2"))
meth &lt;- c("", "mpmm")
imp &lt;- mice(dat, blocks = blk, method = meth, print = FALSE,
    m = 2, maxit = 2)

# analyse and check
summary(pool(with(imp, lm(y ~ x + x2))))
with(dat, plot(x, x2, col = mdc(1)))
with(complete(imp), points(x[m], x2[m], col = mdc(2)))
</code></pre>


</div>