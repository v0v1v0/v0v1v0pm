<div class="container">

<table style="width: 100%;"><tr>
<td>futuremice</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrapper function that runs MICE in parallel</h2>

<h3>Description</h3>

<p>This is a wrapper function for <code>mice</code>, using multiple cores to
execute <code>mice</code> in parallel. As a result, the imputation
procedure can be sped up, which may be useful in general. By default,
<code>futuremice</code> distributes the number of imputations <code>m</code>
about equally over the cores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">futuremice(
  data,
  m = 5,
  parallelseed = NA,
  n.core = NULL,
  seed = NA,
  use.logical = TRUE,
  future.plan = "multisession",
  packages = NULL,
  globals = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or matrix containing the incomplete data. Similar to
the first argument of <code>mice</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>The number of desired imputated datasets. By default $m=5$ as with
<code>mice</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallelseed</code></td>
<td>
<p>A scalar to be used to obtain reproducible results over
the futures. The default <code>parallelseed = NA</code> will result in a seed value
that is randomly drawn between -999999999 and 999999999.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.core</code></td>
<td>
<p>A scalar indicating the number of cores that should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>A scalar to be used as the seed value for the mice algorithm
within each parallel stream. Please note that the imputations will be the
same for all streams and, hence, this should be used if and only if
<code>n.core = 1</code> and if it is desired to obtain the same output as under
<code>mice</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use.logical</code></td>
<td>
<p>A logical indicating whether logical (<code>TRUE</code>) or
physical (<code>FALSE</code>) CPU's on machine should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>future.plan</code></td>
<td>
<p>A character indicating how <code>future</code>s are resolved.
The default <code>multisession</code> resolves futures asynchronously (in parallel)
in separate <code>R</code> sessions running in the background. See
<code>plan</code> for more information on future plans.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>A character vector with additional packages to be used in 
<code>mice</code> (e.g., for using external imputation functions).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>globals</code></td>
<td>
<p>A character string with additional functions to be exported to
each future (e.g., user-written imputation functions).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Named arguments that are passed down to function <code>mice</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function relies on package <code>furrr</code>, which is a
package for R versions 3.2.0 and later. We have chosen to use furrr function
<code>future_map</code> to allow the use of <code>futuremice</code> on Mac, Linux and
Windows systems.
</p>
<p>This wrapper function combines the output of <code>future_map</code> with
function <code>ibind</code> from the <code>mice</code> package. A
<code>mids</code> object is returned and can be used for further analyses.
</p>
<p>A seed value can be specified in the global environment, which will yield
reproducible results. A seed value can also be specified within the
<code>futuremice</code> call, through specifying the argument
<code>parallelseed</code>. If <code>parallelseed</code> is not specified, a seed value is
drawn randomly by default, and accessible through <code>$parallelseed</code> in the
output object. Hence, results will always be reproducible, regardless of
whether the seed is specified in the global environment, or by setting the
same seed within the function (potentially by extracting the seed from the
<code>futuremice</code> output object.
</p>


<h3>Value</h3>

<p>A mids object as defined by <code>mids-class</code>
</p>


<h3>Author(s)</h3>

<p>Thom Benjamin Volker, Gerko Vink
</p>


<h3>References</h3>

<p>Volker, T.B. and Vink, G. (2022). futuremice: The future starts today.
<a href="https://www.gerkovink.com/miceVignettes/futuremice/Vignette_futuremice.html">https://www.gerkovink.com/miceVignettes/futuremice/Vignette_futuremice.html</a>
</p>
<p>#'Van Buuren, S. (2018).
<a href="https://stefvanbuuren.name/fimd/parallel-computation.html"><em>Flexible Imputation of Missing Data. Second Edition.</em></a>
Chapman &amp; Hall/CRC. Boca Raton, FL.
</p>


<h3>See Also</h3>

<p><code>future</code>, <code>furrr</code>, <code>future_map</code>,
<code>plan</code>, <code>mice</code>, <code>mids-class</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># 150 imputations in dataset nhanes, performed by 3 cores
## Not run: 
imp1 &lt;- futuremice(data = nhanes, m = 150, n.core = 3)
# Making use of arguments in mice.
imp2 &lt;- futuremice(data = nhanes, m = 100, method = "norm.nob")
imp2$method
fit &lt;- with(imp2, lm(bmi ~ hyp))
pool(fit)

## End(Not run)

</code></pre>


</div>