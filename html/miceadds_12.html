<div class="container">

<table style="width: 100%;"><tr>
<td>GroupMean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculation of Groupwise Descriptive Statistics for Matrices
</h2>

<h3>Description</h3>

<p>Calculates some groupwise descriptive statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GroupMean(data, group, weights=NULL, extend=FALSE, elim=FALSE)

GroupSum(data, group, weights=NULL, extend=FALSE)

GroupSD(data, group, weights=NULL, extend=FALSE)

# group mean of a variable
gm(y, cluster, elim=FALSE)

# centering within clusters
cwc(y, cluster)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>A numeric data frame
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>

<p>A vector of group identifiers
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>An optional vector of sample weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend</code></td>
<td>
<p>Optional logical indicating whether the group means (or sums)
should be extended to the original dimensions of the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elim</code></td>
<td>
<p>Logical indicating whether a case in a row should be removed
from the calculation of the mean in a cluster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>Cluster identifier</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame or a vector with groupwise calculated statistics
</p>


<h3>See Also</h3>

<p><code>mitml::clusterMeans</code>
</p>
<p><code>base::rowsum</code>,
<code>stats::aggregate</code>,
<code>stats::ave</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

#############################################################################
# EXAMPLE 1: Group means and standard deviations for data.ma02
#############################################################################

data(data.ma02, package="miceadds" )
dat &lt;- data.ma02[[1]] # select first dataset

#--- group means for read and math
GroupMean( dat[, c("read","math") ], group=dat$idschool )
# using rowsum
a1 &lt;- base::rowsum( dat[, c("read","math") ], dat$idschool )
a2 &lt;- base::rowsum( 1+0*dat[, c("read","math") ], dat$idschool )
(a1/a2)[1:10,]
# using aggregate
stats::aggregate(  dat[, c("read","math") ], list(dat$idschool), mean )[1:10,]

#--- extend group means to original dataset
GroupMean( dat[, c("read","math") ], group=dat$idschool, extend=TRUE )
# using ave
stats::ave( dat[, "read" ], dat$idschool  )
stats::ave( dat[, "read" ], dat$idschool, FUN=mean )

#--- group standard deviations
GroupSD( dat[, c("read","math") ], group=dat$idschool)[1:10,]
# using aggregate
stats::aggregate(  dat[, c("read","math") ], list(dat$idschool), sd )[1:10,]

#############################################################################
# EXAMPLE 2: Calculating group means and group mean centering
#############################################################################

data(data.ma07, package="miceadds")
dat &lt;- data.ma07

# compute group means
miceadds::gm( dat$x1, dat$id2 )
# centering within clusters
miceadds::cwc( dat$x1, dat$id2 )

# evaluate formula with model.matrix
X &lt;- model.matrix( ~ I( miceadds::cwc(x1, id2) ) + I( miceadds::gm(x1,id2) ), data=dat )
head(X)

## End(Not run)
</code></pre>


</div>