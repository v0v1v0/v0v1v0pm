<div class="container">

<table style="width: 100%;"><tr>
<td>mice.impute.weighted.pmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Imputation by Weighted Predictive Mean Matching or Weighted Normal Linear Regression
</h2>

<h3>Description</h3>

<p>Imputation by predictive mean matching or normal linear regression
using sampling weights.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mice.impute.weighted.pmm(y, ry, x, wy=NULL, imputationWeights=NULL,
      pls.facs=NULL, interactions=NULL, quadratics=NULL, donors=5, ...)

mice.impute.weighted.norm(y, ry, x, wy=NULL, ridge=1e-05, pls.facs=NULL,
     imputationWeights=NULL, interactions=NULL, quadratics=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Incomplete data vector of length <code>n</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ry</code></td>
<td>

<p>Vector of missing data pattern (<code>FALSE</code> – missing,
<code>TRUE</code> – observed)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix (<code>n</code> x <code>p</code>) of complete covariates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wy</code></td>
<td>
<p>Logical vector of length <code>length(y)</code>. A <code>TRUE</code> value indicates
locations in <code>y</code> for which imputations are created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>imputationWeights</code></td>
<td>

<p>Optional vector of sampling weights
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pls.facs</code></td>
<td>

<p>Number of factors in PLS regression (if used). The default is <code>NULL</code>
which means that no PLS regression is used for dimension reduction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interactions</code></td>
<td>

<p>Optional vector of variables for which interactions should be created
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quadratics</code></td>
<td>

<p>Optional vector of variables which should also be included as quadratic effects.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>donors</code></td>
<td>
<p>Number of donors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments to be passed
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ridge</code></td>
<td>

<p>Ridge parameter in the diagonal of <code class="reqn"> \bold{X}'\bold{X}</code>
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of length <code>nmis=sum(!ry)</code> with imputed values.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#############################################################################
# EXAMPLE 1: Imputation using sample weights
#############################################################################

data( data.ma01)
set.seed(977)

# select subsample
dat &lt;- as.matrix(data.ma01)
dat &lt;- dat[ 1:1000, ]

# empty imputation
imp0 &lt;- mice::mice( dat, maxit=0)

# redefine imputation methods
meth &lt;- imp0$method
meth[ meth=="pmm"  ] &lt;- "weighted.pmm"
meth[ c("paredu", "books", "migrant" ) ] &lt;- "weighted.norm"
# redefine predictor matrix
pm &lt;- imp0$predictorMatrix
pm[, 1:3 ] &lt;- 0
# do imputation
imp &lt;- mice::mice( dat, predictorMatrix=pm, method=meth,
           imputationWeights=dat[,"studwgt"], m=3, maxit=5)

## End(Not run)
</code></pre>


</div>