<div class="container">

<table style="width: 100%;"><tr>
<td>sumpreserving.rounding</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Sum Preserving Rounding
</h2>

<h3>Description</h3>

<p>This function implements sum preserving rounding. If the supplied
data is a matrix, then the sum of all row entries is preserved.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sumpreserving.rounding(data, digits=0, preserve=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Vector or data frame
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>

<p>Number of digits to be round
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preserve</code></td>
<td>

<p>Should the sum be preserved?
</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1:
#############################################################################

# define example data
data &lt;- c( 1455, 1261, 1067, 970, 582, 97 )
data &lt;- 100 * data / sum(data)

( x1 &lt;- round( data ) )
sum(x1)
(x2 &lt;- miceadds::sumpreserving.rounding( data ) )
sum(x2)

  ##   &gt; ( x1 &lt;- round( data ) )
  ##   [1] 27 23 20 18 11  2
  ##   &gt; sum(x1)
  ##   [1] 101
  ##   &gt; (x2 &lt;- miceadds::sumpreserving.rounding( data ) )
  ##   [1] 27 23 20 18 10  2
  ##   &gt; sum(x2)
  ##   [1] 100

#############################################################################
# EXAMPLE 2:
#############################################################################

# matrix input
data &lt;- rbind( data, data )
( x1 &lt;- round( data ) )
rowSums(x1)
(x2 &lt;- miceadds::sumpreserving.rounding( data ) )
rowSums(x2)

#############################################################################
# EXAMPLE 3:
#############################################################################

x2 &lt;- c( 1.4, 1.4, 1.2 )
round(x2)
sumpreserving.rounding(x2)
  ##   &gt; round(x2)
  ##   [1] 1 1 1
  ##   &gt; miceadds::sumpreserving.rounding(x2)
  ##   [1] 1 2 1
</code></pre>


</div>