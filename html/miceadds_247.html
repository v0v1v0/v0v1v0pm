<div class="container">

<table style="width: 100%;"><tr>
<td>syn.formula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Synthesizing Method for <span class="pkg">synthpop</span> Using a Formula Interface
</h2>

<h3>Description</h3>

<p>Defines a synthesizing method for for <span class="pkg">synthpop</span> using a formula interface.
</p>


<h3>Usage</h3>

<pre><code class="language-R">syn.formula(y, x, xp, proper=FALSE, syn_formula, syn_fun, syn_args, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Original data vector of length <code class="reqn">n</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix (<code class="reqn">n \times p</code>) of original covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xp</code></td>
<td>
<p>Matrix (<code class="reqn">k \times p</code>) of synthesised covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>proper</code></td>
<td>
<p>Logical value specifying whether proper synthesis should be conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syn_formula</code></td>
<td>
<p>A formula object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syn_fun</code></td>
<td>
<p>Synthesizing method in <span class="pkg">synthpop</span> package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syn_args</code></td>
<td>
<p>Function arguments of <code>syn_fun</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Further arguments to be passed
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When using the synthesis method <code>"mice"</code> in
<code>synthpop::syn</code>, the function arguments have to appear
as <code>rf.syn_formula</code>, <code>rf.syn_fun</code> and <code>rf.syn_args</code>
(convention in <span class="pkg">synthpop</span>).
</p>


<h3>Value</h3>

<p>A vector of length <code>k</code> with synthetic values of <code>y</code>.
</p>


<h3>See Also</h3>

<p><code>synthpop::syn</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#############################################################################
# EXAMPLE 1: SD2011 | using a formula for defining the regression model
#############################################################################

library(synthpop)

#** selection of dataset
data(SD2011, package="synthpop")
vars &lt;- c("sex","age","ls","smoke")
dat  &lt;- SD2011[1:1000, vars]
dat$ls &lt;- as.numeric(dat$ls)

#** default synthesis
imp0 &lt;- synthpop::syn(dat)
pred &lt;- imp0$predictor.matrix
method &lt;- imp0$method

#** use synthesizing method 'formula'
method["ls"] &lt;- "formula"
syn_fun &lt;- list( ls="normrank" )
syn_args &lt;- list( ls=list( smoothing="density" ) )
syn_formula &lt;- list( ls=~ sex + age + I(age^2) + I(age&gt;50) )

#* synthesize data
imp &lt;- synthpop::syn( dat, method=method, predictor.matrix=pred, k=2000, m=1,
            rf.syn_fun=syn_fun, rf.syn_args=syn_args, rf.syn_formula=syn_formula)
summary(imp)

## End(Not run)
</code></pre>


</div>