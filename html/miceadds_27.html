<div class="container">

<table style="width: 100%;"><tr>
<td>data.graham</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Datasets from Grahams <em>Missing Data</em> Book
</h2>

<h3>Description</h3>

<p>Datasets from Grahams missing data book (2012).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(data.graham.ex3)
data(data.graham.ex6)
data(data.graham.ex8a)
data(data.graham.ex8b)
data(data.graham.ex8c)
</code></pre>


<h3>Format</h3>


<ul>
<li>
<p> Dataset <code>data.graham.ex3</code>:
</p>
<p><code>'data.frame':   2756 obs. of  20 variables:</code> <br><code> $ school  : int  1 1 1 1 1 1 1 1 1 1 ...</code> <br><code> $ alc7    : int  1 1 1 7 3 6 1 5 4 3 ...</code> <br><code> $ rskreb71: int  1 3 1 2 1 NA 1 2 1 2 ...</code> <br><code> $ rskreb72: int  NA NA NA NA NA NA NA 3 2 3 ...</code> <br><code> $ rskreb73: int  NA NA NA NA NA NA NA 2 1 2 ...</code> <br><code> $ rskreb74: int  NA NA NA NA NA NA NA 3 2 4 ...</code> <br><code> $ likepa71: int  4 2 3 3 2 NA 1 4 3 3 ...</code> <br><code> $ likepa72: int  5 2 4 2 2 NA 5 3 3 2 ...</code> <br><code> $ likepa73: int  4 1 3 3 2 NA 1 3 2 3 ...</code> <br><code> $ likepa74: int  5 3 1 5 4 4 3 4 3 2 ...</code> <br><code> $ likepa75: int  4 4 4 4 3 3 4 4 3 3 ...</code> <br><code> $ posatt71: int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ posatt72: int  1 2 1 1 1 2 4 NA NA NA ...</code> <br><code> $ posatt73: int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ alc8    : int  1 8 4 8 5 7 1 3 5 3 ...</code> <br><code> $ rskreb81: int  1 4 1 2 2 3 2 3 1 4 ...</code> <br><code> $ rskreb82: int  NA NA NA NA NA NA NA 3 1 4 ...</code> <br><code> $ rskreb83: int  NA NA NA NA NA NA NA 2 1 2 ...</code> <br><code> $ rskreb84: int  NA NA NA NA NA NA NA 3 2 4 ...</code> <br><code> $ alc9    : int  3 NA 7 NA 5 7 NA 6 6 7 ...</code> <br></p>
</li>
<li>
<p> Dataset <code>data.graham.ex6</code>:
</p>
<p><code>'data.frame':   2756 obs. of  9 variables:</code> <br><code> $ school  : int  1 1 1 1 1 1 1 1 1 1 ...</code> <br><code> $ program : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ alc7    : int  1 1 1 7 3 6 1 5 4 3 ...</code> <br><code> $ riskreb7: int  1 3 1 2 1 NA 1 2 1 2 ...</code> <br><code> $ likepar7: int  4 2 3 3 2 NA 1 4 3 3 ...</code> <br><code> $ posatt7 : int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ alc8    : int  1 8 4 8 5 7 1 3 5 3 ...</code> <br><code> $ riskreb8: int  1 4 1 2 2 3 2 3 1 4 ...</code> <br><code> $ alc9    : int  3 NA 7 NA 5 7 NA 6 6 7 ...</code> <br></p>
</li>
<li>
<p> Dataset <code>data.graham.ex8a</code>:
</p>
<p><code>'data.frame':   1023 obs. of  20 variables:</code> <br><code> $ skill1 : int  28 29 27 29 29 NA NA NA 29 NA ...</code> <br><code> $ skill2 : int  NA NA 29 29 NA NA NA NA NA 21 ...</code> <br><code> $ skill3 : int  NA NA 29 29 29 NA 28 10 29 25 ...</code> <br><code> $ skill4 : int  NA 29 25 29 29 28 29 NA NA NA ...</code> <br><code> $ skill5 : int  29 29 28 28 29 NA 29 10 NA 25 ...</code> <br><code> $ iplanV1: int  14 18 15 17 16 NA NA NA 18 NA ...</code> <br><code> $ iplanV2: int  NA NA 17 16 NA NA NA NA NA 16 ...</code> <br><code> $ iplanV3: int  NA NA 16 18 18 NA 17 1 18 16 ...</code> <br><code> $ iplanV4: int  NA 18 14 18 14 6 18 NA NA NA ...</code> <br><code> $ iplanV5: int  13 18 12 18 18 NA 18 3 NA 5 ...</code> <br><code> $ planA1 : int  1 0 2 8 3 NA NA NA 7 NA ...</code> <br><code> $ planA2 : int  NA NA 0 4 NA NA NA NA NA 6 ...</code> <br><code> $ planA3 : int  NA NA 1 4 7 NA 2 0 1 7 ...</code> <br><code> $ planA4 : int  NA 8 0 4 6 0 0 NA NA NA ...</code> <br><code> $ planA5 : int  0 7 1 5 7 NA 2 0 NA 6 ...</code> <br><code> $ planV1 : int  NA NA NA NA NA NA NA NA NA NA ...</code> <br><code> $ planV2 : int  NA NA NA NA NA NA NA NA NA 1 ...</code> <br><code> $ planV3 : int  NA NA 1 NA NA NA NA 0 NA 1 ...</code> <br><code> $ planV4 : int  NA NA NA NA 2 NA NA NA NA NA ...</code> <br><code> $ planV5 : int  2 NA 2 NA NA NA NA 0 NA NA ...</code> <br></p>
</li>
<li>
<p> Dataset <code>data.graham.ex8b</code>:
</p>
<p><code>'data.frame':   2570 obs. of  6 variables:</code> <br><code> $ rskreb71: int  1 3 1 2 1 NA 1 2 1 2 ...</code> <br><code> $ rskreb72: int  NA NA NA NA NA NA NA 3 2 3 ...</code> <br><code> $ posatt71: int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ posatt72: int  1 2 1 1 1 2 4 NA NA NA ...</code> <br><code> $ posatt73: int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ posatt  : int  3 4 3 3 3 6 6 NA NA NA ...</code> <br></p>
</li>
<li>
<p> Dataset <code>data.graham.ex8c</code>:
</p>
<p><code>'data.frame':   2756 obs. of  16 variables:</code> <br><code> $ s1      : int  1 1 1 1 1 1 1 1 1 1 ...</code> <br><code> $ s2      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s3      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s4      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s5      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s6      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s7      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s8      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s9      : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s10     : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ s11     : int  0 0 0 0 0 0 0 0 0 0 ...</code> <br><code> $ xalc7   : int  1 1 1 7 3 6 1 5 4 3 ...</code> <br><code> $ rskreb72: int  NA NA NA NA NA NA NA 3 2 3 ...</code> <br><code> $ likepa71: int  4 2 3 3 2 NA 1 4 3 3 ...</code> <br><code> $ posatt71: int  1 1 1 1 1 2 1 NA NA NA ...</code> <br><code> $ alc8    : int  1 8 4 8 5 7 1 3 5 3 ...</code> <br></p>
</li>
</ul>
<h3>Source</h3>

<p>The datasets were downloaded from
http://methodology.psu.edu/pubs/books/missing.
</p>


<h3>References</h3>

<p>Graham, J. W. (2012). <em>Missing data</em>. New York: Springer.
<a href="https://doi.org/10.1007/978-1-4614-4018-5">doi:10.1007/978-1-4614-4018-5</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(mitools)
library(mice)
library(Amelia)
library(jomo)

#############################################################################
# EXAMPLE 1: data.graham.8a | Imputation under multivariate normal model
#############################################################################

data(data.graham.ex8a)
dat &lt;- data.graham.ex8a
dat &lt;- dat[,1:10]
vars &lt;- colnames(dat)
V &lt;- length(vars)
# remove persons with completely missing data
dat &lt;- dat[ rowMeans( is.na(dat) ) &lt; 1, ]
summary(dat)

# some descriptive statistics
psych::describe(dat)

#**************
# imputation under a multivariate normal model
M &lt;- 7  # number of imputations

#--------- mice package
# define imputation method
impM &lt;- rep("norm", V)
names(impM) &lt;- vars
# mice imputation
imp1a &lt;- mice::mice( dat, method=impM, m=M, maxit=4 )
summary(imp1a)
# convert into a list of datasets
datlist1a &lt;- miceadds::mids2datlist(imp1a)

#--------- Amelia package
imp1b &lt;- Amelia::amelia( dat, m=M )
summary(imp1b)
datlist1b &lt;- imp1b$imputations

#--------- jomo package
imp1c &lt;- jomo::jomo1con(Y=dat, nburn=100, nbetween=10, nimp=M)
str(imp1c)
# convert into a list of datasets
datlist1c &lt;- miceadds::jomo2datlist(imp1c)

# alternatively one can use the jomo wrapper function
imp1c1 &lt;- jomo::jomo(Y=dat, nburn=100, nbetween=10, nimp=M)

#############################################################################
# EXAMPLE 2: data.graham.8b | Imputation with categorical variables
#############################################################################

data(data.graham.ex8b)
dat &lt;- data.graham.ex8b
vars &lt;- colnames(dat)
V &lt;- length(vars)

# descriptive statistics
psych::describe(dat)

#*******************************
# imputation in mice using predictive mean matching
imp1a &lt;- mice::mice( dat, m=5, maxit=10)
datlist1a &lt;- mitools::imputationList( miceadds::mids2datlist(imp1a) )
print(datlist1a)

#*******************************
# imputation in jomo treating all variables as categorical

# Note that variables must have values from 1 to N
# use categorize function from sirt package here
dat.categ &lt;- sirt::categorize( dat, categorical=colnames(dat), lowest=1 )
dat0 &lt;- dat.categ$data

# imputation in jomo treating all variables as categorical
Y_numcat &lt;- apply( dat0, 2, max, na.rm=TRUE )
imp1b &lt;- jomo::jomo1cat(Y.cat=dat0, Y.numcat=Y_numcat, nburn=100,
                 nbetween=10, nimp=5)

# recode original categories
datlist1b &lt;- sirt::decategorize( imp1b, categ_design=dat.categ$categ_design )
# convert into a list of datasets
datlist1b &lt;- miceadds::jomo2datlist(datlist1b)
datlist1b &lt;- mitools::imputationList( datlist1b )

# Alternatively, jomo can be used but categorical variables must be
# declared as factors
dat &lt;- dat0
# define two variables as factors
vars &lt;- miceadds::scan.vec(" rskreb71 rskreb72")
for (vv in vars){
    dat[, vv] &lt;- as.factor( dat[,vv] )
          }
# use jomo
imp1b1 &lt;- jomo::jomo(Y=dat, nburn=30, nbetween=10, nimp=5)

#****************************
# compare frequency tables for both imputation packages
fun_prop &lt;- function( variable ){
            t1 &lt;- table(variable)
            t1 / sum(t1)
                }

# variable rskreb71
res1a &lt;-  with( datlist1a, fun_prop(rskreb71) )
res1b &lt;-  with( datlist1b, fun_prop(rskreb71) )
summary( miceadds::NMIcombine(qhat=res1a, NMI=FALSE ) )
summary( miceadds::NMIcombine(qhat=res1b, NMI=FALSE ) )

# variable posatt
res2a &lt;-  with( datlist1a, fun_prop(posatt) )
res2b &lt;-  with( datlist1b, fun_prop(posatt) )
summary( miceadds::NMIcombine(qhat=res2a, NMI=FALSE ) )
summary( miceadds::NMIcombine(qhat=res2b, NMI=FALSE ) )

## End(Not run)
</code></pre>


</div>