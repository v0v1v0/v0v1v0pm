<div class="container">

<table style="width: 100%;"><tr>
<td>filename_split</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Some Functionality for Strings and File Names
</h2>

<h3>Description</h3>

<p>The function <code>filename_split</code> splits a file name into parts.
</p>
<p>The function <code>string_extract_part</code> extracts a part of a string.
</p>
<p>The function <code>string_to_matrix</code> converts a string into a matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filename_split(file_name, file_sep="__", file_ext=".")
filename_split_vec( file_names, file_sep="__", file_ext=".")

string_extract_part( vec, part=1, sep="__", remove_empty=TRUE )

string_to_matrix(x, rownames=NULL, col_elim=NULL, as_numeric=FALSE,
               diag_val=NULL, extend=FALSE, col1_numeric=FALSE, split=" ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>

<p>File name
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_names</code></td>
<td>
<p>File names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_sep</code></td>
<td>

<p>Separator within file name
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_ext</code></td>
<td>

<p>Separator for file extension
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p>Vector with strings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>part</code></td>
<td>
<p>Integer indicating the part of the string to be selected</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>String separator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_empty</code></td>
<td>
<p>Logical indicating whether empty entries (<code>" "</code>")
should be removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>String vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rownames</code></td>
<td>
<p>Column index for row names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_elim</code></td>
<td>
<p>Indices for elimination of columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_numeric</code></td>
<td>
<p>Logical indicating whether numeric conversion is requested</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag_val</code></td>
<td>
<p>Optional values for inclusion in diagonal of matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extend</code></td>
<td>
<p>Optional indicating whether numeric matrix should be
extended to become a symmetric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col1_numeric</code></td>
<td>
<p>Logical indicating whether second column is selected in such
a way that it has to be always a numeric (see Example 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>String used for splitting</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with components of the file name (see Examples).
</p>


<h3>See Also</h3>

<p><code>files_move</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1: Demonstration example for filename_split
#############################################################################

# file name
file_name &lt;- "pisa_all_waves_invariant_items_DATA_ITEMS_RENAMED__DESCRIPTIVES__2016-10-12_1000.csv"

# apply function
miceadds::filename_split( file_name )
  ##  $file_name
  ##  [1] "pisa_all_waves_invariant_items_DATA_ITEMS_RENAMED__DESCRIPTIVES__2016-10-12_1000.csv"
  ##  $stem
  ##  [1] "pisa_all_waves_invariant_items_DATA_ITEMS_RENAMED__DESCRIPTIVES"
  ##  $suffix
  ##  [1] "2016-10-12_1000"
  ##  $ext
  ##  [1] "csv"
  ##  $main
  ##  [1] "pisa_all_waves_invariant_items_DATA_ITEMS_RENAMED__DESCRIPTIVES.csv"

#############################################################################
# EXAMPLE 2: Example string_extract_part
#############################################################################

vec &lt;- c("ertu__DES", "ztu__DATA", "guzeuue745_ghshgk34__INFO", "zzu78347834_ghghwuz")

miceadds::string_extract_part( vec=vec, part=1, sep="__" )
miceadds::string_extract_part( vec=vec, part=2, sep="__" )
  ##  &gt; miceadds::string_extract_part( vec=vec, part=1, sep="__" )
  ##  [1] "ertu"                "ztu"                 "guzeuue745_ghshgk34"
  ##  [4] "zzu78347834_ghghwuz"
  ##  &gt; miceadds::string_extract_part( vec=vec, part=2, sep="__" )
  ##  [1] "DES"  "DATA" "INFO" NA

## Not run: 
#############################################################################
# EXAMPLE 3: Reading descriptive information from published articles
#############################################################################
data(data.ma08)
library(stringr)

#**** reading correlations (I)
dat &lt;- data.ma08$mat1
miceadds::string_to_matrix(dat, rownames=2, col_elim=c(1,2))

#**** reading correlations including some processing (II)
dat0 &lt;- data.ma08$mat2
dat &lt;- dat0[1:14]

# substitute "*"
dat &lt;- gsub("*", "", dat, fixed=TRUE )

# replace blanks in variable names
s1 &lt;- stringr::str_locate(dat, "[A-z] [A-z]")
start &lt;- s1[,"start"] + 1
for (ss in 1:length(start) ){
    if ( ! is.na( start[ss] ) ){
        substring( dat[ss], start[ss], start[ss] ) &lt;- "_"
    }
}

# character matrix
miceadds::string_to_matrix(dat)
# numeric matrix containing correlations
miceadds::string_to_matrix(dat, rownames=2, col_elim=c(1,2), as_numeric=TRUE, diag_val=1,
           extend=TRUE )
#** reading means and SDs
miceadds::string_to_matrix(dat0[ c(15,16)], rownames=1, col_elim=c(1), as_numeric=TRUE )

#**** reading correlations (III)
dat &lt;- data.ma08$mat3
dat &lt;- gsub(" age ", "_age_", dat, fixed=TRUE )
miceadds::string_to_matrix(dat, rownames=2, col_elim=c(1,2), as_numeric=TRUE, diag_val=1,
       extend=TRUE )

#**** reading correlations (IV)
dat &lt;- data.ma08$mat4 &lt;- dat0

# remove spaces in variable names
dat &lt;- gsub(" age ", "_age_", dat, fixed=TRUE )
s1 &lt;- stringr::str_locate_all(dat, "[A-z,.] [A-z]")
NL &lt;- length(dat)
for (ss in 1:NL ){
    NR &lt;- nrow(s1[[ss]])
    if (NR&gt;1){
        start &lt;- s1[[ss]][2,1]+1
        if ( ! is.na( start ) ){
            substring( dat[ss], start, start ) &lt;- "_"
        }
    }
}

miceadds::string_to_matrix(dat, rownames=2, col_elim=c(1,2), as_numeric=TRUE, diag_val=1,
     extend=TRUE )

#############################################################################
# EXAMPLE 4: Input string of length one
#############################################################################


pm0 &lt;- "
0.828
0.567 0.658
0.664 0.560 0.772
0.532 0.428 0.501 0.606
0.718 0.567 0.672 0.526 0.843"

miceadds::string_to_matrix(x=pm0, as_numeric=TRUE, extend=TRUE)

#############################################################################
# EXAMPLE 5: String with variable names and blanks
#############################################################################

tab1 &lt;- "
Geometric Shapes .629 .021 (.483) -.049 (.472)
Plates .473 .017 (.370) .105 (.405)
Two Characteristics .601 .013 (.452) -.033 (.444)
Crossing Out Boxes .597 -.062 (.425) -.036 (.445)
Numbers/Letters .731 .004 (.564) .003 (.513)
Numbers/Letters mixed .682 .085 (.555) .082 (.514)"

miceadds::string_to_matrix(x=tab1, col1_numeric=TRUE)

## End(Not run)
</code></pre>


</div>