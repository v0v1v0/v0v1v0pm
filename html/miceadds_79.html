<div class="container">

<table style="width: 100%;"><tr>
<td>ma.scale2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Standardization of a Matrix
</h2>

<h3>Description</h3>

<p>This function performs a z-standardization for a numeric matrix.
Note that in a case of a zero standard deviation all matrix entries
are divided by a small number such that no <code>NaN</code>s occur.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ma.scale2(x, missings=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A numeric matrix in which missing values are permitted
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missings</code></td>
<td>

<p>A logical indicating whether missings occur (or could occur) in the dataset
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix
</p>


<h3>See Also</h3>

<p><code>base::scale</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#############################################################################
# EXAMPLE 1: z-standardization data.internet
#############################################################################

data(data.internet)
dat &lt;- data.internet

# z-standardize all variables in this dataset
zdat &lt;- miceadds::ma.scale2( dat, missings=TRUE )

## Not run: 
#############################################################################
# SIMULATED EXAMPLE 2: Speed comparison for many cases and many variables
#############################################################################

set.seed(9786)
# 3000 cases, 200 variables
N &lt;- 3000
p &lt;- 200
# simulate some data
x &lt;- matrix( stats::rnorm( N*p ), N, p )
x &lt;- round( x, 2 )

# compare computation times for 10 replications
B &lt;- 10
    s1 &lt;- Sys.time()        # scale in R
for (bb in 1:B){
    res &lt;- scale(x)
} ; s2 &lt;- Sys.time() ; d1 &lt;- s2-s1

    s1 &lt;- Sys.time()        # scale in miceadds
for (bb in 1:B){
    res1 &lt;- miceadds::ma.scale2(x)
} ; s2 &lt;- Sys.time() ; d2 &lt;- s2-s1

# scale in miceadds with missing handling
    s1 &lt;- Sys.time()
for (bb in 1:B){
    res1 &lt;- miceadds::ma.scale2(x,missings=TRUE)
} ; s2 &lt;- Sys.time() ; d3 &lt;- s2-s1
d1      # scale in R
d2      # scale in miceadds (no missing handling)
d3      # scale in miceadds (with missing handling)
  ##   &gt; d1      # scale in R
  ##   Time difference of 1.622431 secs
  ##   &gt; d2      # scale in miceadds (no missing handling)
  ##   Time difference of 0.156003 secs
  ##   &gt; d3      # scale in miceadds (with missing handling)
  ##   Time difference of 0.2028039 secs

## End(Not run)
</code></pre>


</div>