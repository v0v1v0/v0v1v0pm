<div class="container">

<table style="width: 100%;"><tr>
<td>Obesity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A two-level incomplete dataset based on an online obesity survey</h2>

<h3>Description</h3>

<p>This synthetic dataset was generated from an online survey on obesity, which collected information on the dietary behavior of 2111 participants. We made the assumption that the data was gathered from five distinct locations or clusters. To account for potential selection bias in the responses related to weight, we simulated the values and observability of this variable using the Heckman selection model within a hierarchical structure.
</p>
<p>Additionally, we assumed that in one of the locations, the weight variable was systematically missing. We also introduced missing values for some other variables in the dataset using a Missing at Random (MAR) mechanism.
</p>


<h3>Format</h3>

<p>A dataframe with 2111 observations with the following variables:
</p>

<table>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Gender </td>
<td style="text-align: left;"> a factor variable with two levels: 1 ("Female"), 0 ("Male").</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Age </td>
<td style="text-align: left;"> a numeric variable indicating the subject's age in years.</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Height</td>
<td style="text-align: left;"> a numeric value with Height in meters.</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> FamOb</td>
<td style="text-align: left;"> a factor variable describing the subject's family history of obesity with two levels: 1("Yes"), 0("No").</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Weight</td>
<td style="text-align: left;"> a numeric variable indicating the subject's weight in kilograms.</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Time</td>
<td style="text-align: left;"> a numeric variable indicating the time taken by the subject to respond to the surveys questions in minutes.</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> BMI</td>
<td style="text-align: left;"> a numeric variable with the subject's body mass index.</td>
</tr>
<tr>
<td style="text-align: right;">
     </td>
<td style="text-align: left;"> Cluster</td>
<td style="text-align: left;"> a numeric variable indexing the cluster.</td>
</tr>
<tr>
<td style="text-align: right;">
  </td>
</tr>
</table>
<h3>Details</h3>

<p>Data generation code availble on https://github.com/johamunoz/Statsmed_Heckman/blob/main/4.Codes/gendata_Obesity.R
</p>


<h3>Source</h3>

<p>Synthetic data based on the data retrieved from "https://www.kaggle.com/datasets/fabinmndez/obesitydata/"</p>


<h3>References</h3>

<p>Palechor, F. M., &amp; de la Hoz Manotas, A. (2019). Dataset for estimation of obesity levels based on eating habits and physical condition in individuals from Colombia, Peru and Mexico. Data in brief, 25, 104344.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mice)
library(ggplot2)
library(data.table)

data(Obesity)
summary(Obesity)
md.pattern(Obesity)

# Missingness per region (Weight)
dataNA &lt;- setDT(Obesity)[, .(nNA = sum(is.na(Weight)),n=.N), by = Cluster]
dataNA[, propNA:=nNA/n]
dataNA

# Density per region (Weight)
Obesity$Cluster &lt;- as.factor(Obesity$Cluster)
ggplot(Obesity, aes(x = Weight, group=Cluster)) +
  geom_histogram(aes(color = Cluster,fill= Cluster),
                 position = "identity", bins = 30) + 
                 facet_grid(Cluster~.)
</code></pre>


</div>