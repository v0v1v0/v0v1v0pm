<div class="container">

<table style="width: 100%;"><tr>
<td>find.defaultMethod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Suggestion of conditional imputation models to use accordingly to the incomplete dataset
</h2>

<h3>Description</h3>

<p>Provides conditionnal imputation models to use for each column of the incomplete dataset according to the number of clusters, the number of individuals per cluster and the class of the variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find.defaultMethod(don.na, ind.clust, I.small = 7, ni.small = 100, prop.small = 0.4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>don.na</code></td>
<td>

<p>An incomplete data frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.clust</code></td>
<td>

<p>A scalar indexes the variable corresponding to the cluster indicator.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I.small</code></td>
<td>

<p>A scalar that is used as threshold to consider the number of observed clusters (fully observed or partially observed) as small. Default is <code>I.small=7</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ni.small</code></td>
<td>

<p>A scalar that is used as threshold to consider the number individuals per clusters (with observed values) as small. Default is <code>ni.small=100</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop.small</code></td>
<td>

<p>A scalar that is used as threshold to consider the number of small clusters as small. Default is <code>prop.small=0.4</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Provides conditionnal imputation models to use for each column of the incomplete dataset according to the number of clusters, the number of individuals per cluster and the class of the variable (Audigier, V. et al 2017). Returned methods can be: 2l.stage.bin (binary), 2l.stage.norm (continuous), 2l.stage.pois (integer), 2l.glm.bin (binary), 2l.glm.norm (continuous), 2l.glm.pois (integer), 2l.jomo (continuous or binary). For a given variable, the method retained is chosen according to the following decision tree:
</p>

<table>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;">----------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;"> Few observed </td>
<td style="text-align: left;"> clusters </td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;">----------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;"> Few observed values per cluster </td>
<td style="text-align: left;"> Many observed values per cluster </td>
</tr>
<tr>
<td style="text-align: right;">
------------------</td>
<td style="text-align: right;">------------------------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
continuous	</td>
<td style="text-align: right;"> 2l.glm.norm	</td>
<td style="text-align: left;"> 2l.stage.norm </td>
</tr>
<tr>
<td style="text-align: right;">
binary	</td>
<td style="text-align: right;"> 2l.glm.bin	</td>
<td style="text-align: left;"> 2l.stage.bin </td>
</tr>
<tr>
<td style="text-align: right;">
integer	</td>
<td style="text-align: right;"> 2l.glm.pois	</td>
<td style="text-align: left;"> 2l.stage.pois </td>
</tr>
<tr>
<td style="text-align: right;">
------------------</td>
<td style="text-align: right;">------------------------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
</tr>
</table>
<table>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;">----------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;"> Many observed  </td>
<td style="text-align: left;"> clusters</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;">----------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
<td style="text-align: right;"> Few observed values per cluster </td>
<td style="text-align: left;"> Many observed values per cluster </td>
</tr>
<tr>
<td style="text-align: right;">
------------------</td>
<td style="text-align: right;">------------------------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
continuous	</td>
<td style="text-align: right;"> 2l.glm.norm	</td>
<td style="text-align: left;"> 2l.stage.norm</td>
</tr>
<tr>
<td style="text-align: right;">
binary	</td>
<td style="text-align: right;"> 2l.jomo	</td>
<td style="text-align: left;"> 2l.jomo</td>
</tr>
<tr>
<td style="text-align: right;">
integer	</td>
<td style="text-align: right;"> 2l.glm.pois	</td>
<td style="text-align: left;"> 2l.stage.pois</td>
</tr>
<tr>
<td style="text-align: right;">
------------------</td>
<td style="text-align: right;">------------------------------------------------</td>
<td style="text-align: left;">-----------------------------------</td>
</tr>
<tr>
<td style="text-align: right;">
</td>
</tr>
</table>
<p>For instance, with few observed clusters (i.e. less than <code>I.small</code>), and many observed values per cluster (i.e. less than <code>prop.small</code> clusters with less than <code>ni.small</code> observed values), imputation of a continuous variable according to the method 2l.stage.norm will be suggested.
</p>


<h3>Value</h3>

<p>A vector of strings with length <code>ncol(data)</code>.
</p>


<h3>Author(s)</h3>

<p>Vincent Audigier <a href="mailto:vincent.audigier@cnam.fr">vincent.audigier@cnam.fr</a>
</p>


<h3>References</h3>

<p>Audigier, V., White, I. ,  Jolani ,S.  Debray, T.,  Quartagno, M., Carpenter, J., van Buuren, S. and Resche-Rigon, M. Multiple imputation for multilevel data with continuous and binary variables (2018). Statistical Science. <a href="https://doi.org/10.1214/18-STS646">doi:10.1214/18-STS646</a>.
</p>
<p>Jolani, S., Debray, T. P. A., Koffijberg, H., van Buuren, S., and Moons, K. G. M. (2015). Imputation of systematically missing predictors in an individual participant data meta-analysis: a generalized approach using MICE. Statistics in Medicine, 34(11):1841-1863). <a href="https://doi.org/10.1002/sim.6451">doi:10.1002/sim.6451</a>
</p>
<p>Quartagno, M. and Carpenter, J. R. (2016). Multiple imputation for IPD meta-analysis: allowing for heterogeneity and studies with missing covariates. Statistics in Medicine, 35(17):2938-2954. <a href="https://doi.org/10.1002/sim.6837">doi:10.1002/sim.6837</a>
</p>
<p>Resche-Rigon, M. and White, I. R. (2018). Multiple imputation by chained equations for systematically and sporadically missing multilevel data. Statistical Methods in Medical Research, 27(6):1634-1649. <a href="https://doi.org/10.1177/0962280216666564">doi:10.1177/0962280216666564</a>
</p>


<h3>See Also</h3>

<p><code>mice</code>, <code>mice.par</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  data(CHEM97Na)
  
  ind.clust &lt;- 1#index for the cluster variable
  
  #initialisation of the argument predictorMatrix
  predictor.matrix &lt;- mice(CHEM97Na, m = 1, maxit = 0)$pred
  predictor.matrix[ind.clust,ind.clust] &lt;- 0
  predictor.matrix[-ind.clust,ind.clust] &lt;- -2
  predictor.matrix[predictor.matrix==1] &lt;- 2
  
  #initialisation of the argument method
  method &lt;- find.defaultMethod(CHEM97Na, ind.clust)
  print(method)
  
  #multiple imputation by chained equations (parallel calculation)
  #res.mice &lt;- mice.par(CHEM97Na, m = 3, predictorMatrix = predictor.matrix, method = method)

</code></pre>


</div>