<div class="container">

<table style="width: 100%;"><tr>
<td>micomp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multiple independent comparisons of observations</h2>

<h3>Description</h3>

<p>Performs multiple independent comparisons of output observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">micomp(
  outputs,
  ve_npcs,
  comps,
  concat = F,
  centscal = "range",
  lim_npcs = TRUE,
  mnv_test = "Pillai",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>outputs</code></td>
<td>
<p>A vector with the labels of each output, or an integer with
the number of outputs (in which case output labels will be assigned
automatically).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ve_npcs</code></td>
<td>
<p>Percentage (<code>0 &lt; ve_npcs &lt; 1</code>) of variance explained by
the <em>q</em> principal components (i.e. number of dimensions) used in MANOVA,
or the number of principal components (<code>ve_npcs &gt; 1</code>, must be integer).
Can be a vector, in which case the MANOVA test will be applied multiple
times, one per specified variance to explain / number of principal
components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comps</code></td>
<td>
<p>A list of lists, where each list contains information regarding
an individual comparison. Each list can have one of two configurations:
</p>

<ol>
<li>
<p> Lists with the first configuration are used to load data from files,
and require the following fields:
</p>

<dl>
<dt>name</dt>
<dd>
<p>A string specifying the comparison name.</p>
</dd>
<dt>folders</dt>
<dd>
<p>Vector of folder names where to read files from. These
are recycled if <code>length(folders) &lt; length(files)</code>.</p>
</dd>
<dt>files</dt>
<dd>
<p>Vector of filenames (with wildcards) to load in each
folder.</p>
</dd>
<dt>lvls</dt>
<dd>
<p>Vector of level or group names, must be the same length as
<code>files</code>, i.e. each file set will be associated with a
different group. If not given, default group names will be set.</p>
</dd>
</dl>
</li>
<li>
<p> Lists with the second configuration are used to load data from
environment variables, and require the following fields:
</p>

<dl>
<dt>name</dt>
<dd>
<p>A string specifying the comparison name.</p>
</dd>
<dt>grpout</dt>
<dd>
<p>Either an object of class <code>grpoutputs</code> or a
list with the following two fields:
</p>

<dl>
<dt>data</dt>
<dd>
<p>List of all outputs, where tags correspond to output
names and values correspond to the output data. Output data
is a <em>n</em> x <em>m</em> matrix, where <em>n</em> is the total
number of output observations and <em>m</em> is the number of
variables (i.e. output length). </p>
</dd>
<dt>obs_lvls</dt>
<dd>
<p>Levels or groups associated with each observation.</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>concat</code></td>
<td>
<p>Create an additional, concatenated output? Ignored for sublists
passed in the <code>comps</code> which follow the second configuration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centscal</code></td>
<td>
<p>Method for centering and scaling outputs if <code>concat</code> is
TRUE. It can be one of "center", "auto", "range" (default), "iqrange",
"vast", "pareto" or "level". Centering and scaling is performed by the
<code>centerscale</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim_npcs</code></td>
<td>
<p>Limit number of principal components used for MANOVA to
minimum number of observations per group?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mnv_test</code></td>
<td>
<p>The name of the test statistic to be used in MANOVA, as
described in <code>summary.manova</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Options passed to <code>read.table</code>, which is used
to read the files specified in lists using the first configuration in the
<code>comp</code> parameter.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>micomp</code>, which is a two-dimensional
list of <code>cmpoutput</code> objects. Rows are associated with individual
outputs, while columns are associated with separate comparisons.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create a micomp object from existing files and folders

dir_nl_ok &lt;-
  system.file("extdata", "nl_ok", package = "micompr")
dir_jex_ok &lt;-
  system.file("extdata", "j_ex_ok", package = "micompr")
dir_jex_noshuff &lt;-
  system.file("extdata", "j_ex_noshuff", package = "micompr")
dir_jex_diff &lt;-
  system.file("extdata", "j_ex_diff", package = "micompr")
files &lt;- glob2rx("stats400v1*.tsv")

mic &lt;- micomp(7, 0.8,
              list(list(name = "NLOKvsJEXOK",
                        folders = c(dir_nl_ok, dir_jex_ok),
                        files = c(files, files),
                        lvls = c("NLOK", "JEXOK")),
                   list(name = "NLOKvsJEXNOSHUFF",
                        folders = c(dir_nl_ok, dir_jex_noshuff),
                        files = c(files, files),
                        lvls = c("NLOK", "JEXNOSHUFF")),
                   list(name = "NLOKvsJEXDIFF",
                        folders = c(dir_nl_ok, dir_jex_diff),
                        files = c(files, files),
                        lvls = c("NLOK", "JEXDIFF"))),
              concat = TRUE)


# Create a micomp object from package datasets (i.e. grpoutputs objects)
# directly

mic &lt;- micomp(c("o1", "o2", "o3", "o4"), 0.9,
              list(list(name = "NLOKvsJEXOK", grpout = pphpc_ok),
                   list(name = "NLOKvsJEXNOSHUFF", grpout = pphpc_noshuff),
                   list(name = "NLOKvsJEXDIFF", grpout = pphpc_diff)))

# Create a micomp object using manually inserted data

mic &lt;- micomp(6, 0.5, list(
  list(name = "NLOKvsJEXOK",
       grpout = list(data = pphpc_ok$data,
                     obs_lvls = pphpc_ok$obs_lvls)),
  list(name = "NLOKvsJEXNOSHUFF",
       grpout = list(data = pphpc_noshuff$data,
                     obs_lvls = pphpc_noshuff$obs_lvls)),
  list(name = "NLOKvsJEXDIFF",
       grpout = list(data = pphpc_diff$data,
                     obs_lvls = pphpc_diff$obs_lvls))))

</code></pre>


</div>