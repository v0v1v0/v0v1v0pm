<div class="container">

<table style="width: 100%;"><tr>
<td>cran_static_path_handler</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handler for package repository files</h2>

<h3>Description</h3>

<p>Creates handler for handling access to static files in the repository,
i.e., the <code>src/contrib</code>, <code>bin/windows/contrib</code>, and <code>bin/macosx/contrib</code>
subdirectories.
</p>
<p>Use cran_static_redirect_handler to let another process (e.g. an Apache httpd
or nginx server) handle the request, by redirecting it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cran_static_path_handler(repo_dir, path_prefix = NULL)

cran_static_redirect_handler(dest_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>repo_dir</code></td>
<td>
<p>Path to local directory, where the root of the repository is.
The (source) packages will be stored locally at
<code style="white-space: pre;">⁠{repo_dir}/src/contrib/⁠</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path_prefix</code></td>
<td>
<p>Optional URL-component, if the repository exists at a
subdirectory of the host (see run's <code>path</code>). Here, it is only for
decorative purposes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dest_url</code></td>
<td>
<p>The url requests are forwarded to, after being appened with
the request; it should contain all path-components up to the '/src' or '/bin'
parts.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A handler (function) for use in a Plumber router "filter" .
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(plumber)
pr() |&gt;
 pr_filter('static',
  cran_static_path_handler(repo_dir, path_prefix = 'cran'))
pr() |&gt;
  pr_filter('redirect',
    cran_static_redirect_handler("http://my.local.cran:80/cran"))
</code></pre>


</div>