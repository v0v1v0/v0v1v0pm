<div class="container">

<table style="width: 100%;"><tr>
<td>TSdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Time Series Example Dataset</h2>

<h3>Description</h3>

<p>Data for Time Series Examples
</p>
<p>The data are age-adjusted (2000 U.S. standard) female lung cancer mortality rates
(per 100,000 population) for each year from 1996 to 2010.
</p>


<h3>Usage</h3>

<pre><code class="language-R">data(TSdata)</code></pre>


<h3>Format</h3>

<p>This dataset is an array with dimensions of 51, 15, 4.  The rownames of the array are the
51 state and DC abbreviations (2 characters). 
TSdata[,,1:4] contains the x (time) value, followed by the value for the line, then
the lower 95% confidence limit, and finally the upper 95% confidence limit value.
</p>


<h3>Details</h3>

<p>The first dimension [<var>st</var>,,] of 51 elements contains each state or DC.  
This dimension is referenced by the rownames of the array.
</p>
<p>The second dimension [,<var>t</var>,] of <var>n</var> elements in this case are the time periods
in the time series.  Our example uses the years 1996 to 2010 as the 
time period values.  A reasonable number of points is between 20 and 30.
</p>
<p>The third dimension [,,<var>v</var>] of 2 or 4 elements is the x or y values during the time period.
If no confidence data is provided, the third dimension is 2:
</p>

<ul>
<li>
<p> data[,,<var>1</var>] is the X value 
</p>
</li>
<li>
<p> data[,,<var>2</var>] is the mid-Y value (Y) 
</p>
</li>
</ul>
<p>If a confidence band is being plotted in <span class="option">\var{tsconf}</span> graphs then 
there are 4 elements.
</p>

<ul>
<li>
<p> data[,,<var>1</var>] is the X value 
</p>
</li>
<li>
<p> data[,,<var>2</var>] is the mid-Y value (Y) 
</p>
</li>
<li>
<p> data[,,<var>3</var>] is the low-Y value
</p>
</li>
<li>
<p> data[..<var>4</var>] is the high-Y value
</p>
</li>
</ul>
<p>For example, the x,y coordinates for year=1996 (time period = 1) for the first 
state (<var>AK</var>) is TSdata[<var>1</var>,<var>1</var>,c(1,2)].
</p>
<p>This approach was done to allow a data matrix built for the "tsconf" glyphs 
to be used for a <var>ts</var> glyphs.
</p>
<p>This data is used by micromapSEER with the "USStatesDF" border group.
</p>
<pre>
  
  # how to create a new time series data set 
  tempTS &lt;-read.table("...yourfilename.csv",sep=",",header=T)
  yrmat  &lt;-matrix(rep(1996:2010,51),nrow=51,ncol=15,byrow=T)  # year labels
  ratemat&lt;-as.matrix(
         tempTS[,c(8,13,18,23,28,33,38,43,48,53,58,63,68,73,78)]
         )
  locimat&lt;-as.matrix(
         tempTS[,c(9,14,19,24,29,34,39,44,49,54,59,64,69,74,79)]
         )
  hicimat&lt;-as.matrix(
         tempTS[,c(10,15,20,25,30,35,40,45,50,55,60,65,70,75,80)]
         )
  workmat&lt;-cbind(yrmat,ratemat,locimat,hicimat)
  TSdata &lt;-NULL   
  TSdata &lt;-array(workmat,dim=c(51,15,4))
  # change state ab from factors to characters.
  rownames(TSdata)&lt;-as.character(tempTS$stab)  
 </pre>


<h3>Source</h3>

<p>Surveillance, Epidemiology, and End Results (SEER) Program (www.seer.cancer.gov) 
SEER*Stat Database: Mortality - All COD, Aggregated With State, Total U.S. (1969-2010) 
(Katrina/Rita Population Adjustment), National Cancer Institute, DCCPS, Surveillance Research Program,
Surveillance Systems Branch, released April 2013.  <br>
Underlying mortality data provided by NCHS (www.cdc.gov/nchs). 
</p>


</div>