<div class="container">

<table style="width: 100%;"><tr>
<td>latex.trellis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Display a table in 'latex' containing panels from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> graphs in
its cells.
</h2>

<h3>Description</h3>

<p>Display a table in 'latex' containing panels from <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> graphs in
its cells.
Hmisc::latex methods for "trellis", "ggplot", "graphicsList",
"microplotMatrix", and "includegraphicsMatrix" objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'graphicsClass'
latex(  ## called by trellis, ggplot, graphicsList methods
      object,
      figPrefix=first.word(deparse(substitute(object))),
      title=figPrefix, ## subject to lazy evaluation
      ##
      ## microplot arguments
      device={
        latexcmd &lt;- options()$latexcmd
        if (is.null(latexcmd))
          latexcmd &lt;- "latex"
        switch(latexcmd,
               pdflatex="pdf",
               latex=,
               "postscript")
      },
      ... ## can include arguments to
      ## latex.graphicsClass,
      ## microplot,
      ## as.includegraphics,
      ## latex.includegraphicsMatrix,
      ## latex.default
      )

## S3 method for class 'trellis'
latex( ## calls latex.graphicsClass
      object=stop("trellis object is required", call. = FALSE),
      figPrefix=first.word(deparse(substitute(object))),
      title=figPrefix, ## subject to lazy evaluation
      ... ## can include arguments to
      ## latex.graphicsClass,
      ## microplot,
      ## as.includegraphics,
      ## latex.includegraphicsMatrix,
      ## latex.default
      )

## S3 method for class 'ggplot'
latex( ## calls latex.graphicsClass
      object=stop("ggplot object is required", call. = FALSE),
      figPrefix=first.word(deparse(substitute(object))),
      title=figPrefix, ## subject to lazy evaluation
      ... ## can include arguments to
      ## latex.graphicsClass,
      ## microplot,
      ## as.includegraphics,
      ## latex.includegraphicsMatrix,
      ## latex.default
      )

## S3 method for class 'graphicsList'
latex( ## calls latex.graphicsClass
      object=stop("graphicsList object is required", call. = FALSE),
      figPrefix=first.word(deparse(substitute(object))),
      title=figPrefix, ## subject to lazy evaluation
      ... ## can include arguments to
      ## latex.graphicsClass,
      ## microplot,
      ## as.includegraphics,
      ## latex.includegraphicsMatrix,
      ## latex.default
      )

## S3 method for class 'includegraphicsMatrix'
latex(
      object,
      dataobject, data.first=TRUE,
      title=first.word(deparse(substitute(object))),
      microplotMatrix=NULL,
      arraystretch=1,     ## The normal interrow space is multiplied by arraystretch,
      ##                     so changing it from its default value of 1 to 1.5 makes
      ##                     the rows 1.5 times farther apart.
      ##                     Uses the latex.default argument 'insert.top'.
      bottom.hline.raise=NULL, ## character with latex unit, for example "-10ex"
      ##        arraystretch interferes with bottom.hline.raise
      ##        Pick arraystretch first.
      bottom=if (!is.null(attr(object, "key.name")))
               attr(object, "key.name"),
      col.just.object=rep("c", ncol(object)),
      col.just.dataobject=rep("r", ncol(dataobject)),
      n.cgroup=NULL, ## generated below if cgroup is specified in ... and n.cgroup is not
      ...) ## arguments to latex.default

## S3 method for class 'microplotMatrix'
latex(object,
      title=first.word(deparse(substitute(object))),
      ...) ## all ... arguments are forwarded to both
           ## as.includegraphics and latex.includegraphicsMatrix





</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>For <code>latex.trellis</code>, a <code>"trellis"</code> object,
usually a multi-panel object.
</p>
<p>For <code>latex.ggplot</code>, a <code>"ggplot"</code> object,
usually a multi-panel object.
</p>
<p>For <code>latex.graphicsList</code>, a <code>"graphicsList"</code> object,
usually a list of single panel graphics objects.  All items in the list
must be <code>trellis</code> objects or all must be <code>ggplot</code> objects.
</p>
<p>For <code>latex.microplotMatrix</code>, a
<code>"microplotMatrix"</code> object, the result of calling
<code>microplot</code> on a <code>"trellis"</code> or
<code>"ggplot"</code> object; a matrix of LaTeX filenames,
possibly with <code>axis.names</code> or <code>lab.names</code> or <code>key.name</code>
attributes.
</p>
<p>For <code>latex.includegraphicsMatrix</code>, a
<code>"includegraphicsMatrix"</code> object, the result of
calling <code>as.includegraphics</code> on a
<code>"microplotMatrix"</code> object; a matrix of LaTeX
<code>\includegraphics</code> expressions, possibly with
<code>axis.names</code> or <code>lab.names</code> or <code>key.name</code> attributes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>
<p>Function used to construct the graphics files.  See <code>microplot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataobject</code></td>
<td>
<p>Numeric or character matrix (or data.frame).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.first</code></td>
<td>

<p>Logical.  If <code>TRUE</code>, then output file will have <code>dataobject</code> columns
first, then graphics <code>object</code> columns.
If <code>FALSE</code>, then output file will have graphics <code>object</code> columns
first, then <code>dataobject</code> columns.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>figPrefix</code></td>
<td>
<p>See <code>microplot.trellis</code>.
The 'latex' macro <code>\includegraphics</code> requires that there be no
<code>"."</code> in the filename basename.  We replace all <code>"."</code> in
the <code>figPrefix</code> by <code>"-"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Arguments to <code>Hmisc::latex</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>microplotMatrix</code></td>
<td>
<p>The <code>microplotMatrix</code> will be made an
attribute of the resulting <code>latex</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>arraystretch</code></td>
<td>
<p>The normal interrow space is multiplied by
<code>arraystretch</code>, so changing it from its default value of 1 to 1.5
makes the rows 1.5 times farther apart.  Uses the <code>latex.default</code>
argument <code>insert.top</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bottom.hline.raise</code></td>
<td>
<p>Character string with latex unit, for example
<code>"-10ex"</code>.  <code>arraystretch</code> interacts with <code>bottom.hline.raise</code>. Pick
<code>arraystretch</code> first.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bottom</code></td>
<td>
<p>default argument to <code>latex.default</code>'s
<code>insert.bottom</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.just.object, col.just.dataobject</code></td>
<td>

<p>Column justification.  See <code>formatDF</code>.

The default centers graph panel columns
and right justifies <code>dataobject</code> columns because it assumes the
<code>dataobject</code> contains formatted (hence aligned) numerical data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.cgroup</code></td>
<td>
<p>See <code>latex</code>. When <code>cgroup</code> is
specified it always appears in <code>...</code>. <code>ncgroup</code> is an
optional input here because we have enough information to generate it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments to <code>microplot.trellis</code>, <code>microplot.ggplot</code>,
<code>as.includegraphics</code>, <code>latex.includegraphicsMatrix</code>,
<code>latex.default</code>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The explicit result is a <code>"latex"</code> object containing the name of a
generated <code>.tex</code> file in the current directory.  The file
contains a latex <code>\tabular</code> environment holding a
<code>\table</code>.  The cells of the <code>\table</code> contain each of the
filenames wrapped in an <code>\includegraphics</code> expression.  To get
the name of the created file, you must save the returned value from
the <code>"latex"</code> function and display it with <code>print.default</code>.
</p>
<p>The <code>print</code> method for <code>"latex"</code> objects wraps the generated
file in a minimal complete <code>latex</code> file, runs that file through
the system <code>pdflatex</code> or <code>latex</code> (depending on the value of
<code>options("latexcmd")</code>) to create a <code>pdf</code> file (or <code>dvi</code> file,
depending on the value of <code>options("dviExtension")</code>), and
displays it on the screen.  To get the name of the displayed file, you
must explicitly use the <code>dvi</code> function on the <code>"latex"</code>
object and save the otherwise invisible return value.  If it is a
<code>pdf</code> file it can be included with an <code>\includegraphics</code>
expression into another <code>.tex</code> file for use with <code>pdflatex</code>.
If it is a <code>dvi</code> file it can be converted with <code>dvips</code> to a
<code>.ps</code> file and included with an <code>\includegraphics</code>
expression into another <code>.tex</code> file for use with <code>latex</code>.
</p>


<h3>Value</h3>

<p>The value of these <code>latex</code> methods is a <code>"latex"</code> object
containing two components.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Pathname of the generated <code>.tex</code> file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p><code>"graphicx"</code>,
indicating that the <code>latex</code> <code>\usepackage{graphicx}</code> is required</p>
</td>
</tr>
</table>
<p>See <code>demo/HowToUseMicroplot.r</code> for a tutorial.  See the demos in
<code>demo/latex.r</code> and <code>demo/latex-ggplot.r</code> for an elaborate
example.
</p>
<p>When one of the <code>...</code> arguments is <code>file=""</code>, the
generated LaTeX code is printed to standard output.  See the discussion
of the <code>file</code> argument in <code>latex</code> to learn how
to use this feature with Sweave.
</p>
<p>Function <code>latex.includegraphicsMatrix</code> takes the output of
<code>as.includegraphics</code> as its input and returns a
<code>"latex"</code> object.  If there is a <code>key.name</code> attribute, then it is forwarded to
<code>latex.default</code> as the <code>insert.bottom</code> argument.
The result has an attribute <code>"includegraphicsMatrix"</code>
containing its argument <code>object</code> and an attribute
<code>"microplotMatrix"</code> containing the <code>"microplotMatrix"</code> object
from which the <code>"includegraphicsMatrix"</code> was constructed.
</p>
<p>Function <code>latex.microplotMatrix</code> takes the output of
<code>microplot</code> as its input and forwards it to
<code>latex.includegraphicsMatrix</code>.
All <code>...</code> arguments are forwarded to
<code>latex.includegraphicsMatrix</code>.  The return value is a
<code>"latex"</code> object.
</p>
<p>Functions <code>latex.trellis</code> and <code>latex.ggplot</code> and
<code>latex.graphicsList</code>
take their input and forward it through <code>latex.graphicsClass</code> to
<code>microplot</code>
and then to <code>latex.microplotMatrix</code>.
</p>
<p>The print method for <code>"latex"</code> objects, described in
<code>dvi</code>,
is to display the latexed file on the screen at 5.5in wide by 7in tall.
The dimensions can be changed by an explicit call to the <code>dvi</code> method with other
dimensions, for example<br><code>dvi(latex(MyTrellisObject), height.panel=11, width.panel=8.5)</code><br>
See an example in <code>demo("latex", package="microplot", ask=TRUE)</code>
</p>
<p>The format of the screen display depends on three options described in
<code>latexSetOptions</code> and <code>latex</code>.
</p>
<p>For <code>pdflatex</code> normally use:<br><code>latexSetOptions("pdflatex")</code>
</p>
<p>For <code>latex</code> normally use:<br>
latexSetOptions("latex")
</p>


<h3>Author(s)</h3>

<p> Richard M. Heiberger &lt;rmh@temple.edu&gt; </p>


<h3>See Also</h3>

<p><code>latex</code>, <code>microplot</code>, <code>as.includegraphics</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## See the examples in the help files, the demo files, and in the
## examples subdirectory.

## The example here shows how to locate the generated .tex file and the displayed .pdf file.
## The .tex file can be brought into a larger .tex file with an \include statement.
## The .pdf file can be brought into a larger .tex file with an \includegraphics statement.

## Not run: 
## These are the settings for my machines
## Set options for Hmisc::latex
latexSetOptions()

mpgGraph &lt;- lattice::xyplot(mpg ~ wt, group=factor(cyl), data=mtcars,
                            xlim=c(.8, 6.2), ylim=c(9,37),
                            pch=as.character(levels(factor(mtcars$cyl))), cex=2)
mpgGraph ## on your interactive device
mpgLatex &lt;-
  latex(mpgGraph,
        height.panel=2, width.panel=3, ## inch. pick numbers that look right to you.
        height.x.axis=.37, width.y.axis=.44,  ## inch. these require trial and error.
        height.xlab=.18, width.ylab=.27,      ## inch. these require trial and error.
        rowname=NULL,    ## suppress rownames, see ?latex
        colheads=FALSE)  ## suppress colnames, see ?latex
print.default(mpgLatex)  ## file is in your working directory
mpgPdf &lt;- dvi(mpgLatex)
print.default(mpgPdf) ## File is in a temporary directory.
                      ## If Macintosh shows "//", replace by "/" before using.
mpgPdf


## End(Not run)
## Sweave users can bring the generated files directly into their
## document.  See the discussion of the \code{file} argument in
## \code{\link[Hmisc]{latex}} to learn how to use this feature with
## Sweave.
</code></pre>


</div>