<div class="container">

<table style="width: 100%;"><tr>
<td>as.includegraphics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert a filename into a complete 'LaTeX' <code>\includegraphics</code>
expression for use with 'LaTeX' <code>\includegraphics</code> macro in the
<span class="pkg">graphicx</span> package.  This is used for <code>pdf</code> and <code>png</code>
files with the system <code>pdflatex</code> command.  This is used for
<code>ps</code> files with the system <code>latex</code> command.
</h2>

<h3>Description</h3>

<p>Convert a filename into a complete 'LaTeX' <code>\includegraphics</code>
expression for use with 'LaTeX' <code>\includegraphics</code> macro in the
<span class="pkg">graphicx</span> package.  This is used for <code>pdf</code> and <code>png</code>
files with the system <code>pdflatex</code> command.  This is used for
<code>ps</code> files with the system <code>latex</code> command.  The argument
<code>wd</code> is included in the pathname in the generated expression.
The <code>\includegraphics</code> macro is generated with the <code>height</code>
and optional <code>width</code> specified by the
<code>height.includegraphics</code> and <code>width.includegraphics</code>
arguments; the default <code>NULL</code> means use the values in the
graphics (<code>pdf</code>, <code>png</code>, <code>ps</code>) files.  If either is
specified, the other should be left as <code>NULL</code> to retain the
original aspect ratio.
## An optional <code>raise</code> value is available for vertical alignment.
An optional <code>trim</code> argument is available to remove excess margins
from the image.  See the Details section for use of the <code>trim</code>
argument to trim panels in an externally produced graphics file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">as.includegraphics(object, ...)

## Default S3 method:
as.includegraphics(object,
           height.includegraphics=NULL, ## LaTeX measurement (character)
           width.includegraphics=NULL, ## retains original aspect ratio,
           ##                             LaTeX measurement (character)
           scale=NULL, ## number
           raise=NULL, ## LaTeX measurement (character)
           tabularinclude=TRUE,
           hspace.left=NULL,  ## LaTeX measurement (character)
           hspace.right=NULL, ## LaTeX measurement (character)
           wd=getwd(), ## working directory.  No embedded spaces in directory name.
           viewport=NULL, ## if specified, then left bottom right top (character)
           ## used for pdf png jpeg
           ## See MediaBox in pdf file.
           ## Ask operating system for png or jpg file.
           bb=NULL, ## if specified, then left bottom right top (character)
           ## used for bmp tiff ps, ask operating system for values
           trim=NULL, ## for example, "0 0 0 0" left bottom right top (character)
           x.axis.includegraphics=TRUE, ## logical or a list of arguments
           ##                              to latex \includegraphics[here]{}
           y.axis.includegraphics=TRUE, ## logical or a list of arguments
           xlab.includegraphics=FALSE,  ## logical or a list of arguments
           ylab.includegraphics=FALSE,  ## logical or a list of arguments
           key.includegraphics=!is.null(attr(object, "key.name")),
           ##                           ## logical or a list of arguments
           as.attr=FALSE, ## logical
           label.x.axis="", ## empty, nchar=0
           label.y.axis=" ", ## one space, nchar=1
           columnKey=NULL, ## see ?microplotAttrDisplay
           ...)

## S3 method for class 'microplotMatrix'
as.includegraphics(object, ...) ## principal usage.  Calls default.

## S3 method for class 'includegraphicsMatrix'
as.includegraphics(object, ...) ## returns object

## S3 method for class 'trellis'
as.includegraphics(object, ...) ## generates an informative error message.

## S3 method for class 'ggplot'
as.includegraphics(object, ...) ## generates an informative error message.

## S3 method for class 'graphicsList'
as.includegraphics(object, ...) ## generates an informative error message.


</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A <code>"microplotMatrix"</code>, that is
a character vector or matrix of filenames for graphics files.  The
argument may include attributes <code>axis.names</code>, <code>lab.names</code>, and
<code>key.name</code> for graphics files containing the <code>"x.axis"</code>,
<code>"y.axis"</code>, <code>"xlab"</code>, <code>"ylab"</code>, and <code>"key"</code> (legend)
panels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Scale factor (number) applied to figure.
If either <code>height.includegraphics</code> or <code>width.includegraphics</code> is specified, then <code>scale</code> is ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height.includegraphics, width.includegraphics</code></td>
<td>

<p>Character vector containing a LaTeX distance (by default <code>NULL</code>).
Specifying at most one of these retains the original aspect ratio.
Specifying a value for both might distort the figure by changing the
aspect ratio. Specifying <code>trim</code> on height of a panel requires
a new height to be specified to retain the aspect ratio.
Specifying <code>trim</code> on width of a panel requires
a new width to be specified to retain the aspect ratio.
See <code>demo("latex")</code> and <code>demo("latex-ggplot")</code> for an example.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wd</code></td>
<td>

<p>The directory in which the files reside.  The default is the full path
to the current
working directory that R is using.  The full path is necessary when
using the <code>Hmisc::print.latex</code> and related functions because they
run the operating system's <code>latex</code> or <code>pdflatex</code> command in
a temporary directory.  The relative path to the current directory
(<code>wd="."</code>)
is sufficient if the file will be brought into a larger <code>tex</code> file
with the LaTeX <code>\input</code> macro.  Should the working directory have an
embedded blank anywhere in its pathname, then <code>as.includegraphics</code> will
generate an informative error.  This is to protect you from a
less-informative error that the system 'latex' command would otherwise generate.
The recommended repair is to <code>setwd()</code> to a directory whose path has no
embedded blanks anywhere.  A workaround is to use <code>wd="."</code> in the
<code>latex</code> call.  Automatic printing with  <code>Hmisc::print.latex</code>
will not work.  <code>\input{}</code> of the generated
<code>.tex</code> file into your larger <code>.tex</code> will work.  Moving the
generated <code>.tex</code> file in the temporary directory to your working directory
will work.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raise</code></td>
<td>

<p>Character vector containing a LaTeX distance (by default <code>NULL</code>).
This value may be negative.  Use it if the default vertical
alignment of the graphs in the table is not satisfactory.
Usually a better approach would be to use the <code>arraystretch</code>
argument to <code>latex.trellis</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tabularinclude</code></td>
<td>
<p>Logical. When <code>TRUE</code> place the generated
<code>\includegraphics{}</code> statements inside a <code>tabular</code>
environment.
This makes the center of the included graphic align with the text on the
same line of the tabular environment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hspace.left, hspace.right</code></td>
<td>

<p>Character vector containing a LaTeX distance (by default <code>NULL</code>).
This value may be negative.  Use it if the default distance on the
left or right between columns of graphs in the table is not satisfactory.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viewport</code></td>
<td>
<p>Size in pixels of the image file.  This is the MediaBox
in a <code>pdf</code> file.  It is the number reported by the operating system for a
<code>png</code> file.  The <code>viewport</code> is optional.  When specified it must be a
character string containing four numbers in order: left, bottom, right, top.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bb</code></td>
<td>
<p>Bounding Box: Size in pixels of the image file.  It is the
number reported by the operating system for a <code>ps</code> file.
When specified it must be a
character string containing four numbers in order: left, bottom, right, top.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trim</code></td>
<td>
<p>Size in pixels to be trimmed.  It must be a character string
containing four numbers in order: left, bottom, right, top.  See the
manual for the LaTeX package <span class="pkg">graphicx</span> for details.  When
<code>trim</code> is used, either <code>height.includegraphics</code> or
<code>width.includegraphics</code> will also need to be changed.
See <code>demo("latex")</code> and <code>demo("latex-ggplot")</code> for an example.
See the Details section for additional use of the <code>trim</code> argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis.includegraphics, y.axis.includegraphics</code></td>
<td>
<p>logical,
or list of arguments to nested calls to as.includegraphics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab.includegraphics, ylab.includegraphics,
key.includegraphics</code></td>
<td>
<p>logical, or list of arguments to nested calls
to as.includegraphics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.attr</code></td>
<td>
<p>Logical.  When <code>TRUE</code> the attributes in the
<code>"microplotMatrix"</code> argument become
attributes in the <code>"includegraphicsMatrix"</code> result.
When <code>FALSE</code>, the <code>label.x.axis</code>, <code>label.y.axis</code>, and <code>columnKey</code>
arguments are passed through to <code>microplotAttrDisplay</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.x.axis, label.y.axis</code></td>
<td>
<p>Labels that will used by
<code>microplotAttrDisplay</code> in the column
name of the <code>y.axis</code> and the <code>y.axis</code> position for the
<code>x.axis</code> in the 'latex' display of the graphic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columnKey</code></td>
<td>

<p>If <code>as.attr</code> is <code>FALSE</code> and the key in <code>attr(object,
  "key.name")</code> is non-null, then <code>microplotAttrDisplay</code>
will place its <code>key.name</code> as a new last value in
the specified columns.  The column numbering is with respect to the
input <code>object</code>, before the <code>y.axis</code> or <code>ylab</code> are evaluated.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other arguments currently ignored.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>We recommend that the aspect ratio be controlled by the 'R' functions
that generated the figure.  <code>as.includegraphics</code> will use the
height and width values that are encoded in the <code>pdf</code>,
<code>png</code>, <code>ps</code> files.
If you need to change the size of the image
we recommend that at most one of
<code>height.includegraphics</code>
and <code>width.includegraphics</code> be used
in <code>as.includegraphics</code>.  Using both will change the aspect ratio
and consequently stretch the figure.  The <code>trim</code> argument is used
to remove excess margins from the figure; when <code>trim</code> is
specified for height or width, the <code>height.includegraphics</code> or
<code>width.includegraphics</code> will also need to be specified
to retain the aspect ratio.
See <code>demo("latex")</code> and <code>demo("latex-ggplot")</code> for an example.
</p>
<p>Either the <code>viewport</code> (for <code>pdf</code> or <code>png</code> files) or
<code>bb</code> (for <code>ps</code> files) should be specified, not both.
</p>
<p>The <code>trim</code> argument can be used to take apart an externally
produced graphics file and use subsets of its area as components in a 'LaTeX' table.
See the files <code>examples/irisSweaveTakeApart.Rtex</code> and
<code>examples/irisSweaveTakeApart-Distributed.pdf</code> for an example.
</p>


<h3>Value</h3>

<p>A <code>"includegraphicsMatrix"</code> object, a vector or matrix of 'LaTeX'
expressions with the 'LaTeX' macro
<code>\includegraphics</code> for each of the input filenames.  If the
input argument has <code>axis.names</code> or <code>lab.names</code> or
<code>key.name</code> attributes, then the value will also have those
attributes, enclosed in <code>\includegraphics</code> statements.  The
arguments allow different <code>\includegraphics</code> options for the
panels, the x.axis, the y.axis, xlab, ylab, and the key (legend).
The location of the
files listed in the input argument attributes depends on the value of
the <code>as.attr</code> argument.  When <code>as.attr</code> is <code>TRUE</code> the
<code>object</code> attributes will become <code>result</code> attributes.  When
<code>as.attr</code> is <code>FALSE</code>, see the microplotAttrDisplay for
details.
</p>


<h3>Author(s)</h3>

<p> Richard M. Heiberger &lt;rmh@temple.edu&gt; </p>


<h3>See Also</h3>

<p><code>latex.trellis</code>, <code>microplot</code>, <code>latex</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">as.includegraphics("abc.pdf")
## [1] "\setlength{\tabcolsep}{0pt}\begin{tabular}{c}
##      \includegraphics{/Users/rmh/Rwd/abc.def}\end{tabular}"
## attr(,"class")
## [1] "includegraphicsMatrix" "character"
## This form, with the full pathname, is required when the Hmisc::print.latex
## and related functions are used for automatic display of
## the current .tex file on screen.

as.includegraphics("abc.pdf", wd=".")
## [1] "\setlength{\tabcolsep}{0pt}\begin{tabular}{c}
##      \includegraphics{./abc.pdf}\end{tabular}"
## attr(,"class")
## [1] "includegraphicsMatrix" "character"
## This form, with the relative path, is optional when the .tex file will be
## embedded into a larger file, and will not be automatically displayed on screen.


## Please see the package documentation ?microplot for a simple example in context.

## Please see the demos for more interesting examples.
## demo(package="microplot")

</code></pre>


</div>