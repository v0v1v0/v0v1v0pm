<div class="container">

<table style="width: 100%;"><tr>
<td>select_required</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Select required midfieldr variables</h2>

<h3>Description</h3>

<p>Subset a data frame, selecting columns by matching or partially matching a
vector of character strings. A convenience function to reduce the dimensions
of a MIDFIELD data table at the start of a session by selecting only those
columns typically required by other midfieldr functions. Particularly useful
in interactive sessions when viewing the data tables at various stages of an
analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">select_required(midfield_x, ..., select_add = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>midfield_x</code></td>
<td>
<p>Data frame from which columns are selected, typically
<code>student</code>, <code>term</code>, <code>degree</code> or their subsets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not used for passing values; forces subsequent arguments to be
referable only by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select_add</code></td>
<td>
<p>Character vector of column names to be added (optionally)
to the default
<code>c("mcid", "institution", "race", "sex", "^term", "cip6", "level")</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Several midfieldr functions are designed to operate on one or more of the
MIDFIELD data tables, usually <code>student</code>, <code>term</code>, or <code>degree.</code> This family of
functions requires only a small subset of available variables: the required
columns built in to the function are <code>mcid</code>, <code>institution</code>, <code>race</code>, <code>sex</code>,
<code style="white-space: pre;">⁠^term⁠</code>, <code>cip6</code>, and <code>level</code>. Additional column names or partial names can be
included by using the <code>select_add</code> argument.
</p>
<p>The column names of <code>midfield_x</code> are searched for matches or partial matches
using <code>grep()</code>, thus search terms can include regular expressions. Variables
with names that match or partially match the search terms are returned; all
other columns are dropped. Rows are unaffected. Search terms not present are
silently ignored.
</p>
<p>One could use this function to select columns from a non-MIDFIELD data frame,
but with no benefit to the user—conventional column selection syntax is
better suited to that task. Here, we specialize the column selection to serve
midfieldr functions.
</p>


<h3>Value</h3>

<p>A data frame in <code>data.table</code> format with the
following properties: rows are preserved; columns with names that
match or partially match values in <code>select_add</code> are retained; grouping
structures are not preserved.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Default character vector for selecting columns
default_cols&lt;- c("mcid", "institution", "race", "sex", "^term", "cip6", "level")

# Create one string separated by OR
search_pattern &lt;- paste(default_cols, collapse = "|")

# Find names of columns matching or partially matching 
x &lt;- select_required(toy_student) 
names(x)
grepl(search_pattern, names(x))

x &lt;- select_required(toy_term) 
names(x)
grepl(search_pattern, names(x))

x &lt;- select_required(toy_degree) 
names(x)
grepl(search_pattern, names(x))

x &lt;- select_required(toy_course) 
names(x)
grepl(search_pattern, names(x))

# Adding search terms
x &lt;- select_required(toy_course, select_add = c("abbrev", "number", "grade")) 
names(x)



</code></pre>


</div>