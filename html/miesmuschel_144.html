<div class="container">

<table style="width: 100%;"><tr>
<td>dict_selectors_sequential</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run Multiple Selection Operations in Sequence</h2>

<h3>Description</h3>

<p><code>Selector</code> that wraps multiple other <code>Selector</code>s given during construction and uses them for selection in sequence.
This makes it possible for one <code>Selector</code> to discard a few individuals, followed by a second <code>Selector</code> to
discard more, etc., until <code>n_select</code> individuals are remaining.
</p>


<h3>Algorithm</h3>

<p>Given that there are <code>nrow(values)</code> input individuals in an operation, and <code>n_select</code> individuals requested to be selected,
the operation calls <code>selector_i</code> for <code>i</code> in 1 ... <code>length(selectors)</code> to reduce the number of individuals in this pipeline.
The relative quantity by which the number of individuals is reduced in each step is determined by the configuration parameters
<code>reduction_1</code>, <code>reduction_2</code>, etc., and also dependent on the sum of these values, in the following denoted, with a slight abuse of notation, by <code style="white-space: pre;">⁠sum[reduction_#]⁠</code>.
</p>
<p>Let the number of individuals passed to step <code>i</code> be denoted by <code>n_values[i]</code>, and the number of individuals requested to be
selected by that step be denoted as <code>n_select_[i]</code>. In particular, <code>n_values[1] == nrow(values)</code>, and <code>n_select_[length(selectors)] == n_select</code>.
</p>
<p>When <code>reduction_by_factor</code> is <code>TRUE</code>, then the reduction at step <code>i</code> is done by a factor, meaning that <code>n_values[i] / n_select_[i]</code> is set (up to rounding).
This factor is <code style="white-space: pre;">⁠(nrow(values) / n_select) ^ (reduction_i / sum[reduction_#])⁠</code>.
</p>
<p>When <code>reduction_by_factor</code> is <code>FALSE</code>, then the reduction at step <code>i</code> is done by absolute differences, meaning that <code>n_values[i] - n_select_[i]</code> is set (up to rounding).
This difference is <code style="white-space: pre;">⁠(nrow(values) - n_select) * (reduction_i / sum[reduction_#])⁠</code>, with <code style="white-space: pre;">⁠sum[reduction_#]⁠</code> as above.
</p>
<p>In particular, this means that when all <code>reduction_#</code> values are the same and <code>reduction_by_factor</code> is <code>TRUE</code>, then each operation reduces the number of
individuals in the pipeline by the same factor. When <code>reduction_by_factor</code> is <code>FALSE</code>, then each operation removes the same absolute number of individuals.
</p>
<p>While the illustrations are done with the assumption that <code>nrow(values) &gt;= n_select</code>, they hold equivalently with <code>nrow(values) &lt; n_select</code>.
</p>
<p>All except the last <code>Selector</code>s are called with <code>group_size</code> set to their <code>n_select</code> value; the last <code>Selector</code> is called with the <code>group_size</code> value
given as input.
</p>


<h3>Configuration Parameters</h3>

<p>This operator has the configuration parameters of the <code>Selector</code>s that it wraps: The configuration parameters of the operator given to the <code>selectors</code> construction
argument are prefixed with <code>"selector_1"</code>, <code>"selector_2"</code>, ... up to <code>"selector_#"</code>, where <code style="white-space: pre;">⁠#⁠</code> is <code>length(selectors)</code>.
</p>
<p>Additional configuration parameters:
</p>

<ul>
<li> <p><code>reduction_1</code>, <code>reduction_2</code>, ... :: <code>numeric(1)</code><br>
Relative reduction done by <code>selector_1</code>, <code>selector_2</code>, ..., as described in the section <strong>Algorithm</strong>. The values are all initialized to 1, meaning
the same factor (when <code>reduction_by_factor</code> is <code>TRUE</code>) or absolute number (otherwise) of reduction by each operation.
</p>
</li>
<li> <p><code>reduction_by_factor</code> :: <code>logical(1)</code><br>
Whether to do reduction by factor (<code>TRUE</code>) or absolute number (<code>FALSE</code>), as described in <strong>Algorithm</strong>. Initialized to <code>TRUE</code>.
</p>
</li>
</ul>
<h3>Supported Operand Types</h3>

<p>Supported <code>Domain</code> classes are the set intersection of supported classes of the <code>Selector</code>s given in <code>selectors</code>.
</p>


<h3>Dictionary</h3>

<p>This <code>Selector</code> can be created with the short access form <code>sel()</code>
(<code>sels()</code> to get a list), or through the the dictionary
<code>dict_selectors</code> in the following way:
</p>
<div class="sourceCode"><pre># preferred:
sel("sequential", &lt;selectors&gt;)
sels("sequential", &lt;selectors&gt;)  # takes vector IDs, returns list of Selectors

# long form:
dict_selectors$get("sequential", &lt;selectors&gt;)
</pre></div>


<h3>Super classes</h3>

<p><code>miesmuschel::MiesOperator</code> -&gt; <code>miesmuschel::Selector</code> -&gt; <code>SelectorSequential</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>selectors</code></dt>
<dd>
<p>(<code>list</code> of <code>Selector</code>)<br><code>Selector</code>s being wrapped. These operators get run sequentially in order.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-SelectorSequential-new"><code>SelectorSequential$new()</code></a>
</p>
</li>
<li> <p><a href="#method-SelectorSequential-prime"><code>SelectorSequential$prime()</code></a>
</p>
</li>
<li> <p><a href="#method-SelectorSequential-clone"><code>SelectorSequential$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="miesmuschel" data-topic="MiesOperator" data-id="help"><a href="../../miesmuschel/html/MiesOperator.html#method-MiesOperator-help"><code>miesmuschel::MiesOperator$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="miesmuschel" data-topic="MiesOperator" data-id="operate"><a href="../../miesmuschel/html/MiesOperator.html#method-MiesOperator-operate"><code>miesmuschel::MiesOperator$operate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="miesmuschel" data-topic="MiesOperator" data-id="print"><a href="../../miesmuschel/html/MiesOperator.html#method-MiesOperator-print"><code>miesmuschel::MiesOperator$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="miesmuschel" data-topic="MiesOperator" data-id="repr"><a href="../../miesmuschel/html/MiesOperator.html#method-MiesOperator-repr"><code>miesmuschel::MiesOperator$repr()</code></a></span></li>
</ul></details><hr>
<a id="method-SelectorSequential-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize the <code>SelectorSequential</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>SelectorSequential$new(selectors)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>selectors</code></dt>
<dd>
<p>(<code>list</code> of <code>Selector</code>)<br><code>Selector</code>s to wrap. The operations are run in order given to <code>selectors</code>.
The constructed object gets a <em>clone</em> of this argument. The <code style="white-space: pre;">⁠$selectors⁠</code> field will reflect this value.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-SelectorSequential-prime"></a>



<h4>Method <code>prime()</code>
</h4>

<p>See <code>MiesOperator</code> method. Primes both this operator, as well as the wrapped operators
given to <code>selectors</code> during construction.
</p>


<h5>Usage</h5>

<div class="r"><pre>SelectorSequential$prime(param_set)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>param_set</code></dt>
<dd>
<p>(<code>ParamSet</code>)<br>
Passed to <code>MiesOperator</code><code style="white-space: pre;">⁠$prime()⁠</code>.</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>invisible <code>self</code>.
</p>


<hr>
<a id="method-SelectorSequential-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>SelectorSequential$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>See Also</h3>

<p>Other selectors: 
<code>Selector</code>,
<code>SelectorScalar</code>,
<code>dict_selectors_best</code>,
<code>dict_selectors_maybe</code>,
<code>dict_selectors_null</code>,
<code>dict_selectors_proxy</code>,
<code>dict_selectors_random</code>,
<code>dict_selectors_tournament</code>
</p>
<p>Other selector wrappers: 
<code>dict_selectors_maybe</code>,
<code>dict_selectors_proxy</code>
</p>


</div>