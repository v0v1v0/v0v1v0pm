<div class="container">

<table style="width: 100%;"><tr>
<td>ffs_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimation of bilateral migrant flows from bilateral migrant stocks using stock differencing approaches</h2>

<h3>Description</h3>

<p>Estimates migrant transitions flows between two sequential migrant stock tables using differencing approaches commonly used by economists.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ffs_diff(
  stock_start,
  stock_end,
  decrease = "return",
  include_native_born = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stock_start</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stock_end</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>+1. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em>+1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decrease</code></td>
<td>
<p>How to treat decreases in bilateral stocks over the <em>t</em> to <em>t</em>+1 period (so as to avoid a negative bilateral flow estimates). See details for possible options. Default is <code>return</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_native_born</code></td>
<td>
<p>Logical value to indicate whether to include diagonal elements of <code>stock_start</code> and <code>stock_end</code>. Default of <code>FALSE</code> - not include.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Estimates migrant transitions flows between two sequential migrant stock tables. 
</p>
<p>When <code>decrease = "zero"</code> all decreases in migrant stocks over there period are set to zero, following the approach of Bertoli and Fernandez-Huertas Moraga (2015) 
</p>
<p>When <code>decrease = "return"</code> all decreases in migrant stocks are assumed to correspond to return flows back to their place of birth, following the approach of Beine and Parsons (2015)
</p>


<h3>Author(s)</h3>

<p>Guy J. Abel
</p>


<h3>References</h3>

<p>Beine, Michel, Simone Bertoli, and Jesús Fernández-Huertas Moraga. (2016). A Practitioners’ Guide to Gravity Models of International Migration. <em>The World Economy</em> 39(4):496–512.
</p>


<h3>See Also</h3>

<p><code>ffs_demo</code>, <code>ffs_rates</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">s1 &lt;- matrix(data = c(100, 10, 10, 0, 20, 55, 25, 10, 10, 40, 140, 65, 20, 25, 20, 200),
             nrow = 4, ncol = 4, byrow = TRUE)
s2 &lt;- matrix(data = c(75, 25, 5, 15, 20, 45, 30, 15, 30, 40, 150, 35, 10, 50, 5, 200),
             nrow = 4, ncol = 4, byrow = TRUE)
r &lt;- LETTERS[1:4]
dimnames(s1) &lt;- dimnames(s2) &lt;- list(pob = r, por = r)
s1; s2

ffs_diff(stock_start = s1, stock_end = s2, decrease = "zero")
ffs_diff(stock_start = s1, stock_end = s2, decrease = "return")
</code></pre>


</div>