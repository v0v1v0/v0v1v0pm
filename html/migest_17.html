<div class="container">

<table style="width: 100%;"><tr>
<td>ffs_rates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimation of bilateral migrant flows from bilateral migrant stocks using rates approaches</h2>

<h3>Description</h3>

<p>Estimates migrant transitions flows between two sequential migrant stock tables using approached based on rates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ffs_rates(stock_start = NULL, stock_end = NULL, M = NULL, method = "dennett")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>stock_start</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stock_end</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>+1. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em>+1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Numeric value for the global sum of migration flows, used for <code>dennett</code> approach.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method to estimate flows. Can take values <code>dennett</code> or <code>rogers-von-rabenau</code>. See details section for more information. Uses <code>dennett</code> as default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Estimates migrant transitions flows based on migration rates.
</p>
<p>When <code>method = "dennett"</code> migration are derived from the matrix supplied to <code>stock_start</code>. Dennett uses bilateral migrant stocks at beginning of period. Rates then multiplied by global migration flows supplied in <code>M</code>.
</p>
<p>When <code>method = "rogers-von-rabenau"</code> a matrix of growth rates are derived from the changes in initial populations stock <code>stock_start</code> to obtain <code>stock_end</code>;
</p>
<p style="text-align: center;"><code class="reqn">P^{t+1} = g P^{t}</code>
</p>

<p>and then multiplied by the corresponding populations at risk in <code>stock_start</code>. Can result in negative flows.
</p>


<h3>Author(s)</h3>

<p>Guy J. Abel
</p>


<h3>References</h3>

<p>Dennett, A. (2015). Estimating an Annual Time Series of Global Migration Flows - An Alternative Methodology for Using Migrant Stock Data. <em>Global Dynamics: Approaches from Complexity Science</em>, 125–142. https://doi.org/10.1002/9781118937464.ch7
</p>
<p>Rogers, A., &amp; Von Rabenau, B. (1971). Estimation of interregional migration streams from place-of-birth-by-residence data. <em>Demography</em>, 8(2), 185–194.
</p>


<h3>See Also</h3>

<p><code>ffs_demo</code>, <code>ffs_rates</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">s1 &lt;- matrix(data = c(100, 10, 10, 0, 20, 55, 25, 10, 10, 40, 140, 65, 20, 25, 20, 200),
             nrow = 4, ncol = 4, byrow = TRUE)
s2 &lt;- matrix(data = c(75, 25, 5, 15, 20, 45, 30, 15, 30, 40, 150, 35, 10, 50, 5, 200),
             nrow = 4, ncol = 4, byrow = TRUE)
r &lt;- LETTERS[1:4]
dimnames(s1) &lt;- dimnames(s2) &lt;- list(pob = r, por = r)
s1; s2

# calculate total migration flows for dennett approach
n &lt;- colSums(s2) - colSums(s1)

ffs_rates(stock_start = s1, M =  sum(abs(n)), method = "dennett" )
ffs_rates(stock_start = s1, stock_end = s2, method = "rogers-von-rabenau" )
</code></pre>


</div>