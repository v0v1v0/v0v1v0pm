<div class="container">

<table style="width: 100%;"><tr>
<td>index_distance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summary indices of migration distance</h2>

<h3>Description</h3>

<p>Summary indices of migration distance
</p>


<h3>Usage</h3>

<pre><code class="language-R">index_distance(
  m = NULL,
  d = NULL,
  orig_col = "orig",
  dest_col = "dest",
  flow_col = "flow",
  dist_col = "dist",
  long = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>A <code>matrix</code> or data frame of origin-destination flows. For <code>matrix</code> the first and second dimensions correspond to origin and destination respectively. For a data frame ensure the correct column names are passed to <code>orig_col</code>, <code>dest_col</code> and <code>flow_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>A <code>matrix</code> or data frame of origin-destination distances. For <code>matrix</code> the first and second dimensions correspond to origin and destination respectively. For a data frame ensure the correct column names are passed to <code>orig_col</code>, <code>dest_col</code> and <code>dist_col</code>. Region names should match those in <code>m</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig_col</code></td>
<td>
<p>Character string of the origin column name (when <code>m</code> is a data frame rather than a <code>matrix</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dest_col</code></td>
<td>
<p>Character string of the destination column name (when <code>m</code> is a data frame rather than a <code>matrix</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flow_col</code></td>
<td>
<p>Character string of the flow column name (when <code>m</code> is a data frame rather than a <code>matrix</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist_col</code></td>
<td>
<p>Character string of the distance column name (when <code>dist</code> is a data frame rather than a <code>matrix</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long</code></td>
<td>
<p>Logical to return a long data frame with index values all in one column</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with 3 summary measures where
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mean</code></td>
<td>
<p>Mean migration distance from Bell et. al. (2002) - not discussed in text but given in Table 6</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>median</code></td>
<td>
<p>Mean migration distance from Bell et. al. (2002)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decay</code></td>
<td>
<p>Distance decay parameter obtained from a Poisson regression model (<code>flow ~ orig + dest + log(dist)</code>)</p>
</td>
</tr>
</table>
<h3>Source</h3>

<p>Bell, M., Blake, M., Boyle, P., Duke-Williams, O., Rees, P. H., Stillwell, J., &amp; Hugo, G. J. (2002). Cross-national comparison of internal migration: issues and measures. Journal of the Royal Statistical Society: Series A (Statistics in Society), 165(3), 435â€“464. https://doi.org/10.1111/1467-985X.00247
</p>


<h3>Examples</h3>

<pre><code class="language-R"># single year
index_distance(
  m = subset(korea_gravity, year == 2020),
  d = subset(korea_gravity, year == 2020),
  dist_col = "dist_cent"
)

# multiple years
library(dplyr)
library(tidyr)
library(purrr)

korea_gravity %&gt;%
  select(year, orig, dest, flow, dist_cent) %&gt;%
  group_nest(year) %&gt;%
  mutate(i = map2(
    .x = data, .y = data, 
    .f = ~index_distance(m = .x, d = .y, dist_col = "dist_cent", long = FALSE)
  )) %&gt;%
  select(-data) %&gt;%
  unnest(i)
</code></pre>


</div>