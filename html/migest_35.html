<div class="container">

<table style="width: 100%;"><tr>
<td>match_birthplace_tot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adjust migrant stock tables to have matching place of birth (origin) totals</h2>

<h3>Description</h3>

<p>This function is predominantly intended to be used within the ffs routines in the migest package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">match_birthplace_tot(m1, m2, method = "rescale", verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m1</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em>+1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2</code></td>
<td>
<p>Matrix of migrant stock totals at time <em>t</em>+1. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em>+1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Character string matching either <code>rescale</code>, <code>rescale-adjust-zero-fb</code>, <code>open</code> or <code>open-dr</code>. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical value to indicate the print the parameter estimates at each iteration of the rescale, as used in <code>ipf2</code>. By default <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>rescale</code> and <code>rescale-adjust-zero-fb</code> method ensure flow estimates closely match the net migration totals implied by the changes in population totals, births and deaths - as introduced in the Science paper. The <code>rescale-adjust-zero-fb</code> can adjust for rare cases when row total margins that are smaller than native born totals in countries where there are no foreign born populations (e.g. South Sudan 1990-1995).
The <code>open-dr</code> method allows for moves in and out of the global system - as introduced in the Demographic Research paper. The <code>open</code> method is a slight improvement over <code>open-dr</code> - the calculation of the moves and in and out using more sensible weights.
</p>


<h3>Value</h3>

<p>Returns a <code>list</code> object with:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>m1_adj </code></td>
<td>
<p>Matrix of adjusted <code>m1</code> where rows (place of births) match <code>m2_adj</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2_adj </code></td>
<td>
<p>Matrix of adjusted <code>m2</code> where rows (place of births) match <code>m1_adj</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in_mat </code></td>
<td>
<p>Matrix of estimated inflows into the system.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out_mat </code></td>
<td>
<p>Matrix of estimated outflows from the system.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Guy J. Abel
</p>


<h3>References</h3>

<p>Abel and Cohen (2019) Bilateral international migration flow estimates for 200 countries <em>Scientific Data</em> 6 (1), 1-13
</p>
<p>Azose &amp; Raftery (2019) Estimation of emigration, return migration, and transit migration between all pairs of countries <em>Proceedings of the National Academy of Sciences</em> 116 (1) 116-122
</p>
<p>Abel, G. J. (2018). Estimates of Global Bilateral Migration Flows by Gender between 1960 and 2015. <em>International Migration Review</em> 52 (3), 809â€“852.
</p>
<p>Abel, G. J. and Sander, N. (2014). Quantifying Global International Migration Flows. <em>Science</em>, 343 (6178) 1520-1522
</p>


<h3>See Also</h3>

<p><code>ffs_demo</code>
</p>


</div>