<div class="container">

<table style="width: 100%;"><tr>
<td>nb_non_zero</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handle negative native born populations</h2>

<h3>Description</h3>

<p>This function is predominantly intended to be used within the ffs routines in the migest package. Adjustment to ensure positive population counts in all elements of stock matrix. On rare occasions when working with international stock data the foreign born population can exceed the total population due to conflicting data sources.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nb_non_zero(m, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>Matrix of migrant stock totals. Rows in the matrix correspond to place of birth and columns to place of residence at time <em>t</em></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical value to indicate the print the parameter estimates at each iteration. By default <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix which scales the elements in columns (places of residence) with a negative population to match the overall population (column total). Negative values will be replaced with zero. Positive values will be scaled down to ensure the column total matches the original <code>m</code>.
</p>


<h3>Author(s)</h3>

<p>Guy J. Abel
</p>


<h3>See Also</h3>

<p><code>ffs_demo</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## cant have examples if function not in namespace - i.e. without export 
## so comment all out for own use
# dn &lt;- LETTERS[1:4]
# P &lt;- matrix(data = c(1000, 100, 10, 0, 55, 555, 50, 5, 80, 40, 800, 40, 20, 25, 20, 200),
#             nrow = 4, ncol = 4, dimnames = list(pob = dn, por = dn), byrow = TRUE)
# # display with row and col totals
# addmargins(A = P)
# 
# # no change
# y &lt;- nb_non_zero(m = P)
# addmargins(A = y)
# 
# # adjust a native born population to negative
# P[4, 4] &lt;- -20
# # display with row and col totals
# addmargins(A = P)
# 
# y &lt;- nb_non_zero(m = P)
# addmargins(A = y)

</code></pre>


</div>