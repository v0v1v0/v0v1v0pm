<div class="container">

<table style="width: 100%;"><tr>
<td>create_grouped_data_partition</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Split into train and test set while splitting by groups.
When <code>group_partitions</code> is <code>NULL</code>, all samples from each group will go into
either the training set or the testing set.
Otherwise, the groups will be split according to <code>group_partitions</code>
</h2>

<h3>Description</h3>

<p>Split into train and test set while splitting by groups.
When <code>group_partitions</code> is <code>NULL</code>, all samples from each group will go into
either the training set or the testing set.
Otherwise, the groups will be split according to <code>group_partitions</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_grouped_data_partition(
  groups,
  group_partitions = NULL,
  training_frac = 0.8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>Vector of groups to keep together when splitting the data into
train and test sets. If the number of groups in the training set is larger
than <code>kfold</code>, the groups will also be kept together for cross-validation.
Length matches the number of rows in the dataset (default: <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_partitions</code></td>
<td>
<p>Specify how to assign <code>groups</code> to the training and
testing partitions (default: <code>NULL</code>). If <code>groups</code> specifies that some
samples belong to group <code>"A"</code> and some belong to group <code>"B"</code>, then setting
<code>group_partitions = list(train = c("A", "B"), test = c("B"))</code> will result
in all samples from group <code>"A"</code> being placed in the training set, some
samples from <code>"B"</code> also in the training set, and the remaining samples from
<code>"B"</code> in the testing set. The partition sizes will be as close to
<code>training_frac</code> as possible. If the number of groups in the training set is
larger than <code>kfold</code>, the groups will also be kept together for
cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>training_frac</code></td>
<td>
<p>Fraction of data for training set (default: <code>0.8</code>). Rows
from the dataset will be randomly selected for the training set, and all
remaining rows will be used in the testing set. Alternatively, if you
provide a vector of integers, these will be used as the row indices for the
training set. All remaining rows will be used in the testing set.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>vector of row indices for the training set
</p>


<h3>Author(s)</h3>

<p>Zena Lapp, zenalapp@umich.edu
</p>
<p>Kelly Sovacool, sovacool@umich.edu
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
groups &lt;- c("A", "B", "A", "B", "C", "C", "A", "A", "D")
set.seed(0)
create_grouped_data_partition(groups, training_frac = 0.8)
groups &lt;- rep.int(c("A", "B", "C"), 3)
create_grouped_data_partition(groups,
  group_partitions = list(train = c("A"), test = c("A", "B", "C"))
)

## End(Not run)
</code></pre>


</div>