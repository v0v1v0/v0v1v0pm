<div class="container">

<table style="width: 100%;"><tr>
<td>run_game</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run mine sweeper game</h2>

<h3>Description</h3>

<p><code>run_game</code> runs mine sweeper game. It opens a window through <code>x11</code>.
Please do not run multiple instances (windows) of the game. For game instructions, please check the details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run_game(
  n_mine = max(round(0.2 * n_row * n_col), 1L),
  n_row = 10L,
  n_col = 10L,
  unmask_button = 0L,
  flag_button = 2L,
  digit_char = format(seq_len(8L), scientific = FALSE),
  mine_char = "M",
  flag_char = "F",
  unmask_color = "#9F9F9F",
  mask_color = "#3F3F3F",
  hit_color = "#9F3F3F",
  wrong_color = "#7F1F7F",
  digit_color = pals::cols25(n = 8L),
  mine_color = "black",
  flag_color = "white",
  window_title = "Mine Sweeper in R",
  x11_args = list(),
  time_prec = 3L,
  restart_key = "r",
  exit_key_press = 2L,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_mine, n_row, n_col</code></td>
<td>
<p>Integers as numbers of mines/rows/columns in game panel,
<code>0 &lt; n_mines &lt; n_row * n_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unmask_button, flag_button</code></td>
<td>
<p>Integers as buttons to unmask/flag tiles.
Usually, 0 for left mouse button (to unmask) and 2 for right mouse button (to flag).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digit_char, mine_char, flag_char</code></td>
<td>
<p>Characters to mark counts/mines/flags.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unmask_color, mask_color, hit_color, wrong_color</code></td>
<td>
<p>Strings as colors for
unmasked tiles / masked tiles / mine-triggering tile / wrongly flagged tiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digit_color, mine_color, flag_color</code></td>
<td>
<p>Strings as colors for <code>digit_char</code>/
<code>mine_char</code>/<code>flag_char</code> on game panel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window_title</code></td>
<td>
<p>String as window title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x11_args</code></td>
<td>
<p>Named list of arguments passed on to <code>x11</code>,
excluding <code>title</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_prec</code></td>
<td>
<p>Integer as time precision (e.g. 0 for seconds or 3 for miliseconds).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restart_key</code></td>
<td>
<p>Character as the key to restart game, used when you have won or lost a game.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exit_key_press</code></td>
<td>
<p>Integer as the times of boss key presses (boss key is any key
other than <code>restart_key</code>) required to close game window. This may come in handy in emergency (:D).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>Logical, internal use only.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Game instructions:
</p>

<dl>
<dt>Goal</dt>
<dd>
<p>All tiles start masked. If you unmask all tiles without mines, you win the game;
if you unmask any tiles containing mines, you lose the game.</p>
</dd>
<dt>Unmask tiles</dt>
<dd>
<p>You may click with <code>unmask_button</code> on any masked tile to unmask.
The first tile unmasked cannot contain a mine. Timing starts when any tile is unmasked.</p>
</dd>
<dt>Find out mines</dt>
<dd>
<p>Each unmasked tile tells you the number of mines in adjacent tiles, unless itself contains a mine.
You may use these numbers to find out the adjacent tiles with mines.</p>
</dd>
<dt>Flag mines</dt>
<dd>
<p>You may click with <code>flag_button</code> on an unmasked tile to flag it as a possible mine.
Flagged tiles cannot be unmasked, unless you click on them with <code>flag_button</code> again to remove the flags.</p>
</dd>
<dt>Unmask adjacent tiles</dt>
<dd>
<p>You may click with <code>unmask_button</code> on any unmasked tile to unmask adjacent unflagged tiles,
after you have set up the number of flags that equals to the count of adjacent mines shown on this tile.
If any unflagged adjacent tiles contain mines, one of them is triggered and you lose the game.</p>
</dd>
<dt>Game statistics</dt>
<dd>
<p>After you win or lose a game, game statistics are recorded.</p>
</dd>
<dt>Restart game</dt>
<dd>
<p>You may restart game with <code>restart_key</code> at any time. If you have not won or lost the game,
it is not recorded in game statistics.</p>
</dd>
<dt><strong>BOSS KEY!</strong></dt>
<dd>
<p>You may press boss key (any key other than <code>restart_key</code>) for <code class="reqn">\ge</code> <code>exit_key_press</code> times
to close game window.</p>
</dd>
</dl>
<h3>Value</h3>

<p>A <code>data.frame</code> containing game statistics, invisibly, where each row is a game play.
To look at game statistics, save the output of <code>run_game()</code> to a variable
for later use or run <code>print(run_grame)</code> to print.
</p>


<h3>Note</h3>

<p>Change log:
</p>

<ul><li>
<p>0.1.0 Xiurui Zhu - Initiate the function.
</p>
</li></ul>
<h3>Author(s)</h3>

<p>Xiurui Zhu
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive() == TRUE) {
  run_game()
}
</code></pre>


</div>