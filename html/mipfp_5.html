<div class="container">

<table style="width: 100%;"><tr>
<td>CompareMaxDev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Comparing deviations of mipfp objects
</h2>

<h3>Description</h3>

<p>This function compares either the margins errors from different <code>mipfp</code> 
objects or the absolute maximum deviation between a given table and the 
estimates in the mipfp objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CompareMaxDev(list.mipfp = list(), true.table = NULL, echo = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>list.mipfp</code></td>
<td>

<p>The list produced by the function <code>Estimate</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true.table</code></td>
<td>

<p>When provided, the estimates contained in the <code>mipfp</code> objects in the 
list <code>list.mipfp</code> are compared against this table. It is an optional
argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>echo</code></td>
<td>

<p>Verbose parameter. If <code>TRUE</code>, the function prints what is being 
compared. Default is <code>FALSE</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A table with as many rows as the number of mipfp objects in <code>list.mipfp</code>. 
Each row details the margins errors or the maximum absolute deviation of 
one <code>mipfp</code> object.
</p>


<h3>Author(s)</h3>

<p>Johan Barthelemy
</p>
<p>Maintainer: Johan Barthelemy <a href="mailto:johan@uow.edu.au">johan@uow.edu.au</a>.
</p>


<h3>See Also</h3>

<p>The estimation function <code>Estimate</code>.
</p>
<p>This function is used by 
<code>error.margins.mipfp</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># loading the data
data(spnamur, package = "mipfp")
# subsetting the data frame, keeping only the first 3 variables
spnamur.sub &lt;- subset(spnamur, select = Household.type:Prof.status)
# true table
true.table &lt;- table(spnamur.sub)
# extracting the margins
tgt.v1        &lt;- apply(true.table, 1, sum)
tgt.v1.v2     &lt;- apply(true.table, c(1,2), sum)
tgt.v2.v3     &lt;- apply(true.table, c(2,3), sum)
tgt.list.dims &lt;- list(1, c(1,2), c(2,3))
tgt.data      &lt;- list(tgt.v1, tgt.v1.v2, tgt.v2.v3)
# creating the seed, a 10% sample of spnamur
seed.df &lt;- spnamur.sub[sample(nrow(spnamur), round(0.10*nrow(spnamur))), ]
seed.table &lt;- table(seed.df)
# applying the different fitting methods
r.ipfp &lt;- Estimate(seed=seed.table, target.list=tgt.list.dims, 
                   target.data = tgt.data,  method = "ipfp")
r.ml   &lt;- Estimate(seed = seed.table, target.list = tgt.list.dims, 
                   target.data = tgt.data, method = "ml")
r.chi2 &lt;- Estimate(seed = seed.table, target.list = tgt.list.dims, 
                   target.data = tgt.data, method = "chi2")
r.lsq  &lt;- Estimate(seed = seed.table, target.list = tgt.list.dims, 
                   target.data = tgt.data, method = "lsq")
# print the maximum absolute deviation between targets and generated margins
CompareMaxDev(list(r.ipfp,r.ml,r.chi2,r.lsq), echo = TRUE)
# compute the maximum absolute deviation between the true and estimated tables
CompareMaxDev(list(r.ipfp,r.ml,r.chi2,r.lsq), echo = TRUE, 
              true.table = true.table)
</code></pre>


</div>