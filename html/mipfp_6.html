<div class="container">

<table style="width: 100%;"><tr>
<td>ComputeA</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Computes the marginal matrix A and margins vector m of an estimation problem
</h2>

<h3>Description</h3>

<p>Given a set of marginal target constraints and the dimension of the array
<code class="reqn">X</code> to wich the targets relate to, this function computes the matrix 
<code class="reqn">A</code> of full rank and vector <code class="reqn">m</code> such that
</p>
<p style="text-align: center;"><code class="reqn">A^T \pi = (m, 1)^T</code>
</p>

<p>where vector <code class="reqn">m</code> contains all components but one of every target and
<code class="reqn">\pi</code> is a vector of the (unknow) components of <code class="reqn">X</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ComputeA(dim.arr, target.list, target.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dim.arr</code></td>
<td>

<p>The dimension of the array <code class="reqn">X</code> to which the margins are applied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.list</code></td>
<td>

<p>A list of the target margins provided in target.data. Each 
component of the list is an array whose cells indicates which
dimension the corresponding margin relates to.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target.data</code></td>
<td>

<p>A list containing the data of the target margins. Each 
component of the list is an array storing a margin. The list 
order must follow the one defined in target.list. Note that 
the cells of the arrays must be non-negative.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list whose elements are defined below.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>marginal.matrix</code></td>
<td>

<p>The marginal matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margins</code></td>
<td>

<p>A vector containing the margins associated with A.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>

<p>The degree of freedom of the problem.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Johan Barthelemy
</p>
<p>Maintainer: Johan Barthelemy &lt;johan@uow.edu.au&gt;.
</p>


<h3>See Also</h3>

<p><code>MarginalMatrix</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># loading the data
data(spnamur, package = "mipfp")
# subsetting the data frame, keeping only the first 3 variables
spnamur.sub &lt;- subset(spnamur, select = Household.type:Prof.status)
# true table
true.table &lt;- table(spnamur.sub)
# extracting the margins
tgt.v1        &lt;- apply(true.table, 1, sum)
tgt.v1.v2     &lt;- apply(true.table, c(1,2), sum)
tgt.v2.v3     &lt;- apply(true.table, c(2,3), sum)
tgt.list.dims &lt;- list(1, c(1,2), c(2,3))
tgt.data      &lt;- list(tgt.v1, tgt.v1.v2, tgt.v2.v3)
# creating the seed, a 10 pct sample of spnamur
seed.df &lt;- spnamur.sub[sample(nrow(spnamur), round(0.10*nrow(spnamur))), ]
seed.table &lt;- table(seed.df)
# computing the associated marginal matrix and margins vector
res.marg &lt;- ComputeA(dim(seed.table), tgt.list.dims, tgt.data)
print(res.marg)
</code></pre>


</div>