<div class="container">

<table style="width: 100%;"><tr>
<td>serial_config</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Serialization Configuration</h2>

<h3>Description</h3>

<p>Returns a serialization configuration, which may be set to perform custom
serialization and unserialization of normally non-exportable reference
objects, allowing these to be used seamlessly between different R
sessions. This feature utilises the 'refhook' system of R native
serialization. Once set, the functions apply to all mirai requests for a
specific compute profile.
</p>


<h3>Usage</h3>

<pre><code class="language-R">serial_config(class, sfunc, ufunc, vec = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>character string of the class of object custom serialization
functions are applied to, e.g. ‘ArrowTabular’ or
‘torch_tensor’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sfunc</code></td>
<td>
<p>a function that accepts a reference object inheriting from
‘class’ (or a list of such objects) and returns a raw vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ufunc</code></td>
<td>
<p>a function that accepts a raw vector and returns a reference
object (or list of such objects).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p>[default FALSE] whether or not the serialization functions are
vectorized. If FALSE, they should accept and return reference objects
individually e.g. <code>arrow::write_to_raw</code> and
<code>arrow::read_ipc_stream</code>. If TRUE, they should accept and return a
list of reference objects, e.g. <code>torch::torch_serialize</code> and
<code>torch::torch_load</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list comprising the configuration. This should be passed to the
‘.serial’ argument of <code>everywhere</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cfg &lt;- serial_config("test_cls", function(x) serialize(x, NULL), unserialize)
cfg

</code></pre>


</div>