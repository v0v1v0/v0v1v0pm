<div class="container">

<table style="width: 100%;"><tr>
<td>createGroup</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a user defined group-level object with correct generic functions</h2>

<h3>Description</h3>

<p>Initializes the proper S4 class and methods necessary for mirt functions to use in estimation for defining
customized group-level functions. To use the defined objects pass to the
<code>mirt(..., customGroup = OBJECT)</code> command, and ensure that the class parameters are properly labelled.
</p>


<h3>Usage</h3>

<pre><code class="language-R">createGroup(
  par,
  est,
  den,
  nfact,
  standardize = FALSE,
  gr = NULL,
  hss = NULL,
  gen = NULL,
  lbound = NULL,
  ubound = NULL,
  derivType = "Richardson"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>par</code></td>
<td>
<p>a named vector of the starting values for the parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>a logical vector indicating which parameters should be freely estimated by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>den</code></td>
<td>
<p>the probability density function given the Theta/ability values.
First input contains a vector of all the defined parameters and the second input
must be a matrix called <code>Theta</code>.
Function also must return a <code>numeric</code> vector object corresponding to the associated densities for
each row in the <code>Theta</code> input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfact</code></td>
<td>
<p>number of factors required for the model. E.g., for unidimensional models with only one
dimension of integration <code>nfact = 1</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>logical; use standardization of the quadrature table method proposed by
Woods and Thissen (2006)? If TRUE, the logical elements named <code>'MEAN_1'</code> and <code>'COV_11'</code>
can be included in the parameter vector, and when these values are set to FALSE in the <code>est</code>
input the E-table will be standardized to these fixed values (e.g.,
<code>par &lt;- c(a1=1, d=0, MEAN_1=0, COV_11=1)</code> with <code>est &lt;- c(TRUE, TRUE, FALSE, FALSE)</code> will
standardize the E-table to have a 0 mean and unit variance)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gr</code></td>
<td>
<p>gradient function (vector of first derivatives) of the log-likelihood used in
estimation. The function must be of the form <code>gr(x, Theta)</code>, where <code>x</code> is the object
defined by <code>createGroup()</code> and <code>Theta</code> is a matrix of latent trait parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hss</code></td>
<td>
<p>Hessian function (matrix of second derivatives) of the log-likelihood used in
estimation. If not specified a numeric approximation will be used.
The input is identical to the <code>gr</code> argument</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gen</code></td>
<td>
<p>a function used when <code>GenRandomPars = TRUE</code> is passed to the estimation function
to generate random starting values. Function must be of the form <code>function(object) ...</code>
and must return a vector with properties equivalent to the <code>par</code> object. If NULL,
parameters will remain at the defined starting values by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lbound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to -Inf</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ubound</code></td>
<td>
<p>optional vector indicating the lower bounds of the parameters. If not specified
then the bounds will be set to Inf</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>derivType</code></td>
<td>
<p>if the <code>gr</code> or <code>hss</code> terms are not specified this type will be used to
obtain them numerically. Default is 'Richardson'</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06">doi:10.18637/jss.v048.i06</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# normal density example, N(mu, sigma^2)
den &lt;- function(obj, Theta) dnorm(Theta, obj@par[1], sqrt(obj@par[2]))
par &lt;- c(mu = 0, sigma2 = .5)
est &lt;- c(FALSE, TRUE)
lbound &lt;- c(-Inf, 0)
grp &lt;- createGroup(par, est, den, nfact = 1, lbound=lbound)

dat &lt;- expand.table(LSAT6)
mod &lt;- mirt(dat, 1, 'Rasch')
modcustom &lt;- mirt(dat, 1, 'Rasch', customGroup=grp)

coef(mod)
coef(modcustom)

</code></pre>


</div>