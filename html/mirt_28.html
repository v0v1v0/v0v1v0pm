<div class="container">

<table style="width: 100%;"><tr>
<td>empirical_ES</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Empirical effect sizes based on latent trait estimates</h2>

<h3>Description</h3>

<p>Computes effect size measures of differential item functioning and differential
test/bundle functioning based on expected scores from Meade (2010).
Item parameters from both reference and focal group are used in conjunction with
focal group empirical theta estimates (and an assumed normally distributed theta)
to compute expected scores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">empirical_ES(
  mod,
  Theta.focal = NULL,
  focal_items = 1L:extract.mirt(mod, "nitems"),
  DIF = TRUE,
  npts = 61,
  theta_lim = c(-6, 6),
  plot = FALSE,
  type = "b",
  par.strip.text = list(cex = 0.7),
  par.settings = list(strip.background = list(col = "#9ECAE1"), strip.border = list(col =
    "black")),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>a multipleGroup object which estimated only 2 groups. The first group in this object
is assumed to be the reference group by default (i.e., <code>ref.group = 1</code>), which conforms to the
<code>invariance</code> arguments in <code>multipleGroup</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Theta.focal</code></td>
<td>
<p>an optional matrix of Theta values from the focal group to be evaluated. If not supplied
the default values to <code>fscores</code> will be used in conjunction with the <code>...</code>
arguments passed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focal_items</code></td>
<td>
<p>a numeric vector indicating which items to include the tests. The
default uses all of the items. Selecting fewer items will result in tests of
'differential bundle functioning' when <code>DIF = FALSE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DIF</code></td>
<td>
<p>logical; return a data.frame of item-level imputation properties? If <code>FALSE</code>,
only DBF and DTF statistics will be reported</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>npts</code></td>
<td>
<p>number of points to use in the integration. Default is 61</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta_lim</code></td>
<td>
<p>lower and upper limits of the latent trait (theta) to be evaluated, and is
used in conjunction with <code>npts</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical; plot expected scores of items/test where expected scores are computed
using focal group thetas and both focal and reference group item parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of objects to draw in <code>lattice</code>; default plots both points and lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.strip.text</code></td>
<td>
<p>plotting argument passed to <code>lattice</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.settings</code></td>
<td>
<p>plotting argument passed to <code>lattice</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to <code>fscores</code> and <code>xyplot</code></p>
</td>
</tr>
</table>
<h3>DIF</h3>

<p>The default <code>DIF = TRUE</code> produces several effect sizes indices at the item level.
Signed indices allow DIF favoring the focal group at one point on the theta
distribution to cancel DIF favoring the reference group at another point on the theta
distribution. Unsigned indices take the absolute value before summing or averaging,
thus not allowing cancellation of DIF across theta.
</p>

<dl>
<dt>SIDS</dt>
<dd>
<p>Signed Item Difference in the Sample. The average difference in expected scores
across the focal sample using both focal and reference group item parameters.</p>
</dd>
<dt>UIDS</dt>
<dd>
<p>Unsigned Item Difference in the Sample. Same as SIDS except absolute value of
expected scores is taken prior to averaging across the sample.</p>
</dd>
<dt>D-Max</dt>
<dd>
<p>The maximum difference in expected scores in the sample.</p>
</dd>
<dt>ESSD</dt>
<dd>
<p>Expected Score Standardized Difference. Cohen's D for difference in expected scores.</p>
</dd>
<dt>SIDN</dt>
<dd>
<p>Signed Item Difference in a Normal distribution. Identical to SIDS but
averaged across a normal distribution rather than the sample.</p>
</dd>
<dt>UIDN</dt>
<dd>
<p>Unsigned Item Difference in a Normal distribution. Identical to UIDS but
averaged across a normal distribution rather than the sample.</p>
</dd>
</dl>
<h3>DBF/DTF</h3>

<p><code>DIF = FALSE</code> produces a series of test/bundle-level indices that are based on item-level
indices.
</p>

<dl>
<dt>STDS</dt>
<dd>
<p>Signed Test Differences in the Sample. The sum of the SIDS across items.</p>
</dd>
<dt>UTDS</dt>
<dd>
<p>Unsigned Test Differences in the Sample. The sum of the UIDS across items.</p>
</dd>
<dt>Stark's DTFR</dt>
<dd>
<p>Stark's version of STDS using a normal distribution rather than
sample estimated thetas.</p>
</dd>
<dt>UDTFR</dt>
<dd>
<p>Unsigned Expected Test Scores Differences in the Sample. The difference
in observed summed scale scores expected, on average, across a hypothetical focal
group with a normally distributed theta, had DF been uniform in nature for all items</p>
</dd>
<dt>UETSDS</dt>
<dd>
<p>Unsigned Expected Test Score Differences in the Sample.
The hypothetical difference expected scale scores that would have been present if
scale-level DF had been uniform across respondents (i.e., always favoring the
focal group).</p>
</dd>
<dt>UETSDN</dt>
<dd>
<p>Identical to UETSDS but computed using a normal distribution.</p>
</dd>
<dt>Test D-Max</dt>
<dd>
<p>Maximum expected test score differences in the sample.</p>
</dd>
<dt>ETSSD</dt>
<dd>
<p>Expected Test Score Standardized Difference. Cohen's D for expected
test scores.</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Adam Meade, with contributions by Phil Chalmers <a href="mailto:rphilip.chalmers@gmail.com">rphilip.chalmers@gmail.com</a>
</p>


<h3>References</h3>

<p>Chalmers, R., P. (2012). mirt: A Multidimensional Item Response Theory
Package for the R Environment. <em>Journal of Statistical Software, 48</em>(6), 1-29.
<a href="https://doi.org/10.18637/jss.v048.i06">doi:10.18637/jss.v048.i06</a>
</p>
<p>Meade, A. W. (2010). A taxonomy of effect size measures for the differential functioning
of items and scales. <em>Journal of Applied Psychology, 95</em>, 728-743.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# no DIF
set.seed(12345)
a &lt;- matrix(abs(rnorm(15,1,.3)), ncol=1)
d &lt;- matrix(rnorm(15,0,.7),ncol=1)
itemtype &lt;- rep('2PL', nrow(a))
N &lt;- 1000
dataset1 &lt;- simdata(a, d, N, itemtype)
dataset2 &lt;- simdata(a, d, N, itemtype, mu = .1, sigma = matrix(1.5))
dat &lt;- rbind(dataset1, dataset2)

# ensure 'Ref' is the first group (and therefore reference group during estimation)
group &lt;- factor(c(rep('Ref', N), rep('Focal', N)), levels = c('Ref', 'Focal'))

mod &lt;- multipleGroup(dat, 1, group = group,
   invariance = c(colnames(dat)[1:5], 'free_means', 'free_var'))
coef(mod, simplify=TRUE)

empirical_ES(mod)
empirical_ES(mod, DIF=FALSE)
empirical_ES(mod, DIF=FALSE, focal_items = 10:15)

empirical_ES(mod, plot=TRUE)
empirical_ES(mod, plot=TRUE, DIF=FALSE)

###---------------------------------------------
# DIF
set.seed(12345)
a1 &lt;- a2 &lt;- matrix(abs(rnorm(15,1,.3)), ncol=1)
d1 &lt;- d2 &lt;- matrix(rnorm(15,0,.7),ncol=1)
a2[10:15,] &lt;- a2[10:15,] + rnorm(6, 0, .3)
d2[10:15,] &lt;- d2[10:15,] + rnorm(6, 0, .3)
itemtype &lt;- rep('dich', nrow(a1))
N &lt;- 1000
dataset1 &lt;- simdata(a1, d1, N, itemtype)
dataset2 &lt;- simdata(a2, d2, N, itemtype, mu = .1, sigma = matrix(1.5))
dat &lt;- rbind(dataset1, dataset2)
group &lt;- factor(c(rep('Ref', N), rep('Focal', N)), levels = c('Ref', 'Focal'))

mod &lt;- multipleGroup(dat, 1, group = group,
   invariance = c(colnames(dat)[1:5], 'free_means', 'free_var'))
coef(mod, simplify=TRUE)

empirical_ES(mod)
empirical_ES(mod, DIF = FALSE)
empirical_ES(mod, plot=TRUE)
empirical_ES(mod, plot=TRUE, DIF=FALSE)


## End(Not run)
</code></pre>


</div>