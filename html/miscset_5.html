<div class="container">

<table style="width: 100%;"><tr>
<td>collapse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Collapse objects</h2>

<h3>Description</h3>

<p>Collapse objects as in the <code>paste</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">collapse(x, sep, ...)

## Default S3 method:
collapse(x, sep = "", ..., .unique = FALSE,
  .sort = FALSE, .decreasing = FALSE)

## S3 method for class 'data.frame'
collapse(x, sep = "", by = names(x), ...,
  .unique = FALSE, .sort = FALSE, .decreasing = FALSE, .unlist = FALSE,
  .sortby = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Any R object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>A character string to separate value columns.
<code>NULL</code> retains a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Forwarded to or from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.unique</code></td>
<td>
<p>Logical, return only unique values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.sort</code></td>
<td>
<p>Logical, sort the values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.decreasing</code></td>
<td>
<p>Logical, if sorting, then by decreasing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Column names to split data frame by, before
applying collapse on each remaining column within each piece.
Using the default (all columns), then <code>unique(x)</code> is
returned. Columns can be specified by names or integer
with the column numbers. Using <code>0</code> or <code>NULL</code>
collapses all columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.unlist</code></td>
<td>
<p>Logical, if value columns need to be unlisted
before collapsing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.sortby</code></td>
<td>
<p>Logical, sort the output on the <code>by</code> columns.
This applies ,
If <code>x</code> was a <code>data.table</code>, then the keys are set as
the <code>by</code> values.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For the <code>data.frame</code> method, <code>x</code> is converted to a 
<code>data.table</code> before applying the piece- and column-wise collapses. If
the input is already inheriting from <code>data.table</code>, then the class is
retained.<br><code>.sortby</code> is causing <code>setkeyv(x, by)</code> to be applied to <code>x</code>
after converting to a <code>data.table</code>.
</p>


<h3>Author(s)</h3>

<p>Sven E. Templer
</p>


<h3>Examples</h3>

<pre><code class="language-R">#

### some data

set.seed(12)
s &lt;- s2 &lt;- sample(LETTERS[1:4], 9, replace = TRUE)
s2[1:2] &lt;- rev(s2[1:2])
d &lt;- data.frame(group = rep(letters[c(3,1,2)], each = 3), 
                value = s,
                level = factor(s2),
                stringsAsFactors = FALSE)

### collapse vectors

collapse(letters)
collapse(1:3)               # coerced to character
collapse(LETTERS[1:5], "-") # separated by '-'

### collapse data.frames

# by all columns (same as unique)
collapse(d)
# by a grouping column
collapse(d, by = 1)
# by multiple, but not all columns
collapse(d, by = c("group", "value"))
# return single row
collapse(d, by = 0)
# return single row, unique and sorted values
collapse(d, by = 0, .unique = TRUE, .sort = TRUE)

#
</code></pre>


</div>