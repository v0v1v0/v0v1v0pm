<div class="container">

<table style="width: 100%;"><tr>
<td>all_patterns</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Missing data spike-in in various missing data patterns</h2>

<h3>Description</h3>

<p><code>all_patterns</code> spikes in missingness using MCAR, MAR, MNAR (default) and MAP (optional) patterns
</p>


<h3>Usage</h3>

<pre><code class="language-R">all_patterns(
  X_hat,
  MD_pattern,
  NA_fraction,
  min_PDM = 10,
  assumed_pattern = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X_hat</code></td>
<td>
<p>Simulated matrix with no missingness (Simulated_matrix output from the <code>simulate</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_pattern</code></td>
<td>
<p>Missing data pattern in the original dataset (MD_Pattern output from the <code>get_data</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_fraction</code></td>
<td>
<p>Fraction of missingness in the original dataset (Fraction_missingness output from the <code>get_data</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_PDM</code></td>
<td>
<p>All patterns with number of observations less than this number will be removed from the missing data generation. This argument is necessary to be carefully set, as the function will fail or generate erroneous missing data patterns with very complicated missing data patterns. The default is 10, but for large datasets this number needs to be set higher to avoid errors. Please select a value based on the min_PDM_thresholds output from the <code>get_data</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assumed_pattern</code></td>
<td>
<p>Vector of missingness types (must be same length as missingness fraction per variable). If this input is specified, the function will spike in missing datapoints in a MAP pattern as well.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the generated simulated matrix and generates missing datapoints in MCAR, MAR and MNAR patterns.
Optionally, in case the user defines an assumed pattern, the <code>all_patterns</code> function will also generate
a MAP missingness pattern. It is suggested that the user carefully
examines the missing data fractions, excludes variables with high missingness using the <code>clean</code> function.
For more information on the functions that spike in missing data in MCAR, MAR,
MNAR and MAP patterns, please see the functions <code>MCAR</code>, <code>MAR</code>,
<code>MNAR</code> and <code>MAP</code>.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MCAR_matrix</code></td>
<td>
<p>Matrix with MCAR pre-defined missingness pattern (default output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAR_matrix</code></td>
<td>
<p>Matrix with MAR pre-defined missingness pattern (default output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MNAR_matrix</code></td>
<td>
<p>Matrix with MNAR pre-defined missingness pattern (default output)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAP_matrix</code></td>
<td>
<p>Matrix with MAP pre-defined missingness pattern (optional output)</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">cleaned &lt;- clean(clindata_miss, missingness_coding = -9)
metadata &lt;- get_data(cleaned)
simulated &lt;- simulate(rownum = metadata$Rows, colnum = metadata$Columns,
cormat = metadata$Corr_matrix)

miss_list &lt;- all_patterns(simulated$Simulated_matrix,
                    MD_pattern = metadata$MD_Pattern,
                    NA_fraction = metadata$Fraction_missingness,
                    min_PDM = 20)

miss_list &lt;- all_patterns(simulated$Simulated_matrix,
                    MD_pattern = metadata$MD_Pattern,
                    NA_fraction = metadata$Fraction_missingness,
                    min_PDM = 10,
                    assumed_pattern = c('MAR', 'MCAR', 'MCAR', 'MAR',
                                        'MNAR', 'MCAR', 'MAR', 'MCAR',
                                        'MCAR', 'MAR', 'MNAR'))

</code></pre>


</div>