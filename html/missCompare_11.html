<div class="container">

<table style="width: 100%;"><tr>
<td>MNAR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Missing data spike-in in MNAR pattern</h2>

<h3>Description</h3>

<p><code>MNAR</code> spikes in missingness using missing-not-at-random (MNAR) pattern
</p>


<h3>Usage</h3>

<pre><code class="language-R">MNAR(X_hat, MD_pattern, NA_fraction, min_PDM = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X_hat</code></td>
<td>
<p>Simulated matrix with no missingness (Simulated_matrix output from the <code>simulate</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_pattern</code></td>
<td>
<p>Missing data pattern in the original dataset (MD_Pattern output from the <code>get_data</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_fraction</code></td>
<td>
<p>Fraction of missingness in the original dataset (Fraction_missingness output from the <code>get_data</code> function)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_PDM</code></td>
<td>
<p>All patterns with number of observations less than this number will be removed from the missing data generation. This argument is necessary to be carefully set, as the function will fail or generate erroneous missing data patterns with very complicated missing data patterns. The default is 10, but for large datasets this number needs to be set higher to avoid errors. Please select a value based on the min_PDM_thresholds output from the <code>get_data</code> function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the generated simulated matrix and generates missing datapoints in a missing-not-at-random
pattern for each variable using the <code>ampute</code> function, considering the fraction of missingness in
the original dataset and the original missingness pattern. The characteristic of the MNAR pattern is that
the missingness in a variable is dependent on its own distribution. Please note that after the missing data spike-in,
the function will remove rows with 100% missing data.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MNAR_matrix</code></td>
<td>
<p>Matrix with MNAR pre-defined missingness pattern</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Summary</code></td>
<td>
<p>Summary of MNAR_matrix including number of missing values per variable</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">cleaned &lt;- clean(clindata_miss, missingness_coding = -9)
metadata &lt;- get_data(cleaned)
simulated &lt;- simulate(rownum = metadata$Rows, colnum = metadata$Columns,
cormat = metadata$Corr_matrix)

MNAR(simulated$Simulated_matrix,
    MD_pattern = metadata$MD_Pattern,
    NA_fraction = metadata$Fraction_missingness,
    min_PDM = 10)

</code></pre>


</div>