<div class="container">

<table style="width: 100%;"><tr>
<td>get_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extraction of metadata from dataframes</h2>

<h3>Description</h3>

<p><code>get_data</code> extracts descriptive metadata from the dataframe including information on missing data
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_data(X, matrixplot_sort = TRUE, plot_transform = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Original dataframe with samples in rows and variables as columns. Can also use the resulting object from the <code>clean</code> function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrixplot_sort</code></td>
<td>
<p>Boolean with default TRUE. If TRUE, the matrix plot will be sorted by missing/non-missing status. If FALSE, the original order of rows will be retained</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_transform</code></td>
<td>
<p>Boolean with default TRUE. If TRUE, the matrix plot will plot all variables scaled (mean = 0, SD = 1). If FALSE, the matrix plot will show the variables on their original scale</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function uses the original dataframe and extracts descriptive metadata including dimensions,
missingness fractions overall and by variable, number of missing values overall and by variable,
missing data patterns, missing data correlations and missing data visualizations
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Complete_cases</code></td>
<td>
<p>Number of complete cases (samples with no missing data in any columns)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rows</code></td>
<td>
<p>Total number of rows (samples) in the dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Columns</code></td>
<td>
<p>Total number of columns (variables) in the dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Corr_matrix</code></td>
<td>
<p>Correlation matrix of all variables. The correlation matrix contains Pearson correlation coefficients based on pairwise correlations between variable pairs</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fraction_missingness</code></td>
<td>
<p>Total fraction of missingness expressed as a number between 0 and 1, where 1 means 100% of data is missing and 0 means there are no missing values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fraction_missingness_per_variable</code></td>
<td>
<p>Fraction of missingness per variable. A (named) numeric vector of length the number of columns. Each variable missingness values are expressed as numbers between 0 and 1, where 1 means 100% of data is missing and 0 means there are no missing values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Total_NA</code></td>
<td>
<p>Total number of missing values in the dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_per_variable</code></td>
<td>
<p>Number of missing values per variables in the dataframe. A (named) numeric vector of length the number of columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_Pattern</code></td>
<td>
<p>Missing data pattern calculated using mice::md_pattern (see <code>md.pattern</code> in the mice package)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_Correlations</code></td>
<td>
<p>Correlation matrix of variables vs. variables converted to boolean based on missingness status (yes/no). Point-biserial correlation coefficients based on variable pairs is obtained using complete observations in the respective variable pairs. Higher correlation coefficients can indicate MAR missingness pattern</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NA_Correlation_plot</code></td>
<td>
<p>Plot based on NA_Correlations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_PDM_thresholds</code></td>
<td>
<p>Small dataframe offering clues on how to set min_PDM thresholds in the next steps of the pipeline. The first column represents min_PDM thresholds, while the second column represents percentages that would be retained by setting min_PDM to the respective values. These values are the percentages of the total rows with any number of missing data (excluding complete observations), so a value of e.g. 80% would mean that 80% of rows with missing data with the most common patterns are represented in the simulation step</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Vars_above_half</code></td>
<td>
<p>Character vector of variables names with missingness higher than 50%</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Matrix_plot</code></td>
<td>
<p>Matrix plot where missing values are colored gray and available values are colored based on value range</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cluster_plot</code></td>
<td>
<p>Cluster plot of co-missingness. Variables demonstrating shared missingness patterns will branch at closer to the bottom of the plot, while no patterns will be represented by branches high in the plot</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">cleaned &lt;- clean(clindata_miss, missingness_coding = -9)
metadata &lt;- get_data(cleaned)
metadata &lt;- get_data(cleaned, matrixplot_sort = FALSE)

</code></pre>


</div>