<div class="container">

<table style="width: 100%;"><tr>
<td>estim_ncpFAMD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the number of dimensions for the Factorial Analysis of Mixed Data by cross-validation</h2>

<h3>Description</h3>

<p>Estimate the number of dimensions for the Factorial Analysis of Mixed Data by cross-validation</p>


<h3>Usage</h3>

<pre><code class="language-R">estim_ncpFAMD(don, ncp.min=0, ncp.max=5,  method = c("Regularized","EM"), 
     method.cv = c("Kfold","loo"), nbsim=100, pNA=0.05, ind.sup=NULL,
	 sup.var=NULL, threshold=1e-4, verbose = TRUE, maxiter = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>don</code></td>
<td>
<p>a data.frame with categorical variables; with missing entries or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncp.min</code></td>
<td>
<p>integer corresponding to the minimum number of components to test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncp.max</code></td>
<td>
<p>integer corresponding to the maximum number of components to test</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>"Regularized" by default or "EM"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.cv</code></td>
<td>
<p>"Kfold" for cross-validation or "loo" for leave-one-out</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbsim</code></td>
<td>
<p>number of simulations, useful only if method.cv="Kfold"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pNA</code></td>
<td>
<p>percentage of missing values added in the data set, useful only if method.cv="Kfold"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ind.sup</code></td>
<td>
<p>a vector indicating the indexes of the supplementary individuals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sup.var</code></td>
<td>
<p>a vector indicating the indexes of the supplementary variables (quantitative and categorical)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the threshold for assessing convergence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>boolean. TRUE means that a progressbar is writtent</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>integer, maximum number of iteration for the algorithm</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For leave-one-out cross-validation (method.cv="loo"), each cell of the data matrix is alternatively removed and predicted with a FAMD model using ncp.min to ncp.max dimensions. The number of components which leads to the smallest mean square error of prediction (MSEP) is retained.
For the Kfold cross-validation (method.cv="Kfold"), pNA percentage of missing values is inserted at random in the data matrix and predicted with a FAMD model using ncp.min to ncp.max dimensions. This process is repeated nbsim times. The number of components which leads to the smallest MSEP is retained. More precisely, for both cross-validation methods, the missing entries are predicted using the imputeFAMD function, it means using it means using the regularized iterative FAMD algorithm (method="Regularized") or the iterative FAMD algorithm (method="EM"). The regularized version is more appropriate to avoid overfitting issues.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ncp</code></td>
<td>
<p>the number of components retained for the FAMD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>the criterion (the MSEP) calculated for each number of components</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Vincent Audigier  <a href="mailto:vincent.audigier@cnam.fr">vincent.audigier@cnam.fr</a>, Francois Husson  <a href="mailto:francois.husson@institut-agro.fr">francois.husson@institut-agro.fr</a> and Julie Josse  <a href="mailto:julie.josse@polytechnique.edu">julie.josse@polytechnique.edu</a>
</p>


<h3>References</h3>

<p>Audigier, V., Husson, F. &amp; Josse, J. (2014). A principal components method to impute mixed data. Advances in Data Analysis and Classification</p>


<h3>See Also</h3>

<p><code>imputeFAMD</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(ozone)
result &lt;- estim_ncpFAMD(ozone)

## End(Not run)
</code></pre>


</div>