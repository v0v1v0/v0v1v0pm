<div class="container">

<table style="width: 100%;"><tr>
<td>estim_ncpMultilevel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate the number of dimensions for the Multilevel PCA, multlevel MCA or Multilevel FAMD by cross-validation</h2>

<h3>Description</h3>

<p>Estimate the number of dimensions for Multilevel principal component (multilevel PCA, multilevel MCA ormultilevel Factorial Analysis of Mixed Data) by cross-validation</p>


<h3>Usage</h3>

<pre><code class="language-R">estim_ncpMultilevel(X,  ifac=1, ncpW.min = 1, ncpW.max = 5, ncpB.min = 1, 
    ncpB.max = 5, scale = TRUE, nbsim=100, pNA=0.05, threshold=1e-4, 
	nb.cores = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a data.frame with categorical variables; with missing entries or not</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ifac</code></td>
<td>
<p>index of the group variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncpB.min</code></td>
<td>
<p>integer corresponding to the minimum number of components to test for the between matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncpB.max</code></td>
<td>
<p>integer corresponding to the maximum number of components to test for the between matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncpW.min</code></td>
<td>
<p>integer corresponding to the minimum number of components to test for the within matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncpW.max</code></td>
<td>
<p>integer corresponding to the maximum number of components to test for the within matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>if all the variables are continuous, should they be standardized? Yes if true.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbsim</code></td>
<td>
<p>number of simulations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pNA</code></td>
<td>
<p>percentage of missing values added in the data set, useful only if method.cv="Kfold"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the threshold for assessing convergence</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb.cores</code></td>
<td>
<p>Integer, number of core used. By default, NULL and the number of cores used are the number of cores of your computer  minus 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>boolean. TRUE means that a progressbar is writtent</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>pNA percentage of missing values is inserted at random in the data matrix and predicted with a multilevel model using ncpB.min to ncpB.max and ncpW.min to ncpW.max dimensions. 
This process is repeated nbsim times. The number of components which leads to the smallest MSEP is retained. 
More precisely, the missing entries are predicted using the imputeMultilevel function.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ncp</code></td>
<td>
<p>the number of components retained for the FAMD</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>the criterion (the MSEP) calculated for each number of components</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>imputeMultilevel</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(ozone)
result &lt;- estim_ncpMultilevel(ozone, ifac=12)

## End(Not run)
</code></pre>


</div>