<div class="container">

<table style="width: 100%;"><tr>
<td>apply_imputation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply a function for imputation</h2>

<h3>Description</h3>

<p>Apply a function for imputation over rows, columns or combinations of both
</p>


<h3>Usage</h3>

<pre><code class="language-R">apply_imputation(
  ds,
  FUN = mean,
  type = "columnwise",
  convert_tibble = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ds</code></td>
<td>
<p>A data frame or matrix with missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>The function to be applied for imputation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string specifying the values used for imputation; one of:
"columnwise", "rowwise", "total", "Two-Way" or "Winer"  (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convert_tibble</code></td>
<td>
<p>If <code>ds</code> is a tibble, should it be converted
(see section A note for tibble users).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>FUN</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functionality of <code>apply_imputation</code> is inspired by the
<code>apply</code> function. The function applies a function
<code>FUN</code> to impute the missing values in <code>ds</code>. <code>FUN</code> must be a
function, which takes a vector as input and returns exactly one value. The
argument <code>type</code> is comparable to <code>apply</code>'s
<code>MARGIN</code> argument. It specifies the values that are used for the
calculation of the imputation values. For example, <code>type = "columnwise"</code>
and <code>FUN = mean</code> will impute the mean of the observed values in a column
for all missing values in this column. In contrast, <code>type = "rowwise"</code>
and <code>FUN = mean</code> will impute the mean of the observed values in a row
for all missing values in this row.
</p>
<p>List of all implemented <code>types</code>:
</p>

<ul>
<li>
<p>"columnwise" (the default): imputes column by column; all observed
values of a column are given  to <code>FUN</code> and the returned value is used
as the imputation value for all missing values of the column.
</p>
</li>
<li>
<p>"rowwise": imputes row by row; all observed values of a row are given
to <code>FUN</code> and the returned value is used as the imputation value for all
missing values of the row.
</p>
</li>
<li>
<p>"total": All observed values of <code>ds</code> are given to <code>FUN</code> and
the returned value is used as the imputation value for all missing values of
<code>ds</code>.
</p>
</li>
<li>
<p>"Winer": The mean value from "columnwise" and "rowwise" is used as the
imputation value.
</p>
</li>
<li>
<p>"Two-Way": The sum of the values from "columnwise" and "rowwise" minus
"total" is used as the imputation value.
</p>
</li>
</ul>
<p>If no value can be given to <code>FUN</code> (for example, if no value in a column
is observed and <code>type = "columnwise"</code>), then a warning will be issued
and no value will be imputed in the corresponding column or row.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>ds</code> with imputed missing values.
</p>


<h3>A note for tibble users</h3>

<p>If you use tibbles and <code>convert_tibble</code> is <code>TRUE</code> the tibble is
first converted to a data frame, then imputed and converted back. If
<code>convert_tibble</code> is <code>FALSE</code> no conversion is done. However,
depending on the tibble and the package version of tibble you use,
imputation may not be possible and some errors will be thrown.
</p>


<h3>References</h3>

<p>Beland, S., Pichette, F., &amp; Jolani, S. (2016). Impact on
Cronbach's <code class="reqn">\alpha</code> of simple treatment methods for missing
data. <em>The Quantitative Methods for Psychology</em>, 12(1), 57-73.
</p>


<h3>See Also</h3>

<p>A convenient interface exists for common cases like mean imputation:
<code>impute_mean</code>, <code>impute_median</code>,
<code>impute_mode</code>. All these functions
call <code>apply_imputation</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">ds &lt;- data.frame(X = 1:20, Y = 101:120)
ds_mis &lt;- delete_MCAR(ds, 0.2)
ds_imp_app &lt;- apply_imputation(ds_mis, FUN = mean, type = "total")
# the same result can be achieved via impute_mean():
ds_imp_mean &lt;- impute_mean(ds_mis, type = "total")
all.equal(ds_imp_app, ds_imp_mean)
</code></pre>


</div>