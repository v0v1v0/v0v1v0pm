<div class="container">

<table style="width: 100%;"><tr>
<td>impute_in_classes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Impute in classes</h2>

<h3>Description</h3>

<p>Apply an imputation function inside imputation classes
</p>


<h3>Usage</h3>

<pre><code class="language-R">impute_in_classes(
  ds,
  cols_class,
  FUN,
  breaks = Inf,
  use_quantiles = FALSE,
  min_objs_in_class = 1,
  min_obs_comp = 0,
  min_obs_per_col = 1,
  donor_limit = Inf,
  dl_type = "cols_seq",
  add_imputation_classes = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ds</code></td>
<td>
<p>A data frame or matrix with missing values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols_class</code></td>
<td>
<p>Columns that are used for constructing the imputation
classes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>An imputation function that is applied to impute the missing
values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>Number of intervals / levels a column is broken into (see
<code>cut()</code>, which is used internally for cutting numeric columns). If <code>breaks = Inf</code> (the default), every unique value of a column can be in a separate
class (if no other restrictions apply).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_quantiles</code></td>
<td>
<p>Should quantiles be used for cutting numeric vectors?
Normally, <code>cut()</code> divides the range of an vector into equal spaced
intervals. If <code>use_quantiles = TRUE</code>, the classes will be of roughly equal
content.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_objs_in_class</code></td>
<td>
<p>Minimum number of objects (rows) in an imputation class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_obs_comp</code></td>
<td>
<p>Minimum number of completely observed objects (rows) in an
imputation class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_obs_per_col</code></td>
<td>
<p>Minimum number of observed values in every column of
an imputation class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>donor_limit</code></td>
<td>
<p>Minimum odds between incomplete and complete values in a
column, if <code>dl_type = cols_seq</code>. If <code>dl_type = sim_comp</code>, minimum odds
between incomplete and complete rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dl_type</code></td>
<td>
<p>See <code>donor_limit</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_imputation_classes</code></td>
<td>
<p>Should imputation classes be added as
attributes to the imputed dataset?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to <code>FUN</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Imputation classes (sometimes also called adjustment cells) are
build using cross-validation of all <code>cols_class</code>. The classes are
collapsed, if they do not satisfy all of the criteria defined by
<code>min_objs_in_class</code>, <code>min_obs_comp</code>, <code>min_obs_per_col</code> and <code>donor_limit</code>.
Collapsing starts from the last value of <code>cols_class</code>. Internally, a mixture
of collapsing and early stopping is used for the construction of the
classes.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>ds</code> with imputed missing values.
</p>


<h3>References</h3>

<p>Andridge, R.R. and Little, R.J.A. (2010), A Review of Hot Deck
Imputation for Survey Non-response. International Statistical Review, 78:
40-64. doi:10.1111/j.1751-5823.2010.00103.x
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Mean imputation in classes
impute_in_classes(data.frame(X = 1:5, Y = c(NA, 12:15)), "X",
  impute_mean,
  min_obs_per_col = 2
)
</code></pre>


</div>