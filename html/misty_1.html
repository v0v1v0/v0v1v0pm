<div class="container">

<table style="width: 100%;"><tr>
<td>aov.b</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Between-Subject Analysis of Variance</h2>

<h3>Description</h3>

<p>This function performs an one-way between-subject analysis of variance (ANOVA)
including Tukey HSD post hoc test for multiple comparison and provides descriptive
statistics, effect size measures, and a plot showing error bars for
difference-adjusted confidence intervals with jittered data points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">aov.b(formula, data, posthoc = FALSE, conf.level = 0.95, hypo = TRUE,
      descript = TRUE, effsize = FALSE, weighted = FALSE, correct = FALSE,
      plot = FALSE, point.size = 4, adjust = TRUE, error.width = 0.1,
      xlab = NULL, ylab = NULL, ylim = NULL, breaks = ggplot2::waiver(),
      jitter = TRUE, jitter.size = 1.25, jitter.width = 0.05,
      jitter.height = 0, jitter.alpha = 0.1, title = "",
      subtitle = "Confidence Interval", digits = 2, p.digits = 4,
      as.na = NULL, write = NULL, append = TRUE, check = TRUE,
      output = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula of the form <code>y ~ group</code> where <code>y</code> is
a numeric variable giving the data values and <code>group</code>
a numeric variable, character variable or factor with more
than two values or factor levels giving the corresponding
groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a matrix or data frame containing the variables in the
formula <code>formula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posthoc</code></td>
<td>
<p>logical: if <code>TRUE</code>, Tukey HSD post hoc test for
multiple comparison is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>a numeric value between 0 and 1 indicating the confidence
level of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hypo</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), null and alternative hypothesis
are shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>descript</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), descriptive statistics are shown
on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effsize</code></td>
<td>
<p>logical: if <code>TRUE</code>, effect size measures <code class="reqn">\eta^2</code>
and <code class="reqn">\omega^2</code> for the ANOVA and Cohen's d for the post
hoc tests are shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted</code></td>
<td>
<p>logical: if <code>TRUE</code>, the weighted pooled standard
deviation is used to compute Cohen's d.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct</code></td>
<td>
<p>logical: if <code>TRUE</code>, correction factor to remove
positive bias in small samples is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical: if <code>TRUE</code>, a plot showing error bars for
confidence intervals is drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.size</code></td>
<td>
<p>a numeric value indicating the <code>size</code> aesthetic for
the point representing the mean value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), difference-adjustment
for the confidence intervals is applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.width</code></td>
<td>
<p>a numeric value indicating the horizontal bar width of
the error bar.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>a character string specifying the labels for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a character string specifying the labels for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>a numeric vector of length two specifying limits of the
limits of the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>a numeric vector specifying the points at which tick-marks
are drawn at the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), jittered data points
are drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.size</code></td>
<td>
<p>a numeric value indicating the <code>size</code> aesthetic
for the jittered data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.width</code></td>
<td>
<p>a numeric value indicating the amount of horizontal jitter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.height</code></td>
<td>
<p>a numeric value indicating the amount of vertical jitter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jitter.alpha</code></td>
<td>
<p>a numeric value indicating the opacity of the jittered
data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>a character string specifying the text for the title for
the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>a character string specifying the text for the subtitle for
the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>an integer value indicating the number of decimal places
to be used for displaying descriptive statistics and
confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.digits</code></td>
<td>
<p>an integer value indicating the number of decimal places
to be used for displaying the <em>p</em>-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.na</code></td>
<td>
<p>a numeric vector indicating user-defined missing values,
i.e. these values are converted to <code>NA</code> before conducting
the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>a character string naming a text file with file extension
<code>".txt"</code> (e.g., <code>"Output.txt"</code>) for writing the
output into a text file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output will be appended
to an existing text file with extension <code>.txt</code> specified
in <code>write</code>, if <code>FALSE</code> existing text file will be
overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output is shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt><strong>Post Hoc Test</strong></dt>
<dd>
<p>Tukey HSD post hoc test reports Cohen's d based
on the non-weighted standard deviation (i.e., <code>weighted = FALSE</code>) when
requesting an effect size measure  (i.e., <code>effsize = TRUE</code>) following the
recommendation by Delacre et al. (2021).
</p>
</dd>
<dt><strong>Confidence Intervals</strong></dt>
<dd>
<p>Cumming and Finch (2005) pointed out that
when 95% confidence intervals (CI) for two separately plotted means overlap,
it is still possible that the CI for the difference would not include zero.
Baguley (2012) proposed to adjust the width of the CIs by the factor of
<code class="reqn">\sqrt{2}</code> to reflect the correct width of the CI for a mean difference:
</p>
<p style="text-align: center;"><code class="reqn">\hat{\mu}_{j} \pm t_{n - 1, 1 - \alpha/2} \frac{\sqrt{2}}{2} \hat{\sigma}_{{\hat{\mu}}_j}</code>
</p>
</dd>
</dl>
<p>These difference-adjusted CIs around the individual means can be interpreted
as if it were a CI for their difference. Note that the width of these intervals
is sensitive to differences in the variance and sample size of each sample,
i.e., unequal population variances and unequal <code class="reqn">n</code> alter the interpretation
of difference-adjusted CIs.

</p>


<h3>Value</h3>

<p>Returns an object of class <code>misty.object</code>, which is a list with following
entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>function call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data frame with variables used in the current analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>formula of the current analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>ggplot2 object for plotting the results</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>specification of function arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>list with result tables, i.e., <code>descript</code> for descriptive
statistics, <code>test</code> for the ANOVA table, <code>posthoc</code>
for post hoc tests, and <code>aov</code> for the return object
of the <code>aov</code> function</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Takuya Yanagida <a href="mailto:takuya.yanagida@univie.ac.at">takuya.yanagida@univie.ac.at</a>
</p>


<h3>References</h3>

<p>Baguley, T. S. (2012a). <em>Serious stats: A guide to advanced statistics for
the behavioral sciences</em>. Palgrave Macmillan.
</p>
<p>Cumming, G., and Finch, S. (2005) Inference by eye: Confidence intervals, and
how to read pictures of data. <em>American Psychologist, 60</em>, 170–80.
</p>
<p>Delacre, M., Lakens, D., Ley, C., Liu, L., &amp; Leys, C. (2021). Why Hedges' g*s
based on the non-pooled standard deviation should be reported with Welch's t-test.
https://doi.org/10.31234/osf.io/tu6mp
</p>
<p>Rasch, D., Kubinger, K. D., &amp; Yanagida, T. (2011). <em>Statistics in psychology
- Using R and SPSS</em>. John Wiley &amp; Sons.
</p>


<h3>See Also</h3>

<p><code>aov.w</code>, <code>test.t</code>, <code>test.z</code>,
<code>test.levene</code>, <code>test.welch</code>, <code>cohens.d</code>,
<code>ci.mean.diff</code>, <code>ci.mean</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- data.frame(group = c(1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3),
                  y = c(3, 1, 4, 2, 5, 3, 2, 3, 6, 6, 3, NA))

# Example 1: Between-subject ANOVA
aov.b(y ~ group, data = dat)

# Example 2: Between-subject ANOVA
# print effect size measures
aov.b(y ~ group, data = dat, effsize = TRUE)

# Example 3: Between-subject ANOVA
# do not print hypotheses and descriptive statistics,
aov.b(y ~ group, data = dat, descript = FALSE, hypo = FALSE)

## Not run: 
# Example 4: Write results into a text file
aov.b(y ~ group, data = dat, write = "ANOVA.txt")

# Example 5: Between-subject ANOVA
# plot results
aov.b(y ~ group, data = dat, plot = TRUE)

# Load ggplot2 package
library(ggplot2)

# Example 6: Save plot, ggsave() from the ggplot2 package
ggsave("Between-Subject_ANOVA.png", dpi = 600, width = 4.5, height = 6)

# Example 7: Between-subject ANOVA
# extract plot
p &lt;- aov.b(y ~ group, data = dat, output = FALSE)$plot
p

# Extract data
plotdat &lt;- aov.b(y ~ group, data = dat, output = FALSE)$data

# Draw plot in line with the default setting of aov.b()
ggplot(plotdat, aes(group, y)) +
  geom_jitter(alpha = 0.1, width = 0.05, height = 0, size = 1.25) +
  geom_point(stat = "summary", fun = "mean", size = 4) +
  stat_summary(fun.data = "mean_cl_normal", geom = "errorbar", width = 0.20) +
  scale_x_discrete(name = NULL) +
  labs(subtitle = "Two-Sided 95
  theme_bw() + theme(plot.subtitle = element_text(hjust = 0.5))

## End(Not run)
</code></pre>


</div>