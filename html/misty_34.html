<div class="container">

<table style="width: 100%;"><tr>
<td>coding</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coding Categorical Variables</h2>

<h3>Description</h3>

<p>This function creates <code class="reqn">k - 1</code> variables for a categorical variable with
<code class="reqn">k</code> distinct levels. The coding system available in this function are
dummy coding, simple coding, unweighted effect coding, weighted effect coding,
repeated coding, forward Helmert coding, reverse Helmert coding, and orthogonal
polynomial coding.
</p>


<h3>Usage</h3>

<pre><code class="language-R">coding(..., data = NULL,
       type = c("dummy", "simple", "effect", "weffect", "repeat",
                "fhelm", "rhelm", "poly"), base = NULL,
       name = c("dum.", "sim.", "eff.", "weff.", "rep.", "fhelm.", "rhelm.", "poly."),
       append = TRUE, as.na = NULL, check = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>a numeric vector with integer values, character vector or factor
Alternatively, an expression indicating the variable name in
<code>data</code>. Note that the function can only deal with one
categorical variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame when specifying a variable in the argument <code>...</code>.
Note that the argument is <code>NULL</code> when specifying a numeric
vector with integer values, character vector or factor numeric
vector for the argument <code>...</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character string indicating the type of coding, i.e.,
<code>dummy</code> (default) for dummy coding, <code>simple</code> for
simple coding, <code>effect</code> for unweighted effect coding,
<code>weffect</code> for weighted effect coding, <code>repeat</code>
for repeated coding, <code>fhelm</code> for forward Helmert coding,
<code>rhelm</code> for reverse Helmert coding, and <code>poly</code> for
orthogonal polynomial coding (see 'Details').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>a numeric value or character string indicating the baseline
group for dummy and simple coding and the omitted group in
effect coding. By default, the first group or factor level is
selected as baseline or omitted group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>a character string or character vector indicating the names
of the coded variables. By default, variables are named
<code>"dum."</code>, <code>"sim."</code>, <code>"eff."</code>, <code>"weff."</code>,
<code>"rep."</code>, <code>"fhelm."</code>, <code>"rhelm."</code>,or <code>"poly."</code>
depending on the <code>type</code> of coding with the category used
in the comparison (e.g., <code>"dum.2"</code> and <code>"dum.3"</code>).
Variable names can be specified using a character string (e.g.,
<code>name = "dummy_"</code> leads to <code>dummy_2</code> and <code>dummy_3</code>)
or a character vector matching the number of coded variables
(e.g. <code>name = c("x1_2", "x1_3")</code>)  which is the number of
unique categories minus one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), coded variables are appended
to the data frame specified in the argument <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.na</code></td>
<td>
<p>a numeric vector indicating user-defined missing values,
i.e. these values are converted to <code>NA</code> before conducting
the analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is checked.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt><strong>Dummy Coding</strong></dt>
<dd>
<p>Dummy or treatment coding compares the mean of
each level of the categorical variable to the mean of a baseline group. By
default, the first group or factor level is selected as baseline group. The
intercept in the regression model represents the mean of the baseline group.
For example, dummy coding based on a  categorical variable with four groups
<code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> makes following comparisons:
<code>B vs A</code>, <code>C vs A</code>, and <code>D vs A</code> with <code>A</code> being the
baseline group.</p>
</dd>
<dt><strong>Simple Coding</strong></dt>
<dd>
<p>Simple coding compares each level of the
categorical variable to the mean of a baseline level. By default, the first
group or factor level is selected as baseline group. The intercept in the
regression model represents the unweighted grand mean, i.e., mean of group
means. For example, simple coding based on a  categorical variable with four
groups <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> makes following comparisons:
<code>B vs A</code>, <code>C vs A</code>, and <code>D vs A</code> with <code>A</code> being the
baseline group.</p>
</dd>
<dt><strong>Unweighted Effect Coding</strong></dt>
<dd>
<p>Unweighted effect or sum coding
compares the mean of a given level to the unweighted grand mean, i.e., mean of
group means. By default, the first group or factor level is selected as
omitted group. For example, effect coding based on a  categorical variable
with four groups <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> makes following
comparisons: <code>B vs (A, B, C, D)</code>, <code>C vs (A, B, C, D)</code>, and
<code>D vs (A, B, C, D)</code> with <code>A</code> being the omitted group.</p>
</dd>
<dt><strong>Weighted Effect Coding</strong></dt>
<dd>
<p>Weighted effect or sum coding compares
the mean of a given level to the weighed grand mean, i.e., sample mean. By
default, the first group or factor level is selected as omitted group. For
example, effect coding based on a categorical variable with four groups
<code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> makes following comparisons:
<code>B vs (A, B, C, D)</code>, <code>C vs (A, B, C, D)</code>, and <code>D vs (A, B, C, D)</code>
with <code>A</code> being the omitted group.</p>
</dd>
<dt><strong>Repeated Coding</strong></dt>
<dd>
<p>Repeated or difference coding compares the
mean of each level of the categorical variable to the mean of the previous
adjacent level. For example, repeated coding based on a  categorical variable
with four groups <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> makes following
comparisons: <code>B vs A</code>, <code>C vs B</code>, and <code>D vs C</code>.</p>
</dd>
<dt><strong>Foward Helmert Coding</strong></dt>
<dd>
<p>Forward Helmert coding compares the
mean of each level of the categorical variable to the unweighted mean of all
subsequent level(s) of the categorical variable. For example, forward Helmert
coding based on a  categorical variable with four groups <code>A</code>, <code>B</code>,
<code>C</code>, <code>D</code> makes following comparisons: <code>(B, C, D) vs A</code>,
<code>(C, D) vs B</code>, and <code>D vs C</code>.</p>
</dd>
<dt><strong>Reverse Helmert Coding</strong></dt>
<dd>
<p>Reverse Helmert coding compares the
mean of each level of the categorical variable to the unweighted mean of all
prior level(s) of the categorical variable. For example, reverse Helmert
coding based on a  categorical variable with four groups <code>A</code>, <code>B</code>,
<code>C</code>, <code>D</code> makes following comparisons: <code>B vs A</code>, <code>C vs (A, B)</code>,
and <code>D vs (A, B, C)</code>.</p>
</dd>
<dt><strong>Orthogonal Polynomial Coding</strong></dt>
<dd>
<p>Orthogonal polynomial coding is
a form of trend analysis based on polynomials of order <code class="reqn">k - 1</code>, where
<code class="reqn">k</code> is the number of levels of the categorical variable. This coding
scheme assumes an ordered-categorical variable with equally spaced levels.
For example, orthogonal polynomial coding based on a categorical variable with
four groups <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code> investigates a linear,
quadratic, and cubic trends in the categorical variable.</p>
</dd>
</dl>
<h3>Value</h3>

<p>Returns a data frame with <code class="reqn">k - 1</code> coded variables or a data frame with the
same length or same number of rows as <code>...</code> containing the coded variables.
</p>


<h3>Note</h3>

<p>This function uses the <code>contr.treatment</code> function from the <span class="pkg">stats</span>
package for dummy coding and simple coding, a modified copy of the
<code>contr.sum</code> function from the <span class="pkg">stats</span> package for effect coding,
a modified copy of the <code>contr.wec</code> function from the <span class="pkg">wec</span> package
for weighted effect coding, a modified copy of the <code>contr.sdif</code>
function from the <span class="pkg">MASS</span> package for repeated coding, a modified copy
of the <code>code_helmert_forward</code> function from the <span class="pkg">codingMatrices</span>
for forward Helmert coding, a modified copy of the <code>contr_code_helmert</code>
function from the <span class="pkg">faux</span> package for reverse Helmert coding, and the
<code>contr.poly</code> function from the <span class="pkg">stats</span> package for orthogonal
polynomial coding.
</p>


<h3>Author(s)</h3>

<p>Takuya Yanagida <a href="mailto:takuya.yanagida@univie.ac.at">takuya.yanagida@univie.ac.at</a>
</p>


<h3>See Also</h3>

<p><code>rec</code>, <code>item.reverse</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example 1a: Dummy coding for 'gear', baseline group = 3
coding(gear, data = mtcars)

# Example 1b: Alterantive specification without using the 'data' argument
coding(mtcars$gear)

# Example 2: Dummy coding for 'gear', baseline group = 4
coding(gear, data = mtcars, base = 4)

# Example 3: Effect coding for 'gear', omitted group = 3
coding(gear, data = mtcars, type = "effect")

# Example 3: Effect coding for 'gear', omitted group = 4
coding(gear, data = mtcars, type = "effect", base = 4)

# Example 4a: Dummy-coded variable names with prefix "gear3."
coding(gear, data = mtcars, name = "gear3.")

# Example 4b: Dummy-coded variables named "gear_4vs3" and "gear_5vs3"
coding(gear, data = mtcars, name = c("gear_4vs3", "gear_5vs3"))
</code></pre>


</div>