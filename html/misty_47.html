<div class="container">

<table style="width: 100%;"><tr>
<td>df.subset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subsetting Data Frames</h2>

<h3>Description</h3>

<p>This function returns subsets of data frames which meet conditions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">df.subset(..., data, subset = NULL, drop = TRUE, check = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>an expression indicating variables to select from the data frame
specified in <code>data</code>. See Details for the list of operators
used in this function, i.e., <code>.</code>, <code>+</code>, <code>-</code>,
<code>~</code>, <code>:</code>, <code>::</code>, and <code>!</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame that contains the variables specified in the
argument <code>...</code>. Note that if <code>data = NULL</code>, only the
variables specified in <code>...</code> are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>character string with a logical expression indicating rows to
keep, e.g., <code>"x == 1"</code>, <code>"x1 == 1 &amp; x2 == 3"</code>, or
<code>"gender == 'female'"</code>. By default, all rows of the data frame specified
in <code>data</code> are kept. Note that logical queries for rows
resulting in missing values are not select.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), data frame with a single
column is converted into a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is
checked.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The argument <code>...</code> is used to specify an expression indicating the
variables to select from the data frame specified in <code>data</code>, e.g.,
<code>df.subset(x1, x2, x3, data = dat)</code>. There are seven operators which
can be used in the expression <code>...</code>:
</p>

<dl>
<dt><strong>Dot (<code>.</code>) Operator</strong></dt>
<dd>
<p>The dot operator is used to select
all variables from the data frame specified in <code>data</code>. For example,
<code>df.subset(., data = dat)</code> selects all variables in <code>dat</code>. Note
that this operator is similar to the function <code>everything()</code> from the
<span class="pkg">tidyselect</span> package.</p>
</dd>
<dt><strong>Plus (<code>+</code>) Operator</strong></dt>
<dd>
<p>The plus operator is used to select
variables matching a prefix from the data frame specified in <code>data</code>. For
example, <code>df.subset(+x, data = dat)</code> selects all variables with the
prefix <code>x</code>. Note that this operator is equivalent to the function
<code>starts_with()</code> from the <span class="pkg">tidyselect</span> package.</p>
</dd>
<dt><strong>Minus (<code>-</code>) Operator</strong></dt>
<dd>
<p>The minus operator is used to select
variables matching a suffix from the data frame specified in <code>data</code>. For
example, <code>df.subset(-y, data = dat)</code> selects all variables with the
suffix <code>y</code>. Note that this operator is equivalent to the function
<code>ends_with()</code> from the <span class="pkg">tidyselect</span> package.</p>
</dd>
<dt><strong>Tilde (<code>~</code>) Operator</strong></dt>
<dd>
<p>The tilde operator is used to select
variables containing a word from the data frame specified in <code>data</code>. For
example, <code>df.subset(?al, data = dat)</code> selects all variables with the word
<code>al</code>. Note that this operator is equivalent to the function
<code>contains()</code> from the <span class="pkg">tidyselect</span> package.</p>
</dd>
<dt><strong>Colon (<code>:</code>) operator</strong></dt>
<dd>
<p>The colon operator is used to select
a range of consecutive variables from the data frame specified in <code>data</code>.
For example, <code>df.subset(x:z, data = dat)</code> selects all variables from
<code>x</code> to <code>z</code>. Note that this operator is equivalent to the <code>:</code>
operator from the <code>select</code> function in the <span class="pkg">dplyr</span> package.</p>
</dd>
<dt><strong>Double Colon (<code>::</code>) Operator</strong></dt>
<dd>
<p>The double colon operator
is used to select numbered variables from the data frame specified in
<code>data</code>. For example, <code>df.subset(x1::x3, data = dat)</code> selects the
variables <code>x1</code>, <code>x2</code>, and <code>x3</code>. Note that this operator is
similar to the function <code>num_range()</code> from the <span class="pkg">tidyselect</span>
package.</p>
</dd>
<dt><strong>Exclamation Point (<code>!</code>) Operator</strong></dt>
<dd>
<p>The exclamation point
operator is used to drop variables from the data frame specified in <code>data</code>
or for taking the complement of a set of variables. For example,
<code>df.subset(., !x, data = dat)</code> selects all variables but <code>x</code> in
<code>dat</code>., <code>df.subset(., !~x, data = dat)</code> selects all variables but
variables with the prefix <code>x</code>, or <code>df.subset(x:z, !x1:x3, data = dat)</code>
selects all variables from <code>x</code> to <code>z</code> but excludes all variables
from <code>x1</code> to <code>x3</code>. Note that this operator is equivalent to the <code>!</code>
operator from the <code>select</code> function in the <span class="pkg">dplyr</span> package.</p>
</dd>
</dl>
<p>Note that operators can be combined within the same function call. For example,
<code>df.subset(+x, -y, !x2:x4, z, data = dat)</code> selects all variables with
the prefix <code>x</code> and with the suffix <code>y</code> but excludes variables from
<code>x2</code> to <code>x4</code> and select variable <code>z</code>.
</p>


<h3>Value</h3>

<p>Returns a data frame containing the variables and rows selected in the argument
<code>...</code> and rows selected in the argument <code>subset</code>.
</p>


<h3>Author(s)</h3>

<p>Takuya Yanagida <a href="mailto:takuya.yanagida@univie.ac.at">takuya.yanagida@univie.ac.at</a>
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988) <em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code>df.duplicated</code>, <code>df.merge</code>,
<code>df.move</code>, <code>df.rbind</code>,
<code>df.rename</code>, <code>df.sort</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#-------------------------------------------------------------------------------
# Select single variables

# Example 1: Select 'Sepal.Length' and 'Petal.Width'
df.subset(Sepal.Length, Petal.Width, data = iris)

#-------------------------------------------------------------------------------
# Select all variables using the . operator

# Example 2a: Select all variables, select rows with 'Species' equal 'setosa'
# Note that single quotation marks ('') are needed to specify 'setosa'
df.subset(., data = iris, subset = "Species == 'setosa'")

# Example 2b: Select all variables, select rows with 'Petal.Length' smaller 1.2
df.subset(., data = iris, subset = "Petal.Length &lt; 1.2")

#-------------------------------------------------------------------------------
# Select variables matching a prefix using the + operator

# Example 3: Select variables with prefix 'Petal'
df.subset(+Petal, data = iris)

#-------------------------------------------------------------------------------
# Select variables matching a suffix using the - operator

# Example 4: Select variables with suffix 'Width'
df.subset(-Width, data = iris)

#-------------------------------------------------------------------------------
# Select variables containing a word using the ~ operator
# Example 5: Select variables containing 'al'
df.subset(~al, data = iris)

#-------------------------------------------------------------------------------
# Select consecutive variables using the : operator

# Example 6: Select all variables from 'Sepal.Width' to 'Petal.Width'
df.subset(Sepal.Width:Petal.Width, data = iris)

#-------------------------------------------------------------------------------
# Select numbered variables using the :: operator

# Example 7: Select all variables from 'x1' to 'x3' and 'y1' to 'y3'
df.subset(x1::x3, y1::y3, data = anscombe)

#-------------------------------------------------------------------------------
# Drop variables using the ! operator

# Example 8a: Select all variables but 'Sepal.Width'
df.subset(., !Sepal.Width, data = iris)

# Example 8b: Select all variables but 'Sepal.Width' to 'Petal.Width'
df.subset(., !Sepal.Width:Petal.Width, data = iris)

#----------------------------------------------------------------------------
# Combine +, - , !, and : operators

# Example 9: Select variables with prefix 'x' and suffix '3', but exclude
# variables from 'x2' to 'x3'
df.subset(+x, -3, !x2:x3, data = anscombe)

## End(Not run)
</code></pre>


</div>