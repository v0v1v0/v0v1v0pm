<div class="container">

<table style="width: 100%;"><tr>
<td>mplus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create, Run, and Print Mplus Models</h2>

<h3>Description</h3>

<p>This wrapper function creates a Mplus input file, runs the input file by using
the <code>mplus.run()</code> function, and prints the Mplus output file by using the
<code>mplus.print()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mplus(x, file = "Mplus_Input.inp", data = NULL, comment = FALSE,
      replace.inp = TRUE, mplus.run = TRUE, show.out = FALSE,
      replace.out = c("always", "never", "modified"), Mplus = detect.mplus(),
      print = c("all", "input", "result"),
      input = c("all", "default", "data", "variable", "define", "analysis",
                "model", "montecarlo", "mod.pop", "mod.cov", "mod.miss",
                "message"),
      result = c("all", "default", "summary.analysis.short",
                 "summary.data.short", "random.starts", "summary.fit",
                 "mod.est", "fit", "class.count", "classif", "mod.result",
                 "total.indirect"),
      exclude = NULL, variable = FALSE, not.input = TRUE, not.result = TRUE,
      write = NULL, append = TRUE, check = TRUE, output = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a character string containing the Mplus input text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>a character string indicating the name of the Mplus input
file with or without the file extension <code>.inp</code>, e.g.,
<code>"Mplus_Input.inp"</code> or <code>"Mplus_Input"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a matrix or data frame from which the variables names for
the subsection <code>NAMES</code> are extracted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>logical: if <code>FALSE</code> (default), comments (i.e., text
after the <code>!</code> symbol) are removed from the input text
specified in the argument <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.inp</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), an existing input
file will be replaced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mplus.run</code></td>
<td>
<p>logical: if <code>TRUE</code>, the input file specified in the
argument <code>file</code> containing the input text specified
in the argument <code>x</code> is run using the <code>mplus.run()</code>
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.out</code></td>
<td>
<p>logical: if <code>TRUE</code>, estimation output (<code>TECH8</code>)
is show on the R console. Note that if run within Rgui,
output will display within R, but if run via Rterm, a
separate window will appear during estimation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.out</code></td>
<td>
<p>a character string for specifying three settings:
<code>"always"</code> (default), which runs all models, regardless
of whether an output file for the model exists, <code>"never"</code>,
which does not run any model that has an existing output file,
and <code>"modified"</code>, which only runs a model if the
modified date for the input file is more recent than the
output file modified date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Mplus</code></td>
<td>
<p>a character string for specifying the name or path of the
Mplus executable to be used for running models. This covers
situations where Mplus is not in the system's path, or where
one wants to test different versions of the Mplus program.
Note that there is no need to specify this argument for most
users since it has intelligent defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>a character vector indicating which results to show, i.e.
<code>"all"</code> (default) for all results <code>"input"</code> for
input command sections, and <code>"result"</code> for result sections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>a character vector specifying Mplus input command sections
included in the output (see 'Details' in the <code>mplus.print</code>
function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>a character vector specifying Mplus result sections included
in the output (see 'Details' in the <code>mplus.print</code>
function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>a character vector specifying Mplus input command or result
sections excluded from the output (see 'Details' in the
<code>mplus.print</code> function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>logical: if <code>TRUE</code>, names of the variables in the data
set (<code>NAMES ARE</code>) specified in the <code>VARIABLE:</code>
command section are shown. By default, names of the variables
in the data set are excluded from the output unless all variables
are used in the analysis (i.e., no <code>USEVARIABLES</code> option
specified in the Mplus input file).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not.input</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), character vector indicating
the input commands not requested are shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not.result</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), character vector indicating
the result sections not requested are shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>a character string naming a file for writing the output into
a text file with file extension <code>".txt"</code> (e.g.,
<code>"Output.txt"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output will be appended
to an existing text file with extension <code>.txt</code> specified
in <code>write</code>, if <code>FALSE</code> existing text file will be
overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is
checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output is shown on the
console by using the function <code>mplus.print()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt><strong>The <code>NAMES</code> Option</strong></dt>
<dd>
<p>The <code>NAMES</code> option in the <code>VARIABLE</code>
section used to assign names to the variables in the data set can be specified by using the
<code>data</code> argument:
</p>

<ul>
<li>
<p><code>Write Mplus Data File</code>: In the first step, the Mplus data
file is written by using the <code>write.mplus()</code> function, e.g.
<code>write.mplus(ex3_1, file = "ex3_1.dat")</code>.
</p>
</li>
<li>
<p><code>Specify Mplus Input</code>: In the second step, the Mplus input
is specified as a character string. The <code>NAMES</code> option is left out
from the Mplus input text, e.g.,
<code>input &lt;- 'DATA:     FILE IS ex3_1.dat;\nMODEL:    y1 ON x1 x3;'</code>.
</p>
</li>
<li>
<p><code>Run Mplus Input</code>: In the third step, the Mplus input is run
by using the <code>mplus()</code> function. The argument <code>data</code>
needs to be specified given that the <code>NAMES</code> option was left out from
the Mplus input text in the previous step, e.g.,
<code>mplus(input, file = "ex3_1.inp", data = ex3_1)</code>.
</p>
</li>
</ul>
</dd>
</dl>
<h3>Value</h3>

<p>Returns an object of class <code>misty.object</code>, which is a list with following
entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>function call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a character vector containing the Mplus input text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>specification of function arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>list with input command sections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>write command sections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>list with input command sections (<code>input</code>) and
result sections (<code>result</code>)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Takuya Yanagida
</p>


<h3>References</h3>

<p>Muthen, L. K., &amp; Muthen, B. O. (1998-2017). <em>Mplus User's Guide</em> (8th ed.).
Muthen &amp; Muthen.
</p>


<h3>See Also</h3>

<p><code>read.mplus</code>, <code>write.mplus</code>, <code>mplus.update</code>,
<code>mplus.print</code>, <code>mplus.plot</code>, <code>mplus.bayes</code>,
<code>mplus.run</code>, <code>mplus.lca</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#----------------------------------------------------------------------------
# Example 1: Write data, specify input, and run input

# Write Mplus Data File
write.mplus(ex3_1, file = "ex3_1.dat")

# Specify Mplus input, specify NAMES option
input1 &lt;- '
DATA:     FILE IS ex3_1.dat;
VARIABLE: NAMES ARE y1 x1 x3;
MODEL:    y1 ON x1 x3;
OUTPUT:   SAMPSTAT;
'

# Run Mplus input
mplus(input1, file = "ex3_1.inp")

#----------------------------------------------------------------------------
# Example 2: Alternative specification using the data argument

# Specify Mplus input, leave out the NAMES option
input2 &lt;- '
DATA:     FILE IS ex3_1.dat;
MODEL:    y1 ON x1 x3;
OUTPUT:   SAMPSTAT;
'

# Run Mplus input, specify the data argument
mplus(input2, file = "ex3_1.inp", data = ex3_1)

## End(Not run)
</code></pre>


</div>