<div class="container">

<table style="width: 100%;"><tr>
<td>multilevel.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simultaneous and Level-Specific Multilevel Model Fit Information</h2>

<h3>Description</h3>

<p>This function provides simultaneous and level-specific model fit information
using the partially saturated model method for multilevel models estimated
with the <span class="pkg">lavaan</span> package. Note that level-specific fit indices cannot
be computed when the fitted model contains cross-level constraints, e.g.,
equal factor loadings across levels in line with the metric cross-level
measurement invariance assumption.
</p>


<h3>Usage</h3>

<pre><code class="language-R">multilevel.fit(x, print = c("all", "summary", "fit"), digits = 3, p.digits = 3,
               write = NULL, append = TRUE, check = TRUE, output = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a fitted model of class <code>"lavaan"</code> from the <span class="pkg">lavaan</span>
package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>a character string or character vector indicating which results
to show on the console, i.e. <code>"all"</code> for all results,
<code>"summary"</code> for a summary of the specification of the
estimation method and missing data handling in lavaan and
<code>"fit"</code> for model fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>an integer value indicating the number of decimal places
to be used for displaying results. Note that loglikelihood,
information criteria and chi-square test statistic is
printed with <code>digits</code> minus 1 decimal places.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.digits</code></td>
<td>
<p>an integer value indicating the number of decimal places to be
used for displaying the <em>p</em>-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>a character string naming a file for writing the output into
either a text file with file extension <code>".txt"</code> (e.g.,
<code>"Output.txt"</code>) or Excel file with file extension
<code>".xlsx"</code>  (e.g., <code>"Output.xlsx"</code>). If the file
name does not contain any file extension, an Excel file will
be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output will be appended
to an existing text file with extension <code>.txt</code> specified
in <code>write</code>, if <code>FALSE</code> existing text file will be
overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output is shown.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class <code>misty.object</code>, which is a list with following
entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>function call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a fitted model of class <code>"lavaan"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>specification of function arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>specified models, i.e., <code>mod.l1</code> for the model at the
Within level, <code>mod.l1.syntax</code> for the lavaan syntax
for the model at the Between level, <code>mod.l2</code> for the
model at the Within level, <code>mod.l2.syntax</code> for the
lavaan syntax for the model at the Between level,
<code>mod.l12</code> for the model at the Within and Between
level, <code>mod.l12.syntax</code> for the lavaan syntax for
the model at the Within and Between level, <code>l1.mod.base</code>
for the baseline model at the Within level saturated at
the Between level, <code>l1.mod.hypo</code> for the hypothesized
model at the Within level saturated at the Between level,
<code>l2.mod.base</code> for the baseline model at the Between
level saturated at the Within level, <code>l2.mod.hypo</code>
for the hypothesized model at the Between level saturated
at the Within level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>list with result tables, i.e., <code>summary</code> for the
summary of the specification of the estimation method
and missing data handling in lavaan and <code>fit</code> for
the model fit information.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The function uses the functions <code>cfa</code>, <code>fitmeasures</code>, <code>lavInspect</code>,
<code>lavTech</code>, and <code>parTable</code> provided in the R package <span class="pkg">lavaan</span> by
Yves Rosseel (2012).
</p>


<h3>Author(s)</h3>

<p>Takuya Yanagida <a href="mailto:takuya.yanagida@univie.ac.at">takuya.yanagida@univie.ac.at</a>
</p>


<h3>References</h3>

<p>Rosseel, Y. (2012). lavaan: An R Package for Structural Equation Modeling.
<em>Journal of Statistical Software, 48</em>, 1-36. https://doi.org/10.18637/jss.v048.i02
</p>


<h3>See Also</h3>

<p><code>multilevel.cfa</code>, <code>multilevel.invar</code>,
<code>multilevel.omega</code>, <code>multilevel.cor</code>,
<code>multilevel.descript</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Load data set "Demo.twolevel" in the lavaan package
data("Demo.twolevel", package = "lavaan")

# Model specification
model &lt;- 'level: 1
              fw =~ y1 + y2 + y3
              fw ~ x1 + x2 + x3
           level: 2
              fb =~ y1 + y2 + y3
              fb ~ w1 + w2'

#-------------------------------------------------------------------------------

# Example 1: Model estimation with estimator = "ML"
fit1 &lt;- lavaan::sem(model = model, data = Demo.twolevel, cluster = "cluster",
                    estimator = "ML")

# Simultaneous and level-specific multilevel model fit information
ls.fit1 &lt;- multilevel.fit(fit1)

# Write results into a text file
multilevel.fit(fit1, write = "LS-Fit1.txt")

# Write results into an Excel file
write.result(ls.fit1, "LS-Fit1.xlsx")

# Example 2: Model estimation with estimator = "MLR"
fit2 &lt;- lavaan::sem(model = model, data = Demo.twolevel, cluster = "cluster",
                    estimator = "MLR")

# Simultaneous and level-specific multilevel model fit information
# Write results into an Excel file
multilevel.fit(fit2, write = "LS-Fit2.xlsx")

## End(Not run)
</code></pre>


</div>