<div class="container">

<table style="width: 100%;"><tr>
<td>multilevel.indirect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence Interval for the Indirect Effect in a 1-1-1 Multilevel Mediation Model</h2>

<h3>Description</h3>

<p>This function computes the confidence interval for the indirect effect in a
1-1-1 multilevel mediation model with random slopes based on the Monte Carlo
method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">multilevel.indirect(a, b, se.a, se.b, cov.ab = 0, cov.rand, se.cov.rand,
                    nrep = 100000, alternative = c("two.sided", "less", "greater"),
                    seed = NULL, conf.level = 0.95, digits = 3, write = NULL,
                    append = TRUE, check = TRUE, output = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>a numeric value indicating the coefficient <code class="reqn">a</code>, i.e.,
average effect of <code class="reqn">X</code> on <code class="reqn">M</code> on the cluster or
between-group level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>a numeric value indicating the coefficient <code class="reqn">b</code>, i.e.,
average effect of <code class="reqn">M</code> on <code class="reqn">Y</code> adjusted for <code class="reqn">X</code>
on the cluster or between-group level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.a</code></td>
<td>
<p>a positive numeric value indicating the standard error of
<code class="reqn">a</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.b</code></td>
<td>
<p>a positive numeric value indicating the standard error of
<code class="reqn">b</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.ab</code></td>
<td>
<p>a positive numeric value indicating the covariance between
<code class="reqn">a</code> and <code class="reqn">b</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cov.rand</code></td>
<td>
<p>a positive numeric value indicating the covariance between
the random slopes for <code class="reqn">a</code> and <code class="reqn">b</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se.cov.rand</code></td>
<td>
<p>a positive numeric value indicating the standard error of the
covariance between the random slopes for <code class="reqn">a</code> and <code class="reqn">b</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>
<p>an integer value indicating the number of Monte Carlo repetitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis, must be
one of <code>"two.sided"</code> (default), <code>"greater"</code> or <code>"less"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>a numeric value specifying the seed of the random number generator
when using the Monte Carlo method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>a numeric value between 0 and 1 indicating the confidence level
of the interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>an integer value indicating the number of decimal places
to be used for displaying</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>a character string naming a text file with file extension
<code>".txt"</code> (e.g., <code>"Output.txt"</code>) for writing the
output into a text file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output will be appended
to an existing text file with extension <code>.txt</code> specified
in <code>write</code>, if <code>FALSE</code> existing text file will be
overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output is shown on the console.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In statistical mediation analysis (MacKinnon &amp; Tofighi, 2013), the indirect effect
refers to the effect of the independent variable <code class="reqn">X</code> on the outcome variable
<code class="reqn">Y</code> transmitted by the mediator variable <code class="reqn">M</code>. The magnitude of the indirect
effect <code class="reqn">ab</code> is quantified by the product of the the coefficient <code class="reqn">a</code>
(i.e., effect of <code class="reqn">X</code> on <code class="reqn">M</code>) and the coefficient <code class="reqn">b</code> (i.e., effect of
<code class="reqn">M</code> on <code class="reqn">Y</code> adjusted for <code class="reqn">X</code>). However, mediation in the context of a
1-1-1 multilevel mediation model where variables <code class="reqn">X</code>, <code class="reqn">M</code>, and <code class="reqn">Y</code>
are measured at level 1, the coefficients <code class="reqn">a</code> and <code class="reqn">b</code> can vary across
level-2 units (i.e., random slope). As a result, <code class="reqn">a</code> and <code class="reqn">b</code> may covary
so that the estimate of the indirect effect is no longer simply the product of
the coefficients <code class="reqn">\hat{a}\hat{b}</code>, but <code class="reqn">\hat{a}\hat{b} + \tau_{a,b}</code>,
where <code class="reqn">\tau_{a,b}</code> (i.e., <code>cov.rand</code>) is the level-2 covariance between
the random slopes <code class="reqn">a</code> and <code class="reqn">b</code>. The covariance term needs to be added to
<code class="reqn">\hat{a}\hat{b}</code> only when random slopes are estimated for both <code class="reqn">a</code> and
<code class="reqn">b</code>. Otherwise, the simple product is sufficient to quantify the indirect
effect, and the <code>indirect</code> function can be used instead.
</p>
<p>In practice, researchers are often interested in confidence limit estimation
for the indirect effect. There are several methods for computing a confidence
interval for the indirect effect in a single-level mediation models (see
<code>indirect</code> function). The Monte Carlo (MC) method (MacKinnon et al.,
2004) is a promising method in single-level mediation model which was also adapted
to the multilevel mediation model (Bauer, Preacher &amp; Gil, 2006). This method
requires seven pieces of information available from the results of a multilevel
mediation model:
</p>

<dl>
<dt>a</dt>
<dd>
<p>Coefficient <code class="reqn">a</code>, i.e., average effect of <code class="reqn">X</code> on <code class="reqn">M</code>
on the cluster or between-group level. In Mplus, <code>Estimate</code>
of the random slope <code class="reqn">a</code> under <code>Means</code> at the
<code>Between Level</code>.</p>
</dd>
<dt>b</dt>
<dd>
<p>Coefficient <code class="reqn">a</code>, i.e., average effect of <code class="reqn">M</code> on <code class="reqn">Y</code>
on the cluster or between-group level. In Mplus, <code>Estimate</code>
of the random slope <code class="reqn">b</code> under <code>Means</code> at the
<code>Between Level</code>.</p>
</dd>
<dt>se.a</dt>
<dd>
<p>Standard error of <code>a</code>. In Mplus, <code>S.E.</code>
of the random slope <code class="reqn">a</code> under <code>Means</code> at the
<code>Between Level</code>.</p>
</dd>
<dt>se.a</dt>
<dd>
<p>Standard error of <code>a</code>. In Mplus, <code>S.E.</code>
of the random slope <code class="reqn">a</code> under <code>Means</code> at the
<code>Between Level</code>.</p>
</dd>
<dt>cov.ab</dt>
<dd>
<p>Covariance between <code class="reqn">a</code> and <code class="reqn">b</code>. In Mplus, the
estimated covariance matrix for the parameter estimates
(i.e., asymptotic covariance matrix) need to be requested
by specifying <code>TECH3</code> along with <code>TECH1</code> in the
<code>OUTPUT</code> section. In the <code>TECHNICAL 1 OUTPUT</code>
under <code>PARAMETER SPECIFICATION FOR BETWEEN</code>, the
numbers of the parameter for the coefficients <code class="reqn">a</code> and
<code class="reqn">b</code> need to be identified under <code>ALPHA</code> to look
up <code>cov.av</code> in the corresponding row and column in
the <code>TECHNICAL 3 OUTPUT</code> under <code>ESTIMATED COVARIANCE
                MATRIX FOR PARAMETER ESTIMATES</code>.</p>
</dd>
<dt>cov.rand</dt>
<dd>
<p>Covariance between the random slopes for <code class="reqn">a</code> and
<code class="reqn">b</code>. In Mplus, <code>Estimate</code> of the covariance
<code class="reqn">a</code> <code>WITH</code> <code class="reqn">b</code> at the <code>Between Level</code></p>
</dd>
</dl>
<p>.
</p>
<dl>
<dt>se.cov.rand</dt>
<dd>
<p>Standard error of the covariance between the random
slopes for <code class="reqn">a</code> and <code class="reqn">b</code>. In Mplus, <code>S.E.</code>
of the covariance <code class="reqn">a</code> <code>WITH</code> <code class="reqn">b</code> at the
<code>Between Level</code></p>
</dd>
</dl>
<p>.

</p>
<p>Note that all pieces of information except <code>cov.ab</code> can be looked up in
the standard output of the multilevel mediation model. In order to specify
<code>cov.ab</code>, the covariance matrix for the parameter estimates (i.e.,
asymptotic covariance matrix) is required. In practice, <code>cov.ab</code> will
oftentimes be very small so that <code>cov.ab</code> may be set to 0 (i.e., default
value) with negligible impact on the results.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>misty.object</code>, which is a list with following
entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>function call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>list with the input specified in <code>a</code>, <code>b</code>,
<code>se.a</code>, <code>se.b</code>, <code>cov.ab</code>, <code>cov.rand</code>,
and <code>se.cov.rand</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>specification of function arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>list with result tables, i.e., <code>ab</code> for the simulated
<code>ab</code> values and <code>mc</code> for the estimate of the
indirect effect and the confidence interval</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The function was adapted from the interactive web tool by Preacher and
Selig (2010).
</p>


<h3>Author(s)</h3>

<p>Takuya Yanagida <a href="mailto:takuya.yanagida@univie.ac.at">takuya.yanagida@univie.ac.at</a>
</p>


<h3>References</h3>

<p>Bauer, D. J., Preacher, K. J., &amp; Gil, K. M. (2006). Conceptualizing and testing
random indirect effects and moderated Mediation in multilevel models: New procedures
and recommendations. <em>Psychological Methods, 11</em>, 142-163.
https://doi.org/10.1037/1082-989X.11.2.142
</p>
<p>Kenny, D. A., Korchmaros, J. D., &amp; Bolger, N. (2003). Lower level Mediation in
multilevel models. <em>Psychological Methods, 8</em>, 115-128.
https://doi.org/10.1037/1082-989x.8.2.115
</p>
<p>MacKinnon, D. P., Lockwood, C. M., &amp; Williams, J. (2004). Confidence limits for the indirect effect:
Distribution of the product and resampling methods. <em>Multivariate Behavioral Research, 39</em>, 99-128.
https://doi.org/10.1207/s15327906mbr3901_4
</p>
<p>MacKinnon, D. P., &amp; Tofighi, D. (2013). Statistical mediation analysis. In J. A. Schinka, W. F. Velicer,
&amp; I. B. Weiner (Eds.), <em>Handbook of psychology: Research methods in psychology</em> (pp. 717-735).
John Wiley &amp; Sons, Inc..
</p>
<p>Preacher, K. J., &amp; Selig, J. P. (2010). <em>Monte Carlo method for assessing
multilevel Mediation: An interactive tool for creating confidence intervals for
indirect effects in 1-1-1 multilevel models</em> [Computer software]. Available from
http://quantpsy.org/.
</p>


<h3>See Also</h3>

<p><code>indirect</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example 1: Confidence Interval for the Indirect Effect
multilevel.indirect(a = 0.25, b = 0.20, se.a = 0.11, se.b = 0.13,
                    cov.ab = 0.01, cov.rand = 0.40, se.cov.rand = 0.02)

# Example 2: Save results of the Monte Carlo method
ab &lt;- multilevel.indirect(a = 0.25, b = 0.20, se.a = 0.11, se.b = 0.13,
                          cov.ab = 0.01, cov.rand = 0.40, se.cov.rand = 0.02,
                          output = FALSE)$result$ab

# Histogram of the distribution of the indirect effect
hist(ab)

# Example 3: Write results into a text file
multilevel.indirect(a = 0.25, b = 0.20, se.a = 0.11, se.b = 0.13,
                    cov.ab = 0.01, cov.rand = 0.40, se.cov.rand = 0.02,
                    write = "ML-Indirect.txt")

## End(Not run)
</code></pre>


</div>