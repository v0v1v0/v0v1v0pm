<div class="container">

<table style="width: 100%;"><tr>
<td>blimp.update</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Blimp Input Updating</h2>

<h3>Description</h3>

<p>This function updates specific input command sections of a <code>misty.object</code>
of type <code>blimp</code> to create an updated Blimp input file, run the updated
input file by using the <code>blimp.run()</code> function, and print the updated
Blimp output file by using the <code>blimp.print()</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">blimp.update(x, update, file = "Blimp_Input_Update.imp", comment = FALSE,
             replace.inp = TRUE, blimp.run = TRUE, posterior = FALSE,
             folder = "Posterior_",
             format = c("csv", "csv2", "xlsx", "rds", "RData"),
             clear = TRUE, replace.out = c("always", "never", "modified"),
             Blimp = detect.blimp(),
             result = c("all", "default", "algo.options",  "data.info",
                        "model.info", "warn.mess", "out.model", "gen.param"),
             exclude = NULL, color = c("none", "blue", "violet"),
             style = c("bold", "regular"), not.result = TRUE,
             write = NULL, append = TRUE, check = TRUE, output = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>misty.object</code> object of type <code>blimp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update</code></td>
<td>
<p>a character vector containing the updated input command
sections.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>a character string indicating the name of the updated Blimp
input file with or without the file extension <code>.imp</code>,
e.g., <code>"Blimp_Input_Update.imp"</code> or
<code>"Blimp_Input_Update.imp"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comment</code></td>
<td>
<p>logical: if <code>FALSE</code> (default), comments (i.e., text
after the <code>#</code> symbol) are removed from the input text
specified in the argument <code>x</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.inp</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), an existing input
file will be replaced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>blimp.run</code></td>
<td>
<p>logical: if <code>TRUE</code>, the input file specified in the
argument <code>file</code> containing the input text specified
in the argument <code>x</code> is run using the <code>blimp.run()</code>
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>posterior</code></td>
<td>
<p>logical: if <code>TRUE</code>, the posterior distribution including
burn-in and post-burn-in phase for all parameters are saved
in long format in a file called <code>posterior.*</code> in the
folder specified in the argument <code>folder</code> and <code>.imp</code>
file name in the format specified in the argument <code>format</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder</code></td>
<td>
<p>a character string indicating the prefix of the folder for
saving the posterior distributions. The default setting is
<code>folder = "Posterior_"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>a character vector indicating the file format(s) for saving the
posterior distributions, i.e., <code>"csv"</code> (default) for
<code>write.csv()</code>, <code>"csv2"</code> for <code>write.csv2()</code>,
<code>"xlsx"</code> for <code>write.xlsx()</code>, <code>"rds"</code> for
<code>saveRDS()</code>, and <code>"RData"</code> for <code>write()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clear</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), the console is cleared
after estimating each model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace.out</code></td>
<td>
<p>a character string for specifying three settings:
<code>"always"</code> (default), which runs all models, regardless
of whether an output file for the model exists, <code>"never"</code>,
which does not run any model that has an existing output file,
and <code>"modified"</code>, which only runs a model if the
modified date for the input file is more recent than the
output file modified date.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Blimp</code></td>
<td>
<p>a character string for specifying the name or path of the
Blimp executable to be used for running models. This covers
situations where Blimp is not in the system's path, or where
one wants to test different versions of the Blimp program.
Note that there is no need to specify this argument for most
users since it has intelligent defaults.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>a character vector specifying Blimp result sections included
in the output (see 'Details' in the <code>blimp.print</code>
function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude</code></td>
<td>
<p>a character vector specifying Blimp input command or result
sections excluded from the output (see 'Details' in the
<code>blimp.print</code> function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>a character vector with two elements indicating the colors
used for headers (e.g., <code>"ALGORITHMIC OPTIONS SPECIFIED:"</code>),
and for the header <code>Outcome Variable:</code> and
<code>Missing predictor:</code> including variables names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>style</code></td>
<td>
<p>a character vector with two elements indicating the style
used for headers (e.g., <code>"ALGORITHMIC OPTIONS SPECIFIED:"</code>),
and for the header <code>Outcome Variable:</code> and
<code>Missing predictor:</code> including variables names, i.e.,
<code>regular</code>, for regular text, <code>bold</code> for bold text,
<code>italic</code>, for italic text, and <code>underline</code> for
underline text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not.result</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), character vector indicating
the result sections not requested are shown on the console.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>a character string naming a file for writing the output into
a text file with file extension <code>".txt"</code> (e.g.,
<code>"Output.txt"</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output will be appended
to an existing text file with extension <code>.txt</code> specified
in <code>write</code>, if <code>FALSE</code> existing text file will be
overwritten.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), argument specification is
checked.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>logical: if <code>TRUE</code> (default), output is shown on the
console by using the function <code>blimp.print()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a matrix or data frame from which the variables names for
the section <code>VARIABLES</code> are extracted when using the
<code>...</code> specification in the <code>VARIABLES</code> section.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<dl>
<dt><strong>Bimp Input Sections</strong></dt>
<dd>
<p>The function is used to update
following Blimp input sections:
</p>

<ul>
<li>
<p><code>DATA</code>
</p>
</li>
<li>
<p><code>VARIABLES</code>
</p>
</li>
<li>
<p><code>CLUSTERID</code>
</p>
</li>
<li>
<p><code>ORDINAL</code>
</p>
</li>
<li>
<p><code>NOMINAL</code>
</p>
</li>
<li>
<p><code>COUNT</code>
</p>
</li>
<li>
<p><code>WEIGHT</code>
</p>
</li>
<li>
<p><code>MISSING</code>
</p>
</li>
<li>
<p><code>LATENT</code>
</p>
</li>
<li>
<p><code>RANDOMEFFECT</code>
</p>
</li>
<li>
<p><code>TRANSFORM</code>
</p>
</li>
<li>
<p><code>BYGROUP</code>
</p>
</li>
<li>
<p><code>FIXED</code>
</p>
</li>
<li>
<p><code>CENTER</code>
</p>
</li>
<li>
<p><code>MODEL</code>
</p>
</li>
<li>
<p><code>SIMPLE</code>
</p>
</li>
<li>
<p><code>PARAMETERS</code>
</p>
</li>
<li>
<p><code>TEST</code>
</p>
</li>
<li>
<p><code>FCS</code>
</p>
</li>
<li>
<p><code>SIMUALTE</code>
</p>
</li>
<li>
<p><code>SEED</code>
</p>
</li>
<li>
<p><code>BURN</code>
</p>
</li>
<li>
<p><code>ITERATIONS</code>
</p>
</li>
<li>
<p><code>CHAINS</code>
</p>
</li>
<li>
<p><code>NIMPS</code>
</p>
</li>
<li>
<p><code>THIN</code>
</p>
</li>
<li>
<p><code>OPTIONS</code>
</p>
</li>
<li>
<p><code>OUTPUT</code>
</p>
</li>
<li>
<p><code>SAVE</code>
</p>
</li>
</ul>
</dd>
<dt><strong>The <code>---;</code> Specification</strong></dt>
<dd>
<p>The <code>---;</code> specification
is used to remove entire sections (e.g., <code>CENTER: ---;</code>) from the Blimp
input. Note that <code>---;</code> including the semicolon <code>;</code> needs to be
specified, i.e., <code>---</code> without the semicolon <code>;</code> will result in an
error message.</p>
</dd>
</dl>
<h3>Value</h3>

<p>Returns an object of class <code>misty.object</code>, which is a list with following
entries:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>function call</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>type of analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>misty.object</code> object of type <code>blimp</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update</code></td>
<td>
<p>a character vector containing the updated Blimp input command
sections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>specification of function arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write</code></td>
<td>
<p>updated write command sections</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>list with result sections (<code>result</code>)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Takuya Yanagida
</p>


<h3>References</h3>

<p>Keller, B. T., &amp; Enders, C. K. (2023). <em>Blimp userâ€™s guide</em> (Version 3).
Retrieved from www.appliedmissingdata.com/blimp
</p>


<h3>See Also</h3>

<p><code>blimp.run</code>, <code>blimp.print</code>, <code>blimp.plot</code>, <code>blimp.bayes</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

#----------------------------------------------------------------------------
# Example 1a: Update BURN and ITERATIONS section

# Specify Blimp input
input &lt;- '
DATA: data1.csv;
ORDINAL: d;
MISSING: 999;
FIXED: d;
CENTER: x1 x2;
MODEL: y ~ x1 x2 d;
SEED: 90291;
BURN: 1000;
ITERATIONS: 10000;
'

# Run Blimp input
mod0 &lt;- blimp(input, file = "Ex4.3.imp", clear = FALSE)

# Update sections
update1 &lt;- '
BURN: 5000;
ITERATIONS: 20000;
'

# Run updated Blimp input
mod1 &lt;- blimp.update(mod0, update1, file = "Ex4.3_update1.imp")

#----------------------------------------------------------------------------
# Example 1b: Remove CENTER section

# Remove section
update2 &lt;- '
CENTER: ---;
'

# Run updated Blimp input
mod3 &lt;- blimp.update(mod1, update2, file = "Ex4.3_update2.imp")

## End(Not run)
</code></pre>


</div>