<div class="container">

<table style="width: 100%;"><tr>
<td>GenerateData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mixed type simulation data generator for sparse CCA</h2>

<h3>Description</h3>

<p><code>GenerateData</code> is used to generate two sets of data of mixed types for sparse CCA under the Gaussian copula model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">GenerateData(
  n,
  trueidx1,
  trueidx2,
  Sigma1,
  Sigma2,
  maxcancor,
  copula1 = "no",
  copula2 = "no",
  type1 = "continuous",
  type2 = "continuous",
  muZ = NULL,
  c1 = NULL,
  c2 = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trueidx1</code></td>
<td>
<p>True canonical direction of length p1 for <code>X1</code>. It will be automatically normalized such that <code class="reqn">w_1^T \Sigma_1 w_1 = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trueidx2</code></td>
<td>
<p>True canonical direction of length p2 for <code>X2</code>. It will be automatically normalized such that <code class="reqn">w_2^T \Sigma_2 w_2 = 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma1</code></td>
<td>
<p>True correlation matrix of latent variable <code>Z1</code> (p1 by p1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma2</code></td>
<td>
<p>True correlation matrix of latent variable <code>Z2</code> (p2 by p2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxcancor</code></td>
<td>
<p>True canonical correlation between <code>Z1</code> and <code>Z2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copula1</code></td>
<td>
<p>Copula type for the first dataset. U1 = f(Z1), which could be either "exp", "cube".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copula2</code></td>
<td>
<p>Copula type for the second dataset. U2 = f(Z2), which could be either "exp", "cube".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type1</code></td>
<td>
<p>Type of the first dataset <code>X1</code>. Could be "continuous", "trunc" or "binary".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type2</code></td>
<td>
<p>Type of the second dataset <code>X2</code>. Could be "continuous", "trunc" or "binary".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muZ</code></td>
<td>
<p>Mean of latent multivariate normal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1</code></td>
<td>
<p>Constant threshold for <code>X1</code> needed for "trunc" and "binary" data type - the default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2</code></td>
<td>
<p>Constant threshold for <code>X2</code> needed for "trunc" and "binary" data type - the default is NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>GenerateData</code> returns a list containing
</p>

<ul>
<li>
<p>Z1: latent numeric data matrix (n by p1).
</p>
</li>
<li>
<p>Z2: latent numeric data matrix (n by p2).
</p>
</li>
<li>
<p>X1: observed numeric data matrix (n by p1).
</p>
</li>
<li>
<p>X2: observed numeric data matrix (n by p2).
</p>
</li>
<li>
<p>true_w1: normalized true canonical direction of length p1 for <code>X1</code>.
</p>
</li>
<li>
<p>true_w2: normalized true canonical direction of length p2 for <code>X2</code>.
</p>
</li>
<li>
<p>type: a vector containing types of two datasets.
</p>
</li>
<li>
<p>maxcancor: true canonical correlation between <code>Z1</code> and <code>Z2</code>.
</p>
</li>
<li>
<p>c1: constant threshold for <code>X1</code> for "trunc" and "binary" data type.
</p>
</li>
<li>
<p>c2: constant threshold for <code>X2</code> for "trunc" and "binary" data type.
</p>
</li>
<li>
<p>Sigma: true latent correlation matrix of <code>Z1</code> and <code>Z2</code> ((p1+p2) by (p1+p2)).
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">### Simple example

# Data setting
n &lt;- 100; p1 &lt;- 15; p2 &lt;- 10 # sample size and dimensions for two datasets.
maxcancor &lt;- 0.9 # true canonical correlation

# Correlation structure within each data set
set.seed(0)
perm1 &lt;- sample(1:p1, size = p1);
Sigma1 &lt;- autocor(p1, 0.7)[perm1, perm1]
blockind &lt;- sample(1:3, size = p2, replace = TRUE);
Sigma2 &lt;- blockcor(blockind, 0.7)
mu &lt;- rbinom(p1+p2, 1, 0.5)

# true variable indices for each dataset
trueidx1 &lt;- c(rep(1, 3), rep(0, p1-3))
trueidx2 &lt;- c(rep(1, 2), rep(0, p2-2))

# Data generation
simdata &lt;- GenerateData(n=n, trueidx1 = trueidx1, trueidx2 = trueidx2, maxcancor = maxcancor,
                        Sigma1 = Sigma1, Sigma2 = Sigma2,
                        copula1 = "exp", copula2 = "cube",
                        muZ = mu,
                        type1 = "trunc", type2 = "trunc",
                        c1 = rep(1, p1), c2 =  rep(0, p2)
)
X1 &lt;- simdata$X1
X2 &lt;- simdata$X2

# Check the range of truncation levels of variables
range(colMeans(X1 == 0))
range(colMeans(X2 == 0))
</code></pre>


</div>