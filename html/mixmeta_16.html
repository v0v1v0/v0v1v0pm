<div class="container">

<table style="width: 100%;"><tr>
<td>inputna</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Input Missing Values </h2>

<h3>Description</h3>

<p>This function augment data by replacing missing values. It can be used internally in <code>mixmeta</code> through the <code>control</code> list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">inputna(y, S, inputvar=10^4)
</code></pre>


<h3>Arguments</h3>

<p>Assuming a meta-analysis or meta-regression based on <code class="reqn">n</code> units and <code class="reqn">k</code> outcomes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>y </code></td>
<td>
<p> a <code class="reqn">n</code>-dimensional vector (for univariate models) or <code class="reqn">m \times k</code> matrix (for multivariate models) of outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>S </code></td>
<td>
<p> series of within-unit variances (or (co)variance matrices for multivariate models) of the estimated outcome(s). For univariate models, this is usually a <code class="reqn">n</code>-dimensional vector. For multivariate models, it can be provided as: a <code class="reqn">m</code>-dimensional list of <code class="reqn">k \times k</code> matrices; a tri-dimensional <code class="reqn">k \times k \times m</code> array; a matrix or data frame with <code class="reqn">n</code> rows and <code class="reqn">k(k+1)/2</code> or <code class="reqn">k</code> columns, depending on the availability of the within-unit correlations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputvar </code></td>
<td>
<p> multiplier for inputting the missing variances in <code>S</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function augments the data by replacing missing values in the outcomes and the associated (co)variances. Specifically, it replaces missing outcomes and missing covariances (if provided) with 0, and missing variances with the largest observed variance multiplied by <code>inputvar</code>. This value is expected to be very high, by default <code class="reqn">10^4</code>, so that the corresponding observation contributes only negligibly to the final estimate.
</p>


<h3>Value</h3>

<p>A matrix with the first <code class="reqn">k</code> column corresponding to the augmented outcomes, and the remaining <code class="reqn">k(k+1)/2</code> or <code class="reqn">k</code> columns (depending on the availability of the within-study covariances) corresponding to vectorized entries of the lower triangle of the related (co)variance matrices.
</p>


<h3>Note</h3>

<p>Data augmentation used to be the approach to deal with missing values in the first implementation of <span class="pkg">mixmeta</span>. The current algorithms directly account for missing.
</p>
<p>Inputting missing values can be useful when two or more outcomes are never observed jointly, and the estimation is entirely based on indirect comparison. This method can be applied in network meta-analysis, also called indirect treatment comparison.
</p>
<p>This approach can produce different results than standard methods, especially when the occurrence of missing is substantial. Preliminary analyses indicate that likelihood-based estimation methods do not seem to be affected, while non-iterative estimators such as method of moments and variance components are more sensitive. The user should be careful on the application of missing augmentation.
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini &lt;<a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a>&gt;</p>


<h3>References</h3>

<p>Sera F, Armstrong B, Blangiardo M, Gasparrini A (2019). An extended mixed-effects framework for meta-analysis.<em>Statistics in Medicine</em>. 2019;38(29):5429-5444. [Freely available <a href="http://www.ag-myresearch.com/2019_sera_statmed.html"><b>here</b></a>].
</p>
<p>Gasparrini A, Armstrong B, Kenward MG (2012). Multivariate meta-analysis for non-linear and other multi-parameter associations. <em>Statistics in Medicine</em>. <b>31</b>(29):3821–3839. [Freely available <a href="http://www.ag-myresearch.com/2012_gasparrini_statmed.html"><b>here</b></a>].
</p>
<p>Jackson D, Riley R, White IR (2011). Multivariate meta-analysis: Potential and promise. <em>Statistics in Medicine</em>. <b>30</b>(20);2481–2498.
</p>
<p>White IR (2009). Multivariate random-effects meta-analysis. <em>Stata Journal</em>. <b>9</b>(1):40–56.
</p>
<p>White IR (2011). Multivariate random-effects meta-regression: updates to mvmeta. <em>Stata Journal</em>. <b>11</b>(2):255-270.
</p>


<h3>See Also</h3>

<p>See <code>inputcov</code> for inputting (co)variance matrices.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># INSPECT THE DATA
head(smoking)

# STANDARD APPROACH TO MISSING DATA
y &lt;- as.matrix(smoking[11:13])
S &lt;- as.matrix(smoking[14:19])
mod1 &lt;- mixmeta(y, S)
summary(mod1)

# WITH DATA AUGMENTATION
augdata &lt;- inputna(y, S)
y &lt;- augdata[,1:3]
S &lt;- augdata[,-c(1:3)]
mod2 &lt;- mixmeta(y, S)
summary(mod2)
# NB: SAME PARAMETER ESTIMATES, BUT WRONG NYUMBER OF OBS

# USED INTERNALLY IN mixmeta
y &lt;- as.matrix(smoking[11:13])
S &lt;- as.matrix(smoking[14:19])
mod3 &lt;- mixmeta(y, S, control=list(inputna=TRUE))
summary(mod3)
# NOW RIGHT NUMBER OF OBS
</code></pre>


</div>