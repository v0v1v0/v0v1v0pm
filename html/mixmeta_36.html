<div class="container">

<table style="width: 100%;"><tr>
<td>na.omit.data.frame.mixmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Handling Missing Values in mixmeta Models </h2>

<h3>Description</h3>

<p>These method functions exclude rows corresponding to units with invalid missing pattern from model frames of class <code>"data.frame.mixmeta"</code>. This guarantees the correct handling of missing values while fitting meta-analytical models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'data.frame.mixmeta'
na.omit(object, ...)

## S3 method for class 'data.frame.mixmeta'
na.exclude(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object </code></td>
<td>
<p> an object of class <code>"data.frame.mixmeta"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>
<p> further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A model frame of class <code>"data.frame.mixmeta"</code> is produced by <code>mixmeta</code>. A call to <code>na.omit</code> or <code>na.exclude</code> removes from the model frame the rows corresponding to studies with invalid missing pattern. In addition, a <code>na.action</code> attribute is added to the model frame, namely a numeric vector corresponding to the removed rows and class <code>"omit"</code> or <code>"exclude"</code>, respectively. This information is used by <code>naresid</code> and <code>napredict</code> to deal with missing values in functions such as <code>fitted</code>, <code>residuals</code>, <code>predict</code> and <code>blup</code>, among others.
</p>
<p>The definition of missing, identifying an invalid missing pattern, is different in meta-analytical models performed through <code>mixmeta</code> if compared to other regression functions such as <code>lm</code> or <code>glm</code>, in particular for the multivariate case. Specifically, while a unit is removed if at least an observation for one predictor is missing, partially missing outcomes do not prevent the unit to contribute to estimation (see <code>mixmeta</code>). Specific methods <code>na.omit</code> and <code>na.exclude</code> for class <code>"data.frame.mixmeta"</code> allow  this different definition.
</p>


<h3>Value</h3>

<p>These functions returns the model frame <code>object</code> with rows corresponding to units with invalid missing pattern being removed. They also add the related <code>na.action</code> attribute as explained above.
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini &lt;<a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a>&gt;</p>


<h3>See Also</h3>

<p>See <code>na.action</code>, <code>naresid</code> and <code>napredict</code>. See <code>model.frame</code>.
See <code>mixmeta-package</code> for an overview of the package and modelling framework.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># INPUT MISSING VALUES IN PREDICTOR AND ONE RESPONSE
data &lt;- berkey98
data[2,1] &lt;- data[4,3] &lt;- NA
data

# RUN THE MODEL
model &lt;- mixmeta(cbind(PD,AL) ~ pubyear, S=data[5:7], data=data, method="ml")

# SUMMARIZE: NOTE THE NUMBER OF STUDIES AND OBSERVATIONS
summary(model)
df.residual(model)

# EXTRACT THE MODEL FRAME WITH na.pass
model.frame(model, na.action="na.pass")
# EXTRACT THE MODEL FRAME WITH na.omit (DEFAULT)
model.frame(model, na.action="na.omit")

# COMPARE WITH DEFAULT METHOD FOR na.omit
frame &lt;- model.frame(model, na.action="na.pass")
na.omit(frame)
class(frame)
class(frame) &lt;- "data.frame"
na.omit(frame)

# WITH na.exclude
residuals(model)
residuals(update(model, na.action="na.exclude"))
</code></pre>


</div>