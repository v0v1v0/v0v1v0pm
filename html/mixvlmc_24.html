<div class="container">

<table style="width: 100%;"><tr>
<td>counts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Report the distribution of values that follow occurrences of a sequence</h2>

<h3>Description</h3>

<p>This function reports the number of occurrences of the sequence represented
by <code>node</code> in the original time series used to build the associated context
tree (not including a possible final occurrence not followed by any value at
the end of the original time series). In addition if <code>frequency=="detailed"</code>,
the function reports the frequencies of each of the possible value of the
time series when they appear just after the sequence.
</p>


<h3>Usage</h3>

<pre><code class="language-R">counts(node, frequency = c("detailed", "total"), local = FALSE)

## S3 method for class 'ctx_node'
counts(node, frequency = c("detailed", "total"), local = FALSE)

## S3 method for class 'ctx_node_cpp'
counts(node, frequency = c("detailed", "total"), local = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>node</code></td>
<td>
<p>a <code>ctx_node</code> object as returned by <code>find_sequence()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frequency</code></td>
<td>
<p>specifies the counts to be included in the result. <code>"total"</code>
gives the number of occurrences of the sequence in the original sequence.
<code>"detailed"</code> includes in addition the break down of these occurrences into
all the possible states.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>local</code></td>
<td>
<p>specifies how the counts are computed. When <code>local</code> is <code>FALSE</code>
(default value) the counts include both counts that are specific to the
context (if any) and counts from the descendants of the context in the
tree. When <code>local</code> is <code>TRUE</code> the counts include only the number of times
the context appears without being the last part of a longer context.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>either an integer when <code>frequency="total"</code> which gives the total
number of occurrences of the sequence represented by <code>node</code> or a
<code>data.frame</code> with a <code>total</code> column with the same value and a column for
each of the possible value of the original time series, reporting counts in
each column (see the description above).
</p>


<h3>See Also</h3>

<p><code>contexts()</code> and <code>contexts.ctx_tree()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dts &lt;- sample(as.factor(c("A", "B", "C")), 100, replace = TRUE)
dts_tree &lt;- ctx_tree(dts, max_depth = 3, min_size = 5)
subseq &lt;- find_sequence(dts_tree, factor(c("A", "A"), levels = c("A", "B", "C")))
if (!is.null(subseq)) {
  counts(subseq)
}
</code></pre>


</div>