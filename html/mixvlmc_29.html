<div class="container">

<table style="width: 100%;"><tr>
<td>ctx_tree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a context tree for a discrete time series</h2>

<h3>Description</h3>

<p>This function builds a context tree for a time series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctx_tree(
  x,
  min_size = 2L,
  max_depth = 100L,
  keep_position = TRUE,
  backend = getOption("mixvlmc.backend", "R")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a discrete time series; can be numeric, character, factor or
logical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_size</code></td>
<td>
<p>integer &gt;= 1 (default: 2). Minimum number of observations for
a context to be included in the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_depth</code></td>
<td>
<p>integer &gt;= 1 (default: 100). Maximum length of a context to
be included in the tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_position</code></td>
<td>
<p>logical (default: TRUE). Should the context tree keep
the position of the contexts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backend</code></td>
<td>
<p>"R" or "C++" (default: as specified by the "mixvlmc.backend"
option). Specifies the implementation used to represent the context tree
and to built it. See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The tree represents all the sequences of symbols/states of length smaller
than <code>max_depth</code> that appear at least <code>min_size</code> times in the time series and
stores the frequencies of the states that follow each context. Optionally,
the positions of the contexts in the time series can be stored in the tree.
</p>


<h3>Value</h3>

<p>a context tree (of class that inherits from <code>ctx_tree</code>).
</p>


<h3>Back ends</h3>

<p>Two back ends are available to compute context trees:
</p>

<ul>
<li>
<p> the "R" back end represents the tree in pure R data structures (nested lists)
that be easily processed further in pure R (C++ helper functions are used
to speed up the construction).
</p>
</li>
<li>
<p> the "C++" back end represents the tree with C++ classes. This back end is
considered experimental. The tree is built with an optimised suffix tree
algorithm which speeds up the construction by at least a factor 10 in
standard settings. As the tree is kept outside of R direct reach, context
trees built with the C++ back end must be restored after a
<code>saveRDS()</code>/<code>readRDS()</code> sequence. This is done automatically by recomputing
completely the context tree.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">dts &lt;- c(0, 1, 1, 1, 0, 0, 1, 0, 1, 0)
## get all contexts of length 2
dts_ctree &lt;- ctx_tree(dts, min_size = 1, max_depth = 2)
draw(dts_ctree)
</code></pre>


</div>