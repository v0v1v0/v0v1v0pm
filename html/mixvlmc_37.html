<div class="container">

<table style="width: 100%;"><tr>
<td>draw.covlmc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Text based representation of a covlmc model</h2>

<h3>Description</h3>

<p>This function 'draws' a context tree as a text.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'covlmc'
draw(
  ct,
  control = draw_control(),
  model = c("coef", "full"),
  p_value = TRUE,
  digits = 4,
  with_state = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ct</code></td>
<td>
<p>a fitted covlmc model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>a list of low level control parameters of the text
representation. See details and <code>draw_control()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>this parameter controls the display of logistic models
associated to nodes. The default <code>model="coef"</code> represents the coefficients
of the logistic models associated to each context. <code>model="full"</code> includes
the name of the variables in the representation (see details). Setting
<code>model=NULL</code> removes the model representations. Additional parameters can
be used to tweak model representations (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_value</code></td>
<td>
<p>specifies whether the p-values of the likelihood ratio tests
conducted during the covlmc construction must be included in the
representation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>numerical parameters and p-values are represented using the
base::signif function, using the number of significant digits specified
with this parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with_state</code></td>
<td>
<p>specifies whether to display the state associated to each
dimension of the logistic model (see details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments for draw.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function uses basic "ascii art" to represent the context tree. Characters
used to represent the structure of the tree, e.g. branches, can be modified
using <code>draw_control()</code>.
</p>
<p>In addition to the structure of the context tree, <code>draw</code> can represent
information attached to the node (contexts and partial contexts). This is
controlled by additional parameters depending on the type of the context
tree.
</p>


<h3>Value</h3>

<p>the context tree (invisibly).
</p>


<h3>Tweaking model representation</h3>

<p>Model representations are affected by the following additional parameter:
</p>

<ul><li> <p><code>time_sep</code>: character(s) used to split the coefficients list by blocks
associated to time delays in the covariate inclusion into the logistic
model. The first block contains the intercept(s), the second block the
covariate values a time t-1, the third block at time t-2, etc.
</p>
</li></ul>
<h3>Variable representation</h3>

<p>When <code>model="full"</code>, the representation includes the names of the variables
used by the logistic models. Names are the one generated by the underlying
logistic model, e.g. <code>stats::glm()</code>. Numerical variable names are used as
is, while factors have levels appended. The intercept is denoted <code>(I)</code> to
save space. The time delays are represented by an underscore followed by
the time delay. For instance if the model uses the numerical covariate <code>y</code>
with two delays, it will appear as to variables <code>y_1</code> and <code>y_2</code>.
</p>


<h3>State representation</h3>

<p>When <code>model</code> is not <code>NULL</code>, the coefficients of the logistic models are
presented, organized in rows associated to states. One state is used as the
reference state and the logistic model aims at predicting the ratio of
probability between another state and the reference one (in log scale).
When <code>with_state</code> is <code>TRUE</code>, the display includes for each row of
coefficients the target state. This is useful when using e.g. <code>VGAM::vglm</code>
as unused levels of the target variable will be automatically dropped from
the model, leading to a reduce number of rows. The reference state is
either shown on the first row if <code>model</code> is <code>"full"</code> or after the state on
each row if <code>model</code> is <code>"coef"</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">pc &lt;- powerconsumption[powerconsumption$week == 5, ]
dts &lt;- cut(pc$active_power, breaks = c(0, quantile(pc$active_power, probs = c(0.5, 1))))
dts_cov &lt;- data.frame(day_night = (pc$hour &gt;= 7 &amp; pc$hour &lt;= 17))
m_cov &lt;- covlmc(dts, dts_cov, min_size = 5)
draw(m_cov, digits = 3)
draw(m_cov, model = NULL)
draw(m_cov, p_value = FALSE)
draw(m_cov, p_value = FALSE, time_sep = " | ")
draw(m_cov, model = "full", time_sep = " | ")
</code></pre>


</div>