<div class="container">

<table style="width: 100%;"><tr>
<td>find_sequence.covlmc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find the node of a sequence in a COVLMC context tree</h2>

<h3>Description</h3>

<p>This function checks whether the sequence <code>ctx</code> is represented in the context
tree of the COVLMC model <code>ct</code>. If this is the case, it returns a description
of matching node, an object of class <code>ctx_node_covlmc</code>. If the sequence is
not represented in the tree, the function return <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'covlmc'
find_sequence(ct, ctx, reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ct</code></td>
<td>
<p>a context tree.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ctx</code></td>
<td>
<p>a sequence to search in the context tree</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>specifies whether the sequence <code>ctx</code> is given the
temporal order (<code>FALSE</code>, default value) or in the reverse temporal order
(<code>TRUE</code>). See the dedicated section.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters for the find_sequence function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function looks for sequences in general. The <code>is_context()</code> function can
be used on the resulting object to test if the sequence is in addition a
proper context.
</p>


<h3>Value</h3>

<p>an object of class <code>ctx_node_covlmc</code> if the sequence <code>ctx</code> is represented
in the context tree, <code>NULL</code> when this is not the case
</p>


<h3>State order in a sequence</h3>

<p>sequence are given by default
in the temporal order and not in the "reverse" order used by many VLMC
research papers: older values are on the left. For instance, the context
<code>c(1, 0)</code> is reported if the sequence 0, then 1 appeared in the time series
used to build the context tree. In the present function, <code>reverse</code> refers
both to the order used for the <code>ctx</code> parameter and for the default order used by the resulting <code>ctx_node</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">pc &lt;- powerconsumption[powerconsumption$week == 5, ]
dts &lt;- cut(pc$active_power, breaks = c(0, quantile(pc$active_power, probs = c(0.5, 1))))
dts_cov &lt;- data.frame(day_night = (pc$hour &gt;= 7 &amp; pc$hour &lt;= 17))
m_cov &lt;- covlmc(dts, dts_cov, min_size = 10)

## not in the tree
vals &lt;- states(m_cov)
find_sequence(m_cov, c(vals[2], vals[2]))
## in the tree but not a context
node &lt;- find_sequence(m_cov, c(vals[1]))
node
is_context(node)
## in the tree and a context
node &lt;- find_sequence(m_cov, c(vals[1], vals[1]))
node
is_context(node)
model(node)
</code></pre>


</div>