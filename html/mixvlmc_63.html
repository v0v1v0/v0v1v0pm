<div class="container">

<table style="width: 100%;"><tr>
<td>metrics.covlmc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predictive quality metrics for VLMC with covariates</h2>

<h3>Description</h3>

<p>This function computes and returns predictive quality metrics for context
based models such as VLMC and VLMC with covariates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'covlmc'
metrics(model, ...)

## S3 method for class 'metrics.covlmc'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The context based model on which to compute predictive metrics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters for predictive metrics computation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A metrics.covlmc object, results of a call to <code>metrics.covlmc()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A context based model computes transition probabilities for its contexts.
Using a maximum transition probability decision rule, this can be used to
predict the new state that is the more likely to follow the current one,
given the context (see <code>predict.vlmc()</code>). The quality of these predictions is
evaluated using standard metrics including:
</p>

<ul>
<li>
<p> accuracy
</p>
</li>
<li>
<p> the full confusion matrix
</p>
</li>
<li>
<p> the area under the roc curve (AUC), considering the context based model as
a (conditional) probability estimator. We use Hand and Till (2001) multiclass
AUC in case of a state space with more than 2 states
</p>
</li>
</ul>
<h3>Value</h3>

<p>An object of class <code>metrics.covlmc</code> with the following components:
</p>

<ul>
<li> <p><code>accuracy</code>: the accuracy of the predictions
</p>
</li>
<li> <p><code>conf_mat</code>: the confusion matrix of the predictions, with predicted values
in rows and true values in columns
</p>
</li>
<li> <p><code>auc</code>: the AUC of the predictive model
</p>
</li>
</ul>
<p>The object has a print method that recalls basic information about the model
together with the values of the components above.
</p>


<h3>Methods (by generic)</h3>


<ul><li> <p><code>print(metrics.covlmc)</code>: Prints the predictive metrics of the VLMC model with covariates.
</p>
</li></ul>
<h3>Extended contexts</h3>

<p>As explained in details in <code>loglikelihood.covlmc()</code> documentation and in
the dedicated <code>vignette("likelihood", package = "mixvlmc")</code>, the first
initial values of a time series do not in general have a proper context for
a COVLMC with a non zero order. In order to predict something meaningful
for those values, we rely on the notion of extended context defined in the
documents mentioned above. This follows the same logic as using
<code>loglikelihood.covlmc()</code> with the parameter <code>initial="extended"</code>. All
covlmc functions that need to manipulate initial values with no proper
context use the same approach.
</p>


<h3>References</h3>

<p>David J. Hand and Robert J. Till (2001). "A Simple Generalisation
of the Area Under the ROC Curve for Multiple Class Classification Problems."
<em>Machine Learning</em> 45(2), p. 171â€“186. DOI: <a href="https://doi.org/10.1023/A%3A1010920819831">doi:10.1023/A:1010920819831</a>.
</p>


<h3>See Also</h3>

<p><code>metrics.vlmc()</code>, <code>metrics.ctx_node()</code>, <code>contexts.vlmc()</code>, <code>predict.vlmc()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">pc &lt;- powerconsumption[powerconsumption$week == 5, ]
breaks &lt;- c(
  0,
  median(powerconsumption$active_power, na.rm = TRUE),
  max(powerconsumption$active_power, na.rm = TRUE)
)
labels &lt;- c(0, 1)
dts &lt;- cut(pc$active_power, breaks = breaks, labels = labels)
dts_cov &lt;- data.frame(day_night = (pc$hour &gt;= 7 &amp; pc$hour &lt;= 17))
m_cov &lt;- covlmc(dts, dts_cov, min_size = 5)
metrics(m_cov)

</code></pre>


</div>