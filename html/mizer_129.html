<div class="container">

<table style="width: 100%;"><tr>
<td>matchNumbers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Match numbers to observations</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
The function adjusts the numbers of the species in the model so that their
numbers match with observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">matchNumbers(params, species = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A MizerParams object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>The species to be affected. Optional. By default all observed
numbers will be matched. A vector of species names, or a numeric vector
with the species indices, or a logical vector indicating for each species
whether it is to be affected (TRUE) or not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function works by multiplying for each species the number density
at all sizes by the same factor. This will of course not give a steady
state solution, even if the initial number densities were at steady state.
So after using this function you may want to use <code>steady()</code> to run the model
to steady state, after which of course the numbers will no longer match
exactly. You could then iterate this process. This is described in the
blog post at https://bit.ly/2YqXESV.
</p>
<p>Before you can use this function you will need to have added a
<code>number_observed</code> column to your model which gives the observed number in
grams.  For species for which you have no observed number, you should set
the value in the <code>number_observed</code> column to 0 or NA.
</p>
<p>Number observations usually only include individuals above a certain size.
This size should be specified in a <code>number_cutoff</code> column of the species
parameter data frame. If this is missing, it is assumed that all sizes are
included in the observed number, i.e., it includes larval number.
</p>


<h3>Value</h3>

<p>A MizerParams object
</p>


<h3>Examples</h3>

<pre><code class="language-R">params &lt;- NS_params
species_params(params)$number_observed &lt;-
    c(0.8, 61, 12, 35, 1.6, 20, 10, 7.6, 135, 60, 30, 78)
species_params(params)$number_cutoff &lt;- 10
params &lt;- calibrateNumber(params)
params &lt;- matchNumbers(params)
</code></pre>


</div>