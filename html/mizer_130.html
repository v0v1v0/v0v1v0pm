<div class="container">

<table style="width: 100%;"><tr>
<td>matchYields</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Match yields to observations</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a>
This function has been deprecated and will be removed in the future unless
you have a use case for it. If you do have a use case for it, please let the
developers know by creating an issue at
<a href="https://github.com/sizespectrum/mizer/issues">https://github.com/sizespectrum/mizer/issues</a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">matchYields(params, species = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>params</code></td>
<td>
<p>A MizerParams object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>The species to be affected. Optional. By default all observed
yields will be matched. A vector of species names, or a numeric vector
with the species indices, or a logical vector indicating for each species
whether it is to be affected (TRUE) or not.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If you want to match the yields to observations, you should use the
matchYield() function from the mizerExperimental package instead, which
adjusts the catchability to match the yield rather than by adjusting the
biomass.
</p>
<p>The function adjusts the abundances of the species in the model so that their
yearly yields under the given fishing mortalities match with observations.
</p>
<p>The function works by multiplying for each species the abundance density
at all sizes by the same factor. This will of course not give a steady
state solution, even if the initial abundance densities were at steady state.
So after using this function you may want to use <code>steady()</code> to run the model
to steady state, after which of course the yields will no longer match
exactly. You could then iterate this process. This is described in the
blog post at https://bit.ly/2YqXESV.
</p>
<p>Before you can use this function you will need to have added a
<code>yield_observed</code> column to your model which gives the observed yields in
grams per year.  For species for which you have no observed biomass, you
should set the value in the <code>yield_observed</code> column to 0 or NA.
</p>


<h3>Value</h3>

<p>A MizerParams object
</p>


<h3>Examples</h3>

<pre><code class="language-R">params &lt;- NS_params
species_params(params)$yield_observed &lt;- 
    c(0.8, 61, 12, 35, 1.6, 20, 10, 7.6, 135, 60, 30, 78)
gear_params(params)$catchability &lt;-
    c(1.3, 0.065, 0.31, 0.18, 0.98, 0.24, 0.37, 0.46, 0.18, 0.30, 0.27, 0.39)
params &lt;- calibrateYield(params)
params &lt;- matchYields(params)
plotYieldObservedVsModel(params)
</code></pre>


</div>