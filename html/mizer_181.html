<div class="container">

<table style="width: 100%;"><tr>
<td>plotFeedingLevel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the feeding level of species by size</h2>

<h3>Description</h3>

<p>After running a projection, plot the feeding level of each species by size.
The feeding level is averaged over the specified time range (a single value
for the time range can be used).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotFeedingLevel(
  object,
  species = NULL,
  time_range,
  highlight = NULL,
  all.sizes = FALSE,
  include_critical = FALSE,
  return_data = FALSE,
  ...
)

plotlyFeedingLevel(
  object,
  species = NULL,
  time_range,
  highlight = NULL,
  include_critical,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class MizerSim or
MizerParams.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>The species to be selected. Optional. By default all target
species are selected. A vector of species names, or a
numeric vector with the species indices, or a logical vector indicating for
each species whether it is to be selected (TRUE) or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_range</code></td>
<td>
<p>The time range (either a vector of values, a vector of min
and max time, or a single value) to average the abundances over. Default is
the final time step. Ignored when called with a MizerParams
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight</code></td>
<td>
<p>Name or vector of names of the species to be highlighted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all.sizes</code></td>
<td>
<p>If TRUE, then feeding level is plotted also for sizes
outside a species' size range. Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_critical</code></td>
<td>
<p>If TRUE, then the critical feeding level is also
plotted. Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_data</code></td>
<td>
<p>A boolean value that determines whether the formatted data
used for the plot is returned instead of the plot itself. Default value is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments (currently unused)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When called with a MizerSim object, the feeding level is averaged
over the specified time range (a single value for the time range can be used
to plot a single time step). When called with a MizerParams
object the initial feeding level is plotted.
</p>
<p>If <code>include_critical = TRUE</code> then the critical feeding level (the feeding
level at which the intake just covers the metabolic cost) is also plotted,
with a thinner line. This line should always stay below the line of the
actual feeding level, because the species would stop growing at any point
where the feeding level drops to the critical feeding level.
</p>


<h3>Value</h3>

<p>A ggplot2 object, unless <code>return_data = TRUE</code>, in which case a data
frame with the variables 'w', 'value' and 'Species' is returned. If also
<code>include_critical = TRUE</code> then the data frame contains a fourth variable
'Type' that distinguishes between 'actual' and 'critical' feeding level.
</p>


<h3>See Also</h3>

<p>plotting_functions, <code>getFeedingLevel()</code>
</p>
<p>Other plotting functions: 
<code>animateSpectra()</code>,
<code>plot,MizerSim,missing-method</code>,
<code>plotBiomass()</code>,
<code>plotDiet()</code>,
<code>plotFMort()</code>,
<code>plotGrowthCurves()</code>,
<code>plotPredMort()</code>,
<code>plotSpectra()</code>,
<code>plotYield()</code>,
<code>plotYieldGear()</code>,
<code>plotting_functions</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
params &lt;-  NS_params
sim &lt;- project(params, effort=1, t_max=20, t_save = 2, progress_bar = FALSE)
plotFeedingLevel(sim)
plotFeedingLevel(sim, time_range = 10:20, species = c("Cod", "Herring"),
                 include_critical = TRUE)

# Returning the data frame
fr &lt;- plotFeedingLevel(sim, return_data = TRUE)
str(fr)

</code></pre>


</div>