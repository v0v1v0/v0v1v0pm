<div class="container">

<table style="width: 100%;"><tr>
<td>performance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>performance</h2>

<h3>Description</h3>

<p>Calculate performance measures from the predictions results.
</p>


<h3>Usage</h3>

<pre><code class="language-R">performance(object, prediction_results, y_ground_truth, type = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An R6 object of class <code>"MLCrossValidation"</code> for which the
performance should be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prediction_results</code></td>
<td>
<p>An object of class <code>"mlexPredictions"</code> (the output
of the function <code>predictions()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_ground_truth</code></td>
<td>
<p>A vector with the ground truth of the predicted data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A character to select a pre-defined set of metrics for "binary"
and "regression" tasks. If not specified (default: <code>NULL</code>), the metrics
that were specified during fitting the <code>object</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>A list. Further arguments required to compute the performance
metrics.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The performance metric has to be specified in the <code>object</code> that is used to
carry out the experiment, i.e., MLCrossValidation or
MLNestedCV.
Please note that the option <code>return_models = TRUE</code> must be set in the
experiment class in order to be able to compute the predictions, which are
required to conduct the calculation of the performance.
</p>


<h3>Value</h3>

<p>The function returns a data.table with the computed performance
metric of each fold.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dataset &lt;- do.call(
  cbind,
  c(sapply(paste0("col", 1:6), function(x) {
    rnorm(n = 500)
    },
    USE.NAMES = TRUE,
    simplify = FALSE
   ),
   list(target = sample(0:1, 500, TRUE))
))

fold_list &lt;- splitTools::create_folds(
  y = dataset[, 7],
  k = 3,
  type = "stratified",
  seed = 123
)

glm_optimization &lt;- mlexperiments::MLCrossValidation$new(
  learner = LearnerGlm$new(),
  fold_list = fold_list,
  seed = 123
)

glm_optimization$learner_args &lt;- list(family = binomial(link = "logit"))
glm_optimization$predict_args &lt;- list(type = "response")
glm_optimization$performance_metric_args &lt;- list(positive = "1")
glm_optimization$performance_metric &lt;- list(
  auc = metric("auc"), sensitivity = metric("sensitivity"),
  specificity = metric("specificity")
)
glm_optimization$return_models &lt;- TRUE

# set data
glm_optimization$set_data(
  x = data.matrix(dataset[, -7]),
  y = dataset[, 7]
)

cv_results &lt;- glm_optimization$execute()

# predictions
preds &lt;- mlexperiments::predictions(
  object = glm_optimization,
  newdata = data.matrix(dataset[, -7]),
  na.rm = FALSE,
  ncores = 2L,
  type = "response"
)

# performance
mlexperiments::performance(
  object = glm_optimization,
  prediction_results = preds,
  y_ground_truth = dataset[, 7],
  positive = "1"
)

# performance - binary
mlexperiments::performance(
  object = glm_optimization,
  prediction_results = preds,
  y_ground_truth = dataset[, 7],
  type = "binary",
  positive = "1"
)

</code></pre>


</div>