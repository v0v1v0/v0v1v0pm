<div class="container">

<table style="width: 100%;"><tr>
<td>predictions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>predictions</h2>

<h3>Description</h3>

<p>Apply an R6 object of class <code>"MLCrossValidation"</code> to new data
to compute predictions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">predictions(object, newdata, na.rm = FALSE, ncores = -1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An R6 object of class <code>"MLCrossValidation"</code> for which the
predictions should be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>The new data for which predictions should be made using
the <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical. If missings should be removed before computing the
mean and standard deviation of the performance across different folds for
each observation in <code>newdata</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>An integer to specify the number of cores used for
parallelization (default: <code>-1L</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>A list. Further arguments required to compute the predictions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function returns a data.table of class <code>"mlexPredictions"</code>with
one row for each observation in <code>newdata</code> and the columns containing
the predictions for each fold, along with the mean and standard deviation
across all folds.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dataset &lt;- do.call(
  cbind,
  c(sapply(paste0("col", 1:6), function(x) {
    rnorm(n = 500)
    },
    USE.NAMES = TRUE,
    simplify = FALSE
   ),
   list(target = sample(0:1, 500, TRUE))
))

fold_list &lt;- splitTools::create_folds(
  y = dataset[, 7],
  k = 3,
  type = "stratified",
  seed = 123
)

glm_optimization &lt;- mlexperiments::MLCrossValidation$new(
  learner = LearnerGlm$new(),
  fold_list = fold_list,
  seed = 123
)

glm_optimization$learner_args &lt;- list(family = binomial(link = "logit"))
glm_optimization$predict_args &lt;- list(type = "response")
glm_optimization$performance_metric_args &lt;- list(positive = "1")
glm_optimization$performance_metric &lt;- metric("auc")
glm_optimization$return_models &lt;- TRUE

# set data
glm_optimization$set_data(
  x = data.matrix(dataset[, -7]),
  y = dataset[, 7]
)

cv_results &lt;- glm_optimization$execute()

# predictions
preds &lt;- mlexperiments::predictions(
  object = glm_optimization,
  newdata = data.matrix(dataset[, -7]),
  na.rm = FALSE,
  ncores = 2L,
  type = "response"
)
head(preds)

</code></pre>


</div>