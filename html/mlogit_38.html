<div class="container">

<table style="width: 100%;"><tr>
<td>logsum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the log-sum or inclusive value/utility</h2>

<h3>Description</h3>

<p>The <code>logsum</code> function computes the inclusive value, or inclusive
utility, which is used to compute the surplus and to estimate the two steps
nested logit model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">logsum(
  coef,
  X = NULL,
  formula = NULL,
  data = NULL,
  type = NULL,
  output = c("chid", "obs")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>a numerical vector or a <code>mlogit</code> object, from which the
<code>coef</code> vector is extracted,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a matrix or a <code>mlogit</code> object from which the
<code>model.matrix</code> is extracted,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula or a <code>mlogit</code> object from which the
<code>formula</code> is extracted,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a <code>data.frame</code> or a <code>mlogit</code> object from which the
<code>model.frame</code> is extracted,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>either <code>"group"</code> or <code>"global"</code> : if a <code>group</code>
argument has been provided in the <code>mlogit.data</code>, the inclusive values
are by default computed for every group, otherwise, a unique global
inclusive value is computed for each choice situation,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>the shape of the results: if <code>"chid"</code>, the results is a
vector (if <code>type = "global"</code>) or a matrix (if <code>type = "region"</code>)
with row number equal to the number of choice situation, if <code>"obs"</code> a
vector of length equal to the number of lines of the data in long format is
returned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The inclusive value, or inclusive utility, or log-sum is the log of the
denominator of the probabilities of the multinomial logit model. If a
<code>"group"</code> variable is provided in the <code>"mlogit.data"</code> function,
the denominator can either be the one of the multinomial model or those of
the lower model of the nested logit model.
</p>
<p>If only one argument (<code>coef</code>) is provided, it should a <code>mlogit</code>
object and in this case, the <code>coefficients</code> and the <code>model.matrix</code>
are extracted from this model.
</p>
<p>In order to provide a different <code>model.matrix</code>, further arguments could
be used. <code>X</code> is a <code>matrix</code> or a <code>mlogit</code> from which the
<code>model.matrix</code> is extracted. The <code>formula</code>-<code>data</code> interface
can also be used to construct the relevant <code>model.matrix</code>.
</p>


<h3>Value</h3>

<p>either a vector or a matrix.
</p>


<h3>Author(s)</h3>

<p>Yves Croissant
</p>


<h3>See Also</h3>

<p><code>mlogit()</code> for the estimation of a multinomial logit
model.
</p>


</div>