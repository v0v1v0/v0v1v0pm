<div class="container">

<table style="width: 100%;"><tr>
<td>EMQ</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expectation-Maximization Quantification</h2>

<h3>Description</h3>

<p>This method is an instance of the well-known algorithm for finding maximum-likelihood
estimates of the model's parameters. It quantifies events based on testing scores,
applying the Expectation Maximization for Quantification (EMQ) method proposed by
Saerens et al. (2002).
</p>


<h3>Usage</h3>

<pre><code class="language-R">EMQ(train, test, it=5, e=1e-4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>train</code></td>
<td>
<p>a <code>data.frame</code> of the labeled set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>a numeric <code>matrix</code> of scores predicted from each test set instance.
First column must be the positive score.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>it</code></td>
<td>
<p>maximum number of iteration steps (default <code>5</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>a numeric value for the stop threshold (default <code>1e-4</code>). If the
difference between two consecutive steps is lower or equal than <code>e</code>, the
iterative process will be stopped. If <code>e</code> is null then the iteration
phase is defined by the <code>it</code> parameter.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A numeric vector containing the class distribution estimated from the test set.
</p>


<h3>References</h3>

<p>Saerens, M., Latinne, P., &amp; Decaestecker, C. (2002). Adjusting
the outputs of a classifier to new a priori probabilities: a simple procedure.
Neural computation.&lt;doi.org/10.1162/089976602753284446&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(randomForest)
library(caret)
cv &lt;- createFolds(aeAegypti$class, 2)
tr &lt;- aeAegypti[cv$Fold1,]
ts &lt;- aeAegypti[cv$Fold2,]

# -- Getting a sample from ts with 80 positive and 20 negative instances --
ts_sample &lt;- rbind(ts[sample(which(ts$class==1),80),],
                   ts[sample(which(ts$class==2),20),])
scorer &lt;- randomForest(class~., data=tr, ntree=500)
test.scores &lt;- predict(scorer, ts_sample, type = c("prob"))
EMQ(train=tr, test=test.scores)
</code></pre>


</div>