<div class="container">

<table style="width: 100%;"><tr>
<td>set_threads</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set the Number of Threads</h2>

<h3>Description</h3>

<p>Control the parallelism via threading while calling external packages from <a href="https://CRAN.R-project.org/package=mlr3"><span class="pkg">mlr3</span></a>.
</p>
<p>For example, the random forest implementation in package <a href="https://CRAN.R-project.org/package=ranger"><span class="pkg">ranger</span></a> (connected
via <a href="https://CRAN.R-project.org/package=mlr3learners"><span class="pkg">mlr3learners</span></a>) supports threading via OpenMP.
The number of threads to use can be set via hyperparameter <code>num.threads</code>, and
defaults to 1. By calling <code>set_threads(x, 4)</code> with <code>x</code> being a ranger learner, the
hyperparameter is changed so that 4 cores are used.
</p>
<p>If the object <code>x</code> does not support threading, <code>x</code> is returned as-is.
If applied to a list, recurses through all list elements.
</p>
<p>Note that threading is incompatible with other parallelization techniques such as forking
via the future::plan future::multicore. For this reason all learners connected to <a href="https://CRAN.R-project.org/package=mlr3"><span class="pkg">mlr3</span></a>
have threading disabled in their defaults.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_threads(x, n = availableCores(), ...)

## Default S3 method:
set_threads(x, n = availableCores(), ...)

## S3 method for class 'R6'
set_threads(x, n = availableCores(), ...)

## S3 method for class 'list'
set_threads(x, n = availableCores(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(any)<br>
Object to set threads for, e.g. a Learner.
This object is modified in-place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>(<code>integer(1)</code>)<br>
Number of threads to use. Defaults to <code>parallelly::availableCores()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(any)<br>
Additional arguments.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Same object as input <code>x</code> (changed in-place),
with possibly updated parameter values.
</p>


</div>