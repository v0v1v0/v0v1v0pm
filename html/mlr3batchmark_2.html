<div class="container">

<table style="width: 100%;"><tr>
<td>batchmark</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Benchmark Experiments on Batch Systems</h2>

<h3>Description</h3>

<p>This function provides the functionality to leave the interface of <a href="https://CRAN.R-project.org/package=mlr3"><span class="pkg">mlr3</span></a> for the computation
of benchmark experiments and switch over to <a href="https://CRAN.R-project.org/package=batchtools"><span class="pkg">batchtools</span></a> for a more fine grained control over
the execution.
</p>
<p><code>batchmark()</code> populates a batchtools::ExperimentRegistry with jobs in a <code>mlr3::benchmark()</code> fashion.
Each combination of mlr3::Task and mlr3::Resampling defines a batchtools::Problem,
each mlr3::Learner is an batchtools::Algorithm.
</p>
<p>After the jobs have been submitted and are terminated, results can be collected with <code>reduceResultsBatchmark()</code>
which returns a mlr3::BenchmarkResult and thus to return to the interface of <a href="https://CRAN.R-project.org/package=mlr3"><span class="pkg">mlr3</span></a>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">batchmark(design, store_models = FALSE, reg = batchtools::getDefaultRegistry())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>(<code>data.frame()</code>)<br>
Data frame (or <code>data.table::data.table()</code>) with three columns: "task", "learner", and "resampling".
Each row defines a resampling by providing a Task, Learner and an instantiated Resampling strategy.
The helper function <code>benchmark_grid()</code> can assist in generating an exhaustive design (see examples) and
instantiate the Resamplings per Task.
Additionally, you can set the additional column 'param_values', see <code>benchmark_grid()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store_models</code></td>
<td>
<p>(<code>logical(1)</code>)<br>
Store the fitted model in the resulting object=
Set to <code>TRUE</code> if you want to further analyse the models or want to
extract information like variable importance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reg</code></td>
<td>
<p>batchtools::ExperimentRegistry.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>data.table()</code> with ids of created jobs (invisibly).
</p>


<h3>Examples</h3>

<pre><code class="language-R">tasks = list(mlr3::tsk("iris"), mlr3::tsk("sonar"))
learners = list(mlr3::lrn("classif.featureless"), mlr3::lrn("classif.rpart"))
resamplings = list(mlr3::rsmp("cv", folds = 3), mlr3::rsmp("holdout"))

design = mlr3::benchmark_grid(
  tasks = tasks,
  learners = learners,
  resamplings = resamplings
)

reg = batchtools::makeExperimentRegistry(NA)
batchmark(design, reg = reg)
batchtools::submitJobs(reg = reg)

reduceResultsBatchmark(reg = reg)
</code></pre>


</div>