<div class="container">

<table style="width: 100%;"><tr>
<td>fselect_nested</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function for Nested Resampling</h2>

<h3>Description</h3>

<p>Function to conduct nested resampling.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fselect_nested(
  fselector,
  task,
  learner,
  inner_resampling,
  outer_resampling,
  measure = NULL,
  term_evals = NULL,
  term_time = NULL,
  terminator = NULL,
  store_fselect_instance = TRUE,
  store_benchmark_result = TRUE,
  store_models = FALSE,
  check_values = FALSE,
  callbacks = NULL,
  ties_method = "least_features"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fselector</code></td>
<td>
<p>(FSelector)<br>
Optimization algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task</code></td>
<td>
<p>(mlr3::Task)<br>
Task to operate on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>learner</code></td>
<td>
<p>(mlr3::Learner)<br>
Learner to optimize the feature subset for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner_resampling</code></td>
<td>
<p>(mlr3::Resampling)<br>
Resampling used for the inner loop.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer_resampling</code></td>
<td>
<p>mlr3::Resampling)<br>
Resampling used for the outer loop.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>(mlr3::Measure)<br>
Measure to optimize. If <code>NULL</code>, default measure is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term_evals</code></td>
<td>
<p>(<code>integer(1)</code>)<br>
Number of allowed evaluations.
Ignored if <code>terminator</code> is passed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term_time</code></td>
<td>
<p>(<code>integer(1)</code>)<br>
Maximum allowed time in seconds.
Ignored if <code>terminator</code> is passed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>terminator</code></td>
<td>
<p>(bbotk::Terminator)<br>
Stop criterion of the feature selection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store_fselect_instance</code></td>
<td>
<p>(<code>logical(1)</code>)<br>
If <code>TRUE</code> (default), stores the internally created FSelectInstanceBatchSingleCrit with all intermediate results in slot <code style="white-space: pre;">⁠$fselect_instance⁠</code>.
Is set to <code>TRUE</code>, if <code>store_models = TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store_benchmark_result</code></td>
<td>
<p>(<code>logical(1)</code>)<br>
Store benchmark result in archive?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store_models</code></td>
<td>
<p>(<code>logical(1)</code>).
Store models in benchmark result?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_values</code></td>
<td>
<p>(<code>logical(1)</code>)<br>
Check the parameters before the evaluation and the results for
validity?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callbacks</code></td>
<td>
<p>(list of CallbackBatchFSelect)<br>
List of callbacks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties_method</code></td>
<td>
<p>(<code>character(1)</code>)<br>
The method to break ties when selecting sets while optimizing and when selecting the best set.
Can be <code>"least_features"</code> or <code>"random"</code>.
The option <code>"least_features"</code> (default) selects the feature set with the least features.
If there are multiple best feature sets with the same number of features, one is selected randomly.
The <code>random</code> method returns a random feature set from the best feature sets.
Ignored if multiple measures are used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>mlr3::ResampleResult
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Nested resampling on Palmer Penguins data set
rr = fselect_nested(
  fselector = fs("random_search"),
  task = tsk("penguins"),
  learner = lrn("classif.rpart"),
  inner_resampling = rsmp ("holdout"),
  outer_resampling = rsmp("cv", folds = 2),
  measure = msr("classif.ce"),
  term_evals = 4)

# Performance scores estimated on the outer resampling
rr$score()

# Unbiased performance of the final model trained on the full data set
rr$aggregate()
</code></pre>


</div>