<div class="container">

<table style="width: 100%;"><tr>
<td>mlr_acqfunctions_ehvi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Acquisition Function Expected Hypervolume Improvement</h2>

<h3>Description</h3>

<p>Exact Expected Hypervolume Improvement.
Calculates the exact expected hypervolume improvement in the case of two objectives.
In the case of optimizing more than two objective functions, AcqFunctionEHVIGH can be used.
See Emmerich et al. (2016) for details.
</p>


<h3>Super classes</h3>

<p><code>bbotk::Objective</code> -&gt; <code>mlr3mbo::AcqFunction</code> -&gt; <code>AcqFunctionEHVI</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>ys_front</code></dt>
<dd>
<p>(<code>matrix()</code>)<br>
Approximated Pareto front. Sorted by the first objective.
Signs are corrected with respect to assuming minimization of objectives.</p>
</dd>
<dt><code>ref_point</code></dt>
<dd>
<p>(<code>numeric()</code>)<br>
Reference point.
Signs are corrected with respect to assuming minimization of objectives.</p>
</dd>
<dt><code>ys_front_augmented</code></dt>
<dd>
<p>(<code>matrix()</code>)<br>
Augmented approximated Pareto front. Sorted by the first objective.
Signs are corrected with respect to assuming minimization of objectives.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AcqFunctionEHVI-new"><code>AcqFunctionEHVI$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AcqFunctionEHVI-update"><code>AcqFunctionEHVI$update()</code></a>
</p>
</li>
<li> <p><a href="#method-AcqFunctionEHVI-clone"><code>AcqFunctionEHVI$clone()</code></a>
</p>
</li>
</ul>
<details><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Objective" data-id="eval"><a href="../../bbotk/html/Objective.html#method-Objective-eval"><code>bbotk::Objective$eval()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Objective" data-id="format"><a href="../../bbotk/html/Objective.html#method-Objective-format"><code>bbotk::Objective$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Objective" data-id="help"><a href="../../bbotk/html/Objective.html#method-Objective-help"><code>bbotk::Objective$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bbotk" data-topic="Objective" data-id="print"><a href="../../bbotk/html/Objective.html#method-Objective-print"><code>bbotk::Objective$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3mbo" data-topic="AcqFunction" data-id="eval_dt"><a href="../../mlr3mbo/html/AcqFunction.html#method-AcqFunction-eval_dt"><code>mlr3mbo::AcqFunction$eval_dt()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3mbo" data-topic="AcqFunction" data-id="eval_many"><a href="../../mlr3mbo/html/AcqFunction.html#method-AcqFunction-eval_many"><code>mlr3mbo::AcqFunction$eval_many()</code></a></span></li>
</ul></details><hr>
<a id="method-AcqFunctionEHVI-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates a new instance of this R6 class.
</p>


<h5>Usage</h5>

<div class="r"><pre>AcqFunctionEHVI$new(surrogate = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>surrogate</code></dt>
<dd>
<p>(<code>NULL</code> | SurrogateLearnerCollection).</p>
</dd>
</dl>
</div>


<hr>
<a id="method-AcqFunctionEHVI-update"></a>



<h4>Method <code>update()</code>
</h4>

<p>Update the acquisition function and set <code>ys_front</code> and <code>ref_point</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>AcqFunctionEHVI$update()</pre></div>


<hr>
<a id="method-AcqFunctionEHVI-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AcqFunctionEHVI$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>


<ul><li>
<p> Emmerich, Michael, Yang, Kaifeng, Deutz, André, Wang, Hao, Fonseca, M. C (2016).
“A Multicriteria Generalization of Bayesian Global Optimization.”
In Pardalos, M. P, Zhigljavsky, Anatoly, Žilinskas, Julius (eds.), <em>Advances in Stochastic and Deterministic Global Optimization</em>, 229–242.
Springer International Publishing, Cham.
</p>
</li></ul>
<h3>See Also</h3>

<p>Other Acquisition Function: 
<code>AcqFunction</code>,
<code>mlr_acqfunctions</code>,
<code>mlr_acqfunctions_aei</code>,
<code>mlr_acqfunctions_cb</code>,
<code>mlr_acqfunctions_ehvigh</code>,
<code>mlr_acqfunctions_ei</code>,
<code>mlr_acqfunctions_eips</code>,
<code>mlr_acqfunctions_mean</code>,
<code>mlr_acqfunctions_multi</code>,
<code>mlr_acqfunctions_pi</code>,
<code>mlr_acqfunctions_sd</code>,
<code>mlr_acqfunctions_smsego</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("mlr3learners") &amp;
    requireNamespace("DiceKriging") &amp;
    requireNamespace("rgenoud")) {
  library(bbotk)
  library(paradox)
  library(mlr3learners)
  library(data.table)

  fun = function(xs) {
    list(y1 = xs$x^2, y2 = (xs$x - 2) ^ 2)
  }
  domain = ps(x = p_dbl(lower = -10, upper = 10))
  codomain = ps(y1 = p_dbl(tags = "minimize"), y2 = p_dbl(tags = "minimize"))
  objective = ObjectiveRFun$new(fun = fun, domain = domain, codomain = codomain)

  instance = OptimInstanceBatchMultiCrit$new(
    objective = objective,
    terminator = trm("evals", n_evals = 5))

  instance$eval_batch(data.table(x = c(-6, -5, 3, 9)))

  learner = default_gp()

  surrogate = srlrn(list(learner, learner$clone(deep = TRUE)), archive = instance$archive)

  acq_function = acqf("ehvi", surrogate = surrogate)

  acq_function$surrogate$update()
  acq_function$update()
  acq_function$eval_dt(data.table(x = c(-1, 0, 1)))
}
</code></pre>


</div>