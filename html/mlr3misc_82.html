<div class="container">

<table style="width: 100%;"><tr>
<td>leanify_r6</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Move all methods of an R6 Class to an environment</h2>

<h3>Description</h3>

<p><code>leanify_r6</code> moves the content of an <code>R6::R6Class</code>'s functions to an environment,
usually the package's namespace, to save space during serialization of R6 objects.
<code>leanify_package</code> move all methods of <em>all</em> R6 Classes to an environment.
</p>
<p>The function in the class (i.e. the object generator) is replaced by a stump
function that does nothing except calling the original function that now resides
somewhere else.
</p>
<p>It is possible to call this function after the definition of an R6::R6
class inside a package, but it is preferred to use <code>leanify_package()</code>
to just leanify all R6::R6 classes inside a package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">leanify_r6(cls, env = cls$parent_env)

leanify_package(pkg_env = parent.frame(), skip_if = function(x) FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cls</code></td>
<td>
<p>(R6::R6Class)<br>
Class generator to modify.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>(<code>environment</code>)<br>
The target environment where the function should be stored.
This should be either <code>cls$parent_env</code> (default) or one of its
parent environments, otherwise the stump function will not find the moved
(original code) function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pkg_env</code></td>
<td>
<p>:: <code>environment</code><br>
The namespace from which to leanify all R6 classes. Does not have to be a
package namespace, but this is the intended usecase.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_if</code></td>
<td>
<p>:: <code>function</code><br>
Function with one argument: Is called for each individual <code>R6::R6Class</code>.
If it returns <code>TRUE</code>, the class is skipped. Default function evaluating to <code>FALSE</code>
always (i.e. skipping no classes).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>NULL</code>.
</p>


</div>