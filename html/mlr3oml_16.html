<div class="container">

<table style="width: 100%;"><tr>
<td>oml_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interface to OpenML Data Sets</h2>

<h3>Description</h3>

<p>This is the class for data sets served on <a href="https://www.openml.org/search?type=data&amp;status=active">OpenML</a>.
This object can also be constructed using the sugar function <code>odt()</code>.
</p>


<h3>mlr3 Integration</h3>


<ul>
<li>
<p> A mlr3::Task can be obtained by calling <code>mlr3::as_task()</code>.
The target column must either be the default target (this is the default behaviour) or one of <code style="white-space: pre;">⁠$feature_names⁠</code>.
In case the target is specified to be one of <code style="white-space: pre;">⁠$feature_names⁠</code>, the default target is added to the features
of the task.
</p>
</li>
<li>
<p> A mlr3::DataBackend can be obtained by calling <code>mlr3::as_data_backend()</code>. Depending on the
selected file-type, the returned backend is a mlr3::DataBackendDataTable (arff) or
mlr3db::DataBackendDuckDB (parquet).
Note that a converted backend can contain columns beyond the target and the features (id column or ignore columns).
</p>
</li>
</ul>
<h3>Name conversion</h3>

<p>Column names that don't comply with R's naming scheme are renamed (see <code>base::make.names()</code>).
This means that the names can differ from those on OpenML.
</p>


<h3>File Format</h3>

<p>The datasets stored on OpenML are either stored as (sparse) ARFF or parquet.
When creating a new <code>OMLData</code> object, the constructor argument <code>parquet</code> allows to switch
between arff and parquet. Note that not necessarily all data files are available as parquet.
The option <code>mlr3oml.parquet</code> can be used to set a default.
If <code>parquet</code> is <code>TRUE</code> but not available, <code>"arff"</code> will be used as a fallback.
</p>


<h3>ARFF Files</h3>

<p>This package comes with an own reader for ARFF files, based on <code>data.table::fread()</code>.
For sparse ARFF files and if the <a href="https://CRAN.R-project.org/package=RWeka"><span class="pkg">RWeka</span></a> package is installed, the reader
automatically falls back to the implementation in (<code>RWeka::read.arff()</code>).
</p>


<h3>Parquet Files</h3>

<p>For the handling of parquet files, we rely on <a href="https://CRAN.R-project.org/package=duckdb"><span class="pkg">duckdb</span></a> and <a href="https://CRAN.R-project.org/package=DBI"><span class="pkg">DBI</span></a>.
</p>


<h3>Super class</h3>

<p><code>mlr3oml::OMLObject</code> -&gt; <code>OMLData</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>qualities</code></dt>
<dd>
<p>(<code>data.table()</code>)<br>
Data set qualities (performance values), downloaded from the JSON API response and
converted to a <code>data.table::data.table()</code> with columns <code>"name"</code> and <code>"value"</code>.</p>
</dd>
<dt><code>tags</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Returns all tags of the object.</p>
</dd>
<dt><code>parquet</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br>
Whether to use parquet.</p>
</dd>
<dt><code>data</code></dt>
<dd>
<p>(<code>data.table()</code>)<br>
Returns the data (without the row identifier and ignore id columns).</p>
</dd>
<dt><code>features</code></dt>
<dd>
<p>(<code>data.table()</code>)<br>
Information about data set features (including target), downloaded from the JSON API response and
converted to a <code>data.table::data.table()</code> with columns:
</p>

<ul>
<li> <p><code>"index"</code> (<code>integer()</code>): Column position.
</p>
</li>
<li> <p><code>"name"</code> (<code>character()</code>): Name of the feature.
</p>
</li>
<li> <p><code>"data_type"</code> (<code>factor()</code>): Type of the feature: <code>"nominal"</code> or <code>"numeric"</code>.
</p>
</li>
<li> <p><code>"nominal_value"</code> (<code>list()</code>): Levels of the feature, or <code>NULL</code> for numeric features.
</p>
</li>
<li> <p><code>"is_target"</code> (<code>logical()</code>): <code>TRUE</code> for target column, <code>FALSE</code> otherwise.
</p>
</li>
<li> <p><code>"is_ignore"</code> (<code>logical()</code>): <code>TRUE</code> if this feature should be ignored.
Ignored features are removed automatically from the data set.
</p>
</li>
<li> <p><code>"is_row_identifier"</code> (<code>logical()</code>): <code>TRUE</code> if the column encodes a row identifier.
Row identifiers are removed automatically from the data set.
</p>
</li>
<li> <p><code>"number_of_missing_values"</code> (<code>integer()</code>): Number of missing values in the column.
</p>
</li>
</ul>
</dd>
<dt><code>target_names</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Name of the default target, as extracted from the OpenML data set description.</p>
</dd>
<dt><code>feature_names</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Name of the features, as extracted from the OpenML data set description.</p>
</dd>
<dt><code>nrow</code></dt>
<dd>
<p>(<code>integer()</code>)<br>
Number of observations, as extracted from the OpenML data set qualities.</p>
</dd>
<dt><code>ncol</code></dt>
<dd>
<p>(<code>integer()</code>)<br>
Number of features (including targets), as extracted from the table of data set features.
This excludes row identifiers and ignored columns.</p>
</dd>
<dt><code>license</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Returns all license of the dataset.</p>
</dd>
<dt><code>parquet_path</code></dt>
<dd>
<p>(<code>character()</code>)<br>
Downloads the parquet file (or loads from cache) and returns the path of the parquet file.
Note that this also normalizes the names of the parquet file.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-OMLData-new"><code>OMLData$new()</code></a>
</p>
</li>
<li> <p><a href="#method-OMLData-print"><code>OMLData$print()</code></a>
</p>
</li>
<li> <p><a href="#method-OMLData-download"><code>OMLData$download()</code></a>
</p>
</li>
<li> <p><a href="#method-OMLData-quality"><code>OMLData$quality()</code></a>
</p>
</li>
<li> <p><a href="#method-OMLData-clone"><code>OMLData$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="mlr3oml" data-topic="OMLObject" data-id="help"><a href="../../mlr3oml/html/OMLObject.html#method-OMLObject-help"><code>mlr3oml::OMLObject$help()</code></a></span></li>
</ul></details><hr>
<a id="method-OMLData-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates a new instance of this R6 class.
</p>


<h5>Usage</h5>

<div class="r"><pre>OMLData$new(
  id,
  parquet = parquet_default(),
  test_server = test_server_default()
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt>
<dd>
<p>(<code>integer(1)</code>)<br>
OpenML id for the object.</p>
</dd>
<dt><code>parquet</code></dt>
<dd>
<p>(<code>logical(1)</code>)<br>
Whether to use parquet instead of arff.
If parquet is not available, it will fall back to arff.
Defaults to value of option <code>"mlr3oml.parquet"</code> or <code>FALSE</code> if not set.</p>
</dd>
<dt><code>test_server</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Whether to use the OpenML test server or public server.
Defaults to value of option <code>"mlr3oml.test_server"</code>, or <code>FALSE</code> if not set.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-OMLData-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Prints the object.
For a more detailed printer, convert to a mlr3::Task via <code>as_task()</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>OMLData$print()</pre></div>


<hr>
<a id="method-OMLData-download"></a>



<h4>Method <code>download()</code>
</h4>

<p>Downloads the whole object for offline usage.
</p>


<h5>Usage</h5>

<div class="r"><pre>OMLData$download()</pre></div>


<hr>
<a id="method-OMLData-quality"></a>



<h4>Method <code>quality()</code>
</h4>

<p>Returns the value of a single OpenML data set quality.
</p>


<h5>Usage</h5>

<div class="r"><pre>OMLData$quality(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Name of the quality to extract.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-OMLData-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>OMLData$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>References</h3>

<p>Vanschoren J, van Rijn JN, Bischl B, Torgo L (2014).
“OpenML.”
<em>ACM SIGKDD Explorations Newsletter</em>, <b>15</b>(2), 49–60.
<a href="https://doi.org/10.1145/2641190.2641198">doi:10.1145/2641190.2641198</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># For technical reasons, examples cannot be included in this R package.
# Instead, these are some relevant resources:
#
# Large-Scale Benchmarking chapter in the mlr3book:
# https://mlr3book.mlr-org.com/chapters/chapter11/large-scale_benchmarking.html
#
# Package Article:
# https://mlr3oml.mlr-org.com/articles/tutorial.html
</code></pre>


</div>