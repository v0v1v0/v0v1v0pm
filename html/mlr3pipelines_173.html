<div class="container">

<table style="width: 100%;"><tr>
<td>mlr_pipeops_randomresponse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a Randomized Response Prediction</h2>

<h3>Description</h3>

<p>Takes in a <code>Prediction</code> of <code>predict_type</code> <code>"prob"</code>
(for <code>PredictionClassif</code>) or <code>"se"</code>
(for <code>PredictionRegr</code>) and generates a randomized <code>"response"</code>
prediction.
</p>
<p>For <code>"prob"</code>, the responses are sampled according to
the probabilities of the input <code>PredictionClassif</code>. For <code>"se"</code>,
responses are randomly drawn according to the <code>rdistfun</code> parameter (default is <code>rnorm</code>) by using
the original responses of the input <code>PredictionRegr</code> as the mean and the
original standard errors of the input <code>PredictionRegr</code> as the standard
deviation (sampling is done observation-wise).
</p>


<h3>Format</h3>

<p><code>R6Class</code> object inheriting from <code>PipeOp</code>.
</p>


<h3>Construction</h3>

<div class="sourceCode"><pre>PipeOpRandomResponse$new(id = "randomresponse", param_vals = list(), packages = character(0))
</pre></div>

<ul>
<li> <p><code>id</code> :: <code>character(1)</code><br>
Identifier of the resulting object, default <code>"randomresponse"</code>.
</p>
</li>
<li> <p><code>param_vals</code> :: named <code>list</code><br>
List of hyperparameter settings, overwriting the hyperparameter settings that would otherwise
be set during construction. Default <code>list()</code>.
</p>
</li>
<li>
<p> packages :: <code>character</code><br>
Set of all required packages for the <code>private$.predict()</code> methods related to the <code>rdistfun</code>
parameter. Default is <code>character(0)</code>.
</p>
</li>
</ul>
<h3>Input and Output Channels</h3>

<p><code>PipeOpRandomResponse</code> has one input channel named <code>"input"</code>, taking <code>NULL</code> during training and
a <code>Prediction</code> during prediction.
</p>
<p><code>PipeOpRandomResponse</code> has one output channel named <code>"output"</code>, producing <code>NULL</code> during
training and a <code>Prediction</code> with random responses during prediction.
</p>


<h3>State</h3>

<p>The <code style="white-space: pre;">⁠$state⁠</code> is left empty (<code>list()</code>).
</p>


<h3>Parameters</h3>


<ul><li> <p><code>rdistfun</code> :: <code>function</code> <br>
A function for generating random responses when the predict type is <code>"se"</code>. This function must
accept the arguments <code>n</code> (integerish number of responses), <code>mean</code> (<code>numeric</code> for the mean),
and <code>sd</code> (<code>numeric</code> for the  standard deviation), and must <em>vectorize</em> over <code>mean</code>
and <code>sd</code>. Default is <code>rnorm</code>.
</p>
</li></ul>
<h3>Internals</h3>

<p>If the <code>predict_type</code> of the input <code>Prediction</code> does not match <code>"prob"</code> or
<code>"se"</code>, the input <code>Prediction</code> will be returned unaltered.
</p>


<h3>Fields</h3>

<p>Only fields inherited from <code>PipeOp</code>.
</p>


<h3>Methods</h3>

<p>Only methods inherited from <code>PipeOp</code>.
</p>


<h3>See Also</h3>

<p>https://mlr-org.com/pipeops.html
</p>
<p>Other PipeOps: 
<code>PipeOp</code>,
<code>PipeOpEnsemble</code>,
<code>PipeOpImpute</code>,
<code>PipeOpTargetTrafo</code>,
<code>PipeOpTaskPreproc</code>,
<code>PipeOpTaskPreprocSimple</code>,
<code>mlr_pipeops</code>,
<code>mlr_pipeops_adas</code>,
<code>mlr_pipeops_blsmote</code>,
<code>mlr_pipeops_boxcox</code>,
<code>mlr_pipeops_branch</code>,
<code>mlr_pipeops_chunk</code>,
<code>mlr_pipeops_classbalancing</code>,
<code>mlr_pipeops_classifavg</code>,
<code>mlr_pipeops_classweights</code>,
<code>mlr_pipeops_colapply</code>,
<code>mlr_pipeops_collapsefactors</code>,
<code>mlr_pipeops_colroles</code>,
<code>mlr_pipeops_copy</code>,
<code>mlr_pipeops_datefeatures</code>,
<code>mlr_pipeops_encode</code>,
<code>mlr_pipeops_encodeimpact</code>,
<code>mlr_pipeops_encodelmer</code>,
<code>mlr_pipeops_featureunion</code>,
<code>mlr_pipeops_filter</code>,
<code>mlr_pipeops_fixfactors</code>,
<code>mlr_pipeops_histbin</code>,
<code>mlr_pipeops_ica</code>,
<code>mlr_pipeops_imputeconstant</code>,
<code>mlr_pipeops_imputehist</code>,
<code>mlr_pipeops_imputelearner</code>,
<code>mlr_pipeops_imputemean</code>,
<code>mlr_pipeops_imputemedian</code>,
<code>mlr_pipeops_imputemode</code>,
<code>mlr_pipeops_imputeoor</code>,
<code>mlr_pipeops_imputesample</code>,
<code>mlr_pipeops_kernelpca</code>,
<code>mlr_pipeops_learner</code>,
<code>mlr_pipeops_missind</code>,
<code>mlr_pipeops_modelmatrix</code>,
<code>mlr_pipeops_multiplicityexply</code>,
<code>mlr_pipeops_multiplicityimply</code>,
<code>mlr_pipeops_mutate</code>,
<code>mlr_pipeops_nmf</code>,
<code>mlr_pipeops_nop</code>,
<code>mlr_pipeops_ovrsplit</code>,
<code>mlr_pipeops_ovrunite</code>,
<code>mlr_pipeops_pca</code>,
<code>mlr_pipeops_proxy</code>,
<code>mlr_pipeops_quantilebin</code>,
<code>mlr_pipeops_randomprojection</code>,
<code>mlr_pipeops_regravg</code>,
<code>mlr_pipeops_removeconstants</code>,
<code>mlr_pipeops_renamecolumns</code>,
<code>mlr_pipeops_replicate</code>,
<code>mlr_pipeops_rowapply</code>,
<code>mlr_pipeops_scale</code>,
<code>mlr_pipeops_scalemaxabs</code>,
<code>mlr_pipeops_scalerange</code>,
<code>mlr_pipeops_select</code>,
<code>mlr_pipeops_smote</code>,
<code>mlr_pipeops_smotenc</code>,
<code>mlr_pipeops_spatialsign</code>,
<code>mlr_pipeops_subsample</code>,
<code>mlr_pipeops_targetinvert</code>,
<code>mlr_pipeops_targetmutate</code>,
<code>mlr_pipeops_targettrafoscalerange</code>,
<code>mlr_pipeops_textvectorizer</code>,
<code>mlr_pipeops_threshold</code>,
<code>mlr_pipeops_tunethreshold</code>,
<code>mlr_pipeops_unbranch</code>,
<code>mlr_pipeops_updatetarget</code>,
<code>mlr_pipeops_vtreat</code>,
<code>mlr_pipeops_yeojohnson</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(mlr3)
library(mlr3learners)

task1 = tsk("iris")
g1 = LearnerClassifRpart$new() %&gt;&gt;% PipeOpRandomResponse$new()
g1$train(task1)
g1$pipeops$classif.rpart$learner$predict_type = "prob"
set.seed(2409)
g1$predict(task1)

task2 = tsk("mtcars")
g2 = LearnerRegrLM$new() %&gt;&gt;% PipeOpRandomResponse$new()
g2$train(task2)
g2$pipeops$regr.lm$learner$predict_type = "se"
set.seed(2906)
g2$predict(task2)

</code></pre>


</div>