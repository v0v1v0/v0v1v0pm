<div class="container">

<table style="width: 100%;"><tr>
<td>mlr_pipeops_learner</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wrap a Learner into a PipeOp</h2>

<h3>Description</h3>

<p>Wraps an <code>mlr3::Learner</code> into a <code>PipeOp</code>.
</p>
<p>Inherits the <code style="white-space: pre;">⁠$param_set⁠</code> (and therefore <code style="white-space: pre;">⁠$param_set$values⁠</code>) from the <code>Learner</code> it is constructed from.
</p>
<p>Using <code>PipeOpLearner</code>, it is possible to embed <code>mlr3::Learner</code>s into <code>Graph</code>s, which themselves can be
turned into Learners using <code>GraphLearner</code>. This way, preprocessing and ensemble methods can be included
into a machine learning pipeline which then can be handled as singular object for resampling, benchmarking
and tuning.
</p>


<h3>Format</h3>

<p><code>R6Class</code> object inheriting from <code>PipeOp</code>.
</p>


<h3>Construction</h3>

<div class="sourceCode"><pre>PipeOpLearner$new(learner, id = NULL, param_vals = list())
</pre></div>

<ul>
<li> <p><code>learner</code> :: <code>Learner</code> | <code>character(1)</code>
<code>Learner</code> to wrap, or a string identifying a <code>Learner</code> in the <code>mlr3::mlr_learners</code> <code>Dictionary</code>.
This argument is always cloned; to access the <code>Learner</code> inside <code>PipeOpLearner</code> by-reference, use <code style="white-space: pre;">⁠$learner⁠</code>.<br></p>
</li>
<li> <p><code>id</code> :: <code>character(1)</code>
Identifier of the resulting  object, internally defaulting to the <code>id</code> of the <code>Learner</code> being wrapped.
</p>
</li>
<li> <p><code>param_vals</code> :: named <code>list</code><br>
List of hyperparameter settings, overwriting the hyperparameter settings that would otherwise be set during construction. Default <code>list()</code>.
</p>
</li>
</ul>
<h3>Input and Output Channels</h3>

<p><code>PipeOpLearner</code> has one input channel named <code>"input"</code>, taking a <code>Task</code> specific to the <code>Learner</code>
type given to <code>learner</code> during construction; both during training and prediction.
</p>
<p><code>PipeOpLearner</code> has one output channel named <code>"output"</code>, producing <code>NULL</code> during training and a <code>Prediction</code> subclass
during prediction; this subclass is specific to the <code>Learner</code> type given to <code>learner</code> during construction.
</p>
<p>The output during prediction is the <code>Prediction</code> on the prediction input data, produced by the <code>Learner</code>
trained on the training input data.
</p>


<h3>State</h3>

<p>The <code style="white-space: pre;">⁠$state⁠</code> is set to the <code style="white-space: pre;">⁠$state⁠</code> slot of the <code>Learner</code> object. It is a named <code>list</code> with members:
</p>

<ul>
<li> <p><code>model</code> :: <code>any</code><br>
Model created by the <code>Learner</code>'s <code style="white-space: pre;">⁠$.train()⁠</code> function.
</p>
</li>
<li> <p><code>train_log</code> :: <code>data.table</code> with columns <code>class</code> (<code>character</code>), <code>msg</code> (<code>character</code>)<br>
Errors logged during training.
</p>
</li>
<li> <p><code>train_time</code> :: <code>numeric(1)</code><br>
Training time, in seconds.
</p>
</li>
<li> <p><code>predict_log</code> :: <code>NULL</code> | <code>data.table</code> with columns <code>class</code> (<code>character</code>), <code>msg</code> (<code>character</code>)<br>
Errors logged during prediction.
</p>
</li>
<li> <p><code>predict_time</code> :: <code>NULL</code> | <code>numeric(1)</code>
Prediction time, in seconds.
</p>
</li>
</ul>
<h3>Parameters</h3>

<p>The parameters are exactly the parameters of the <code>Learner</code> wrapped by this object.
</p>


<h3>Internals</h3>

<p>The <code style="white-space: pre;">⁠$state⁠</code> is currently not updated by prediction, so the <code style="white-space: pre;">⁠$state$predict_log⁠</code> and <code style="white-space: pre;">⁠$state$predict_time⁠</code> will always be <code>NULL</code>.
</p>


<h3>Fields</h3>

<p>Fields inherited from <code>PipeOp</code>, as well as:
</p>

<ul>
<li> <p><code>learner</code> :: <code>Learner</code><br><code>Learner</code> that is being wrapped. Read-only.
</p>
</li>
<li> <p><code>learner_model</code> :: <code>Learner</code><br><code>Learner</code> that is being wrapped. This learner contains the model if the <code>PipeOp</code> is trained. Read-only.
</p>
</li>
<li> <p><code>validate</code> :: <code>"predefined"</code> or <code>NULL</code><br>
This field can only be set for <code>Learner</code>s that have the <code>"validation"</code> property.
Setting the field to <code>"predefined"</code> means that the wrapped <code>Learner</code> will use the internal validation task,
otherwise it will be ignored.
Note that specifying <em>how</em> the validation data is created is possible via the <code style="white-space: pre;">⁠$validate⁠</code> field of the <code>GraphLearner</code>.
For each <code>PipeOp</code> it is then only possible to either use it (<code>"predefined"</code>) or not use it (<code>NULL</code>).
Also see <code>set_validate.GraphLearner</code> for more information.
</p>
</li>
<li> <p><code>internal_tuned_values</code> :: named <code>list()</code> or <code>NULL</code><br>
The internally tuned values if the wrapped <code>Learner</code> supports internal tuning, <code>NULL</code> otherwise.
</p>
</li>
<li> <p><code>internal_valid_scores</code> :: named <code>list()</code> or <code>NULL</code><br>
The internal validation scores if the wrapped <code>Learner</code> supports internal validation, <code>NULL</code> otherwise.
</p>
</li>
</ul>
<h3>Methods</h3>

<p>Methods inherited from <code>PipeOp</code>.
</p>


<h3>See Also</h3>

<p>https://mlr-org.com/pipeops.html
</p>
<p>Other PipeOps: 
<code>PipeOp</code>,
<code>PipeOpEnsemble</code>,
<code>PipeOpImpute</code>,
<code>PipeOpTargetTrafo</code>,
<code>PipeOpTaskPreproc</code>,
<code>PipeOpTaskPreprocSimple</code>,
<code>mlr_pipeops</code>,
<code>mlr_pipeops_adas</code>,
<code>mlr_pipeops_blsmote</code>,
<code>mlr_pipeops_boxcox</code>,
<code>mlr_pipeops_branch</code>,
<code>mlr_pipeops_chunk</code>,
<code>mlr_pipeops_classbalancing</code>,
<code>mlr_pipeops_classifavg</code>,
<code>mlr_pipeops_classweights</code>,
<code>mlr_pipeops_colapply</code>,
<code>mlr_pipeops_collapsefactors</code>,
<code>mlr_pipeops_colroles</code>,
<code>mlr_pipeops_copy</code>,
<code>mlr_pipeops_datefeatures</code>,
<code>mlr_pipeops_encode</code>,
<code>mlr_pipeops_encodeimpact</code>,
<code>mlr_pipeops_encodelmer</code>,
<code>mlr_pipeops_featureunion</code>,
<code>mlr_pipeops_filter</code>,
<code>mlr_pipeops_fixfactors</code>,
<code>mlr_pipeops_histbin</code>,
<code>mlr_pipeops_ica</code>,
<code>mlr_pipeops_imputeconstant</code>,
<code>mlr_pipeops_imputehist</code>,
<code>mlr_pipeops_imputelearner</code>,
<code>mlr_pipeops_imputemean</code>,
<code>mlr_pipeops_imputemedian</code>,
<code>mlr_pipeops_imputemode</code>,
<code>mlr_pipeops_imputeoor</code>,
<code>mlr_pipeops_imputesample</code>,
<code>mlr_pipeops_kernelpca</code>,
<code>mlr_pipeops_missind</code>,
<code>mlr_pipeops_modelmatrix</code>,
<code>mlr_pipeops_multiplicityexply</code>,
<code>mlr_pipeops_multiplicityimply</code>,
<code>mlr_pipeops_mutate</code>,
<code>mlr_pipeops_nmf</code>,
<code>mlr_pipeops_nop</code>,
<code>mlr_pipeops_ovrsplit</code>,
<code>mlr_pipeops_ovrunite</code>,
<code>mlr_pipeops_pca</code>,
<code>mlr_pipeops_proxy</code>,
<code>mlr_pipeops_quantilebin</code>,
<code>mlr_pipeops_randomprojection</code>,
<code>mlr_pipeops_randomresponse</code>,
<code>mlr_pipeops_regravg</code>,
<code>mlr_pipeops_removeconstants</code>,
<code>mlr_pipeops_renamecolumns</code>,
<code>mlr_pipeops_replicate</code>,
<code>mlr_pipeops_rowapply</code>,
<code>mlr_pipeops_scale</code>,
<code>mlr_pipeops_scalemaxabs</code>,
<code>mlr_pipeops_scalerange</code>,
<code>mlr_pipeops_select</code>,
<code>mlr_pipeops_smote</code>,
<code>mlr_pipeops_smotenc</code>,
<code>mlr_pipeops_spatialsign</code>,
<code>mlr_pipeops_subsample</code>,
<code>mlr_pipeops_targetinvert</code>,
<code>mlr_pipeops_targetmutate</code>,
<code>mlr_pipeops_targettrafoscalerange</code>,
<code>mlr_pipeops_textvectorizer</code>,
<code>mlr_pipeops_threshold</code>,
<code>mlr_pipeops_tunethreshold</code>,
<code>mlr_pipeops_unbranch</code>,
<code>mlr_pipeops_updatetarget</code>,
<code>mlr_pipeops_vtreat</code>,
<code>mlr_pipeops_yeojohnson</code>
</p>
<p>Other Meta PipeOps: 
<code>mlr_pipeops_learner_cv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library("mlr3")

task = tsk("iris")
learner = lrn("classif.rpart", cp = 0.1)
lrn_po = mlr_pipeops$get("learner", learner)

lrn_po$train(list(task))
lrn_po$predict(list(task))

</code></pre>


</div>