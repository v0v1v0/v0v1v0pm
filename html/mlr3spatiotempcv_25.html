<div class="container">

<table style="width: 100%;"><tr>
<td>autoplot.ResamplingSpCVBlock</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualization Functions for SpCV Block Methods.</h2>

<h3>Description</h3>

<p>Generic S3 <code>plot()</code> and <code>autoplot()</code> (ggplot2) methods to
visualize mlr3 spatiotemporal resampling objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ResamplingSpCVBlock'
autoplot(
  object,
  task,
  fold_id = NULL,
  plot_as_grid = TRUE,
  train_color = "#0072B5",
  test_color = "#E18727",
  show_blocks = FALSE,
  show_labels = FALSE,
  sample_fold_n = NULL,
  label_size = 2,
  ...
)

## S3 method for class 'ResamplingRepeatedSpCVBlock'
autoplot(
  object,
  task,
  fold_id = NULL,
  repeats_id = 1,
  plot_as_grid = TRUE,
  train_color = "#0072B5",
  test_color = "#E18727",
  show_blocks = FALSE,
  show_labels = FALSE,
  sample_fold_n = NULL,
  label_size = 2,
  ...
)

## S3 method for class 'ResamplingSpCVBlock'
plot(x, ...)

## S3 method for class 'ResamplingRepeatedSpCVBlock'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p><code style="white-space: pre;">⁠[Resampling]⁠</code><br>
mlr3 spatial resampling object of class ResamplingSpCVBlock or
ResamplingRepeatedSpCVBlock.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>task</code></td>
<td>
<p><code style="white-space: pre;">⁠[TaskClassifST]/[TaskRegrST]⁠</code><br>
mlr3 task object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold_id</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric]⁠</code><br>
Fold IDs to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_as_grid</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]⁠</code><br>
Should a gridded plot using via <a href="https://CRAN.R-project.org/package=patchwork"><span class="pkg">patchwork</span></a> be created? If <code>FALSE</code>
a list with of <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> objects is returned.
Only applies if a numeric vector is passed to argument <code>fold_id</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>train_color</code></td>
<td>
<p><code style="white-space: pre;">⁠[character(1)]⁠</code><br>
The color to use for the training set observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test_color</code></td>
<td>
<p><code style="white-space: pre;">⁠[character(1)]⁠</code><br>
The color to use for the test set observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_blocks</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]⁠</code><br>
Whether to show an overlay of the spatial blocks polygons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_labels</code></td>
<td>
<p><code style="white-space: pre;">⁠[logical(1)]⁠</code><br>
Whether to show an overlay of the spatial block IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_fold_n</code></td>
<td>
<p><code style="white-space: pre;">⁠[integer]⁠</code><br>
Number of points in a random sample stratified over partitions.
This argument aims to keep file sizes of resulting plots reasonable and
reduce overplotting in dense datasets.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_size</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric(1)]⁠</code><br>
Label size of block labels. Only applies for <code>show_labels = TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to <code>geom_sf()</code>. Helpful for adjusting point sizes and
shapes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repeats_id</code></td>
<td>
<p><code style="white-space: pre;">⁠[numeric]⁠</code><br>
Repetition ID to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code style="white-space: pre;">⁠[Resampling]⁠</code><br>
mlr3 spatial resampling object. One of class ResamplingSpCVBuffer,
ResamplingSpCVBlock, ResamplingSpCVCoords, ResamplingSpCVEnv.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default a plot is returned; if <code>fold_id</code> is set, a gridded plot is
created. If <code>plot_as_grid = FALSE</code>, a list of plot objects is returned.
This can be used to align the plots individually.
</p>
<p>When no single fold is selected, the <code>ggsci::scale_color_ucscgb()</code> palette
is used to display all partitions.
If you want to change the colors, call <code style="white-space: pre;">⁠&lt;plot&gt; + &lt;color-palette&gt;()⁠</code>.
</p>


<h3>Value</h3>

<p><code>ggplot()</code> or list of ggplot2 objects.
</p>


<h3>See Also</h3>


<ul>
<li>
<p> mlr3book chapter on <a href="https://mlr3book.mlr-org.com/chapters/chapter13/beyond_regression_and_classification.html#sec-spatiotemporal">"Spatial Analysis"</a>
</p>
</li>
<li> <p><code>autoplot.ResamplingSpCVBuffer()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingSpCVCoords()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingSpCVEnv()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingSpCVDisc()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingSpCVTiles()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingCV()</code>
</p>
</li>
<li> <p><code>autoplot.ResamplingSptCVCstf()</code>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
if (mlr3misc::require_namespaces(c("sf", "blockCV"), quietly = TRUE)) {
  library(mlr3)
  library(mlr3spatiotempcv)
  task = tsk("ecuador")
  resampling = rsmp("spcv_block", range = 1000L)
  resampling$instantiate(task)

  ## list of ggplot2 resamplings
  plot_list = autoplot(resampling, task,
    crs = 4326,
    fold_id = c(1, 2), plot_as_grid = FALSE)

  ## Visualize all partitions
  autoplot(resampling, task) +
    ggplot2::scale_x_continuous(breaks = seq(-79.085, -79.055, 0.01))

  ## Visualize the train/test split of a single fold
  autoplot(resampling, task, fold_id = 1) +
    ggplot2::scale_x_continuous(breaks = seq(-79.085, -79.055, 0.01))

  ## Visualize train/test splits of multiple folds
  autoplot(resampling, task,
    fold_id = c(1, 2),
    show_blocks = TRUE) *
    ggplot2::scale_x_continuous(breaks = seq(-79.085, -79.055, 0.01))
}

</code></pre>


</div>