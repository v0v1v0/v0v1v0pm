<div class="container">

<table style="width: 100%;"><tr>
<td>pipeop_preproc_torch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Torch Preprocessing PipeOps</h2>

<h3>Description</h3>

<p>Function to create objects of class <code>PipeOpTaskPreprocTorch</code> in a more convenient way.
Start by reading the documentation of <code>PipeOpTaskPreprocTorch</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pipeop_preproc_torch(
  id,
  fn,
  shapes_out = NULL,
  param_set = NULL,
  packages = character(0),
  rowwise = FALSE,
  parent_env = parent.frame(),
  stages_init = NULL,
  tags = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>(<code>character(1)</code>)<br>
The id for of the new object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>(<code>function</code>)<br>
The preprocessing function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapes_out</code></td>
<td>
<p>(<code>function</code> or <code>NULL</code> or <code>"infer"</code>)<br>
The private <code>.shapes_out(shapes_in, param_vals, task)</code> method of <code>PipeOpTaskPreprocTorch</code>
(see section Inheriting).
Special values are <code>NULL</code> and <code>infer</code>:
If <code>NULL</code>, the output shapes are unknown.
If "infer", the output shape function is inferred and calculates the output shapes as follows:
For an input shape of (NA, ...) a meta-tensor of shape (1, ...) is created and the preprocessing function is
applied. Afterwards the batch dimension (1) is replaced with NA and the shape is returned.
If the first dimension is not <code>NA</code>, the output shape of applying the preprocessing function is returned.
Method <code>"infer"</code> should be correct in most cases, but might fail in some edge cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_set</code></td>
<td>
<p>(<code>ParamSet</code> or <code>NULL</code>)<br>
The parameter set.
If this is left as <code>NULL</code> (default) the parameter set is inferred in the following way:
All parameters but the first and <code>...</code> of <code>fn</code> are set as untyped parameters with tags 'train' and those that
have no default value are tagged as 'required' as well.
Default values are not annotated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packages</code></td>
<td>
<p>(<code>character()</code>)<br>
The R packages this object depends on.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rowwise</code></td>
<td>
<p>(<code>logical(1)</code>)<br>
Whether the preprocessing is applied row-wise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent_env</code></td>
<td>
<p>(<code>environment</code>)<br>
The parent environment for the R6 class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stages_init</code></td>
<td>
<p>(<code>character(1)</code>)<br>
Initial value for the <code>stages</code> parameter.
If <code>NULL</code> (default), will be set to <code>"both"</code> in case the <code>id</code> starts with <code>"trafo"</code> and to <code>"train"</code>
if it starts with <code>"augment"</code>. Otherwise it must specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tags</code></td>
<td>
<p>(<code>character()</code>)<br>
Tags for the pipeop</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An <code>R6Class</code> instance inheriting from <code>PipeOpTaskPreprocTorch</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
PipeOpPreprocExample = pipeop_preproc_torch("preproc_example", function(x, a) x + a)
po_example = PipeOpPreprocExample$new()
po_example$param_set

</code></pre>


</div>