<div class="container">

<table style="width: 100%;"><tr>
<td>TorchCallback</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Torch Callback</h2>

<h3>Description</h3>

<p>This wraps a <code>CallbackSet</code> and annotates it with metadata, most importantly a <code>ParamSet</code>.
The callback is created for the given parameter values by calling the <code style="white-space: pre;">⁠$generate()⁠</code> method.
</p>
<p>This class is usually used to configure the callback of a torch learner, e.g. when constructing
a learner of in a <code>ModelDescriptor</code>.
</p>
<p>For a list of available callbacks, see <code>mlr3torch_callbacks</code>.
To conveniently retrieve a <code>TorchCallback</code>, use <code>t_clbk()</code>.
</p>


<h3>Parameters</h3>

<p>Defined by the constructor argument <code>param_set</code>.
If no parameter set is provided during construction, the parameter set is constructed by creating a parameter
for each argument of the wrapped loss function, where the parametes are then of type <code>ParamUty</code>.
</p>


<h3>Super class</h3>

<p><code>mlr3torch::TorchDescriptor</code> -&gt; <code>TorchCallback</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-TorchCallback-new"><code>TorchCallback$new()</code></a>
</p>
</li>
<li> <p><a href="#method-TorchCallback-clone"><code>TorchCallback$clone()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="mlr3torch" data-topic="TorchDescriptor" data-id="generate"><a href="../../mlr3torch/html/TorchDescriptor.html#method-TorchDescriptor-generate"><code>mlr3torch::TorchDescriptor$generate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3torch" data-topic="TorchDescriptor" data-id="help"><a href="../../mlr3torch/html/TorchDescriptor.html#method-TorchDescriptor-help"><code>mlr3torch::TorchDescriptor$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3torch" data-topic="TorchDescriptor" data-id="print"><a href="../../mlr3torch/html/TorchDescriptor.html#method-TorchDescriptor-print"><code>mlr3torch::TorchDescriptor$print()</code></a></span></li>
</ul></details><hr>
<a id="method-TorchCallback-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Creates a new instance of this R6 class.
</p>


<h5>Usage</h5>

<div class="r"><pre>TorchCallback$new(
  callback_generator,
  param_set = NULL,
  id = NULL,
  label = NULL,
  packages = NULL,
  man = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>callback_generator</code></dt>
<dd>
<p>(<code>R6ClassGenerator</code>)<br>
The class generator for the callback that is being wrapped.</p>
</dd>
<dt><code>param_set</code></dt>
<dd>
<p>(<code>ParamSet</code> or <code>NULL</code>)<br>
The parameter set. If <code>NULL</code> (default) it is inferred from <code>callback_generator</code>.</p>
</dd>
<dt><code>id</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
The id for of the new object.</p>
</dd>
<dt><code>label</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Label for the new instance.</p>
</dd>
<dt><code>packages</code></dt>
<dd>
<p>(<code>character()</code>)<br>
The R packages this object depends on.</p>
</dd>
<dt><code>man</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
String in the format <code style="white-space: pre;">⁠[pkg]::[topic]⁠</code> pointing to a manual page for this object.
The referenced help package can be opened via method <code style="white-space: pre;">⁠$help()⁠</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-TorchCallback-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>TorchCallback$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>See Also</h3>

<p>Other Callback: 
<code>as_torch_callback()</code>,
<code>as_torch_callbacks()</code>,
<code>callback_set()</code>,
<code>mlr3torch_callbacks</code>,
<code>mlr_callback_set</code>,
<code>mlr_callback_set.checkpoint</code>,
<code>mlr_callback_set.progress</code>,
<code>mlr_context_torch</code>,
<code>t_clbk()</code>,
<code>torch_callback()</code>
</p>
<p>Other Torch Descriptor: 
<code>TorchDescriptor</code>,
<code>TorchLoss</code>,
<code>TorchOptimizer</code>,
<code>as_torch_callbacks()</code>,
<code>as_torch_loss()</code>,
<code>as_torch_optimizer()</code>,
<code>mlr3torch_losses</code>,
<code>mlr3torch_optimizers</code>,
<code>t_clbk()</code>,
<code>t_loss()</code>,
<code>t_opt()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create a new torch callback from an existing callback set
torch_callback = TorchCallback$new(CallbackSetCheckpoint)
# The parameters are inferred
torch_callback$param_set

# Retrieve a torch callback from the dictionary
torch_callback = t_clbk("checkpoint",
  path = tempfile(), freq = 1
)
torch_callback
torch_callback$label
torch_callback$id

# open the help page of the wrapped callback set
# torch_callback$help()

# Create the callback set
callback = torch_callback$generate()
callback
# is the same as
CallbackSetCheckpoint$new(
  path = tempfile(), freq = 1
)

# Use in a learner
learner = lrn("regr.mlp", callbacks = t_clbk("checkpoint"))
# the parameters of the callback are added to the learner's parameter set
learner$param_set

</code></pre>


</div>