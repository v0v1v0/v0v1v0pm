<div class="container">

<table style="width: 100%;"><tr>
<td>makeMBOControl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set MBO options.</h2>

<h3>Description</h3>

<p>Creates a control object for MBO optimization.
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeMBOControl(
  n.objectives = 1L,
  propose.points = 1L,
  final.method = "best.true.y",
  final.evals = 0L,
  y.name = "y",
  impute.y.fun = NULL,
  trafo.y.fun = NULL,
  suppress.eval.errors = TRUE,
  save.on.disk.at = integer(0L),
  save.on.disk.at.time = Inf,
  save.file.path = file.path(getwd(), "mlrMBO_run.RData"),
  store.model.at = NULL,
  resample.at = integer(0),
  resample.desc = makeResampleDesc("CV", iter = 10),
  resample.measures = list(mse),
  output.num.format = "%.3g",
  on.surrogate.error = "stop"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n.objectives</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
How many objectives are to be optimized? <code>n.objectives = 1</code> implies normal single
criteria optimization, <code>n.objectives &gt; 1</code> implies multi-objective optimization.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>propose.points</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
Number of proposed / really evaluated points each iteration.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final.method</code></td>
<td>
<p>[<code>character(1)</code>]<br>
How should the final point be proposed. Possible values are:
“best.true.y”: Return best point ever visited according to true value of target function.
Can be bad if target function is noisy.
“last.proposed”: Return the last point proposed by the model.
“best.predicted”: Use the final model to predict all points ever visited and use the best one.
This might average-out noisy function values.
Default is: “best.true.y”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final.evals</code></td>
<td>
<p>[<code>integer(1)</code>]<br>
How many target function evals should be done at final point to reduce noise?
Default is 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y.name</code></td>
<td>
<p>[<code>character</code>]<br>
Vector for names of y-columns for target values in optimization path.
Default is “y_i”, i = 1, ..., n.objectives.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>impute.y.fun</code></td>
<td>
<p>[<code>function(x, y, opt.path, ...)</code>*]<br>
Functions that gets triggered if your objective evaluation produced
a) an exception b) a return object of invalid type c) a numeric vector that
contains <code>NA</code>, <code>NaN</code>, <code>Inf</code>.
You now have a chance to handle this. You are expected to return a numeric vector
of the correct length with concrete values.
The optimization path will show some information whether y-values where imputed
and what the original, faulty object was.
<code>x</code> is the current x-value, <code>y</code> the current (invalid) y-object (or an error object)
and <code>opt.path</code> the current optimization path.
Default is <code>NULL</code> which means to stop if the objective function did not produce the desired
result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trafo.y.fun</code></td>
<td>
<p>[<code>MBOTrafoFunction</code>]<br>
Sometimes it is favorable to transform the target function values before modeling. Provide a
MBO transformation function to do so.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppress.eval.errors</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Should reporting of error messages during target function evaluations be suppressed?
Only used if <code>impute.errors</code> is <code>TRUE</code>.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.on.disk.at</code></td>
<td>
<p>[<code>integer</code>] <br>
Sequential optimization iteration when the actual state should be saved
on disk. Iteration 0 denotes the initial design. If the optimization
stops with an crucial error, it can be restarted with this file via the
function <code>mboContinue</code>.
Default is <code>integer(0L)</code>, i. e., not to save.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.on.disk.at.time</code></td>
<td>
<p>[<code>integer</code>] <br>
Same as above. But here you define the time which have to be passed until the last save in seconds. Any finite value will lead to save at end.
Default is <code>Inf</code>, i. e., not to save ever.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save.file.path</code></td>
<td>
<p>[<code>character(1)</code>] <br>
If <code>save.on.disk.at</code> is used, this is the name of the file where the data
will be saved.
Default “mbo_run.RData” in your current working directory.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>store.model.at</code></td>
<td>
<p>[<code>integer</code>]<br>
Sequential optimization iterations when the model should be saved.
Iteration 1 is the model fit for the initial design, iters + 1 is a final
save containing the final results of the optimization. .
Default is <code>iters + 1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resample.at</code></td>
<td>
<p>[<code>integer</code>]<br>
At which iterations should the model be resampled and assessed?
Iteration 0 does some resampling on the initial design.
Default is none.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resample.desc</code></td>
<td>
<p>[<code>ResampleDesc</code>]<br>
How should the model be resampled?
Default is 10-fold CV.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resample.measures</code></td>
<td>
<p>[list of <code>Measure</code>]<br>
Performance measures to assess model with during resampling.
Default is <code>mse</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.num.format</code></td>
<td>
<p>[<code>logical(1)</code>]<br>
Format string for the precision of the numeric output of mbo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>on.surrogate.error</code></td>
<td>
<p>[<code>character(1)</code>]<br>
What should happen when the surrogate learner can not train the model.
Possible values are:
“stop”: R exception is generated.
“warn”: The error will be converted to a waring and a random point will be proposed.
“quiet”: Same as “warn” but without the warning.
This will overwrite the mlr setting <code>on.learner.error</code> for the surrogate learner.
Default is: “stop”.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>[<code>MBOControl</code>].
</p>


<h3>See Also</h3>

<p>Other MBOControl: 
<code>setMBOControlInfill()</code>,
<code>setMBOControlMultiObj()</code>,
<code>setMBOControlMultiPoint()</code>,
<code>setMBOControlTermination()</code>
</p>


</div>