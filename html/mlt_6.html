<div class="container">

<table style="width: 100%;"><tr>
<td>R</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Response Variables
</h2>

<h3>Description</h3>

<p>Represent a possibly censored or truncated response variable
</p>


<h3>Usage</h3>

<pre><code class="language-R">R(object, ...)
## S3 method for class 'numeric'
R(object = NA, cleft = NA, cright = NA,
   tleft = NA, tright = NA, tol = sqrt(.Machine$double.eps), 
   as.R.ordered = FALSE, as.R.interval = FALSE, ...)
## S3 method for class 'ordered'
R(object, cleft = NA, cright = NA, ...)
## S3 method for class 'integer'
R(object, cleft = NA, cright = NA, bounds = c(min(object), Inf), ...)
## S3 method for class 'factor'
R(object, ...)
## S3 method for class 'Surv'
R(object, as.R.ordered = FALSE, as.R.interval = FALSE, ...)
as.Surv(object)
## S3 method for class 'response'
as.Surv(object)
## S3 method for class 'response'
as.double(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>A vector of (conceptually) exact measurements or an object of class
<code>response</code> (for <code>as.Surv</code>) or a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>same as <code>object</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cleft</code></td>
<td>

<p>A vector of left borders of censored measurements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cright</code></td>
<td>

<p>A vector of right borders of censored measurements</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tleft</code></td>
<td>

<p>A vector of left truncations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tright</code></td>
<td>

<p>A vector of right truncations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>

<p>Tolerance for checking if <code>cleft</code> &lt; <code>cright</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds</code></td>
<td>

<p>Range of possible values for integers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.R.ordered</code></td>
<td>
<p>logical, should numeric responses or right-censored
(and possible left-truncated survival) times be coded as ordered factor?
This leads to a parameterisation allowing to maximise the nonparametric
maximum likelihood</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.R.interval</code></td>
<td>
<p>logical, should numeric responses be coded for
the nonparametric maximum likelihood</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other arguments, ignored except for <code>tleft</code> and <code>tright</code> to
<code>R.ordered</code> and <code>R.integer</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>R</code> is basically an extention of <code>Surv</code> for the
representation of arbitrarily censored or truncated measurements at any scale.
The <code>storage.mode</code> of <code>object</code> determines if models are fitted
by the discrete likelihood (integers or factors) or the continuous
likelihood (log-density for numeric <code>object</code>s). Interval-censoring
is given by intervals (<code>cleft</code>, <code>cright</code>], also for integers and
factors (see example below). Left- and right-truncation can be defined
by the <code>tleft</code> and <code>tright</code> arguments. Existing <code>Surv</code>
objects can be converted using <code>R(Surv(...))</code>$ and, in some cases, an
<code>as.Surv()</code> method exists for representing <code>response</code> objects as
<code>Surv</code> objects.
</p>
<p><code>R</code> applied to a list calls <code>R</code> for each of the list elements
and returns a joint object.
</p>
<p>More examples can be found in Hothorn (2018) and in 
<code>vignette("tram", package = "tram")</code>.
</p>


<h3>References</h3>

<p>Torsten Hothorn (2020), Most Likely Transformations: The mlt Package,
<em>Journal of Statistical Software</em>, <b>92</b>(1), 1â€“68,
<a href="https://doi.org/10.18637/jss.v092.i01">doi:10.18637/jss.v092.i01</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 library("survival")
 
 ### randomly right-censored continuous observations
 time &lt;- as.double(1:9)
 event &lt;- rep(c(FALSE, TRUE), length = length(time))

 Surv(time, event)
 R(Surv(time, event))

 ### right-censoring, left-truncation
 ltm &lt;- 1:9 / 10
 Surv(ltm, time, event)
 R(Surv(ltm, time, event))

 ### interval-censoring
 Surv(ltm, time, type = "interval2")
 R(Surv(ltm, time, type = "interval2"))

 ### interval-censoring, left/right-truncation
 lc &lt;- as.double(1:4)
 lt &lt;- c(NA, NA, 7, 8)
 rt &lt;- c(NA, 9, NA, 10)
 x &lt;- c(3, NA, NA, NA)
 rc &lt;- as.double(11:14)
 R(x, cleft = lt, cright = rt)
 as.Surv(R(x, cleft = lt, cright = rt))
 R(x, tleft = 1, cleft = lt, cright = rt)
 R(x, tleft = 1, cleft = lt, cright = rt, tright = 15)
 R(x, tleft = lc, cleft = lt, cright = rt, tright = rc)

 ### discrete observations: counts
 x &lt;- 0:9
 R(x)
 ### partially interval-censored counts
 rx &lt;- c(rep(NA, 6), rep(15L, 4))
 R(x, cright = rx)

 ### ordered factor
 x &lt;- gl(5, 2, labels = LETTERS[1:5], ordered = TRUE)
 R(x)
 ### interval-censoring (ie, observations can have multiple levels)
 lx &lt;- ordered(c("A", "A", "B", "C", "D", "E"), 
               levels = LETTERS[1:5], labels = LETTERS[1:5])
 rx &lt;- ordered(c("B", "D", "E", "D", "D", "E"), 
               levels = LETTERS[1:5], labels = LETTERS[1:5])
 R(rx, cleft = lx, cright = rx)

 ### facilitate nonparametric maximum likelihood
 (y &lt;- round(runif(10), 1))
 R(y, as.R.ordered = TRUE)

 R(Surv(time, event), as.R.ordered = TRUE)
 R(Surv(ltm, time, event), as.R.ordered = TRUE)

</code></pre>


</div>