<div class="container">

<table style="width: 100%;"><tr>
<td>bin_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map a vector of numeric values into bins</h2>

<h3>Description</h3>

<p>Takes a vector of values and bin parameters and maps each value to an ordered factor whose levels are a set of bins like [0,1), [1,2), [2,3).
</p>
<p>Values may be provided as a vector or via a pair of parameters - a data.table object and the name of the column to bin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bin_data(x = NULL, binCol = NULL, bins = 10, binType = "explicit",
  boundaryType = "lcro]", returnDT = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of values or a data.table object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binCol</code></td>
<td>
<p>A column of <code>dt</code> specifying the values to bin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>

<ul>
<li>
<p><b>integer</b> specifying the number of bins to generate
</p>
</li>
<li>
<p><b>numeric vector</b> specifying sequential bin boundaries {(x0, x1), (x1, x2), ..., (xn-1, xn)}
</p>
</li>
<li>
<p><b>2-column data.frame/data.table</b> each row defines a bin
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binType</code></td>
<td>

<ul>
<li>
<p><b>"explicit"</b> interpret bins as they are given
</p>
</li>
<li>
<p><b>"quantile"</b> interpret bins as quantiles (empty quantile bins will be discarded)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boundaryType</code></td>
<td>

<ul>
<li>
<p><b>"lcro]"</b> bins are [left-closed, right-open) except for last bin which is [left-closed, right-closed]
</p>
</li>
<li>
<p><b>"lcro)"</b> bins are [left-closed, right-open)
</p>
</li>
<li>
<p><b>"[lorc"</b> bins are (left-open, right-closed] except for first bin which is [left-closed, right-closed]
</p>
</li>
<li>
<p><b>"(lorc"</b> bins are (left-open, right-closed]
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnDT</code></td>
<td>
<p>If <b>FALSE</b>, return an ordered factor of bins corresponding to the values given, else return
a data.table object which includes all bins and values (makes a copy of data.table object if given)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function can return two different types of output, depending on whether <code>returnDT</code> is <code>TRUE</code> or <code>FALSE</code>.
</p>
<p>If <code>returnDT=FALSE</code>, returns an ordered factor vector of bins like [1, 2), [-3,-2), ... corresponding to the values which were
binned and whose levels correspond to all the generated bins. (Note that empty bins may be present as unused factor levels).
</p>
<p>If <code>returnDT=TRUE</code>, returns a data.table object with all values and all bins (including empty bins). If <code>dt</code> is provided
instead of <code>vals</code>, a full copy of <code>dt</code> is created and merged with the set of generated bins.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(data.table)
iris.dt &lt;- data.table(iris)

# custom bins
bin_data(iris.dt, binCol="Sepal.Length", bins=c(4, 5, 6, 7, 8))

# 10 equally spaced bins
bin_data(iris$Petal.Length, bins=10, returnDT=TRUE)

# make the last bin [left-closed, right-open)
bin_data(c(0,0,1,2), bins=2, boundaryType="lcro)", returnDT=TRUE)

# bin values by quantile
bin_data(c(0,0,0,0,1,2,3,4), bins=4, binType="quantile", returnDT=TRUE)

</code></pre>


</div>