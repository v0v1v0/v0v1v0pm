<div class="container">

<table style="width: 100%;"><tr>
<td>boot.mod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Statistical Inference on Mediation Analysis with Continuous or Binary Predictor at different level of the moderator
</h2>

<h3>Description</h3>

<p>To make inferences on the mediation effects when the predictor is continuous or binary at different level of the moderator.
</p>


<h3>Usage</h3>

<pre><code class="language-R">boot.mod(mma1,vari,continuous.resolution=10,
         w=NULL,n=20,
         x.new=NULL,w.new=NULL,pred.new=NULL,cova.new=NULL,xj=1,margin=1,
         xmod=vari,df1=1,para=FALSE,echo=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mma1</code></td>
<td>

<p>the mma project generated from the function mma or boot.med.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vari</code></td>
<td>

<p>The name of the moderator. The moderator should be included in the original data as a covariate for the response(in x) and/or for mediators (in cova). 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>continuous.resolution</code></td>
<td>

<p>The number of equally space points (for continuous moderator) or levels (for categorical moderator) at which to evaluate mediation effects separately. If the moderator is categorical, continuous.resolution=10 implies using all individual levels.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>

<p>the weight for observations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>the time of resampling in calculating the indirect effects, default is n=20, see Yu et al. (2014).
</p>
</td>
</tr>
</table>
<table>
<tr style="vertical-align: top;">
<td><code>x.new</code></td>
<td>

<p>of the same format as x, with a new set of covariates and mediators on which to calculate the mediation effects.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w.new</code></td>
<td>

<p>the weights for new.x.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.new</code></td>
<td>

<p>a new set of predictor(s).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cova.new</code></td>
<td>

<p>a new set of covariate for mediator(s).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xj</code></td>
<td>

<p>the inference of mediation effects at different levels of moderator is made on the xjth predictor.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>

<p>the change in predictor when calculating the mediation effects, see Yu et al. (2014).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xmod</code></td>
<td>

<p>If there is a moderator, xmod gives the moderator's name in cova and/or x.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df1</code></td>
<td>

<p>if nonlinear is TURE, natural cubic spline will be used to fit the relationship between the predictor and each mediator.  The df is the degree of freedom in the ns() function, the default is 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>para</code></td>
<td>
<p>It is for binary predictors. If it is true, we would like the x-m relationship be fitted parametrically. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>echo</code></td>
<td>
<p>If echo is FALSE, there is no counting printed for the number of bootstrap iterations. 
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>calculate the mediation effects from the xjth predictor to the response variable(s) at each level of the mediator.
</p>


<h3>Value</h3>

<p>Returns an mma.mod object, which is similar to the mma object. Instead of calculating mediation effects for each predictor, the function returns the mediation effects of the xjth predictor at each level of the moderator.
</p>


<h3>Author(s)</h3>

<p>Qingzhao Yu <a href="mailto:qyu@lsuhsc.edu">qyu@lsuhsc.edu</a></p>


<h3>References</h3>

<p>Yu, Q., Fan, Y., and Wu, X. (2014) &lt;doi:10.4172/2155-6180.1000189&gt;. "General Multiple Mediation Analysis With an Application to Explore Racial Disparity in Breast Cancer Survival," Journal of Biometrics &amp; Biostatistics,5(2): 189. 
</p>
<p>Yu, Q., Scribner, R.A., Leonardi, C., Zhang, L., Park, C., Chen, L., and Simonsen, N.R. (2017) &lt;doi:10.1016/j.sste.2017.02.001&gt;. "Exploring racial disparity in obesity: a mediation analysis considering geo-coded environmental factors," Spatial and Spatio-temporal Epidemiology, 21, 13-23. 
</p>
<p>Yu, Q., and Li, B. (2017) &lt;doi:10.5334/hors.160&gt;. "mma: An r package for multiple mediation analysis," Journal of Open Research Software, 5(1), 11. 
</p>
<p>Yu, Q., Wu, X., Li, B., and Scribner, R. (2018). &lt;doi:10.1002/sim.7977&gt;. "Multiple Mediation Analysis with Survival Outcomes â€“ With an Application to Explore Racial Disparity in Breast Cancer Survival," Statistics in Medicine.
</p>
<p>Yu, Q., Medeiros, KL, Wu, X., and Jensen, R. (2018). &lt;doi:10.1007/s11336-018-9612-2&gt;. "Explore Ethnic Disparities in Anxiety and Depression Among Cancer Survivors Using Nonlinear Mediation Analysis," Psychometrika, 83(4), 991-1006. 
</p>


<h3>See Also</h3>

<p><code>"med"</code> just estimate the mediation effects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#binary x and categorical moderator
#linear model
data("weight_behavior")
pred=weight_behavior[,3]
x=weight_behavior[,c(2,4:14)]
inter=form.interaction(x,pred,inter.cov=c("race"),predref="M") 
x=cbind(x,inter)
y=weight_behavior[,15]
head(x)
data.bin&lt;-data.org(x,y,pred=pred,contmed=c(7:9,11:12),binmed=c(6,10),
                   binref=c(1,1),catmed=5,catref=1,predref="M",alpha=0.4,alpha2=0.4)
temp1&lt;-boot.med(data=data.bin,n=2,n2=4,all.model=TRUE)
temp1.mode=boot.mod(temp1,vari="race",continuous.resolution=10)
plot2.mma(temp1.mode,vari="exercises",moderator="race")
plot2.mma(temp1.mode,vari="sports",moderator="race")

#nonlinear model
x=weight_behavior[,c(2,4:14)]
pred=weight_behavior[,3]
y=weight_behavior[,15]
data.bin&lt;-data.org(x,y,pred=pred,contmed=c(7:9,11:12),binmed=c(6,10),binref=c(1,1),
                    catmed=5,catref=1,predref="M",alpha=0.4,alpha2=0.4)
temp2&lt;-boot.med(data=data.bin,n=2,n2=4,nu=0.05,nonlinear=TRUE,all.model=TRUE)
temp2.mode=boot.mod(temp2,vari="race",continuous.resolution=10)
plot2.mma(temp2.mode,vari="exercises",moderator="race")
plot2.mma(temp2.mode,vari="sports",moderator="race")

#binary x and continuou moderator
x=weight_behavior[,c(2,4:14)]
pred=weight_behavior[,3]
y=weight_behavior[,1]
inter=form.interaction(x,pred,inter.cov=c("age"),predref="M") 
x=cbind(x,inter)
head(x)
data.cont&lt;-data.org(x,y,pred=pred,contmed=c(7:9,11:12),binmed=c(6,10),
                   binref=c(1,1),catmed=5,catref=1,predref="M",alpha=0.4,alpha2=0.4)
temp3&lt;-boot.med(data=data.cont,n=2,n2=4,all.model=TRUE) 
temp3.mode=boot.mod(temp3,vari="age",continuous.resolution=2)
summary(temp3.mode)

plot2.mma(temp3.mode,vari="exercises",moderator="age")
plot2.mma(temp3.mode,vari="sports",moderator="age")

x=weight_behavior[,c(2,4:14)]
pred=weight_behavior[,3]
y=weight_behavior[,1]
data.cont&lt;-data.org(x,y,pred=pred,mediator=5:12,jointm=list(n=1,j1=7:9), 
                     predref="M",alpha=0.4,alpha2=0.4)
temp4&lt;-boot.med(data=data.cont,n=2,n2=4,nu=0.05, nonlinear=TRUE,all.model=TRUE)
temp4.mode=boot.mod(temp4,vari="age",continuous.resolution=2,n=20)
summary(temp4.mode)
summary(temp4.mode,bymed=TRUE)

</code></pre>


</div>