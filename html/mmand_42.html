<div class="container">

<table style="width: 100%;"><tr>
<td>isKernel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Kernel-generating functions</h2>

<h3>Description</h3>

<p>These functions can be used to generate kernels for morphological, smoothing
or resampling operations. There are two types of kernels: kernel arrays,
which are used with <code>morph</code>, and kernel functions, which are
used with <code>resample</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">isKernel(object)

isKernelArray(object)

isKernelFunction(object)

kernelArray(values)

shapeKernel(width, dim = length(width), type = c("box", "disc", "diamond"),
  binary = TRUE, normalised = FALSE)

gaussianKernel(sigma, dim = length(sigma), size = 6 * sigma,
  normalised = TRUE)

sobelKernel(dim, axis = 1)

kernelFunction(name = c("box", "triangle", "mitchell-netravali", "lanczos"),
  ...)

boxKernel()

triangleKernel()

mitchellNetravaliKernel(B = 1/3, C = 1/3)

mnKernel(B = 1/3, C = 1/3)

lanczosKernel()
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Any object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>A numeric vector or array, containing the values of the kernel
array.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>A numeric vector giving the width of the shape in each
dimension, in array elements. Does not need to be integer-valued, or equal
for all dimensions. Will be recycled to length <code>dim</code> if that
parameter is also specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dim</code></td>
<td>
<p>An integer value giving the dimensionality of the kernel.
Defaults to the length of <code>width</code> or <code>sigma</code>, where available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string giving the type of shape to produce. In one dimension,
these shapes are all equivalent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binary</code></td>
<td>
<p>If <code>FALSE</code>, the value of the kernel at each point
represents the proportion of the array element within the shape. If
<code>TRUE</code>, these values are binarised to be 1 if at least half of the
element is within the shape, and 0 otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalised</code></td>
<td>
<p>If <code>TRUE</code>, the sum of non-missing elements of the
kernel will be unity. Note that this is the default for
<code>gaussianKernel</code>, but not for <code>shapeKernel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>A numeric vector giving the standard deviation of the
underlying Gaussian distribution in each dimension, in array elements.
Does not need to be equal for all dimensions. Will be recycled to length
<code>dim</code> if that parameter is also specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>A numeric vector giving the width of the kernel in each
dimension, which will be rounded up to the nearest odd integer. Defaults
to four times the corresponding <code>sigma</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis</code></td>
<td>
<p>The axis along which the gradient operator will be applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>A string giving the name of the kernel function required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Parameters for the kernel function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B, C</code></td>
<td>
<p>Mitchell-Netravali coefficients, each of which must be between 0
and 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are two forms of kernel used by this package. Kernel arrays, otherwise
known in mathematical morphology as structuring elements, are numeric arrays
with class <code>kernelArray</code>. They are defined on a grid of odd width, and
are used by <code>morph</code> and related functions. Kernel functions, by
contrast, are represented in R as a list containing a name and, optionally,
some parameters. The real implementation is in C++. They are defined
everywhere within the support of the kernel, and are used by
<code>resample</code> and friends. The key distinction is in whether the
kernel will always be centred exactly on the location of an existing value
in the data (for kernel arrays) or not (for kernel functions).
</p>
<p>The <code>kernelArray</code> and <code>kernelFunction</code> functions create objects of
the corresponding classes, while <code>isKernelArray</code> and
<code>isKernelFunction</code> test for them. In addition, <code>isKernel</code> returns
<code>TRUE</code> if its argument is of either kernel class.
</p>
<p>The remaining functions generate special-case kernels: <code>shapeKernel</code>
generates arrays with nonzero elements in a box, disc or diamond shape for
use with <code>morphology</code> functions; <code>gaussianKernel</code> generates
Gaussian coefficients and is used by <code>gaussianSmooth</code>;
<code>sobelKernel</code> generates the Sobel-Feldman gradient operator, for use by
<code>sobelFilter</code>; <code>boxKernel</code> is used for “nearest
neighbour” resampling, and <code>triangleKernel</code> for linear, bilinear, etc.
The Mitchell-Netravali kernel, a.k.a. BC-spline, is based on a family of
piecewise-cubic polynomial functions, with support of four times the pixel
separation in each dimension. The default parameters are the ones
recommended by Mitchell and Netravali as a good trade-off between various
artefacts, but other well-known special cases include B=1, C=0 (the cubic
B-spline) and B=0, C=0.5 (the Catmull-Rom spline). <code>mnKernel</code> is a
shorter alias for <code>mitchellNetravaliKernel</code>. Finally, the Lanczos
kernel is a five-lobe windowed sinc function.
</p>


<h3>Value</h3>

<p>For <code>isKernel</code>, <code>isKernelArray</code> and
<code>isKernelFunction</code>, a logical value. For <code>kernelArray</code>,
<code>shapeKernel</code>, <code>gaussianKernel</code> and <code>sobelKernel</code>, a kernel
array. For <code>kernelFunction</code>, <code>boxKernel</code>, <code>triangleKernel</code>,
<code>mitchellNetravaliKernel</code> and <code>mnKernel</code>, a kernel function.
</p>


<h3>Author(s)</h3>

<p>Jon Clayden &lt;code@clayden.org&gt;
</p>


<h3>References</h3>

<p>The Mitchell-Netravali kernel is described in the following
paper.
</p>
<p>D.P. Mitchell &amp; A.N. Netravali (1988). Reconstruction filters in computer
graphics. Computer Graphics 22(4):221-228.
</p>


<h3>See Also</h3>

<p><code>morph</code> for general application of kernel arrays to
data, <code>morphology</code> for mathematical morphology functions,
<code>resample</code> for resampling, and <code>gaussianSmooth</code>
for smoothing. Also see <code>sampleKernelFunction</code> for kernel
sampling and plotting.
</p>


<h3>Examples</h3>

<pre><code class="language-R">shapeKernel(c(3,5), type="diamond")
gaussianKernel(c(0.3,0.3))
mnKernel()
</code></pre>


</div>