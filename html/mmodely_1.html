<div class="container">

<table style="width: 100%;"><tr>
<td>average.fit.models</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate a weighted average of pglm</h2>

<h3>Description</h3>

<p>These function takes the output of pgls.iter and uses its list of objects  model fits, optimzations (e.g.AICc) and performs a weighted average on the ctoefficients estimated in the former by weighting by the latter. The parameters can also optionally be converted to binary by specifying "binary=FALSE" or just running the alias wraper function for assessing evidence of variable importance (Burnham &amp; Anderson 2000).
</p>


<h3>Usage</h3>

<pre><code class="language-R">average.fit.models(vars, fits, optims,weight='AICw',
         by=c('n','q','nXq','rwGsm')[1], round.digits=5, binary=FALSE, standardize=FALSE)
variable.importance(vars, fits, optims,weight='AICw',
         by=c('n','q','nXq','rwGsm')[1], round.digits=5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>variable names of model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fits</code></td>
<td>
<p>a list of PGLS model fits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optims</code></td>
<td>
<p>a list of PGLS optimization paramters (should include "AICw")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>a column name in the optims that specifies the weights to be used in the average</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>unique identifier used to group sub-datasets for reporting (defaults to n) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round.digits</code></td>
<td>
<p>the tnumber of decimal places of the resultant mean to ouput</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binary</code></td>
<td>
<p>converts all parameters to binary for presense or absense to calculate 'importance'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>standardize the coefficient estimates by partial standard deviations, according to Cade (2015)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of AICc difference weighted [AICw] averages of PGLS coefficients.
Also returns model 'selection' errors or the square root of 'uncertainties' (Burnham &amp; Anderson 2000) 
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data.path &lt;- system.file("extdata","primate-example.data.csv", package="mmodely")
data &lt;- read.csv(data.path, row.names=1)
pvs &lt;- names(data[3:5])
data$gn_sp &lt;- rownames(data)

tree.path &lt;- system.file("extdata","primate-springer.2012.tre", package="mmodely")
phyl &lt;- ape::read.tree(tree.path)[[5]]

comp &lt;- comp.data(phylo=phyl, df=data)

mods &lt;- get.model.combos(predictor.vars=pvs, outcome.var='OC', min.q=2)

PGLSi &lt;- pgls.iter(models=mods, phylo=phyl, df=data, k=1,l=1,d=1) 

average.fit.models(vars=c('mass.Kg','group.size'), fits=PGLSi$fits, optims=PGLSi$optim)
variable.importance(vars=c('mass.Kg','group.size'), fits=PGLSi$fits, optims=PGLSi$optim)

</code></pre>


</div>