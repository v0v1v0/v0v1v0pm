<div class="container">

<table style="width: 100%;"><tr>
<td>permutationImportance</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>computes permutation importance</h2>

<h3>Description</h3>

<p>computes the change in prediction error from permuting variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">permutationImportance(data, vars, y, model, nperm = 100L,
  predict.fun = function(object, newdata) predict(object, newdata =
  newdata), loss.fun = function(x, y) defaultLoss(x, y),
  contrast.fun = function(x, y) x - y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a <code>data.frame</code> including both <code>y</code> and <code>vars</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a character vector specifying columns of <code>data</code> to permute.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a character vector giving the name of the target/outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>an object with a predict method which returns a vector or matrix. presumably this object represents a model fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>positive integer giving the number of times to permute the indicated variables (default is 100).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.fun</code></td>
<td>
<p>what function to generate predictions using <code>model</code>. default is the predict method for <code>model</code>. the function must take two arguments, <code>object</code> and <code>newdata</code> and should return a vector or matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss.fun</code></td>
<td>
<p>what loss function to use to measure prediction errors. default is mean squared-error for ordered predictions and mean misclassification error for unordered prediction errors. this function must take two arguments, “x” and “y”, which operate on the output of <code>predict.fun</code> and <code>data[, y]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contrast.fun</code></td>
<td>
<p>what function to use to contrast the permuted and unpermuted predictions. default is the difference. this function takes two arguments “x” and “y”, which are the output of the <code>loss.fun</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a numeric vector or matrix, depending on <code>contrast.fun</code> and <code>loss.fun</code>, giving the change in prediction error from <code>nperm</code> permutations of <code>vars</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">X = replicate(3, rnorm(100))
y = X %*% runif(3)
data = data.frame(X, y)
fit = lm(y ~ -1 + X1 + X2 + X3, data)

permutationImportance(data, "X1", "y", fit)
</code></pre>


</div>