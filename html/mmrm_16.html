<div class="container">

<table style="width: 100%;"><tr>
<td>fit_single_optimizer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fitting an MMRM with Single Optimizer</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>This function helps to fit an MMRM using <code>TMB</code> with a single optimizer,
while capturing messages and warnings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fit_single_optimizer(
  formula,
  data,
  weights,
  reml = TRUE,
  ...,
  control = mmrm_control(...)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>(<code>formula</code>)<br> the model formula, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>data</code>)<br> the data to be used for the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>(<code>vector</code>)<br> an optional vector of weights to be used in the fitting process.
Should be NULL or a numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reml</code></td>
<td>
<p>(<code>flag</code>)<br> whether restricted maximum likelihood (REML) estimation is used,
otherwise maximum likelihood (ML) is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to <code>mmrm_control()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>(<code>mmrm_control</code>)<br> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>fit_single_optimizer</code> will fit the <code>mmrm</code> model using the <code>control</code> provided.
If there are multiple optimizers provided in <code>control</code>, only the first optimizer
will be used.
</p>


<h3>Value</h3>

<p>The <code>mmrm_fit</code> object, with additional attributes containing warnings,
messages, optimizer used and convergence status in addition to the
<code>mmrm_tmb</code> contents.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mod_fit &lt;- fit_single_optimizer(
  formula = FEV1 ~ RACE + SEX + ARMCD * AVISIT + us(AVISIT | USUBJID),
  data = fev_data,
  weights = rep(1, nrow(fev_data)),
  optimizer = "nlminb"
)
attr(mod_fit, "converged")
</code></pre>


</div>