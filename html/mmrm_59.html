<div class="container">

<table style="width: 100%;"><tr>
<td>mmrm_control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Control Parameters for Fitting an MMRM</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
Fine-grained specification of the MMRM fit details is possible using this
control function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mmrm_control(
  n_cores = 1L,
  method = c("Satterthwaite", "Kenward-Roger", "Kenward-Roger-Linear"),
  start = NULL,
  accept_singular = TRUE,
  drop_visit_levels = TRUE,
  ...,
  optimizers = h_get_optimizers(...)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p>(<code>int</code>)<br> number of cores to be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>(<code>string</code>)<br> adjustment method for degrees of freedom and
coefficients covariance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>(<code>numeric</code> or <code>NULL</code>)<br> optional start values for variance
parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accept_singular</code></td>
<td>
<p>(<code>flag</code>)<br> whether singular design matrices are reduced
to full rank automatically and additional coefficient estimates will be missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_visit_levels</code></td>
<td>
<p>(<code>flag</code>)<br> whether to drop levels for visit variable,
if visit variable is a factor, see details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>h_get_optimizers()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimizers</code></td>
<td>
<p>(<code>list</code>)<br> optimizer specification, created with <code>h_get_optimizers()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>drop_visit_levels</code> flag will decide whether unobserved visits will be kept for analysis.
For example, if the data only has observations at visits <code>VIS1</code>, <code>VIS3</code> and <code>VIS4</code>, by default
they are treated to be equally spaced, the distance from <code>VIS1</code> to <code>VIS3</code>, and from <code>VIS3</code> to <code>VIS4</code>,
are identical. However, you can manually convert this visit into a factor, with
<code>levels = c("VIS1", "VIS2", "VIS3", "VIS4")</code>, and also use <code>drop_visits_levels = FALSE</code>,
then the distance from <code>VIS1</code> to <code>VIS3</code> will be double, as <code>VIS2</code> is a valid visit.
However, please be cautious because this can lead to convergence failure
when using an unstructured covariance matrix and there are no observations
at the missing visits.
</p>


<h3>Value</h3>

<p>List of class <code>mmrm_control</code> with the control parameters.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mmrm_control(
  optimizer_fun = stats::optim,
  optimizer_args = list(method = "L-BFGS-B")
)
</code></pre>


</div>