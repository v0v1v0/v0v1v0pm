<div class="container">

<table style="width: 100%;"><tr>
<td>mmtsneP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multiple maps t-SNE with symmetric probability matrix</h2>

<h3>Description</h3>

<p><code>mmtsneP</code> estimates a multiple maps t-distributed stochastic neighbor
embedding (multiple maps t-SNE) model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mmtsneP(P, no_maps, no_dims = 2, max_iter = 500, momentum = 0.5,
  final_momentum = 0.8, mom_switch_iter = 250, eps = 1e-07)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>P</code></td>
<td>
<p>An <code class="reqn">N x N</code> symmetric joint probability distribution matrix.
These can be constructed from an <code class="reqn">N</code> by <code class="reqn">D</code> matrix with
<code>x2p</code> and <code>p2sp</code>. Alternatively, the wrapper
function <code>mmtsne</code> will wrap the matrix construction and
multiple maps t-SNE model estimation into a single step.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_maps</code></td>
<td>
<p>The number of maps (positive whole number) to be estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_dims</code></td>
<td>
<p>The number of dimensions per map. Typical values are 2 or 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_iter</code></td>
<td>
<p>The number of iterations to run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>momentum</code></td>
<td>
<p>Constant scaling factor for update momentum in gradient
descent algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>final_momentum</code></td>
<td>
<p>Constant scaling factor for update momentum in gradient
descent algorithm after the momentum switch point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mom_switch_iter</code></td>
<td>
<p>The iteration at which momentum switches from
<code>momentum</code> to <code>final_momentum</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps</code></td>
<td>
<p>A small positive value near zero.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This code is an almost direct port of the original multiple maps t-SNE Matlab
code by van der Maaten and Hinton (2012). <code>mmtsne</code> estimates a
multidimensional array of <code>N x no_dims x no_maps</code>. Each map is an
<code>N x no_dims</code> matrix of estimated t-SNE coordinates. When
<code>no_maps=1</code>, multiple maps t-SNE reduces to standard t-SNE.
</p>


<h3>Value</h3>

<p>A list that includes the following objects:
</p>

<dl>
<dt>Y</dt>
<dd>
<p>An <code>N x no_dims x no_maps</code> array of predicted coordinates.</p>
</dd>
<dt>weights</dt>
<dd>
<p>An <code>N x no_maps</code> matrix of unscaled weights. A high
weight on entry <code class="reqn">i, j</code> indicates a greater contribution of point
<code class="reqn">i</code> on map <code class="reqn">j</code>.</p>
</dd>
<dt>proportions</dt>
<dd>
<p>An <code>N x no_maps</code> matrix of scaled weights. A high
weight on entry <code class="reqn">i, j</code> indicates a greater contribution of point
<code class="reqn">i</code> on map <code class="reqn">j</code>.</p>
</dd>
</dl>
<h3>References</h3>

<p>L.J.P. van der Maaten and G.E. Hinton. “Visualizing Non-Metric
Similarities in Multiple Maps.” <em>Machine Learning</em> 87(1):33-55,
2012.
<a href="https://lvdmaaten.github.io/publications/papers/MachLearn_2012.pdf">PDF.</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load the iris dataset
data("iris")

# Produce a symmetric joint probability matrix
prob_matrix &lt;- p2sp(x2p(as.matrix(iris[,1:4])))

# Estimate a mmtsne model with 2 maps, 2 dimensions each
model &lt;- mmtsneP(prob_matrix, no_maps=2, max_iter=100)

# Plot the results side-by-side for inspection
# Points scaled by map proportion weights plus constant factor
par(mfrow=c(1,2))
plot(model$Y[,,1], col=iris$Species, cex=model$proportions[,1] + 0.2)
plot(model$Y[,,2], col=iris$Species, cex=model$proportions[,2] + 0.2)
par(mfrow=c(1,1))

</code></pre>


</div>