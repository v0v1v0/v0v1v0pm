<div class="container">

<table style="width: 100%;"><tr>
<td>getTMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculates Transition Matrix</h2>

<h3>Description</h3>

<p>Returns transition matrix from two columns in dataset. Supports relative, mixed,
and absolute transition matrices as well as handling an excluded value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getTMatrix(
  dat,
  col_x,
  col_y,
  type,
  probs = TRUE,
  num_ranks,
  exclude_value,
  bounds,
  rerank_exclude_value,
  strict = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>a dataframe with an "id" column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_x</code></td>
<td>
<p>a character string denoting the first column from dat to be used in the transition matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_y</code></td>
<td>
<p>a character string denoting the second column from dat to be used in the transition matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character string indicating the type of transition matrix;
accepts 'relative', 'mixed', and 'absolute'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>logical. If TRUE, values in transition matrix are probabilities;
if FALSE, values in transition matrix are counts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_ranks</code></td>
<td>
<p>an integer specifying the number of ranks for a relative or mixed transition matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_value</code></td>
<td>
<p>a single numeric value that is excluded in calculating the transition matrix;
see the rerank_exclude_value parameter to specify how the exclude value is handled</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bounds</code></td>
<td>
<p>a sequence of numeric bounds for defining absolute transition matrix ranks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rerank_exclude_value</code></td>
<td>
<p>a character string indicating how the exclude value is handled when present; accepts
'as_new_rank', 'as_existing_rank', and 'exclude'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>logical. If TRUE, transition matrix is calculated from the given values. If FALSE,
transition matrix is calculated by jittering the values to ensure uniqueness of bounds.
Only used with relative and mixed types.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a list with a transition matrix as a Matrix and vectors of the the x and y bounds corresponding to the ranks in the matrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(incomeMobility)
getTMatrix(dat = incomeMobility,
           col_x = 't0',
           col_y = 't9',
           type = 'relative',
           num_ranks = 5)
</code></pre>


</div>