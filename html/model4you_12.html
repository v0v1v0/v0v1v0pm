<div class="container">

<table style="width: 100%;"><tr>
<td>node_pmterminal</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Panel-Generator for Visualization of pmtrees</h2>

<h3>Description</h3>

<p>The plot method for party and constparty objects are rather flexible and can
be extended by panel functions. The pre-defined panel-generating function of
class grapcon_generator for pmtrees is documented here.
</p>


<h3>Usage</h3>

<pre><code class="language-R">node_pmterminal(
  obj,
  coeftable = TRUE,
  digits = 2,
  confint = TRUE,
  plotfun,
  nid = function(node) paste0(nam[id_node(node)], ", n = ", node$info$nobs),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>obj</code></td>
<td>
<p>an object of class party.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coeftable</code></td>
<td>
<p>logical or function. If logical: should a table with
coefficients be added to the plot (TRUE/FALSE)? If function: A function
comparable to <code>coeftable.survreg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer, used for formating numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confint</code></td>
<td>
<p>Should a confidence interval be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotfun</code></td>
<td>
<p>Plotting function to be used. Needs to be of format
<code>function(mod, data)</code> where <code>mod</code> is the model object.
See examples for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nid</code></td>
<td>
<p>function to retrieve info on what is plottet as node ids.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed on to plotfun.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">if(require("survival")) {
## compute survreg model
mod_surv &lt;- survreg(Surv(futime, fustat) ~ factor(rx), ovarian,
  dist = 'weibull')
survreg_plot(mod_surv)

## partition model and plot
tr_surv &lt;- pmtree(mod_surv)
plot(tr_surv, terminal_panel = node_pmterminal(tr_surv, plotfun = survreg_plot,
                                               confint = TRUE))
}

if(require("survival") &amp; require("TH.data")) {
  ## Load data
  data(GBSG2, package = "TH.data")

  ## Weibull model
  bmod &lt;- survreg(Surv(time, cens) ~ horTh, data = GBSG2, model = TRUE)

  ## Coefficient table
  grid.newpage()
  coeftable.survreg(bmod)

  ## partitioned model
  tr &lt;- pmtree(bmod)

  ## plot with specific coeftable
  plot(tr, terminal_panel = node_pmterminal(tr, plotfun = survreg_plot,
    confint = TRUE, coeftable = coeftable.survreg))
}

</code></pre>


</div>