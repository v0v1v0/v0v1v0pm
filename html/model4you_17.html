<div class="container">

<table style="width: 100%;"><tr>
<td>objfun.pmtree</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Objective function of a given pmtree</h2>

<h3>Description</h3>

<p>Returns the contributions to the objective function or the 
sum thereof (if <code>sum = TRUE</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'pmtree'
objfun(x, newdata = NULL, weights = NULL, perm = NULL, sum = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>pmtree object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>an optional new data frame for which to compute the sum of 
objective functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perm</code></td>
<td>
<p>the number of permutations performed (see <code>varimp</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum</code></td>
<td>
<p>should the sum of objective functions be computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed on to <code>predict.party</code>.
</p>
<p>Note that <code>objfun.pmtree(x, sum = TRUE)</code> is much faster than
<code>sum(objfun.pmtree(x))</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>objective function or the sum thereof
</p>


<h3>Examples</h3>

<pre><code class="language-R">## generate data
set.seed(2)
n &lt;- 1000
trt &lt;- factor(rep(1:2, each = n/2))
age &lt;- sample(40:60, size = n, replace = TRUE)
eff &lt;- -1 + I(trt == 2) + 1 * I(trt == 2) * I(age &gt; 50)
expit &lt;- function(x) 1/(1 + exp(-x))
success &lt;- rbinom(n = n, size = 1, prob = expit(eff))
dat &lt;- data.frame(success, trt, age)

## compute base model
bmod1 &lt;- glm(success ~ trt, data = dat, family = binomial)

## copmute tree
(tr1 &lt;- pmtree(bmod1, data = dat))

## compute log-Likelihood
logLik(tr1)
objfun(tr1, newdata = dat, sum = TRUE)
objfun(tr1, sum = TRUE)

## log-Likelihood contributions of first 
## 5 observations
nd &lt;- dat[1:5, ]
objfun(tr1, newdata = nd)
</code></pre>


</div>