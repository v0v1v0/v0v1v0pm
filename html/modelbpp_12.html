<div class="container">

<table style="width: 100%;"><tr>
<td>get_add</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Models That Are Less Restricted</h2>

<h3>Description</h3>

<p>Generate a list of
models with one or more fixed
parameter freed.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_add(
  sem_out,
  must_add = NULL,
  must_not_add = NULL,
  remove_constraints = TRUE,
  exclude_error_cov = TRUE,
  exclude_feedback = FALSE,
  exclude_xy_cov = FALSE,
  df_change = 1,
  model_id = NA,
  keep_correct_df_change = TRUE,
  remove_duplicated = TRUE,
  progress = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sem_out</code></td>
<td>
<p>The original model,
which is the output from an
structural equation modeling
function. Currently support
lavaan::lavaan objects only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>must_add</code></td>
<td>
<p>A character vector
of parameters, named in
<code>lavaan::lavaan()</code> style (e.g.,
<code>"y ~ x"</code>), that must be added.
Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>must_not_add</code></td>
<td>
<p>A character
vector of parameters, named in
<code>lavaan::lavaan()</code> style (e.g.,
<code>"x1 ~~ x1"</code>), that must not be
added. Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_constraints</code></td>
<td>
<p>Whether
equality constraints will be
removed. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_error_cov</code></td>
<td>
<p>Exclude
error covariances of indicators.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_feedback</code></td>
<td>
<p>Exclude
paths that will result in a feedback
loop. For example, if there is
path from <code>x</code> through <code>m</code> to <code>y</code>,
then the path <code>x ~ y</code> will create
a feedback loop. Default is <code>FALSE</code>
for now, to maintain backward
compatibility.
Do not rely on the default value
because it will be changed to <code>TRUE</code>
in a future major version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exclude_xy_cov</code></td>
<td>
<p>Exclude
covariance between two variables,
in which one has a path to another.
For example, if there is
path from <code>x</code> through <code>m</code> to <code>y</code>,
then the covariance <code>x ~~ y</code>,
which denotes the covariance between
<code>x</code> and the error term of <code>y</code>, will
be excluded if this argument is
<code>TRUE</code>. Default is <code>FALSE</code> for now,
to maintain backward compatibility.
Do not rely on the default value
because it will be changed to <code>TRUE</code>
in a future major version.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_change</code></td>
<td>
<p>How many degrees
of freedom (<em>df</em>) away in the list.
All models with <em>df</em> change less than
or equal to this number will be
included, taking into account
requirements set by other arguments.
Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_id</code></td>
<td>
<p>The identification
number of the starting model.
Default is <code>NA</code>, no identification
number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_correct_df_change</code></td>
<td>
<p>Keep
only models with actual <em>df</em> change
equal to expected <em>df</em> change.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_duplicated</code></td>
<td>
<p>If <code>TRUE</code>,
the default, duplicated models are
removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>Whether a progress
bar will be displayed, implemented
by the <code>pbapply</code> package. Default
is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It generates a list of models
with one or more fixed parameter
freed (and the degrees of freedom, <em>df</em>,
increases by one or more). If a
model has equality constraints, models
with one or more of the constraints
between two free parameters
released will also be included.
</p>
<p>Graphically, paths or covariances
are "added" to form the list of models.
</p>
<p>The models to be included are
identified by
<code>lavaan::modificationIndices()</code>.
</p>
<p>The models will be checked by <code>lavaan</code>
to make sure that the decrease in
model degrees of freedom is of the
expected value.
</p>
<p>This function is called by
<code>model_set()</code> and usually users do
not need to call it. It is exported
for advanced users.
</p>


<h3>Value</h3>

<p>An object of the class
<code>partables</code>, a named list of parameter
tables, each of them to be used by
<code>lavaan::lavaan()</code> or <code>update()</code>
for fitting a model with the added
parameters.
</p>


<h3>Author(s)</h3>

<p>Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448">https://orcid.org/0000-0002-9871-9448</a>
</p>


<h3>See Also</h3>

<p><code>print.partables()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(lavaan)
dat &lt;- dat_path_model
mod &lt;-
"
x3 ~ a*x1 + b*x2
x4 ~ a*x1
ab := a*b
"
fit &lt;- sem(mod, dat_path_model, fixed.x = TRUE)
mod_to_add &lt;- get_add(fit)
mod_to_add

</code></pre>


</div>