<div class="container">

<table style="width: 100%;"><tr>
<td>modelplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model Summary Plots with Estimates and Confidence Intervals</h2>

<h3>Description</h3>

<p>Dot-Whisker plot of coefficient estimates with confidence intervals. For
more information, see the Details and Examples sections below, and the
vignettes on the <code>modelsummary</code> website:
https://modelsummary.com/
</p>

<ul><li> <p><a href="https://modelsummary.com/articles/modelplot.html">modelplot Vignette.</a>
</p>
</li></ul>
<h3>Usage</h3>

<pre><code class="language-R">modelplot(
  models,
  conf_level = 0.95,
  coef_map = NULL,
  coef_omit = NULL,
  coef_rename = NULL,
  vcov = NULL,
  exponentiate = FALSE,
  add_rows = NULL,
  facet = FALSE,
  draw = TRUE,
  background = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>models</code></td>
<td>
<p>a model, (named) list of models, or nested list of models.
</p>

<ul>
<li>
<p> Single model: <code>modelsummary(model)</code>
</p>
</li>
<li>
<p> Unnamed list of models: <code>modelsummary(list(model1, model2))</code>
</p>

<ul><li>
<p> Models are labelled automatically. The default label style can be altered by setting a global option. See below.
</p>
</li></ul>
</li>
<li>
<p> Named list of models: <code>modelsummary(list("A"=model1, "B"=model2))</code>
</p>

<ul><li>
<p> Models are labelled using the list names.
</p>
</li></ul>
</li>
<li>
<p> Nested list of models:
</p>

<ul><li>
<p> When using the <code>shape</code> argument with "rbind", "rcollapse", or "cbind" values, <code>models</code> can be a nested list of models to display "panels" or "stacks" of regression models. See the <code>shape</code> argument documentation and examples below.
</p>
</li></ul>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_level</code></td>
<td>
<p>numeric value between 0 and 1. confidence level to use for
confidence intervals. Setting this argument to <code>NULL</code> does not extract
confidence intervals, which can be faster for some models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_map</code></td>
<td>
<p>character vector. Subset, rename, and reorder coefficients.
Coefficients omitted from this vector are omitted from the table. The order
of the vector determines the order of the table. <code>coef_map</code> can be a named
or an unnamed character vector. If <code>coef_map</code> is a named vector, its values
define the labels that must appear in the table, and its names identify the
original term names stored in the model object: <code>c("hp:mpg"="HPxM/G")</code>. See
Examples section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_omit</code></td>
<td>
<p>integer vector or regular expression to identify which coefficients to omit (or keep) from the table. Positive integers determine which coefficients to omit. Negative integers determine which coefficients to keep. A regular expression can be used to omit coefficients, and perl-compatible "negative lookaheads" can be used to specify which coefficients to <em>keep</em> in the table. Examples:
</p>

<ul>
<li>
<p> c(2, 3, 5): omits the second, third, and fifth coefficients.
</p>
</li>
<li>
<p> c(-2, -3, -5): negative values keep the second, third, and fifth coefficients.
</p>
</li>
<li> <p><code>"ei"</code>: omit coefficients matching the "ei" substring.
</p>
</li>
<li> <p><code>"^Volume$"</code>: omit the "Volume" coefficient.
</p>
</li>
<li> <p><code>"ei|rc"</code>: omit coefficients matching either the "ei" or the "rc" substrings.
</p>
</li>
<li> <p><code>"^(?!Vol)"</code>: keep coefficients starting with "Vol" (inverse match using a negative lookahead).
</p>
</li>
<li> <p><code>"^(?!.*ei)"</code>: keep coefficients matching the "ei" substring.
</p>
</li>
<li> <p><code>"^(?!.*ei|.*pt)"</code>: keep coefficients matching either the "ei" or the "pt" substrings.
</p>
</li>
<li>
<p> See the Examples section below for complete code.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef_rename</code></td>
<td>
<p>logical, named or unnamed character vector, or function
</p>

<ul>
<li>
<p> Logical: TRUE renames variables based on the "label" attribute of each column. See the Example section below.
</p>
</li>
<li>
<p> Unnamed character vector of length equal to the number of coefficients in the final table, after <code>coef_omit</code> is applied.
</p>
</li>
<li>
<p> Named character vector: Values refer to the variable names that will appear in the table. Names refer to the original term names stored in the model object. Ex: c("hp:mpg"="hp X mpg")
</p>
</li>
<li>
<p> Function: Accepts a character vector of the model's term names and returns a named vector like the one described above. The <code>modelsummary</code> package supplies a <code>coef_rename()</code> function which can do common cleaning tasks: <code>modelsummary(model, coef_rename = coef_rename)</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov</code></td>
<td>
<p>robust standard errors and other manual statistics. The <code>vcov</code>
argument accepts six types of input (see the 'Details' and 'Examples'
sections below):
</p>

<ul>
<li>
<p> NULL returns the default uncertainty estimates of the model object
</p>
</li>
<li>
<p> string, vector, or (named) list of strings. "iid", "classical", and "constant" are aliases for <code>NULL</code>, which returns the model's default uncertainty estimates. The strings "HC", "HC0", "HC1" (alias: "stata"), "HC2", "HC3" (alias: "robust"), "HC4", "HC4m", "HC5", "HAC", "NeweyWest", "Andrews", "panel-corrected", "outer-product", and "weave" use variance-covariance matrices computed using functions from the <code>sandwich</code> package, or equivalent method. "BS", "bootstrap", "residual", "mammen", "webb", "xy", "wild" use the <code>sandwich::vcovBS()</code>. The behavior of those functions can (and sometimes <em>must</em>) be altered by passing arguments to <code>sandwich</code> directly from <code>modelsummary</code> through the ellipsis (<code>...</code>), but it is safer to define your own custom functions as described in the next bullet.
</p>
</li>
<li>
<p> function or (named) list of functions which return variance-covariance matrices with row and column names equal to the names of your coefficient estimates (e.g., <code>stats::vcov</code>, <code>sandwich::vcovHC</code>, <code>function(x) vcovPC(x, cluster="country")</code>).
</p>
</li>
<li>
<p> formula or (named) list of formulas with the cluster variable(s) on the right-hand side (e.g., ~clusterid).
</p>
</li>
<li>
<p> named list of <code>length(models)</code> variance-covariance matrices with row and column names equal to the names of your coefficient estimates.
</p>
</li>
<li>
<p> a named list of length(models) vectors with names equal to the names of your coefficient estimates. See 'Examples' section below. Warning: since this list of vectors can include arbitrary strings or numbers, <code>modelsummary</code> cannot automatically calculate p values. The <code>stars</code> argument may thus use incorrect significance thresholds when <code>vcov</code> is a list of vectors.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exponentiate</code></td>
<td>
<p>TRUE, FALSE, or logical vector of length equal to the
number of models. If TRUE, the <code>estimate</code>, <code>conf.low</code>, and <code>conf.high</code>
statistics are exponentiated, and the <code>std.error</code> is transformed to
<code>exp(estimate)*std.error</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_rows</code></td>
<td>
<p>a data.frame (or tibble) with the same number of columns as
your main table. By default, rows are appended to the bottom of the table.
You can define a "position" attribute of integers to set the row positions.
See Examples section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p>TRUE or FALSE. When the 'models' argument includes several
model objects, TRUE draws terms in separate facets, and FALSE draws terms
side-by-side (dodged).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw</code></td>
<td>
<p>TRUE returns a 'ggplot2' object, FALSE returns the data.frame
used to draw the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>A list of 'ggplot2' geoms to add to the background of the
plot.  This is especially useful to display annotations "behind" the
'geom_pointrange' that 'modelplot' draws.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>all other arguments are passed through to three functions. See the documentation of these functions for lists of available arguments.
</p>

<ul>
<li> <p>parameters::model_parameters extracts parameter estimates. Available arguments depend on model type, but include:
</p>

<ul><li> <p><code>standardize</code>, <code>include_reference</code>, <code>centrality</code>, <code>dispersion</code>, <code>test</code>, <code>ci_method</code>, <code>prior</code>, <code>diagnostic</code>, <code>rope_range</code>, <code>power</code>, <code>cluster</code>, etc.
</p>
</li></ul>
</li>
<li> <p>performance::model_performance extracts goodness-of-fit statistics. Available arguments depend on model type, but include:
</p>

<ul><li> <p><code>metrics</code>, <code>estimator</code>, etc.
</p>
</li></ul>
</li>
<li> <p>tinytable::tt, kableExtra::kbl or gt::gt draw tables, depending on the value of the <code>output</code> argument. For example, by default <code>modelsummary</code> creates tables with tinytable::tt, which accepts a <code>width</code> and <code>theme</code> arguments.
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Examples</h3>

<div class="sourceCode r"><pre>library(modelsummary)

# single model
mod &lt;- lm(hp ~ vs + drat, mtcars)
modelplot(mod)

# omit terms with string matches or regexes
modelplot(mod, coef_omit = 'Interc')

# rename, reorder and subset with 'coef_map'
cm &lt;- c('vs' = 'V-shape engine',
  'drat' = 'Rear axle ratio')
modelplot(mod, coef_map = cm)

# several models
models &lt;- list()
models[['Small model']] &lt;- lm(hp ~ vs, mtcars)
models[['Medium model']] &lt;- lm(hp ~ vs + factor(cyl), mtcars)
models[['Large model']] &lt;- lm(hp ~ vs + drat + factor(cyl), mtcars)
modelplot(models)

# add_rows: add an empty reference category

mod &lt;- lm(hp ~ factor(cyl), mtcars)

add_rows = data.frame(
  term = "factory(cyl)4",
  model = "(1)",
  estimate = NA)
attr(add_rows, "position") = 3
modelplot(mod, add_rows = add_rows)


# customize your plots with 'ggplot2' functions
library(ggplot2)

modelplot(models) +
  scale_color_brewer(type = 'qual') +
  theme_classic()

# pass arguments to 'geom_pointrange' through the ... ellipsis
modelplot(mod, color = 'red', size = 1, fatten = .5)

# add geoms to the background, behind geom_pointrange
b &lt;- list(geom_vline(xintercept = 0, color = 'orange'),
  annotate("rect", alpha = .1,
    xmin = -.5, xmax = .5,
    ymin = -Inf, ymax = Inf),
  geom_point(aes(y = term, x = estimate), alpha = .3,
    size = 10, color = 'red', shape = 'square'))
modelplot(mod, background = b)

# logistic regression example
df &lt;- as.data.frame(Titanic)
mod_titanic &lt;- glm(
  Survived ~ Class + Sex,
  family = binomial,
  weight = Freq,
  data = df
)

# displaying odds ratio using a log scale
modelplot(mod_titanic, exponentiate = TRUE) +
  scale_x_log10() +
  xlab("Odds Ratios and 95% confidence intervals")
</pre></div>


<h3>References</h3>

<p>Arel-Bundock V (2022). “modelsummary: Data and Model Summaries in R.” <em>Journal of Statistical Software</em>, <em>103</em>(1), 1-23. <a href="https://doi.org/10.18637/jss.v103.i01">doi:10.18637/jss.v103.i01</a>.'
</p>


</div>