<div class="container">

<table style="width: 100%;"><tr>
<td>plot_modeltime_forecast</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interactive Forecast Visualization</h2>

<h3>Description</h3>

<p>This is a wrapper for <code>timetk::plot_time_series()</code> that generates an interactive (<code>plotly</code>) or static
(<code>ggplot2</code>) plot with the forecasted data.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_modeltime_forecast(
  .data,
  .conf_interval_show = TRUE,
  .conf_interval_fill = "grey20",
  .conf_interval_alpha = 0.2,
  .smooth = FALSE,
  .legend_show = TRUE,
  .legend_max_width = 40,
  .facet_ncol = 1,
  .facet_nrow = 1,
  .facet_scales = "free_y",
  .title = "Forecast Plot",
  .x_lab = "",
  .y_lab = "",
  .color_lab = "Legend",
  .interactive = TRUE,
  .plotly_slider = FALSE,
  .trelliscope = FALSE,
  .trelliscope_params = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A <code>tibble</code> that is the output of <code>modeltime_forecast()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.conf_interval_show</code></td>
<td>
<p>Logical. Whether or not to include the confidence interval as a ribbon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.conf_interval_fill</code></td>
<td>
<p>Fill color for the confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.conf_interval_alpha</code></td>
<td>
<p>Fill opacity for the confidence interval. Range (0, 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.smooth</code></td>
<td>
<p>Logical - Whether or not to include a trendline smoother.
Uses See <code>smooth_vec()</code> to apply a LOESS smoother.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.legend_show</code></td>
<td>
<p>Logical. Whether or not to show the legend.
Can save space with long model descriptions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.legend_max_width</code></td>
<td>
<p>Numeric. The width of truncation to apply to the legend text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.facet_ncol</code></td>
<td>
<p>Number of facet columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.facet_nrow</code></td>
<td>
<p>Number of facet rows (only used for <code>.trelliscope = TRUE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.facet_scales</code></td>
<td>
<p>Control facet x &amp; y-axis ranges.
Options include "fixed", "free", "free_y", "free_x"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.title</code></td>
<td>
<p>Title for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.x_lab</code></td>
<td>
<p>X-axis label for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.y_lab</code></td>
<td>
<p>Y-axis label for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.color_lab</code></td>
<td>
<p>Legend label if a <code>color_var</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.interactive</code></td>
<td>
<p>Returns either a static (<code>ggplot2</code>) visualization or an interactive (<code>plotly</code>) visualization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.plotly_slider</code></td>
<td>
<p>If <code>TRUE</code>, returns a plotly date range slider.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.trelliscope</code></td>
<td>
<p>Returns either a normal plot or a trelliscopejs plot (great for many time series)
Must have <code>trelliscopejs</code> installed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.trelliscope_params</code></td>
<td>
<p>Pass parameters to the <code>trelliscopejs::facet_trelliscope()</code> function as a <code>list()</code>.
The only parameters that cannot be passed are:
</p>

<ul>
<li> <p><code>ncol</code>: use <code>.facet_ncol</code>
</p>
</li>
<li> <p><code>nrow</code>: use <code>.facet_nrow</code>
</p>
</li>
<li> <p><code>scales</code>: use <code>facet_scales</code>
</p>
</li>
<li> <p><code>as_plotly</code>: use <code>.interactive</code>
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>timetk::plot_time_series()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A static <code>ggplot2</code> plot or an interactive <code>plotly</code> plot containing a forecast
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(lubridate)
library(timetk)
library(parsnip)
library(rsample)

# Data
m750 &lt;- m4_monthly %&gt;% filter(id == "M750")

# Split Data 80/20
splits &lt;- initial_time_split(m750, prop = 0.9)

# --- MODELS ---

# Model 1: prophet ----
model_fit_prophet &lt;- prophet_reg() %&gt;%
    set_engine(engine = "prophet") %&gt;%
    fit(value ~ date, data = training(splits))


# ---- MODELTIME TABLE ----

models_tbl &lt;- modeltime_table(
    model_fit_prophet
)

# ---- FORECAST ----

models_tbl %&gt;%
    modeltime_calibrate(new_data = testing(splits)) %&gt;%
    modeltime_forecast(
        new_data    = testing(splits),
        actual_data = m750
    ) %&gt;%
    plot_modeltime_forecast(.interactive = FALSE)

</code></pre>


</div>