<div class="container">

<table style="width: 100%;"><tr>
<td>plot_modeltime_residuals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interactive Residuals Visualization</h2>

<h3>Description</h3>

<p>This is a wrapper for examining residuals using:
</p>

<ul>
<li>
<p> Time Plot: <code>timetk::plot_time_series()</code>
</p>
</li>
<li>
<p> ACF Plot: <code>timetk::plot_acf_diagnostics()</code>
</p>
</li>
<li>
<p> Seasonality Plot: <code>timetk::plot_seasonal_diagnostics()</code>
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">plot_modeltime_residuals(
  .data,
  .type = c("timeplot", "acf", "seasonality"),
  .smooth = FALSE,
  .legend_show = TRUE,
  .legend_max_width = 40,
  .title = "Residuals Plot",
  .x_lab = "",
  .y_lab = "",
  .color_lab = "Legend",
  .interactive = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A <code>tibble</code> that is the output of <code>modeltime_residuals()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.type</code></td>
<td>
<p>One of "timeplot", "acf", or "seasonality". The default is "timeplot".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.smooth</code></td>
<td>
<p>Logical - Whether or not to include a trendline smoother.
Uses See <code>smooth_vec()</code> to apply a LOESS smoother.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.legend_show</code></td>
<td>
<p>Logical. Whether or not to show the legend.
Can save space with long model descriptions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.legend_max_width</code></td>
<td>
<p>Numeric. The width of truncation to apply to the legend text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.title</code></td>
<td>
<p>Title for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.x_lab</code></td>
<td>
<p>X-axis label for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.y_lab</code></td>
<td>
<p>Y-axis label for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.color_lab</code></td>
<td>
<p>Legend label if a <code>color_var</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.interactive</code></td>
<td>
<p>Returns either a static (<code>ggplot2</code>) visualization or an interactive (<code>plotly</code>) visualization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to:
</p>

<ul>
<li>
<p> Time Plot: <code>timetk::plot_time_series()</code>
</p>
</li>
<li>
<p> ACF Plot: <code>timetk::plot_acf_diagnostics()</code>
</p>
</li>
<li>
<p> Seasonality Plot: <code>timetk::plot_seasonal_diagnostics()</code>
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A static <code>ggplot2</code> plot or an interactive <code>plotly</code> plot containing residuals vs time
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(dplyr)
library(timetk)
library(parsnip)
library(rsample)

# Data
m750 &lt;- m4_monthly %&gt;% filter(id == "M750")

# Split Data 80/20
splits &lt;- initial_time_split(m750, prop = 0.9)

# --- MODELS ---

# Model 1: prophet ----
model_fit_prophet &lt;- prophet_reg() %&gt;%
    set_engine(engine = "prophet") %&gt;%
    fit(value ~ date, data = training(splits))


# ---- MODELTIME TABLE ----

models_tbl &lt;- modeltime_table(
    model_fit_prophet
)

# ---- RESIDUALS ----

residuals_tbl &lt;- models_tbl %&gt;%
    modeltime_calibrate(new_data = testing(splits)) %&gt;%
    modeltime_residuals()

residuals_tbl %&gt;%
    plot_modeltime_residuals(
        .type = "timeplot",
        .interactive = FALSE
    )

</code></pre>


</div>