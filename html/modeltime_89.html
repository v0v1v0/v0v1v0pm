<div class="container">

<table style="width: 100%;"><tr>
<td>modeltime_nested_fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Tidymodels Workflows to Nested Time Series</h2>

<h3>Description</h3>

<p>Fits one or more <code>tidymodels</code> workflow objects to nested time series data using the following process:
</p>

<ol>
<li>
<p> Models are iteratively fit to training splits.
</p>
</li>
<li>
<p> Accuracy is calculated on testing splits and is logged.
Accuracy results can be retrieved with <code>extract_nested_test_accuracy()</code>
</p>
</li>
<li>
<p> Any model that returns an error is logged.
Error logs can be retrieved with <code>extract_nested_error_report()</code>
</p>
</li>
<li>
<p> Forecast is predicted on testing splits and is logged.
Forecast results can be retrieved with <code>extract_nested_test_forecast()</code>
</p>
</li>
</ol>
<h3>Usage</h3>

<pre><code class="language-R">modeltime_nested_fit(
  nested_data,
  ...,
  model_list = NULL,
  metric_set = default_forecast_accuracy_metric_set(),
  conf_interval = 0.95,
  conf_method = "conformal_default",
  control = control_nested_fit()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nested_data</code></td>
<td>
<p>Nested time series data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Tidymodels <code>workflow</code> objects that will be fit to the nested time series data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_list</code></td>
<td>
<p>Optionally, a <code>list()</code> of Tidymodels <code>workflow</code> objects can be provided</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric_set</code></td>
<td>
<p>A <code>yardstick::metric_set()</code> that is used to summarize one or more
forecast accuracy (regression) metrics.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_interval</code></td>
<td>
<p>An estimated confidence interval based on the calibration data.
This is designed to estimate future confidence from <em>out-of-sample prediction error</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf_method</code></td>
<td>
<p>Algorithm used to produce confidence intervals. All CI's are Conformal Predictions. Choose one of:
</p>

<ul>
<li> <p><code>conformal_default</code>: Uses <code>qnorm()</code> to compute quantiles from out-of-sample (test set) residuals.
</p>
</li>
<li> <p><code>conformal_split</code>: Uses the split method split conformal inference method described by Lei <em>et al</em> (2018)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>Used to control verbosity and parallel processing. See <code>control_nested_fit()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>Preparing Data for Nested Forecasting</h4>

<p>Use <code>extend_timeseries()</code>, <code>nest_timeseries()</code>, and <code>split_nested_timeseries()</code> for preparing
data for Nested Forecasting. The structure must be a nested data frame, which is suppplied in
<code>modeltime_nested_fit(nested_data)</code>.
</p>



<h4>Fitting Models</h4>

<p>Models must be in the form of <code style="white-space: pre;">⁠tidymodels workflow⁠</code> objects. The models can be provided in two ways:
</p>

<ol>
<li>
<p> Using <code>...</code> (dots): The workflow objects can be provided as dots.
</p>
</li>
<li>
<p> Using <code>model_list</code> parameter: You can supply one or more workflow objects that are wrapped in a <code>list()</code>.
</p>
</li>
</ol>
<h4>Controlling the fitting process</h4>

<p>A <code>control</code> object can be provided during fitting to adjust the verbosity and parallel processing.
See <code>control_nested_fit()</code>.
</p>



</div>