<div class="container">

<table style="width: 100%;"><tr>
<td>marg.ivreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predicted Margins for 'ivreg' objects from the <code>AER</code> package</h2>

<h3>Description</h3>

<p>Obtains predicted margins and standard errors
of those predictions from a fitted <code>ivreg</code> model object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'ivreg'
marg(mod, var_interest, data, weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>model object, currently only support those of class <code>glm</code>
or <code>ivreg</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_interest</code></td>
<td>
<p>name of the variable of interest, must correspond to a
covariate in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>data.frame that margins should run over, defaults changes based
on class-specific method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>numeric, vector of weights used to generate predicted levels,
defaults changes based on class-specific method. Must be equal to the number
of rows in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters passed to <code>?marg</code>.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R"># From ?AER::ivreg

# data
data("CigarettesSW", package = "AER")
CigarettesSW$rprice &lt;- with(CigarettesSW, price/cpi)
CigarettesSW$rincome &lt;- with(CigarettesSW, income/population/cpi)
CigarettesSW$tdiff &lt;- with(CigarettesSW, (taxs - tax)/cpi)

# model
fm &lt;- AER::ivreg(log(packs) ~ log(rprice) + log(rincome) |
                   log(rincome) + tdiff + I(tax/cpi),
                 data = CigarettesSW, subset = year == "1995")

# Get margins for different levels of price/cpi
rprice_levs &lt;- round(quantile(CigarettesSW$rprice))

marg(fm, data = subset(CigarettesSW, year == "1995"),
     var_interest = 'rprice', at_var_interest = rprice_levs)

</code></pre>


</div>