<div class="container">

<table style="width: 100%;"><tr>
<td>modsem_pi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interaction between latent variables using product indicators</h2>

<h3>Description</h3>

<p><code>modsem_pi()</code> is a function for estimating interaction effects between latent variables, 
in structural equation models (SEMs), using product indicators.
Methods for estimating interaction effects in SEMs can basically be split into 
two frameworks: 
1. Product Indicator based approaches (<code>"dblcent"</code>, <code>"rca"</code>, <code>"uca"</code>, 
<code>"ca"</code>, <code>"pind"</code>), and 
2. Distributionally based approaches (<code>"lms"</code>, <code>"qml"</code>).
<code>modsem_pi()</code> is essentially a fancy wrapper for <code>lavaan::sem()</code> which generates the 
necessary syntax and variables for the estimation of models with latent product indicators.
Use <code>default_settings_pi()</code> to get the default settings for the different methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">modsem_pi(
  model.syntax = NULL,
  data = NULL,
  method = "dblcent",
  match = NULL,
  standardize.data = FALSE,
  center.data = FALSE,
  first.loading.fixed = TRUE,
  center.before = NULL,
  center.after = NULL,
  residuals.prods = NULL,
  residual.cov.syntax = NULL,
  constrained.prod.mean = NULL,
  constrained.loadings = NULL,
  constrained.var = NULL,
  constrained.res.cov.method = NULL,
  auto.scale = "none",
  auto.center = "none",
  estimator = "ML",
  group = NULL,
  run = TRUE,
  suppress.warnings.lavaan = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model.syntax</code></td>
<td>
<p><code>lavaan</code> syntax</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>dataframe</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>method to use:
<code>"rca"</code> = residual centering approach (passed to <code>lavaan</code>),
<code>"uca"</code> = unconstrained approach (passed to <code>lavaan</code>),
<code>"dblcent"</code> = double centering approach (passed to <code>lavaan</code>),
<code>"pind"</code> = prod ind approach, with no constraints or centering (passed to <code>lavaan</code>),
<code>"custom"</code> = use parameters specified in the function call (passed to <code>lavaan</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match</code></td>
<td>
<p>should the product indicators be created by using the match-strategy</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize.data</code></td>
<td>
<p>should data be scaled before fitting model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center.data</code></td>
<td>
<p>should data be centered before fitting model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first.loading.fixed</code></td>
<td>
<p>Should the first factor loading in the latent product be fixed to one?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center.before</code></td>
<td>
<p>should indicators in products be centered before computing products (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center.after</code></td>
<td>
<p>should indicator products be centered after they have been computed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals.prods</code></td>
<td>
<p>should indicator products be centered using residuals (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residual.cov.syntax</code></td>
<td>
<p>should syntax for residual covariances be produced (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrained.prod.mean</code></td>
<td>
<p>should syntax for product mean be produced (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrained.loadings</code></td>
<td>
<p>should syntax for constrained loadings be produced (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrained.var</code></td>
<td>
<p>should syntax for constrained variances be produced (overwritten by <code>method</code>, if <code>method != NULL</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constrained.res.cov.method</code></td>
<td>
<p>method for constraining residual covariances</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.scale</code></td>
<td>
<p>methods which should be scaled automatically (usually not useful)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.center</code></td>
<td>
<p>methods which should be centered automatically (usually not useful)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimator</code></td>
<td>
<p>estimator to use in <code>lavaan</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>group variable for multigroup analysis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run</code></td>
<td>
<p>should the model be run via <code>lavaan</code>, if <code>FALSE</code> only modified syntax and data is returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>suppress.warnings.lavaan</code></td>
<td>
<p>should warnings from <code>lavaan</code> be suppressed?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to other functions, e.g., <code>lavaan</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>modsem</code> object
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(modsem)
# For more examples, check README and/or GitHub.
# One interaction
m1 &lt;- '
  # Outer Model
  X =~ x1 + x2 +x3
  Y =~ y1 + y2 + y3
  Z =~ z1 + z2 + z3
  
  # Inner model
  Y ~ X + Z + X:Z 
'

# Double centering approach
est1 &lt;- modsem_pi(m1, oneInt)
summary(est1)

## Not run: 
# The Constrained Approach 
est1Constrained &lt;- modsem_pi(m1, oneInt, method = "ca")
summary(est1Constrained)

## End(Not run)

# Theory Of Planned Behavior
tpb &lt;- ' 
# Outer Model (Based on Hagger et al., 2007)
  ATT =~ att1 + att2 + att3 + att4 + att5
  SN =~ sn1 + sn2
  PBC =~ pbc1 + pbc2 + pbc3
  INT =~ int1 + int2 + int3
  BEH =~ b1 + b2

# Inner Model (Based on Steinmetz et al., 2011)
  # Covariances
  ATT ~~ SN + PBC
  PBC ~~ SN 
  # Causal Relationships
  INT ~ ATT + SN + PBC
  BEH ~ INT + PBC 
  BEH ~ INT:PBC  
'

# Double centering approach
estTpb &lt;- modsem_pi(tpb, data = TPB)
summary(estTpb)

## Not run: 
# The Constrained Approach 
estTpbConstrained &lt;- modsem_pi(tpb, data = TPB, method = "ca")
summary(estTpbConstrained)

## End(Not run)
</code></pre>


</div>