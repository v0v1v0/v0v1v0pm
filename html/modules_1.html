<div class="container">

<table style="width: 100%;"><tr>
<td>amodule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define Augmented and Parameterized Modules</h2>

<h3>Description</h3>

<p><code>amodule</code> is a wrapper around module and changes the default
environment to which the module connects. In contrast to <code>module</code>
the top enclosing environment here is always <code>baseenv</code>. The second
important difference is that the environment in which a module is created has
meaning: all objects are made available to the module scope. This is
what is meant by <em>augmented</em> or <em>parameterized</em>. Best practice for
the use of this behavior is to return these modules from functions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">amodule(expr = {
}, envir = parent.frame(), enclos = baseenv(), class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>(expression) a module declaration, same as module</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>envir</code></td>
<td>
<p>(environment) environment used to detect 'parameters'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enclos</code></td>
<td>
<p>(environment) the top enclosing environment of the module
scope.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>(character) the module can have a class attribute for
consistency. If you rely on S3 dispatch, e.g. to override the default print
method, you should set this value explicitly.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">Constructor &lt;- function(dependency) {
  amodule({
    fun &lt;- function(...) dependency(...)
  })
}
instance &lt;- Constructor(identity)
instance$fun(1)

</code></pre>


</div>