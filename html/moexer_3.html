<div class="container">

<table style="width: 100%;"><tr>
<td>get_candles</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Candles for a Set of Securities</h2>

<h3>Description</h3>

<p>REST path:
<code style="white-space: pre;">⁠/engines/[engine]/markets/[market]/boards/[board]/securities/[security]/candles⁠</code>
(see <a href="http://iss.moex.com/iss/reference/46">http://iss.moex.com/iss/reference/46</a>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_candles(secid, from, till = NULL, interval = "monthly", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>secid</code></td>
<td>
<p>A vector of security ID's.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>A date or a datetime object, or something that can be coerced to
it with readr::parse_date or readr::parse_datetime.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>till</code></td>
<td>
<p>A date or a datetime object, or something that can be coerced to
it with readr::parse_date or readr::parse_datetime, or <code>NULL</code>.  If
<code>NULL</code>, interpreted by ISS as "today".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>A character value specifying the candle duration (see
<code>moexer.candle.intervals</code> option.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to query_iss.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To get the <code>engine-market-board</code> path a separate get_security_info query is
made and the board with <code>is_primary = 1</code> is selected.
</p>
<p>All candles for the specified period will be fetched, see fetching_fully.
</p>


<h3>Value</h3>

<p>A tibble as with candles in OHLCV format, prepended with a column
containing the corresponding security ID.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Get daily candles for `SBER`, `FXGD` from 2020-01-01 until today. Note that
# an unknown symbol `XXXX` is skipped with a warning.
get_candles(
    secid = c('XXXX', 'SBER', 'FXGD'),
    from = '2020-01-01',
    debug_output = TRUE
)

# Get SBER minute candles for one trading day (all 526 of them)
get_candles(
    secid = 'SBER',
    from = '2020-01-10',
    till = '2020-01-10',
    interval = 'per_minute'
)

# Get SBER minute candles for the specified time period (1 hour)
get_candles(
    secid = 'SBER',
    from = '2020-01-10 11:00:00',
    till = '2020-01-10 12:00:00',
    interval = 'per_minute'
)

## End(Not run)
</code></pre>


</div>