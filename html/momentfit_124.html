<div class="container">

<table style="width: 100%;"><tr>
<td>kernapply-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A kernel smoothing utility for <code>"momentModel"</code> classes</h2>

<h3>Description</h3>

<p>It either generates the optimal bandwidth and kernel
weights or the smoothed moments of moment based models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">
## S4 method for signature 'momentModel'
kernapply(x, theta=NULL, smooth=TRUE, ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An object of class <code>"momentModel"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>An optional vector of coefficients. For
<code>smooth=FALSE</code>, it is used to obtain the optimal bandwidth. If
<code>NULL</code>, the bandwidth is obtained using one step GMM with the
identity matrix as weights. For <code>smooth=TRUE</code>, the coefficient is
required since the function returns the smoothed moments at a given
vector of coefficients.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>smooth</code></td>
<td>
<p>By default, it returns the smoothed moment matrix. If
<code>FALSE</code>, it computes the optimal bandwidth and kernel weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to pass. Currently not used</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>It return an object of class <code>"sSpec"</code>.
</p>


<h3>References</h3>

<p> Anatolyev, S. (2005), GMM, GEL, Serial Correlation, and
Asymptotic Bias. <em>Econometrica</em>, <b>73</b>, 983-1002.
</p>
<p>Kitamura, Yuichi (1997), Empirical Likelihood Methods With Weakly Dependent Processes.
<em>The Annals of Statistics</em>, <b>25</b>, 2084-2102.
</p>
<p>Smith, R.J. (2011), GEL Criteria for Moment Condition Models.
<em>Econometric Theory</em>, <b>27</b>(6), 1192â€“1235.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(simData)
theta &lt;- c(beta0=1,beta1=2)

## A linearModel
model1 &lt;- momentModel(y~x1, ~z1+z2, data=simData,vcov="HAC",vcovOptions=list(kernel="Bartlett"))

### get the bandwidth
### Notice that the kernel name is the not the same
### That's because a Truncated kernel for smoothing
### lead to a Bartlett kernel for the HAC of the moments
### See Smith (2011)
kernapply(model1, smooth=FALSE)


### Adding the kernel option to the model

model2 &lt;- momentModel(y~x1, ~z1+z2,
data=simData,vcov="HAC",vcovOptions=list(kernel="Bartlett"), smooth=TRUE)

kernapply(model2, theta)$smoothx[1:5,]

</code></pre>


</div>