<div class="container">

<table style="width: 100%;"><tr>
<td>restModel-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> ~~ Methods for Function <code>restModel</code> in Package <span class="pkg">momentfit</span> ~~</h2>

<h3>Description</h3>

<p>It converts <code>momentModel</code> objects into its restricted
counterpart.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'linearModel'
restModel(object, R, rhs=NULL)

## S4 method for signature 'slinearModel'
restModel(object, R, rhs=NULL)

## S4 method for signature 'snonlinearModel'
restModel(object, R, rhs=NULL)

## S4 method for signature 'nonlinearModel'
restModel(object, R, rhs=NULL)

## S4 method for signature 'formulaModel'
restModel(object, R, rhs=NULL)

## S4 method for signature 'functionModel'
restModel(object, R, rhs=NULL)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>"momentModel"</code> or
<code>"sysModel"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>Either a matrix or a vector of characters for
linear models and a list of formulas for nonlinear models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rhs</code></td>
<td>
<p>The right hand side of the linear restrictions. It is
ignored for nonlinear models.</p>
</td>
</tr>
</table>
<h3>Methods</h3>


<dl>
<dt><code>signature(object = "linearModel")</code></dt>
<dd>
<p>Method for object of class <code>linearModel</code>.
</p>
</dd>
<dt><code>signature(object = "linearGel")</code></dt>
<dd>
<p>Method for all classes related to <code>linearGel</code>.
</p>
</dd>
<dt><code>signature(object = "slinearModel")</code></dt>
<dd>
<p>Method for object of class <code>slinearModel</code>.
</p>
</dd>
<dt><code>signature(object = "snonlinearModel")</code></dt>
<dd>
<p>Method for object of class <code>snonlinearModel</code>.
</p>
</dd>
<dt><code>signature(object = "nonlinearModel")</code></dt>
<dd>
<p>Method for object of class <code>nonlinearModel</code>.
</p>
</dd>
<dt><code>signature(object = "nonlinearGel")</code></dt>
<dd>
<p>Method for object of class <code>nonlinearGel</code>.
</p>
</dd>
<dt><code>signature(object = "functionModel")</code></dt>
<dd>
<p>Method for object of class <code>functionModel</code>.
</p>
</dd>
<dt><code>signature(object = "functionGel")</code></dt>
<dd>
<p>Method for object of class <code>functionGel</code>.
</p>
</dd>
<dt><code>signature(object = "formulaModel")</code></dt>
<dd>
<p>Method for object of class <code>formulaModel</code>.
</p>
</dd>
<dt><code>signature(object = "formulaGel")</code></dt>
<dd>
<p>Method for object of class <code>formulaGel</code>.
</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">data(simData)
theta &lt;- c(beta0=1,beta1=2)

## Unrestricted model
model1 &lt;- momentModel(y~x1+x2+x3+z1, ~x1+x2+z1+z2+z3+z4, data=simData)

## Using matrix R
R &lt;- matrix(c(1,1,0,0,0,0,0,2,0,0,0,0,0,1,-1),3,5, byrow=TRUE)
q &lt;- c(0,1,3)

rmodel1 &lt;- restModel(model1, R, q)
rmodel1

## Using character
## Many ways to write the constraints

R1 &lt;- c("x1","2*x2+z1=2", "4+x3*5=3")
rmodel1 &lt;- restModel(model1, R1)
rmodel1

## Works with interaction and identity function I()

model1 &lt;- momentModel(y~x1*x2+exp(x3)+I(z1^2), ~x1+x2+z1+z2+z3+z4, data=simData)
R1 &lt;- c("x1","exp(x3)+2*x1:x2", "I(z1^2)=3")
rmodel1 &lt;- restModel(model1, R1)
rmodel1

## nonlinear constraints on a linear model
## we need to convert the linear model into a nonlinear one

model &lt;- momentModel(y~x1+x2+x3+z1, ~x1+x2+z1+z2+z3+z4, data=simData)
NLmodel &lt;- as(model, "nonlinearModel")

## To avoid having unconventional parameter names, which happens
## when I() is used or with interaction, the X's and coefficients are
## renamed

NLmodel@parNames

## Restriction can be a list of formula or vector of characters
## For the latter, it will be converted into a list of formulas

R1 &lt;- c("theta2=2", "theta3=theta4^2")
rmod1 &lt;- restModel(NLmodel, R1)
res1 &lt;- gmmFit(rmod1)
res1
## recover the orignial form
coef(rmod1, coef(res1))

## with formulas

R2 &lt;- list(theta2~2, theta3~1/theta4)
rmod2 &lt;- restModel(NLmodel, R2)
res2 &lt;- gmmFit(rmod2)
res2
coef(rmod2, coef(res2))

## The same can be done with function based models

</code></pre>


</div>