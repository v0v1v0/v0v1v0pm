<div class="container">

<table style="width: 100%;"><tr>
<td>getRestrict-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> ~~ Methods for Function <code>getRestrict</code> in Package <span class="pkg">momentfit</span> ~~</h2>

<h3>Description</h3>

<p>It computes the matrices related to linear and nonlinear
contraints. Those matrices are used to perform hypothesis tests.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'rlinearModel'
getRestrict(object, theta)

## S4 method for signature 'rslinearModel'
getRestrict(object, theta)

## S4 method for signature 'rsnonlinearModel'
getRestrict(object, theta)

## S4 method for signature 'rnonlinearModel'
getRestrict(object, theta)

## S4 method for signature 'rformulaModel'
getRestrict(object, theta)

## S4 method for signature 'momentModel'
getRestrict(object, theta, R, rhs=NULL)

## S4 method for signature 'sysModel'
getRestrict(object, theta, R, rhs=NULL)

## S4 method for signature 'rfunctionModel'
getRestrict(object, theta)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class included in <code>momentModel</code>,
<code>rmomentModel</code>, and <code>rsysModel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>A vector of coefficients for the unrestricted model (see
examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>A matrix, character or list of formulas that specifies the
contraints to impose on the coefficients. See
<code>restModel</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rhs</code></td>
<td>
<p>The right hand side for the restriction on the
coefficients. See <code>restModel</code> for more details. It is
ignored for objects of class <code>"nonlinearModel"</code>.</p>
</td>
</tr>
</table>
<h3>Methods</h3>


<dl>
<dt><code>signature(object = "momentModel")</code></dt>
<dd>
<p>A restricted model is created from the constraints, and the
restriction matrices are returned. The methods is applied to linear
and nonlinear models in a regression form.
</p>
</dd>
<dt><code>signature(object = "sysModel")</code></dt>
<dd>
<p>A restricted model is created from the constraints, and the
restriction matrices are returned. The methods is applied to systems
of linear and nonlinear models.
</p>
</dd>
<dt><code>signature(object = "rlinearModel")</code></dt>
<dd>
<p>The restriction matrices are evaluated at the coefficient vector
<code>theta</code> of the unrestricted representation.
</p>
</dd>
<dt><code>signature(object = "rslinearModel")</code></dt>
<dd>
<p>The restriction matrices are evaluated at the coefficient vector
<code>theta</code> of the unrestricted representation.
</p>
</dd>
<dt><code>signature(object = "rsnonlinearModel")</code></dt>
<dd>
<p>The restriction matrices are evaluated at the coefficient vector
<code>theta</code> of the unrestricted representation.
</p>
</dd>
<dt><code>signature(object = "rnonlinearModel")</code></dt>
<dd>
<p>The restriction matrices are evaluated at the coefficient vector
<code>theta</code> of the unrestricted representation.  
</p>
</dd>
<dt><code>signature(object = "rfunctionModel")</code></dt>
<dd>
<p>The restriction matrices are evaluated at the coefficient vector
<code>theta</code> of the unrestricted representation.  
</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">data(simData)
theta &lt;- c(beta0=1,beta1=2)

## Unrestricted model
model1 &lt;- momentModel(y~x1+x2+x3+z1, ~x1+x2+z1+z2+z3+z4, data=simData)

## The restricted model
R1 &lt;- c("x1","2*x2+z1=2", "4+x3*5=3")
res &lt;- gmmFit(model1)
rest &lt;- getRestrict(model1, coef(res), R1)

## it allows to test the restriction
g &lt;- rest$R-rest$q
v &lt;- rest$dR%*%vcov(res)%*%t(rest$dR)
(test &lt;- crossprod(g, solve(v, g)))
(pv &lt;- 1-pchisq(test, length(rest$R)))


## Delta Method:
## To impose nonlinear restrictions, we need to convert
## the linear model into a nonlinear one
NLmodel &lt;- as(model1, "nonlinearModel")
R1 &lt;- c("theta2=2", "theta3=theta4^2")
res &lt;- gmmFit(NLmodel)
rest &lt;- getRestrict(NLmodel, coef(res), R1)

g &lt;- rest$R-rest$q
v &lt;- rest$dR%*%vcov(res)%*%t(rest$dR)
(test &lt;- crossprod(g, solve(v, g)))
(pv &lt;- 1-pchisq(test, length(rest$R)))

## See hypothesisTest method for an easier approach.

</code></pre>


</div>