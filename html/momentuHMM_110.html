<div class="container">

<table style="width: 100%;"><tr>
<td>simObsData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Observation error simulation tool</h2>

<h3>Description</h3>

<p>Simulates observed location data subject to temporal irregularity and/or location measurement error
</p>


<h3>Usage</h3>

<pre><code class="language-R">simObsData(data, lambda, errorEllipse, ...)

## S3 method for class 'momentuHMMData'
simObsData(data, lambda, errorEllipse, ...)

## S3 method for class 'momentuHierHMMData'
simObsData(data, lambda, errorEllipse, coordLevel, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>momentuHMMData</code> or <code>momentuHierHMMData</code> object with necessary fields 'x' (easting/longitudinal coordinates) and 'y' (northing/latitudinal coordinates)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>Observation rate for location data. If <code>NULL</code>, location data are kept at temporally-regular intervals. Otherwise 
<code>lambda</code> is the rate parameter of the exponential distribution for the waiting times between successive location observations, i.e., 
<code>1/lambda</code> is the expected time between successive location observations. Only the 'step' and 'angle' data streams (or multivariate normal data streams identified by <code>mvnCoords</code>) are subject to temporal irregularity;
any other data streams are kept at temporally-regular intervals.  Ignored unless a valid distribution for the 'step' (or 'mvnCoord') data stream has been specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>errorEllipse</code></td>
<td>
<p>List providing the bounds for the semi-major axis (<code>M</code>; on scale of x- and y-coordinates), semi-minor axis (<code>m</code>; 
on scale of x- and y-coordinates), and orientation (<code>r</code>; in degrees) of location error ellipses. If <code>NULL</code>, no location 
measurement error is simulated. If <code>errorEllipse</code> is specified, then each observed location is subject to bivariate normal errors as described 
in McClintock et al. (2015), where the components of the error ellipse for each location are randomly drawn from <code>runif(1,min(errorEllipse$M),max(errorEllipse$M))</code>, 
<code>runif(1,min(errorEllipse$m),max(errorEllipse$m))</code>, and <code>runif(1,min(errorEllipse$r),max(errorEllipse$r))</code>. If only a single value is provided for any of the 
error ellipse elements, then the corresponding component is fixed to this value for each location. Only the 'step' and 'angle' data streams are subject to location measurement error;
any other data streams are observed without error.  Ignored unless a valid distribution for the 'step' data stream is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordLevel</code></td>
<td>
<p>Level of the hierarchy in which the location data are obtained</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Simulated location data that are temporally-irregular (i.e., <code>lambda&gt;0</code>) and/or with location measurement error (i.e., <code>errorEllipse!=NULL</code>) are returned
as a data frame suitable for analysis using <code>crawlWrap</code>.
</p>


<h3>Value</h3>

<p>A dataframe of:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Numeric time of each observed (and missing) observation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>The ID(s) of the observed animal(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Either easting or longitude observed location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Either norting or latitude observed location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Data streams that are not derived from location (if applicable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Covariates at temporally-regular true (<code>mux</code>,<code>muy</code>) locations (if any)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mux</code></td>
<td>
<p>Either easting or longitude true location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muy</code></td>
<td>
<p>Either norting or latitude true location</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_semimajor_axis</code></td>
<td>
<p>error ellipse semi-major axis (if applicable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_semiminor_axis</code></td>
<td>
<p>error ellipse semi-minor axis (if applicable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error_ellipse_orientation</code></td>
<td>
<p>error ellipse orientation (if applicable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ln.sd.x</code></td>
<td>
<p>log of the square root of the x-variance of bivariate normal error (if applicable; required for error ellipse models in <code>crawlWrap</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ln.sd.y</code></td>
<td>
<p>log of the square root of the y-variance of bivariate normal error (if applicable; required for error ellipse models in <code>crawlWrap</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.corr</code></td>
<td>
<p>correlation term of bivariate normal error (if applicable; required for error ellipse models in <code>crawlWrap</code>)</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>McClintock BT, London JM, Cameron MF, Boveng PL. 2015. Modelling animal movement using the Argos satellite telemetry location error ellipse. 
Methods in Ecology and Evolution 6(3):266-277.
</p>


<h3>See Also</h3>

<p><code>crawlWrap</code>, <code>prepData</code>, <code>simData</code>
</p>
<p><code>simHierData</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># extract momentuHMMData example
data &lt;- example$m$data
lambda &lt;- 2 # expect 2 observations per time step
errorEllipse &lt;- list(M=c(0,50),m=c(0,50),r=c(0,180))
obsData1 &lt;- simObsData(data,lambda=lambda,errorEllipse=errorEllipse)

errorEllipse &lt;- list(M=50,m=50,r=180)
obsData2 &lt;- simObsData(data,lambda=lambda,errorEllipse=errorEllipse)

</code></pre>


</div>