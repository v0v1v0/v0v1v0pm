<div class="container">

<table style="width: 100%;"><tr>
<td>formatHierHMM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert hierarchical HMM structure to a conventional HMM</h2>

<h3>Description</h3>

<p>Convert hierarchical HMM structure to a conventional HMM
</p>


<h3>Usage</h3>

<pre><code class="language-R">formatHierHMM(
  data,
  hierStates,
  hierDist,
  hierBeta = NULL,
  hierDelta = NULL,
  hierFormula = NULL,
  hierFormulaDelta = NULL,
  mixtures = 1,
  workBounds = NULL,
  betaCons = NULL,
  deltaCons = NULL,
  fixPar = NULL,
  checkData = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>momentuHierHMMData</code> object or a data frame containing the data streams and covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierStates</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> for the states ('state').  See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierDist</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> for the data streams ('dist'). See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierBeta</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> for the matrix of initial values for the regression coefficients of the transition probabilities at each level of the hierarchy ('beta'). See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierDelta</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> for the matrix of initial values for the regression coefficients of the initial distribution at each level of the hierarchy ('delta'). See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierFormula</code></td>
<td>
<p>A hierarchical formula structure for the transition probability covariates for each level of the hierarchy ('formula'). See <code>fitHMM</code>. Default: <code>NULL</code> (only hierarchical-level effects, with no covariate effects).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierFormulaDelta</code></td>
<td>
<p>A hierarchical formula structure for the initial distribution covariates for each level of the hierarchy ('formulaDelta'). See <code>fitHMM</code>. Default: <code>NULL</code> (no covariate effects and <code>fixPar$delta</code> is specified on the working scale).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mixtures</code></td>
<td>
<p>Number of mixtures for the state transition probabilities  (i.e. discrete random effects *sensu* DeRuiter et al. 2017). See <code>fitHMM</code>. Default: <code>mixtures=1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workBounds</code></td>
<td>
<p>A list with elements named <code>'beta'</code> and/or <code>'delta'</code>, where each element is a hierarchical data structure <code>Node</code> indicating t.p.m. and initial distribution working parameter bounds ('workBounds') for parameters in <code>hierBeta</code> and <code>hierDelta</code>, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaCons</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> indicating t.p.m. constraints ('betaCons') among parameters in <code>hierBeta</code> at each level of the hierarchy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaCons</code></td>
<td>
<p>A hierarchical data structure <code>Node</code> indicating initial distribution constraints ('deltaCons') among parameters in <code>hierDelta</code> at each level of the hierarchy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixPar</code></td>
<td>
<p>A list with elements named <code>'beta'</code> and/or <code>'delta'</code>, where each element is a hierarchical data structure <code>Node</code> indicating t.p.m. and initial distribution parameters in <code>hierBeta</code> and <code>hierDelta</code>, respectively, which are assumed known.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkData</code></td>
<td>
<p>logical indicating whether or not to check the suitability of <code>data</code> for the specified hierarchy. Ignored unless <code>data</code> is provided. Default: TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of arguments needed for specifying a hierarchical HMM as a conventional HMM in <code>fitHMM</code> or <code>MIfitHMM</code>, including:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>nbStates</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaDelta</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta0</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delta0</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaRef</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>betaCons</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deltaCons</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixPar</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workBounds</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stateNames</code></td>
<td>
<p>See <code>fitHMM</code>.</p>
</td>
</tr>
</table>
</div>