<div class="container">

<table style="width: 100%;"><tr>
<td>mapTable</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generates a presence/absence matrix of species on grids or countries
</h2>

<h3>Description</h3>

<p>This function will generate a presence/absence matrix based on a grid (if type="grid") or
on countries (if type="countries").
</p>


<h3>Usage</h3>

<pre><code class="language-R">mapTable(data, type = "grid", resolution = 1, pres.abs = TRUE, 
write.output = FALSE, layer = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>data.frame
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>

<p>"grid", "countries" or "user"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>

<p>numeric (degrees)
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pres.abs</code></td>
<td>

<p>logical
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>write.output</code></td>
<td>

<p>logical
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>layer</code></td>
<td>

<p>Spatial DataFrame object
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It requires a data.frame with three columns, ordered as:
species, longitude and latitude. The resolution of the grid can be changed by the argument
"resolution" (in degrees). If type = "user", a layer to intersect the points and create
the matrix should be supplied (a Spatial DataFrame object). It uses functions of the
package raster, sf and terra. If pres.abs = F the returned matrix will have "x" instead
of 0 and 1.
</p>


<h3>Value</h3>

<p>list, with a matrix and grid (if type="grid), or a matrix (if type="countries").
</p>


<h3>Author(s)</h3>

<p>Marcelo Reginato
</p>


<h3>See Also</h3>

<p><code>raster</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## loading the example data

data(monographaR_examples)
monographaR_examples$map_data -&gt; data
head(data)

## running the function with grid

map.table &lt;- mapTable(data, type="grid", resolution=3, 
write.output=FALSE)
  
map.table$table
t(map.table$table)

map.table$grid -&gt; grid

### load world map
library(rnaturalearth)
library(sf)
library(sp)
ne_countries(type="countries", returnclass = "sv") -&gt; wrld_simpl
st_as_sf(wrld_simpl) -&gt; wrld_simpl
as_Spatial(wrld_simpl) -&gt; wrld_simpl

### plot
plot(grid, border="white")
plot(wrld_simpl, add=TRUE)
plot(grid, add=TRUE)
raster::text(grid, grid@data$layer, cex=1)


</code></pre>


</div>