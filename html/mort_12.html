<div class="container">

<table style="width: 100%;"><tr>
<td>resmaxcml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Maximum cumulative residence duration</h2>

<h3>Description</h3>

<p>Find the maximum duration that an animal spent at a single
station/location before a station change (i.e., the animal can be assumed
to be alive). Differs from <code>resmax</code> in that the duration is cumulative -
the time of residence events and intervals between residence events are all
included, provided there are no intervening residence events at other
stations/locations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resmaxcml(
  data,
  ID,
  station,
  res.start,
  res.end,
  residences,
  units,
  stnchange,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>units of the duration of the residence events in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stnchange</code></td>
<td>
<p>a dataframe with the start time and location of the most
recent station or location change. Must use the same column names as <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>option to display progress bar as function is run. Default
is TRUE.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a dataframe with the cumulative residence information for each
period where an animal was consecutively detected at a single station/location.
Records are only given for cumulative residences that occurred before the most
recent station/location change (i.e., the animal can be assumed to be alive).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Identify most recent station change
station.change&lt;-stationchange(data=events[events$ID=="A",],type="mort",
ID="ID",station="Station.Name",verbose=FALSE)

cumulative_events&lt;-resmaxcml(data=events[events$ID=="A",],ID="ID",
station="Station.Name",res.start="ResidenceStart",res.end="ResidenceEnd",
residences="ResidenceLength.days",units="days",
stnchange=station.change,verbose=FALSE)
</code></pre>


</div>