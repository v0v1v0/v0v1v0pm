<div class="container">

<table style="width: 100%;"><tr>
<td>infrequent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify potential mortalities from infrequent detections</h2>

<h3>Description</h3>

<p>Identifies potential mortalities or expelled tags from infrequent
detections in passive acoustic telemetry data. Mortalities are identfied based
on a user-defined threshold and timeframe.
</p>


<h3>Usage</h3>

<pre><code class="language-R">infrequent(
  data,
  type = "mort",
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  residences = "auto",
  units = "auto",
  method,
  threshold,
  threshold.units = NULL,
  recent.period = NULL,
  recent.units = NULL,
  start = NULL,
  end = NULL,
  morts.prev = NULL,
  replace = FALSE,
  backwards = FALSE,
  ddd = NULL,
  from.station = NULL,
  to.station = NULL,
  drift.cutoff = NULL,
  drift.units = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, end time, and duration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the method used to generate the residence events. Options are
"mort", "actel", "glatos", "vtrack", or "manual". If "manual", then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residences</code></td>
<td>
<p>residences a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>units</code></td>
<td>
<p>Units of the duration of the residence events in <code>data</code>. Options are "secs",
"mins", "hours", "days", and "weeks".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string of the threshold method. Options are "recent"
and "defined". If "recent", must specify <code>recent.period</code> and <code>recent.units</code>.
If "defined", must specify <code>start</code> and <code>end</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>the minimum summed duration of residence events for an animal
to be considered alive. Units must be the same as the units of <code>residences</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold.units</code></td>
<td>
<p>the units of <code>threshold</code>. Options are "secs",
"mins", "hours", "days", and "weeks". If <code>NULL</code>, assumed to be the same as
<code>units</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recent.period</code></td>
<td>
<p>the length of the period of time in which an animal must
be detected longer than the <code>threshold</code> to be considered alive. The period
ends with the most recent detection of a given animal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recent.units</code></td>
<td>
<p>the units of recent.period. Options are "secs",
"mins", "hours", "days", and "weeks".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>character string with the start of the user-defined time period to search for infrequent
detections if <code>method="defined"</code>. Must be in the format
YYYY-mm-dd HH:MM:SS. The time zone is the same as <code>res.start</code> or
assumed to be UTC if no time zone is defined for <code>res.start</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>character string with the end of the user-defined time period to search for infrequent
detections if <code>method="defined"</code>. Must be in the format
YYYY-mm-dd HH:MM:SS. The time zone is the same as <code>res.start</code> or
assumed to be UTC if no time zone is defined for <code>res.start</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>morts.prev</code></td>
<td>
<p>a dataframe containing potential mortalities. The dataframe must
have the same columns and in the same order as <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>if <code>morts</code> specified and an animal with infrequent detections
is already in <code>morts</code>, the record in <code>morts</code> will be replaced if <code>TRUE</code>.
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>backwards</code></td>
<td>
<p>option to examine residence events prior to the one that was
flagged as a potential mortality. If prior residence events are at the same
station/location as the flagged event, the time of the potential mortality is shifted
earlier.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ddd</code></td>
<td>
<p>an optional dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift.cutoff</code></td>
<td>
<p>the maximum allowable time difference between detections to be
considered a single residence event. Recommended to be the same as used
to generate residence events in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift.units</code></td>
<td>
<p>the units of the cutoff. Options are "secs", "mins", "hours",
"days", and "weeks". Recommended to be the same as used to generate
residence events in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>option to display updates and progress bars as
sub-functions are called and run. Default is TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Example of <code>method="recent"</code>: if <code>threshold=10</code>, <code>threshold.units="mins"</code>,
<code>recent.period=52</code> and <code>recent.units="weeks"</code> (1 year), an animal will be
flagged as a potential mortality if it was detected for less than 10 minutes
within a year, ending with the most recent detection.
</p>
<p>Example of <code>method="defined"</code>: if <code>threshold=10</code>, <code>threshold.units="mins"</code>,
<code>start="2019-10-01"</code>, and <code>end="2020-06-01"</code>, an animal
will be flagged as a potential mortality if it was detected for less than 10
minutes between 01 October 2019 and 01 June 2020.
</p>


<h3>Value</h3>

<p>if <code>morts=NULL</code>, a dataframe with one row for each tag ID, including the date/time of
the residence start when the potential mortality or expelled tag was identified.
If <code>morts</code> is specified, any potential mortalities will be added to existing
<code>morts</code> dataframe. If <code>morts</code> is specified and <code>replace=TRUE</code>, then any
mortalities that are flagged by <code>infrequent()</code> and occurred at an earlier
time than those in <code>morts</code> will be replaced to the earlier date.
All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Recent example
inf_recent&lt;-infrequent(data=events,type="mort",ID="ID",
station="Station.Name",method="recent",
threshold=72,threshold.units="hours",
recent.period=52,recent.units="weeks",
verbose=FALSE)
head(inf_recent)

## User-defined example
inf_defined&lt;-infrequent(data=events,type="mort",ID="ID",
station="Station.Name",method="defined",
threshold=12,threshold.units="hours",
start="2006-06-15",end="2006-10-15",
verbose=FALSE)
head(inf_defined)
</code></pre>


</div>