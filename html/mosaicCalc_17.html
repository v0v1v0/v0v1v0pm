<div class="container">

<table style="width: 100%;"><tr>
<td>box_set</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Evenly spaced samples across a one- or two-dim domain</h2>

<h3>Description</h3>

<p>This function breaks up a domain in 1- or 2- dimensions into evenly
spaced samples. It returns a data frame of the position of the samples,
each of which can be considered to correspond to a Riemann bin
for the purposes of integration.
</p>


<h3>Usage</h3>

<pre><code class="language-R">box_set(tilde = NULL, domain, n = 10, sum = FALSE, dx = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tilde</code></td>
<td>
<p>A tilde expression specifying the function to be evaluated on the domain.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>domain</code></td>
<td>
<p>Either a one- or two-dimensional domain in the same format
as for <code>slice_plot()</code> or <code>contour_plot()</code>, or a data frame with two columns
specifying the coordinates of a polygon defining the area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the number of divisions along each of the x- and y-directions. Can
be a vector of length 2 giving different numbers for the x and for the y directions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sum</code></td>
<td>
<p>If <code>TRUE</code> carry out the integral and return the numerical result.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dx</code></td>
<td>
<p>An alternative way of specifying the box size directly. Same
for all dimensions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>By default, a data frame listing the location of the samples,
the <code>.output.</code> value of the given function at those samples, the spatial
extent of the samples (that is, dx for one-dimension or dx and dy for two dimensions. There
is also a <code>dA</code> giving the dx or dx*dy depending on the dimension). If <code>sum=TRUE</code>,
then returns the sum of <code>.output * dA</code>, that is, the estimate of the integral of
the function over the domain.
</p>


<h3>Examples</h3>

<pre><code class="language-R">box_set(x*y ~ x &amp; y, domain(x=0:1, y=0:1), n = 4)
# approximation to the variance of a uniform [0,1] distribution
box_set((x-.5)^2 ~ x, domain(x=0:1), n=100, sum=TRUE)
# a polygon
poly &lt;- tibble(x = c(1:9, 8:1), y = c(1, 2*(5:3), 2, -1, 17, 9, 8, 2:9))
boxes &lt;- box_set(1 ~ x &amp; y, poly, dx = 1)
gf_polygon(y ~ x, data = poly, color="blue", fill="blue", alpha=0.2) %&gt;%
  gf_rect((y - dy/3) + (y + dy/3) ~ (x - dx/3) + (x + dx/3),
  data = boxes)
# area inside polygon
box_set(1 ~ x &amp; y, poly, n=100)
</code></pre>


</div>