<div class="container">

<table style="width: 100%;"><tr>
<td>numD</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Numerical Derivatives</h2>

<h3>Description</h3>

<p>Constructs the numerical derivatives of mathematical expressions
</p>


<h3>Usage</h3>

<pre><code class="language-R">numD(tilde, ..., .h = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tilde</code></td>
<td>
<p>a mathematical expression (see examples and <code>plotFun</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters, typically default values for mathematical parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.h</code></td>
<td>
<p>numerical step size to enforce.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Uses a simple finite-difference scheme to evaluate the derivative.  The function created
will not contain a formula for the derivative.  Instead, the original function is stored
at the time the derivative is constructed and that original function is re-evaluated at the
finitely-spaced points of an interval.  If you redefine the original function, that won't affect
any derivatives that were already defined from it.
Numerical derivatives, particularly high-order ones, are unstable.  The finite-difference parameter
<code>.h</code> is set, by default, to give reasonable results for first- and second-order derivatives.
It's tweaked a bit so that taking a second derivative by differentiating a first derivative
will give reasonably accurate results.  But,
if taking a second derivative, much better to do it in one step to preserve numerical accuracy.
</p>


<h3>Value</h3>

<p>a function implementing the derivative as a finite-difference approximation.
This has a second argument, <code>.h</code>, that allow the finite-difference to be set when evaluating
the function. The default values are set for reasonable numerical precision.
</p>


<h3>Note</h3>

<p>WARNING: In the expressions, do not use variable names beginning with a dot, particularly <code>.f</code> or <code>.h</code>
</p>


<h3>Author(s)</h3>

<p>Daniel Kaplan (<a href="mailto:kaplan@macalester.edu">kaplan@macalester.edu</a>)
</p>


<h3>Examples</h3>

<pre><code class="language-R">g = numD( a*x^2 + x*y ~ x, a=1)
g(x=2,y=10)
gg = numD( a*x^2 + x*y ~ x&amp;x, a=1)
gg(x=2,y=10)
ggg = numD( a*x^2 + x*y ~ x&amp;y, a=1)
ggg(x=2,y=10)
h = numD( g(x=x,y=y,a=a) ~ y, a=1)
h(x=2,y=10)
f = numD( sin(x)~x)
# slice_plot( f(3,.h=hlim)~h, bounds(h=.00000001 :000001)) %&gt;% gf_hline(yintercept = cos(3))

</code></pre>


</div>