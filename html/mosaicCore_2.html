<div class="container">

<table style="width: 100%;"><tr>
<td>coverage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Interval statistics</h2>

<h3>Description</h3>

<p>Calculate coverage intervals and confidence intervals for the sample mean, median, sd, proportion, ...
Typically, these will be used within <code>df_stats()</code>. For the mean, median, and sd, the variable x must be
quantitative. For proportions, the x can be anything; use the <code>success</code> argument to specify what
value you want the proportion of. Default for <code>success</code> is <code>TRUE</code> for x logical, or the first level returned
by <code>unique</code> for categorical or numerical variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">coverage(x, level = 0.95, na.rm = TRUE)

ci.mean(x, level = 0.95, na.rm = TRUE)

ci.median(x, level = 0.9, na.rm = TRUE)

ci.sd(x, level = 0.95, na.rm = TRUE)

ci.prop(
  x,
  success = NULL,
  level = 0.95,
  method = c("Clopper-Pearson", "binom.test", "Score", "Wilson", "prop.test", "Wald",
    "Agresti-Coull", "Plus4")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>number in 0 to 1 specifying the confidence level for the interval. (Default: 0.95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>if <code>TRUE</code> disregard missing data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>success</code></td>
<td>
<p>for proportions, this specifies the categorical level for which the calculation of proportion will
be done. Defaults: <code>TRUE</code> for logicals for which the proportion is to
be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>for <code>ci.prop()</code>, the method to use in calculating the confidence
interval. See <code>mosaic::binom.test()</code> for details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Methods: <code>ci.mean()</code> uses the standard t confidence interval.
<code>ci.median()</code> uses the normal approximation method.
<code>ci.sd()</code> uses the chi-squared method.
<code>ci.prop()</code> uses the binomial method. In the usual situation where the <code>mosaic</code> package is available,
<code>ci.prop()</code> uses <code>mosaic::binom.test()</code> internally, which provides several
methods for the calculation. See the documentation
for <code>binom.test()</code> for details about the available methods. Clopper-Pearson is
the default method. When used with <code>df_stats()</code>, the confidence interval
is calculated for each group separately. For "pooled" confidence intervals, see methods
such as <code>lm()</code> or <code>glm()</code>.
</p>


<h3>Value</h3>

<p>a named numerical vector with components <code>lower</code> and <code>upper</code>, and,
in the case of <code>ci.prop()</code>, <code>center</code>. When used the <code>df_stats()</code>, these components
are formed into a data frame.
</p>


<h3>Note</h3>

<p>When using these functions with <code>df_stats()</code>, omit the <code>x</code> argument, which
will be supplied automatically by <code>df_stats()</code>. See examples.
</p>


<h3>See Also</h3>

<p><code>df_stats()</code>, <code>mosaic::binom.test()</code>, <code>mosaic::t.test()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># The central 95% interval
df_stats(hp ~ cyl, data = mtcars, c95 = coverage(0.95))
# The confidence interval on the mean
df_stats(hp ~ cyl, data = mtcars, mean, ci.mean)
# What fraction of cars have 6 cylinders?
df_stats(mtcars, ~ cyl, six_cyl_prop = ci.prop(success = 6, level = 0.90))
# Use without `df_stats()` (rare)
ci.mean(mtcars$hp)

</code></pre>


</div>