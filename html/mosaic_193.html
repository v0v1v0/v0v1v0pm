<div class="container">

<table style="width: 100%;"><tr>
<td>plotModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a regression model</h2>

<h3>Description</h3>

<p>Visualize a regression model amid the data that generated it.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotModel(mod, ...)

## Default S3 method:
plotModel(mod, ...)

## S3 method for class 'parsedModel'
plotModel(
  mod,
  formula = NULL,
  ...,
  auto.key = NULL,
  drop = TRUE,
  max.levels = 9L,
  system = c("ggplot2", "lattice")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>A model of type <code>lm()</code> or <code>glm()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>xyplot()</code> or <code>rgl::plot3d</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula indicating how the variables are to be displayed.  In the style of
<code>lattice</code> and <code>ggformula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.key</code></td>
<td>
<p>If TRUE, automatically generate a key.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>If TRUE, unused factor levels are dropped from <code>interaction()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.levels</code></td>
<td>
<p>currently unused</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>system</code></td>
<td>
<p>which of <code>ggplot2</code> or <code>lattice</code> to use for plotting</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The goal of this function is to assist with visualization
of statistical models. Namely, to plot the model on top of the data
from which the model was fit.
</p>
<p>The primary plot type is a scatter plot.  The x-axis can be assigned
to one of the predictors in the model.  Additional predictors are thought
of as co-variates.  The data and fitted curves are partitioned by
these covariates.  When the number of components to this partition is large,
a random subset of the fitted curves is displayed to avoid visual clutter.
</p>
<p>If the model was fit on one quantitative variable (e.g. SLR), then
a scatter plot is drawn, and the model is realized as parallel or
non-parallel lines, depending on whether interaction terms are present.
</p>
<p>Eventually we hope to support 3-d visualizations of models with 2 quantitative
predictors using the <code>rgl</code> package.
</p>
<p>Currently, only linear regression models and
generalized linear regression models are supported.
</p>


<h3>Value</h3>

<p>A lattice or ggplot2 graphics object.
</p>


<h3>Caution</h3>

<p>This is still underdevelopment.  The API is subject to change, and some
use cases may not work yet.  Watch for improvements in subsequent versions of the package.
</p>


<h3>Author(s)</h3>

<p>Ben Baumer, Galen Long, Randall Pruim
</p>


<h3>See Also</h3>

<p><code>plotPoints()</code>, <code>plotFun()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
require(mosaic)

mod &lt;- lm( mpg ~ factor(cyl), data = mtcars)
plotModel(mod)

# SLR
mod &lt;- lm( mpg ~ wt, data = mtcars)
plotModel(mod, pch = 19)

# parallel slopes
mod &lt;- lm( mpg ~ wt + factor(cyl), data=mtcars)
plotModel(mod)

## Not run:  
# multiple categorical vars
mod &lt;- lm( mpg ~ wt + factor(cyl) + factor(vs) + factor(am), data = mtcars)
plotModel(mod)
plotModel(mod, mpg ~ am)

# interaction
mod &lt;- lm( mpg ~ wt + factor(cyl) + wt:factor(cyl), data = mtcars)
plotModel(mod)

# polynomial terms
mod &lt;- lm( mpg ~ wt + I(wt^2), data = mtcars)
plotModel(mod)

# GLM
mod &lt;- glm(vs ~ wt, data=mtcars, family = 'binomial')
plotModel(mod)

# GLM with interaction
mod &lt;- glm(vs ~ wt + factor(cyl), data=mtcars, family = 'binomial')
plotModel(mod)
# 3D model
mod &lt;- lm( mpg ~ wt + hp, data = mtcars)
plotModel(mod)

# parallel planes
mod &lt;- lm( mpg ~ wt + hp + factor(cyl) + factor(vs), data = mtcars)
plotModel(mod)

# interaction planes
mod &lt;- lm( mpg ~ wt + hp + wt * factor(cyl), data = mtcars)
plotModel(mod)
plotModel(mod, system="g") + facet_wrap( ~ cyl )

## End(Not run)
</code></pre>


</div>