<div class="container">

<table style="width: 100%;"><tr>
<td>xhistogramBreaks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Augmented histograms</h2>

<h3>Description</h3>

<p>The <span class="pkg">mosaic</span> package adds some additional functionality to
<code>lattice::histogram()</code>, making it simpler to obtain certain common
histogram adornments.  This is done be resetting the default panel
and prepanel functions used by histogram.
</p>


<h3>Usage</h3>

<pre><code class="language-R">xhistogramBreaks(x, center = NULL, width = NULL, nint, ...)

prepanel.xhistogram(x, breaks = xhistogramBreaks, ...)

panel.xhistogram(
  x,
  dcol = trellis.par.get("plot.line")$col,
  dalpha = 1,
  dlwd = 2,
  gcol = trellis.par.get("add.line")$col,
  glwd = 2,
  fcol = trellis.par.get("superpose.polygon")$col,
  dmath = dnorm,
  verbose = FALSE,
  dn = 100,
  args = NULL,
  labels = FALSE,
  density = NULL,
  under = FALSE,
  fit = NULL,
  start = NULL,
  type = "density",
  v,
  h,
  groups = NULL,
  center = NULL,
  width = NULL,
  breaks,
  nint = round(1.5 * log2(length(x)) + 1),
  stripes = c("vertical", "horizontal", "none"),
  alpha = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a formula or a numeric vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>center of one of the bins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>width of the bins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nint</code></td>
<td>
<p>approximate number of bins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed from <code>lattice::histogram()</code>
to the panel function; by default when the <span class="pkg">mosaic</span> package has been loaded this
will be <code>panel.xhistogram()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>break points for histogram bins, a function for computing such,
or a method <code>hist()</code> knows about given as a character string.
When using the <span class="pkg">mosaic</span> package defaults,
<code>xhistogramBreaks()</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dcol</code></td>
<td>
<p>color of density curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dalpha</code></td>
<td>
<p>alpha for density curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dlwd, glwd</code></td>
<td>
<p>like <code>lwd</code> but affecting the density line and guide lines, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gcol</code></td>
<td>
<p>color of guidelines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fcol</code></td>
<td>
<p>fill colors for histogram rectangles when using <code>groups</code>.
(Use <code>col</code>, which is passed through to the histogram panel function,
when not using <code>groups</code>.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dmath</code></td>
<td>
<p>density function for density curve overlay</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>be verbose?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dn</code></td>
<td>
<p>number of points to sample from density curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>a list of additional arguments for <code>dmath</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>should counts/densities/percents be displayed or each bin?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>a logical indicating whether to overlay a density curve</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>under</code></td>
<td>
<p>a logical indicating whether the density layers should be under or
over other layers of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>a character string describing the distribution to fit.  Known distributions include
<code>"exponential"</code>, <code>"normal"</code>, <code>"lognormal" </code>, <code>"poisson"</code>, <code>"beta"</code>, <code>"geometric"</code>,
<code>"t"</code>, <code>"weibull"</code>, <code>"cauchy"</code>, <code>"gamma"</code>, <code>"chisq"</code>, and <code>"chi-squared"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>numeric value passed to <code>MASS::fitdistr()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>one of <code>'density'</code>, <code>'count'</code>, or <code>'percent'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h, v</code></td>
<td>
<p>a vector of values for additional horizontal and vertical lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>as per <code>lattice::histogram()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stripes</code></td>
<td>
<p>one of <code>"vertical"</code>, <code>"horizontal"</code>, or <code>"none"</code>, indicating
how bins should be striped when <code>groups</code> is not <code>NULL</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>transparency level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>a panel function</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The primary additional functionality added to <code>histogram()</code>
are the arguments <code>width</code> and <code>center</code> which provide a simple
way of describing equal-sized bins, and <code>fit</code> which can be used to
overlay the density curve for one of several distributions.  The
<code>groups</code> argument can be used to color the bins.  The primary use
for this is to shade tails of histograms, but there may be other uses
as well.
</p>


<h3>Value</h3>

<p><code>xhistogramBreaks</code> returns a vector of break points
</p>


<h3>Note</h3>

<p>Versions of <span class="pkg">lattice</span> since 0.20-21 support setting custom defaults
for <code>breaks</code>, <code>panel</code>, and <code>prepanel</code> used by
<code>histogram()</code>, so <code>xhistogram()</code> is no longer needed.
As a result, <code>xhistogram()</code>
(which was required in earlier versions of <span class="pkg">mosaic</span>
is no longer needed and has been removed.
</p>


<h3>See Also</h3>

<p><code>lattice::histogram()</code>, <code>mosaicLatticeOptions()</code>,
and <code>restoreLatticeOptions()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(mosaicData)) {
histogram(~age | substance, HELPrct, v=35, fit='normal')
histogram(~age, HELPrct, labels=TRUE, type='count')
histogram(~age, HELPrct, groups=cut(age, seq(10,80,by=10)))
histogram(~age, HELPrct, groups=sex, stripes='horizontal')
histogram(~racegrp, HELPrct, groups=substance,auto.key=TRUE)
xhistogramBreaks(1:10, center=5, width=1)
xhistogramBreaks(1:10, center=5, width=2)
xhistogramBreaks(0:10, center=15, width=3)
xhistogramBreaks(1:100, center=50, width=3)
xhistogramBreaks(0:10, center=5, nint=5)
}
</code></pre>


</div>