<div class="container">

<table style="width: 100%;"><tr>
<td>FunctionsFromData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create function from data</h2>

<h3>Description</h3>

<p>These functions create mathematical functions from data, by smoothing, splining, or linear
combination (fitting).  Each of them takes a formula and a data frame as an argument
</p>


<h3>Usage</h3>

<pre><code class="language-R">spliner(formula, data = NULL, method = "fmm", monotonic = FALSE)

connector(formula, data = NULL, method = "linear")

smoother(formula, data, span = 0.5, degree = 2, ...)

linearModel(formula, data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula.  Only one quantity is allowed on the left-hand side, the
output quantity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a method for splining.  See <code>spline()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monotonic</code></td>
<td>
<p>a <code>TRUE/FALSE</code> flag specifying whether the spline should
respect monotonicity in the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>parameter to smoother.  How smooth it should be.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>degree</code></td>
<td>
<p>parameter to smoother. 1 is locally linear, 2 is locally quadratic.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to <code>stats::loess()</code> or <code>stats::lm()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions use data to create a mathematical, single-valued function of the inputs.
All return a function whose arguments are the variables used on the right-hand side of the formula.
If the formula involves a transformation, e.g. <code>sqrt(age)</code> or <code>log(income)</code>,
only the variable itself, e.g. <code>age</code> or <code>income</code>, is an argument to the function.
</p>
<p><code>linearModel</code> takes a linear combination of the vectors specified on the right-hand side.
It differs from <code>project</code> in that <code>linearModel</code> returns a function
whereas <code>project</code> returns the coefficients.  NOTE: An intercept term is not included
unless that is explicitly part of the formula with <code>+1</code>.  This conflicts with the
standard usage of formulas as found in <code>lm</code>.  Another option for creating
such functions is to combine <code>lm()</code> and <code>makeFun()</code>.
</p>
<p><code>spliner</code> and <code>connector</code> currently work for only one input variable.
</p>


<h3>See Also</h3>

<p><code>project()</code> method for formulas
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(mosaicData)) {
data(CPS85)
f &lt;- smoother(wage ~ age, span=.9, data=CPS85)
f(40)
g &lt;- linearModel(log(wage) ~ age + educ + 1, data=CPS85)
g(age=40, educ=12)
# an alternative way to define g (Note: + 1 is the default for lm().)
g2 &lt;- makeFun(lm(log(wage) ~ age + educ, data=CPS85))
g2(age=40, educ=12)
x&lt;-1:5; y=c(1, 2, 4, 8, 8.2)
f1 &lt;- spliner(y ~ x)
f1(x=8:10)
f2 &lt;- connector(x~y)
}
</code></pre>


</div>