<div class="container">

<table style="width: 100%;"><tr>
<td>statTally</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Tally test statistics</h2>

<h3>Description</h3>

<p>Tally test statistics from data and from multiple draws
from a simulated null distribution
</p>


<h3>Usage</h3>

<pre><code class="language-R">statTally(
  sample,
  rdata,
  FUN,
  direction = NULL,
  alternative = c("default", "two.sided", "less", "greater"),
  sig.level = 0.1,
  system = c("gg", "lattice"),
  shade = "navy",
  alpha = 0.1,
  binwidth = NULL,
  bins = NULL,
  fill = "gray80",
  color = "black",
  center = NULL,
  stemplot = dim(rdata)[direction] &lt; 201,
  q = c(0.5, 0.9, 0.95, 0.99),
  fun = function(x) x,
  xlim,
  quiet = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>sample data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdata</code></td>
<td>
<p>a matrix of randomly generated data under
null hypothesis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>a function that computes the test statistic from
a data set.  The default value does nothing, making it easy to
use this to tabulate precomputed statistics into a null distribution.
See the examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>1 or 2 indicating whether samples in <code>rdata</code>
are in rows (1) or columns (2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>one of <code>default</code>, <code>two.sided</code>, <code>less</code>, or <code>greater</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>significance threshold for <code>wilcox.test</code> used to detect lack of symmetry</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>system</code></td>
<td>
<p>graphics system to use for the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shade</code></td>
<td>
<p>a color to use for shading.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>opacity of shading.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binwidth</code></td>
<td>
<p>bin width for histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>number of bins for histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>fill color for histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>border color for histogram.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>center of null distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stemplot</code></td>
<td>
<p>indicates whether a stem plot should be displayed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>quantiles of sampling distribution to display</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>same as <code>FUN</code> so you don't have to remember if it
should be capitalized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits for the horizontal axis of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>a logicial indicating whether the text output should be suppressed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>lattice::histogram()</code> or <code>ggplot2::geom_histogram()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A lattice or ggplot showing the sampling distribution.
</p>
<p>As side effects, information
about the empirical sampling distribution and (optionally) a stem plot are
printed to the screen.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># is my spinner fair?
x &lt;- c(10, 18, 9, 15)   # counts in four cells
rdata &lt;- rmultinom(999, sum(x), prob = rep(.25, 4))
statTally(x, rdata, fun = max, binwidth = 1)  # unusual test statistic
statTally(x, rdata, fun = var, shade = "red", binwidth = 2)  # equivalent to chi-squared test
# Can also be used with test stats that are precomputed.
if (require(mosaicData)) {
D &lt;- diffmean( age ~ sex, data = HELPrct); D
nullDist &lt;- do(999) * diffmean( age ~ shuffle(sex), data = HELPrct)
statTally(D, nullDist)
statTally(D, nullDist, system = "lattice")
}

</code></pre>


</div>