<div class="container">

<table style="width: 100%;"><tr>
<td>CIsim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute confidence intervals from (multiple) simulated data sets</h2>

<h3>Description</h3>

<p>This function automates the calculation of coverage rates for exploring
the robustness of confidence interval methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CIsim(
  n,
  samples = 100,
  rdist = rnorm,
  args = list(),
  plot = if (samples &lt;= 200) "draw" else "none",
  estimand = 0,
  conf.level = 0.95,
  method = t.test,
  method.args = list(),
  interval = function(x) {
     do.call(method, c(list(x, conf.level = conf.level),
    method.args))$conf.int
 },
  estimate = function(x) {
     do.call(method, c(list(x, conf.level = conf.level),
    method.args))$estimate
 },
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>size of each sample</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samples</code></td>
<td>
<p>number of samples to simulate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rdist</code></td>
<td>
<p>function used to draw random samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>args</code></td>
<td>
<p>arguments required by <code>rdist</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>one of <code>"print"</code>, <code>"return"</code>, <code>"horizontal"</code>, or <code>"none"</code>
describing whether a plot should be printed, returned, printed with horizontal intervals,
or not generated at all.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimand</code></td>
<td>
<p>true value of the parameter being estimated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>confidence level for intervals</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>function used to compute intervals.  Standard functions that
produce an object of class <code>htest</code> can be used here.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.args</code></td>
<td>
<p>arguments required by <code>method</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>a function that computes a confidence interval from data.  Function
should return a vector of length 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>a function that computes an estimate from data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>print summary to screen?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame with variables
<code>lower</code>,
<code>upper</code>,
<code>estimate</code>,
<code>cover</code> ('Yes' or 'No'),
and
<code>sample</code>
is returned invisibly.  See the examples for a way to use this to display the intervals
graphically.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># 1000 95% intervals using t.test; population is N(0,1)
CIsim(n = 10, samples = 1000)    
# this time population is Exp(1); fewer samples, so we get a plot 
CIsim(n = 10, samples = 100, rdist = rexp, estimand = 1) 
# Binomial treats 1 like success, 0 like failure
CIsim(n = 30, samples = 100, rdist = rbinom, args = list(size = 1, prob = .7), 
       estimand = .7, method = binom.test, method.args = list(ci = "Plus4"))  

</code></pre>


</div>