<div class="container">

<table style="width: 100%;"><tr>
<td>confint</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence interval methods for output of resampling</h2>

<h3>Description</h3>

<p>Methods for <code>confint</code> to compute confidence intervals
on numerical vectors and numerical components of data frames.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'numeric'
confint(
  object,
  parm,
  level = 0.95,
  ...,
  method = "percentile",
  margin.of.error = "stderr" %in% method == "stderr"
)

## S3 method for class 'do.tbl_df'
confint(
  object,
  parm,
  level = 0.95,
  ...,
  method = "percentile",
  margin.of.error = "stderr" %in% method,
  df = NULL
)

## S3 method for class 'do.data.frame'
confint(
  object,
  parm,
  level = 0.95,
  ...,
  method = "percentile",
  margin.of.error = "stderr" %in% method,
  df = NULL
)

## S3 method for class 'data.frame'
confint(object, parm, level = 0.95, ...)

## S3 method for class 'summary.lm'
confint(object, parm, level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>and R object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parm</code></td>
<td>
<p>a vector of parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>a confidence level</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character vector of methods to use for creating confidence
intervals.  Choices are "percentile" (or "quantile") which is the default,
"stderr" (or "se"), "bootstrap-t", and
"reverse" (or "basic"))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin.of.error</code></td>
<td>
<p>if true, report intervals as a center and margin of error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees for freedom. This is required when <code>object</code> was produced using
<code>link{do}</code> when
using the standard error to compute the confidence interval since
typically this information is not recorded in these objects.  The default (<code>Inf</code>)
uses a normal critical value rather than a one derived from a t-distribution.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The methods of producing confidence intervals from bootstrap distributions are currently
quite naive.  In particular, when using the standard error, assistance may be required with the
degrees of freedom, and it may not be possible to provide a correct value in all situations.
None of the methods include explicit bias correction.
Let <code class="reqn">q_a</code> be the <code class="reqn">a</code> quantile of the bootstrap distribution,
let <code class="reqn">t_a, df</code> be the <code class="reqn">a</code> quantile of the t distribution with <code class="reqn">df</code>
degrees of freedom,
let <code class="reqn">SE_b</code> be the standard deviation of the bootstrap distribution,
and let <code class="reqn">\hat{\theta}</code> be the estimate computed from the original data.
Then the confidence intervals with confidence level <code class="reqn">1 - 2a</code> are
</p>

<dl>
<dt>quantile</dt>
<dd>
<p><code class="reqn">(q_a, q_{1-a}) </code> </p>
</dd>
<dt>reverse</dt>
<dd> <p><code class="reqn">( 2 \hat{\theta} - q_{1-a}, 2\hat{\theta} - q_{a} )</code></p>
</dd>
<dt>stderr</dt>
<dd>
<p><code class="reqn">(\hat{\theta} - t_{1-a,df} SE_b, \hat{\theta} + t_{1-a,df} SE_b) </code>.
When <code>df</code> is not provided,
at attempt is made to determine an appropriate value, but this should be double checked.
In particular, missing data an lead to unreliable results.
</p>
</dd>
</dl>
<p>The bootstrap-t confidence interval is computed much like the reverse confidence interval
but the bootstrap t distribution is used in place of a theoretical t distribution.
This interval has much better properties than the reverse (or basic) method, which
is here for comparison purposes only and is not recommended.  The t-statistic
is computed from a mean, a standard deviation, a sample size which much be named
<code>"mean"</code>, <code>"sd"</code>, and <code>"n"</code> as they are when using <code>favstats()</code>.

</p>


<h3>Value</h3>

<p>When applied to a data frame, returns a data frame giving the
confidence interval for each variable in the data frame using
<code>t.test</code> or <code>binom.test</code>, unless the data frame was produced using <code>do</code>, in which case
it is assumed that each variable contains resampled statistics that serve as an estimated sampling
distribution from which a confidence interval can be computed using either a central proportion
of this distribution or using the standard error as estimated by the standard deviation of the
estimated sampling distribution.  For the standard error method, the user must supply the correct
degrees of freedom for the t distribution since this information is typically not available in
the output of <code>do()</code>.
</p>
<p>When applied to a numerical vector, returns a vector.
</p>


<h3>References</h3>

<p>Tim C. Hesterberg (2015): What Teachers Should Know about the Bootstrap:
Resampling in the Undergraduate Statistics Curriculum,
The American Statistician,
<a href="https://www.tandfonline.com/doi/full/10.1080/00031305.2015.1089789">https://www.tandfonline.com/doi/full/10.1080/00031305.2015.1089789</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (require(mosaicData)) {
  bootstrap &lt;- do(500) * diffmean( age ~ sex, data = resample(HELPrct) )
  confint(bootstrap)
  confint(bootstrap, method = "percentile")
  confint(bootstrap, method = "boot")
  confint(bootstrap, method = "se", df = nrow(HELPrct) - 1)
  confint(bootstrap, margin.of.error = FALSE)
  confint(bootstrap, margin.of.error = TRUE, level = 0.99, 
    method = c("se", "perc") )
    
  # bootstrap t method requires both mean and sd
  bootstrap2 &lt;- do(500) * favstats(resample(1:10)) 
  confint(bootstrap2, method = "boot")
}
lm(width ~ length * sex, data = KidsFeet) |&gt;
  summary() |&gt;
  confint()
</code></pre>


</div>