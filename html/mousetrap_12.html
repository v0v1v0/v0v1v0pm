<div class="container">

<table style="width: 100%;"><tr>
<td>mt_align</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Align trajectories.</h2>

<h3>Description</h3>

<p><code>mt_align</code> aligns trajectories to a common start point, end point, and /
or coordinate system.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_align(
  data,
  use = "trajectories",
  save_as = use,
  dimensions = c("xpos", "ypos"),
  coordinates = "isotropic",
  align_start = FALSE,
  align_end = FALSE,
  align_side = "no",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a mousetrap data object created using one of the mt_import
functions (see mt_example for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>a character string specifying which trajectory data should be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_as</code></td>
<td>
<p>a character string specifying where the resulting trajectory
data should be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>a character string specifying which trajectory variables
should be used. Can be of length 2 or 3 for two-dimensional or
three-dimensional alignment respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coordinates</code></td>
<td>
<p>either a numeric vector of length 4 specifying the xstart,
ystart, xend, yend coordinates of the trajectory start and end points. Can
also be <code>isotropic</code> (the default) to preserve the coordinates of dim1
and dim2, <code>isotropic-norm</code> to set the coordinates to
<code>c(0,0,-1,x)</code> where x is chosen to preserve the aspect ratio of dim1
and dim2, <code>mt</code> to set coordinates to <code>c(0,0,-1,1.5)</code>, <code>norm</code>
to set coordinates  to <code>c(0,0,-1,1)</code>, and <code>wide</code> to set
coordinates  to <code>c(0,0,-1,1.2)</code>. In the three-dimensional case,
<code>coordinates</code> is a vector of length 6.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align_start</code></td>
<td>
<p>boolean specifying whether the start points of all
trajectories should be aligned to the position specified in
<code>coordinates</code>. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align_end</code></td>
<td>
<p>boolean specifying whether the end points of all trajectories
should be aligned to the position specified in <code>coordinates</code>. See
Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align_side</code></td>
<td>
<p>character string specifying whether all trajectories should
be flipped to the left side (<code>left</code>), the right side (<code>right</code>),
or not at all (<code>no</code>). Assumes that first entry in <code>dimensions</code>
are the x positions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicating whether function should report its
progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>align_start</code> / <code>align_end</code> is <code>FALSE</code>, <code>coordinates</code>
define the position of the average start / end point across all trajectories.
</p>
<p>Note that if the end points of trajectories are not aligned, coordinates
refer to the hypothetical case where all trajectories are mapped to one side.
</p>
<p>If <code>align_start</code> / <code>align_end</code> is <code>TRUE</code>, the start / end
point of each trajectory is set to the exact position specified in
<code>coordinates</code>. <code>align_start</code> and <code>align_end</code> can be set
completely independently of one another, i.e., one can align only end points,
only start points, none, or both.
</p>
<p>If <code>align_start</code> is set to <code>"left"</code> or <code>"right"</code> trajectories
will be flipped to the lower or upper spectrum of the first dimensions,
respectively. If the first dimension is the x-coordinate this is equivalent
to flipping the trajectories to the left and right side, respectively.
</p>


<h3>Value</h3>

<p>A mousetrap data object (see mt_example) with aligned
trajectories. Per default, the dimensions in the original trajectory array
will be replaced. If a different trajectory array is specified using
<code>save_as</code>, a new trajectory array will be created (including only the
aligned dimensions). If a trajectory array was provided directly as
<code>data</code>, only the aligned trajectories will be returned.
</p>


<h3>Author(s)</h3>

<p>Dirk U. Wulff
</p>


<h3>See Also</h3>

<p>mt_align_start for aligning all trajectories to a common
start position.
</p>
<p>mt_align_start_end for aligning all trajectories so that they share
a common initial and final coordinate.
</p>
<p>mt_remap_symmetric for remapping trajectories to one side (or one
quadrant) of the coordinate system.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mt_example &lt;- mt_align(mt_example,
  align_start = TRUE, align_end = TRUE,
  coordinates = 'mt')

</code></pre>


</div>