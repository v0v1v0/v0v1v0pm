<div class="container">

<table style="width: 100%;"><tr>
<td>mt_derivatives</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate distance, velocity, and acceleration.</h2>

<h3>Description</h3>

<p>Calculate distance traveled, velocity, and acceleration for each logged
position. Distance is calculated as the Euclidean distance between successive
coordinates, and velocity as distance covered per time interval. The
acceleration denotes the difference in absolute velocity, again normalized
per time.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_derivatives(
  data,
  use = "trajectories",
  save_as = use,
  dimensions = c("xpos", "ypos"),
  timestamps = "timestamps",
  prefix = "",
  absolute = FALSE,
  return_delta_time = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a mousetrap data object created using one of the mt_import
functions (see mt_example for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>a character string specifying which trajectory data should be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_as</code></td>
<td>
<p>a character string specifying where the resulting trajectory
data should be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>a character vector specifying across which dimension(s)
distances, velocity, and acceleration are calculated. By default
(<code>c("xpos","ypos")</code>), they are calculated across both x and y
dimensions. Alternatively, only one dimension can be specified, e.g.,
<code>"xpos"</code> or <code>"ypos"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamps</code></td>
<td>
<p>a character string specifying the trajectory dimension
containing the timestamps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>an optional character string that is added as a prefix to the
to be created new trajectory dimensions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>absolute</code></td>
<td>
<p>logical indicating if absolute values for distances and
velocities should be reported. Only relevant if a single dimension is
specified in <code>dimensions</code> (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_delta_time</code></td>
<td>
<p>logical indicating if the timestamp differences
should be returned as well (as "delta_time").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicating whether function should report its
progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Distances, velocities and acceleration are computed as follows:
</p>
<p>The first entry in each respective vector is always zero. Each subsequent
entry thus represents the Euclidean distance traveled since the previous
recorded set of coordinates and the velocity with which the movement between
both samples took place. Thus, both distance and velocity represent the
intervening period between the previous sample and the one with which the
numeric value is saved.
</p>
<p>The acceleration, by contrast, denotes the change in absolute velocity
between two adjacent periods. Because of this, it is shifted forward to best
match the actual time point at which the acceleration was measured. Because
there will always be one less value computed for acceleration than for
velocity, the final value in the acceleration vector has been padded with an
NA.
</p>
<p>If the distance is calculated across both horizontal and vertical (x and y)
dimensions, distance and velocity is always positive (or 0). If only one
dimension is used, by default (<code>absolute=FALSE</code>), increases in x (or y)
values result in positive distances and velocity values, decreases in
negative distances and velocity values. If <code>absolute=TRUE</code>, absolute
values for distance and velocity are reported.
</p>


<h3>Value</h3>

<p>A mousetrap data object (see mt_example) with Euclidian
distance, velocity, and acceleration added as additional variables to the
trajectory array (called <code>dist</code>, <code>vel</code>, and  <code>acc</code>, if no
prefix was specified). If the trajectory array was provided directly as
<code>data</code>, only the trajectory array will be returned.
</p>


<h3>Author(s)</h3>

<p>Pascal J. Kieslich
</p>
<p>Felix Henninger
</p>


<h3>See Also</h3>

<p>mt_average for averaging trajectories across constant time
intervals.
</p>
<p>mt_measures for calculating per-trial mouse-tracking
measures.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Calculate derivatives looking at movement
# across both dimensions
mt_example &lt;- mt_derivatives(mt_example)

# Calculate derivatives only looking at movement along x dimension
# reporting absolute values for distance and velocity
mt_example &lt;- mt_derivatives(mt_example,
  dimensions="xpos", absolute=TRUE)

</code></pre>


</div>