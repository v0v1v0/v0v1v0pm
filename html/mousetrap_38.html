<div class="container">

<table style="width: 100%;"><tr>
<td>mt_import_mousetrap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import mouse-tracking data recorded using the mousetrap plug-ins in OpenSesame.</h2>

<h3>Description</h3>

<p><code>mt_import_mousetrap</code> accepts a data.frame of (merged) raw data from a
mouse-tracking experiment implemented in
<a href="https://osdoc.cogsci.nl/">OpenSesame</a> using the
<a href="https://github.com/pascalkieslich/mousetrap-os">mousetrap plugin</a>
(Kieslich &amp; Henninger, 2017). From this data.frame,
<code>mt_import_mousetrap</code> creates a mousetrap data object containing the
trajectories and additional data for further processing within the mousetrap
package. Specifically, it returns a list that includes the trajectory data as
an array (called <code>trajectories</code>), and all other data as a data.frame
(called <code>data</code>). This data structure can then be passed on to other
functions within this package (see mousetrap for an overview).
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_import_mousetrap(
  raw_data,
  xpos_label = "xpos",
  ypos_label = "ypos",
  timestamps_label = "timestamps",
  mt_id_label = NULL,
  split = ",",
  duplicates = "remove_first",
  unordered = "warn",
  reset_timestamps = TRUE,
  digits = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>raw_data</code></td>
<td>
<p>a data.frame containing the raw data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos_label</code></td>
<td>
<p>a character string specifying the name of the column(s) in
which the x-positions are stored (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos_label</code></td>
<td>
<p>a character string specifying the name of the column(s) in
which the y-positions are stored (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamps_label</code></td>
<td>
<p>a character string specifying the name of the column(s)
in which the timestamps are stored (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mt_id_label</code></td>
<td>
<p>an optional character string (or vector) specifying the
name of the column that provides a unique ID for every trial (the trial
identifier). If unspecified (the default), an ID variable will be
generated. If more than one variable name is provided, a new ID variable
will be created by combining the values of each variable. The trial
identifier will be set as the rownames of the resulting trajectories
and trial data, and additionally be stored in the column "mt_id" in the
trial data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split</code></td>
<td>
<p>a character string indicating how the different timestamps and
coordinates within a trial are separated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duplicates</code></td>
<td>
<p>a character string indicating how duplicate timestamps
within a trial are handled (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unordered</code></td>
<td>
<p>a character string indicating how unordered (i.e.,
non-monotonically increasing) timestamps within a trial are handled (see
Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reset_timestamps</code></td>
<td>
<p>logical indicating if the first timestamp should be
subtracted from all timestamps within a trial. Default is <code>TRUE</code> as it
is recommended for all following analyses in mousetrap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>an optional integer. If specified, timestamps will be rounded.
Potentially useful if timestamps are recorded with submillisecond
precision.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicating whether function should report its
progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When working with mouse-tracking data that were recorded using the mousetrap
plug-ins for OpenSesame, usually only the <code>raw_data</code> need to be
provided. All other arguments have sensible defaults.
</p>
<p>If the relevant timestamps, x-positions, and y-positions are each stored in
one variable, a character string specifying (parts of) the respective column
name needs to be provided. In this case, the column names are extracted using
grep to find the column that starts with the respective character
string (in OpenSesame these will typically contain the name of the item that
was used to record them, such as <code>xpos_get_response</code>). This means that
the exact column names do not have to be provided - as long as only one
column starts with the respective character string (otherwise, the exact
column names have to be provided).
</p>
<p>If several variables contain the timestamps, x-positions, and y-positions
within a trial (e.g., <code>xpos_part1</code> and <code>xpos_part2</code>), a vector of
the exact column names has to be provided (e.g.,
<code>xpos_label=c("xpos_part1","xpos_part2"))</code>. <code>mt_import_mousetrap</code>
will then merge all raw data in the order with which the variable labels have
been specified. If one variable contains NAs or an empty string in a trial,
these cases will be ignored (this covers the special case that, e.g.,
<code>xpos_part2</code> is only relevant for some trials and contains NAs in the
other trials).
</p>
<p><code>duplicates</code> allows for different options to handle duplicate timestamps
within a trial: </p>

<ul>
<li>
<p><code>remove_first</code>: First timestamp and corresponding x-/y-positions
are removed (the default).
</p>
</li>
<li>
<p><code>remove_last</code>: Last timestamp and corresponding x-/y-positions are
removed.
</p>
</li>
<li>
<p><code>ignore</code>: Duplicates are kept. </p>
</li>
</ul>
<p><code>unordered</code> allows for different options to handle unordered, that is,
non-monotonically increasing timestamps within a trial: </p>

<ul>
<li>
<p><code>warn</code>: A warning is issued if unordered timestamps are
encountered in a trial (the default).
</p>
</li>
<li>
<p><code>remove</code>: Unordered timestamps within a trial are removed. This
means that any timestamp that is smaller than its predecessor will be removed
along with the corresponding x-/y-position.
</p>
</li>
<li>
<p><code>ignore</code>: Unordered timestamps are kept and no warning is issued. </p>
</li>
</ul>
<h3>Value</h3>

<p>A mousetrap data object (see mt_example).
</p>
<p>If mouse-tracking data were recorded using the mousetrap plug-ins for
OpenSesame, the unit of the timestamps is milliseconds.
</p>


<h3>Author(s)</h3>

<p>Pascal J. Kieslich
</p>
<p>Felix Henninger
</p>


<h3>References</h3>

<p>Kieslich, P. J., &amp; Henninger, F. (2017). Mousetrap: An
integrated, open-source mouse-tracking package. <em>Behavior Research
Methods, 49</em>(5), 1652-1667. <a href="https://doi.org/10.3758/s13428-017-0900-z">doi:10.3758/s13428-017-0900-z</a>
</p>


<h3>See Also</h3>

<p>read_opensesame from the <code>readbulk</code> library
for reading and combining raw data files that were collected with
OpenSesame.
</p>
<p>mt_import_wide and mt_import_long for importing mouse-tracking
data from other sources.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mt_data &lt;- mt_import_mousetrap(mt_example_raw)

</code></pre>


</div>