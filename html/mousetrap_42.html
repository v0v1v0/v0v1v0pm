<div class="container">

<table style="width: 100%;"><tr>
<td>mt_measures</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate mouse-tracking measures.</h2>

<h3>Description</h3>

<p>Calculate a number of mouse-tracking measures for each trajectory, such as
minima, maxima, and flips for each dimension, and different measures for
curvature (e.g., <code>MAD</code>, <code>AD</code>, and <code>AUC</code>). Note that some
measures are only returned if distance, velocity and acceleration are
calculated using mt_derivatives before running <code>mt_measures</code>.
More information on the different measures can be found in the Details and
Values sections.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_measures(
  data,
  use = "trajectories",
  save_as = "measures",
  dimensions = c("xpos", "ypos"),
  timestamps = "timestamps",
  flip_threshold = 0,
  hover_threshold = NULL,
  hover_incl_initial = TRUE,
  initiation_threshold = 0,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a mousetrap data object created using one of the mt_import
functions (see mt_example for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>a character string specifying which trajectory data should be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_as</code></td>
<td>
<p>a character string specifying where the calculated measures
should be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>a character vector specifying the two dimensions in the
trajectory array that contain the mouse positions. Usually (and by
default), the first value in the vector corresponds to the x-positions
(<code>xpos</code>) and the second to the y-positions (<code>ypos</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamps</code></td>
<td>
<p>a character string specifying the trajectory dimension
containing the timestamps.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>flip_threshold</code></td>
<td>
<p>a numeric value specifying the distance that needs to
be exceeded in one direction so that a change in direction counts as a
flip. If several thresholds are specified, flips will be returned in
separate variables for each threshold value (the variable name will be
suffixed with the threshold value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hover_threshold</code></td>
<td>
<p>an optional numeric value. If specified, <code>hovers</code>
(and <code>hover_time</code>)  will be calculated as the number (and total time)
of periods without movement in a trial (whose duration exceeds the value
specified in <code>hover_threshold</code>). If several thresholds are specified,
hovers and hover_time will be returned in separate variables for each
threshold value (the variable name will be suffixed with the threshold
value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hover_incl_initial</code></td>
<td>
<p>logical indicating if the calculation of hovers
should include a potential initial phase in the trial without mouse
movements (this initial phase is included by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initiation_threshold</code></td>
<td>
<p>a numeric value specifying the distance from the
start point of the trajectory that needs to be exceeded for calculating the
initiation time. By default, it is 0, meaning that any movement counts as
movement initiation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical indicating whether function should report its
progress.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that some measures are only returned if distance, velocity and
acceleration are calculated using mt_derivatives before
running <code>mt_measures</code>. Besides, the meaning of these measures
depends on the values of the arguments in mt_derivatives.
</p>
<p>If the deviations from the idealized response trajectory have been calculated
using mt_deviations before running
<code>mt_measures</code>, the corresponding data in the trajectory array
will be used. If not, <code>mt_measures</code> will calculate these
deviations automatically.
</p>
<p>The calculation of most measures can be deduced directly from their
definition (see Value). For several more complex measures, a few details are
provided in the following.
</p>
<p>The signed <strong>maximum absolute deviation</strong> (<code>MAD</code>) is the maximum
perpendicular deviation from the straight path connecting start and end point
of the trajectory (e.g., Freeman &amp; Ambady, 2010). If the <code>MAD</code> occurs
above the direct path, this is denoted by a positive value. If it occurs
below the direct path, this is denoted by a negative value. This assumes that
the complete movement in the trial was from bottom to top (i.e., the end
point has a higher y-position than the start point). In case the movement was
from top to bottom, <code>mt_measures</code> automatically flips the signs. Both
<code>MD_above</code> and  <code>MD_below</code> are also reported separately.
</p>
<p>The <strong>average deviation</strong> (<code>AD</code>) is the average of all deviations
across the trial. Note that <code>AD</code> ignores the timestamps when calculating
this average. This implicitly assumes that the time passed between each
recording of the mouse is the same within each individual trajectory. If the
<code>AD</code> is calculated using raw data that were obtained with an
approximately constant logging resolution (sampling rate), this assumption is
usually justified (mt_check_resolution can be used to check this).
Alternatively, the <code>AD</code> can be calculated based on time-normalized
trajectories; these can be computed using mt_time_normalize which
creates equidistant time steps within each trajectory.
</p>
<p>The <code>AUC</code> represents the <strong>area under curve</strong>, i.e., the geometric
area between the actual trajectory and the direct path. Areas above the
direct path are added and areas below are subtracted. The <code>AUC</code> is
calculated using the polyarea function from the pracma
package.
</p>
<p>Note that all <strong>time</strong> related measures (except <code>idle_time</code> and
<code>hover_time</code>) are reported using the timestamp metric as present in the
data. To interpret the timestamp values as time since tracking start, the
assumption has to be made that for each trajectory the tracking started at
timestamp 0 and that all timestamps indicate the time passed since tracking
start. Therefore, all timestamps should be reset during data import by
subtracting the value of the first timestamp from all timestamps within a
trial (assuming that the first timestamp corresponds to the time when
tracking started). Timestamps are reset by default when importing the data
using one of the mt_import functions (e.g., mt_import_mousetrap). Note
that <code>initiation_time</code> is defined as the last timestamp before the
<code>initiation_threshold</code> was crossed.
</p>


<h3>Value</h3>

<p>A mousetrap data object (see mt_example) where an additional
data.frame has been added (by default called "measures") containing
the per-trial mouse-tracking measures. Each row in the data.frame
corresponds to one trajectory (the corresponding trajectory is identified
via the rownames and, additionally, in the column "mt_id"). Each column in
the data.frame corresponds to one of the measures. If a trajectory array
was provided directly as <code>data</code>, only the measures data.frame will be
returned.
</p>
<p>The following measures are computed for each trajectory (the labels
relating to x- and y-positions will be adapted depending on the values
specified in <code>dimensions</code>). Please note that additional information is
provided in the Details section.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mt_id</code></td>
<td>
<p>Trial ID (can be used for merging measures data.frame with
other trial-level data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos_max</code></td>
<td>
<p>Maximum x-position</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos_min</code></td>
<td>
<p>Minimum x-position</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos_max</code></td>
<td>
<p>Maximum y-position</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos_min</code></td>
<td>
<p>Minimum y-position</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAD</code></td>
<td>
<p>Signed Maximum absolute deviation from the direct path
connecting start and end point of the trajectory (straight line).
If the <code>MAD</code> occurs above the direct path, this is denoted by
a positive value; if it occurs below, by a negative value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAD_time</code></td>
<td>
<p>Time at which the maximum absolute deviation was reached
first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_above</code></td>
<td>
<p>Maximum deviation above the direct path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_above_time</code></td>
<td>
<p>Time at which the maximum deviation above was reached
first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_below</code></td>
<td>
<p>Maximum deviation below the direct path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MD_below_time</code></td>
<td>
<p>Time at which the maximum deviation below was reached
first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AD</code></td>
<td>
<p>Average deviation from direct path</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AUC</code></td>
<td>
<p>Area under curve, the geometric area between the actual
trajectory and the direct path where areas below the direct path have been
subtracted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos_flips</code></td>
<td>
<p>Number of directional changes along x-axis (exceeding the
distance specified in <code>flip_threshold</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos_flips</code></td>
<td>
<p>Number of directional changes along y-axis (exceeding the
distance specified in <code>flip_threshold</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xpos_reversals</code></td>
<td>
<p>Number of crossings of the y-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ypos_reversals</code></td>
<td>
<p>Number of crossings of the x-axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RT</code></td>
<td>
<p>Response time, time at which tracking stopped</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initiation_time</code></td>
<td>
<p>Time at which first mouse movement was initiated</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>idle_time</code></td>
<td>
<p>Total time without mouse movement across the entirety of
the trial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hover_time</code></td>
<td>
<p>Total time of all periods without movement in a trial
(whose duration exceeds the value specified in <code>hover_threshold</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hovers</code></td>
<td>
<p>Number of periods without movement in a trial (whose duration
exceeds the value specified in <code>hover_threshold</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total_dist</code></td>
<td>
<p>Total distance covered by the trajectory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vel_max</code></td>
<td>
<p>Maximum velocity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vel_max_time</code></td>
<td>
<p>Time at which maximum velocity occurred first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vel_min</code></td>
<td>
<p>Minimum velocity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vel_min_time</code></td>
<td>
<p>Time at which minimum velocity occurred first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acc_max</code></td>
<td>
<p>Maximum acceleration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acc_max_time</code></td>
<td>
<p>Time at which maximum acceleration occurred first</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acc_min</code></td>
<td>
<p>Minimum acceleration</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acc_min_time</code></td>
<td>
<p>Time at which minimum acceleration occurred first</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Pascal J. Kieslich
</p>
<p>Felix Henninger
</p>


<h3>References</h3>

<p>Kieslich, P. J., Henninger, F., Wulff, D. U., Haslbeck, J. M. B.,
&amp; Schulte-Mecklenbeck, M. (2019). Mouse-tracking: A practical guide to
implementation and analysis. In M. Schulte-Mecklenbeck, A. KÃ¼hberger, &amp; J.
G. Johnson (Eds.), <em>A Handbook of Process Tracing Methods</em> (pp.
111-130). New York, NY: Routledge.
</p>
<p>Freeman, J. B., &amp; Ambady, N. (2010). MouseTracker: Software for studying
real-time mental processing using a computer mouse-tracking method.
<em>Behavior Research Methods, 42</em>(1), 226-241.
</p>


<h3>See Also</h3>

<p>mt_sample_entropy for calculating sample entropy.
</p>
<p>mt_standardize for standardizing the measures per subject.
</p>
<p>mt_check_bimodality for checking bimodality of the measures using
different methods.
</p>
<p>mt_aggregate and mt_aggregate_per_subject for aggregating the
measures.
</p>
<p>inner_join for merging data using the <code>dplyr</code> package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mt_example &lt;- mt_derivatives(mt_example)
mt_example &lt;- mt_deviations(mt_example)
mt_example &lt;- mt_measures(mt_example)

# Merge measures with trial data
mt_example_results &lt;- dplyr::inner_join(
  mt_example$data, mt_example$measures,
  by="mt_id")
  
</code></pre>


</div>