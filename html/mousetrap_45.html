<div class="container">

<table style="width: 100%;"><tr>
<td>mt_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot trajectory data.</h2>

<h3>Description</h3>

<p><code>mt_plot</code> can be used for plotting a number of individual trajectories.
<code>mt_plot_aggregate</code> can be used for plotting aggregated trajectories.
The color and linetype can be varied depending on a set of condition
variables using the <code>color</code> and <code>linetype</code> arguments. If the
<code>x</code> and <code>y</code> arguments are varied, this function can also be used
for plotting velocity and acceleration profiles.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_plot(
  data,
  use = "trajectories",
  use2 = "data",
  x = "xpos",
  y = "ypos",
  color = NULL,
  linetype = NULL,
  alpha = NA,
  size = 0.5,
  facet_row = NULL,
  facet_col = NULL,
  wrap_var = NULL,
  wrap_ncol = NULL,
  points = FALSE,
  return_type = "plot",
  mt_id = "mt_id",
  only_ggplot = NULL,
  ...
)

mt_plot_aggregate(
  data,
  use = "trajectories",
  use2 = "data",
  x = "xpos",
  y = "ypos",
  color = NULL,
  linetype = NULL,
  alpha = NA,
  size = 0.5,
  facet_row = NULL,
  facet_col = NULL,
  wrap_var = NULL,
  wrap_ncol = NULL,
  points = FALSE,
  return_type = "plot",
  subject_id = NULL,
  only_ggplot = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a mousetrap data object created using one of the mt_import
functions (see mt_example for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>a character string specifying which trajectories should be
plotted. The corresponding trajectories are selected from data using
<code>data[[use]]</code>. Usually, this value corresponds to either
"trajectories", "tn_trajectories" or "av_trajectories", depending on
whether the raw, time-normalized or averaged trajectories should be
plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use2</code></td>
<td>
<p>a character string specifying where the data that contain the
variables used for determining the <code>color</code> and <code>linetype</code> can be
found (in case these arguments are specified). Defaults to "data" as
<code>data[["data"]]</code> usually contains all non mouse-tracking trial data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a character string specifying which dimension in the trajectory
array should be displayed on the x-axis (defaults to xpos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a character string specifying which dimension in the trajectory
array should be displayed on the y-axis (defaults to ypos).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>an optional character string specifying which variable in
<code>data[[use2]]</code> should be used for coloring the trajectories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p>an optional character string specifying which variable in
<code>data[[use2]]</code> should be used for varying the linetype of the
trajectories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>an optional numeric value between 0 and 1 that can be used to
make the plotted lines (and points) semitransparent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>an optional numeric value that can be used to vary the width of
the plotted trajectory lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_row</code></td>
<td>
<p>an optional character string specifying a variable in
<code>data[[use2]]</code> that should be used for (row-wise) faceting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet_col</code></td>
<td>
<p>an optional character string specifying a variable in
<code>data[[use2]]</code> that should be used for (column-wise) faceting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap_var</code></td>
<td>
<p>an optional character string specifying variable(s) in
<code>data[[use2]]</code> that should be used for wrapping.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap_ncol</code></td>
<td>
<p>an optional integer specifying the number of columns if
wrapping is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points</code></td>
<td>
<p>logical. If <code>TRUE</code>, points will be added to the plot using
geom_point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_type</code></td>
<td>
<p>a character string specifying which type of object should
be returned. If <code>"plot"</code> (the default), a new ggplot is created and
the trajectories are plotted using geom_path. If
<code>"mapping"</code>, only the ggplot object containing the mapping but without
any geoms is returned. If <code>"geoms"</code>, only the geoms are returned,
which allows adding the plotted trajectories to an existing ggplot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mt_id</code></td>
<td>
<p>a character string specifying the internal label used for the
trial identifier (passed on to the group aesthetic). Only relevant for
<code>mt_plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only_ggplot</code></td>
<td>
<p>Deprecated. Please use <code>return_type</code> instead.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed on to mt_reshape (such as
<code>subset</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subject_id</code></td>
<td>
<p>a character string specifying which column contains the
subject identifier. Only relevant for <code>mt_plot_aggregate</code>. If
specified, aggregation will be performed within subjects first. Note that
aggregation will be performed separately for each level, including all
subjects for whom data are available.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>mt_plot</code> internally uses mt_reshape for reshaping trajectories
into a long format. Next, it creates a ggplot object using the
ggplot function of the <code>ggplot2</code> package. The
aes mappings are taken from the function arguments for x, y
etc.; in addition, the group mapping is set to the internal trial identifier
(by default called "mt_id").
</p>
<p>If <code>return_type == "plot"</code> (the default), a new ggplot is created and
the trajectories are plotted using the geom_path function of
the <code>ggplot2</code> package. If <code>return_type == "mapping"</code>, the ggplot
object is returned without layers, which can be used to further customize the
plot (see Examples). If <code>return_type == "geoms"</code>, only the geoms are
returned, which allows adding the plotted trajectories to an existing ggplot
(e.g., adding aggregate trajectories on top of the individual trajectories,
see Examples).
</p>
<p><code>mt_plot_aggregate</code> works similarly, but uses mt_aggregate for
reshaping and aggregating trajectories prior to plotting.
</p>
<p>Please note that this function is intended as a quick and easy solution for
visualizing mouse trajectories. For additional flexibility, we recommend that
mt_reshape or mt_aggregate be used in conjunction with
ggplot to create custom visualizations.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>mt_plot()</code>: Plot individual trajectory data
</p>
</li>
<li> <p><code>mt_plot_aggregate()</code>: Plot aggregated trajectory data
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Pascal J. Kieslich
</p>
<p>Felix Henninger
</p>


<h3>See Also</h3>

<p>mt_plot_add_rect for adding rectangles representing the
response buttons to the plot.
</p>
<p>mt_plot_riverbed for plotting the relative frequency of a selected
variable across time.
</p>
<p>mt_plot_per_trajectory for individually plotting all trajectories as
individual pdf files.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Plot individual example trajectories

# Time-normalize trajectories
mt_example &lt;- mt_time_normalize(mt_example)

# Plot all time-normalized trajectories
# varying the color depending on the condition
mt_plot(mt_example, use="tn_trajectories",
  color="Condition")

# ... setting alpha &lt; 1 for semi-transparency
mt_plot(mt_example, use="tn_trajectories",
  color="Condition", alpha=.2)

# ... with custom colors
mt_plot(mt_example, use="tn_trajectories",
  color="Condition") +
  ggplot2::scale_color_brewer(type="qual")

# Create separate plots per Condition
mt_plot(mt_example, use="tn_trajectories",
  facet_col="Condition")

# Create customized plot by setting the return_type option to "mapping"
# to setup an empty plot. In a next step, a geom is added.
# In this example, only points are plotted.
mt_plot(mt_example, use="tn_trajectories",
  color="Condition", return_type="mapping") + 
  ggplot2::geom_point()

# Plot velocity profiles based on the averaged trajectories
# varying the color depending on the condition
mt_example &lt;- mt_derivatives(mt_example)
mt_example &lt;- mt_average(mt_example, interval_size=100)
mt_plot(mt_example, use="av_trajectories",
  x="timestamps", y="vel", color="Condition")


## Plot aggregate trajectories for KH2017 data

# Time-normalize trajectories
KH2017 &lt;- mt_time_normalize(KH2017)

# Plot aggregated time-normalized trajectories per condition
mt_plot_aggregate(KH2017, use="tn_trajectories",
  color="Condition")

# ... first aggregating trajectories within subjects
mt_plot_aggregate(KH2017, use="tn_trajectories",
  color="Condition", subject_id="subject_nr")

# ... adding points for each position to the plot
mt_plot_aggregate(KH2017, use="tn_trajectories",
  color="Condition", points=TRUE)

## Not run: 
  
# Create combined plot of individual and aggregate trajectories
# by first plotting the individual trajectories using mt_plot.
# In a next step, the aggregate trajectories are added using the
# mt_plot_aggregate function with the return_type argument set to "geom".
mt_plot(KH2017, use="tn_trajectories", color="Condition", alpha=.05) + 
  mt_plot_aggregate(KH2017, use="tn_trajectories",
    color="Condition", return_type="geom", size=2)

## End(Not run)

</code></pre>


</div>