<div class="container">

<table style="width: 100%;"><tr>
<td>mousetrap-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Process and analyze mouse-tracking data</h2>

<h3>Description</h3>

<p>The mousetrap package provides functions for importing, preprocessing,
analyzing, aggregating, and visualizing mouse-tracking data. In the
following, a brief overview of the functions in this package is given.
</p>


<h3>Read functions</h3>

<p>Depending on the file format, one of the standard R functions for reading
files into R can be used (e.g., read.table or
read.csv).
</p>
<p>If raw data were collected using
<a href="http://www.mousetracker.org/">MouseTracker</a>, the mousetrap package
provides the read_mt function to read files in the ".mt" format.
</p>
<p>If several raw data files should be read and merged, the
read_bulk function from the
<a href="http://pascalkieslich.github.io/readbulk/">readbulk</a> package can be
used (or the read_opensesame function, if data were
collected using <a href="https://osdoc.cogsci.nl/">OpenSesame</a>).
</p>


<h3>Import functions</h3>

<p>The initial step to prepare data for analysis in the mousetrap package is
to create a mousetrap data object. Depending on the input format, one of
the following functions can be used. A detailed description (and example)
of the resulting mousetrap data object can be found in mt_example.
</p>
<p>mt_import_mousetrap imports mouse-tracking data that were recorded
using the <a href="https://github.com/pascalkieslich/mousetrap-os">mousetrap
plugin</a> for <a href="https://osdoc.cogsci.nl/">OpenSesame</a>.
</p>
<p>mt_import_wide imports mouse-tracking data saved in a wide format
(e.g., data collected using
<a href="http://www.mousetracker.org/">MouseTracker</a>).
</p>
<p>mt_import_long imports mouse-tracking data saved in a long format.
(e.g., trajectories exported using mt_export_long).
</p>


<h3>Geometric preprocessing functions</h3>

<p>A number of functions are available that perform geometric preprocessing
operations.
</p>
<p>mt_remap_symmetric remaps mouse trajectories to one side (or one
quadrant) of the coordinate system.
</p>
<p>mt_align is a general purpose function for aligning and rescaling
trajectories. For specific operations, you can rely on one of the
following functions.
</p>
<p>mt_align_start aligns the start position of trajectories.
</p>
<p>mt_align_start_end aligns all trajectories so that they share a
common initial and final coordinate (this is also sometimes referred to as
"space-normalization").
</p>


<h3>Resampling and interpolation functions</h3>

<p>A number of functions are available that perform resampling and
interpolation operations.
</p>
<p>mt_exclude_initiation	excludes the initial phase of a trial without
mouse movement.
</p>
<p>mt_exclude_finish	excludes a potential phase without mouse movement at the end of a trial.
</p>
<p>mt_time_normalize	performs time-normalization using equidistant time
intervals, resulting in an identical number of samples for all
trajectories.
</p>
<p>mt_resample	resamples trajectories so that samples occur at constant
intervals of a specified length.
</p>
<p>mt_average averages trajectory coordinates (and related variables)
for time bins of constant duration.
</p>
<p>mt_length_normalize re-represents each trajectory spatially so that
adjacent points on the trajectory become equidistant to each other.
</p>


<h3>Data handling functions</h3>

<p>A number of functions are available for data handling operations, such as
filtering or adding of new variables or trajectories.
</p>
<p>mt_subset	filters mouse-tracking data by trials, so that only those
meeting the defined criteria are included.
</p>
<p>mt_add_variables adds new, self created variables to a trajectory
array.
</p>
<p>mt_add_trajectory adds a new trajectory to a trajectory array.
</p>
<p>mt_bind joins two trajectory arrays.
</p>


<h3>Analysis functions</h3>

<p>A number of different analysis procedures and summary statistics for mouse
trajectories have been established in the existing literature. The following
functions implement many of these approaches.
</p>
<p>mt_derivatives calculates distance, velocity, and
acceleration for trajectories.
</p>
<p>mt_angles calculates movement angles for trajectories.
</p>
<p>mt_deviations calculates the deviations from an idealized
trajectory (straight line).
</p>
<p>mt_measures	calculates a set of mouse-tracking measures.
</p>
<p>mt_sample_entropy	calculates sample entropy.
</p>
<p>mt_standardize standardizes mouse-tracking measures onto a common
scale (separately for subsets of the data, e.g., per participant).
</p>
<p>mt_scale_trajectories provides different options for standardizing
variables in a mouse trajectory array.
</p>
<p>mt_check_bimodality	assesses the bimodality of mouse-tracking
measure distributions.
</p>
<p>mt_check_resolution	checks the (temporal) logging resolution of raw
trajectories.
</p>
<p>mt_count counts the number of observations for each trajectory.
</p>


<h3>Cluster functions</h3>

<p>A number of different functions for clustering trajectories is provided.
</p>
<p>mt_distmat computes the dissimilarity/distance between each pair of
trajectories.
</p>
<p>mt_cluster performs trajectory clustering with a specified number of
clusters.
</p>
<p>mt_cluster_k estimates the optimal number of clusters using various
methods.
</p>
<p>mt_map maps trajectories onto a predefined set of prototype
trajectories (a core set is provided in mt_prototypes).
</p>


<h3>Reshaping, aggregation, and export functions</h3>

<p>A number of helper functions are provided for aggregating, plotting, and
exporting the multi-dimensional mouse trajectory arrays.
</p>
<p>mt_reshape is a general purpose reshaping and aggregation function
for mousetrap data.
</p>
<p>mt_aggregate aggregates mouse-tracking data per condition.
</p>
<p>mt_aggregate_per_subject	aggregates mouse-tracking data per
(within subjects-) condition separately for each subject.
</p>
<p>mt_export_long exports mouse-tracking data in long format.
</p>
<p>mt_export_wide exports mouse-tracking data in wide format.
</p>


<h3>Visualization functions</h3>

<p>The following functions can be used for plotting trajectory data, e.g.,
individual and aggregated trajectories or velocity profiles.
</p>
<p>mt_plot	plots individual trajectory data.
</p>
<p>mt_plot_aggregate	plots aggregated trajectory data.
</p>
<p>mt_plot_add_rect adds rectangles to a trajectory plot.
</p>
<p>mt_plot_riverbed plots the relative frequency of a selected variable
across time.
</p>
<p>mt_plot_per_trajectory creates a pdf with separate plots per
trajectory.
</p>
<p>mt_heatmap and mt_heatmap_ggplot plot trajectory heatmaps.
</p>
<p>mt_diffmap for creating a difference-heatmap of two trajectory
heatmap images.
</p>
<p>mt_animate creates a gif trajectory animation.
</p>


<h3>Helper functions</h3>

<p>bimodality_coefficient calculates the bimodality coefficient.
</p>
<p>scale_within scales and centers variables within the levels of
another variable.
</p>
<p>bezier creates Bezier-curves using the Bernstein approximation.
</p>


<h3>Datasets</h3>

<p>mt_example and mt_example_raw contain a mouse-tracking
example dataset for demonstrations using the <code>mousetrap</code> package.
</p>
<p>KH2017 and KH2017_raw contain a mouse-tracking dataset from
Kieslich &amp; Henninger (2017).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Pascal J. Kieslich <a href="mailto:pascal.kieslich@gmail.com">pascal.kieslich@gmail.com</a> (<a href="https://orcid.org/0000-0002-0853-9364">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li>
<p> Dirk U. Wulff <a href="mailto:dirk.wulff@gmail.com">dirk.wulff@gmail.com</a> (<a href="https://orcid.org/0000-0002-4008-8022">ORCID</a>)
</p>
</li>
<li>
<p> Felix Henninger <a href="mailto:mailbox@felixhenninger.com">mailbox@felixhenninger.com</a> (<a href="https://orcid.org/0000-0002-7730-9511">ORCID</a>)
</p>
</li>
<li>
<p> Jonas M. B. Haslbeck <a href="mailto:jonas.haslbeck@googlemail.com">jonas.haslbeck@googlemail.com</a>
</p>
</li>
</ul>
<p>Other contributors:
</p>

<ul><li>
<p> Sarah Brockhaus [contributor]
</p>
</li></ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://pascalkieslich.github.io/mousetrap/">https://pascalkieslich.github.io/mousetrap/</a>
</p>
</li>
<li> <p><a href="https://github.com/pascalkieslich/mousetrap">https://github.com/pascalkieslich/mousetrap</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/pascalkieslich/mousetrap/issues">https://github.com/pascalkieslich/mousetrap/issues</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
KH2017 &lt;- mt_import_mousetrap(subset(KH2017_raw,correct==1))
KH2017 &lt;- mt_remap_symmetric(KH2017)
KH2017 &lt;- mt_align_start(KH2017)

## End(Not run)

KH2017 &lt;- mt_time_normalize(KH2017)
KH2017 &lt;- mt_measures(KH2017)

mt_aggregate(
  KH2017, use="measures",
  use_variables=c("MAD", "AD"),
  use2_variables="Condition",
  subject_id="subject_nr"
)

mt_plot_aggregate(KH2017,
  use="tn_trajectories",
  x="xpos", y="ypos", color="Condition",
  subject_id="subject_nr"
)

## Not run: 
mt_plot(KH2017,
  use="tn_trajectories",
  x="xpos", y="ypos", color="Condition"
)

## End(Not run)
</code></pre>


</div>