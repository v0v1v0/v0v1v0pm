<div class="container">

<table style="width: 100%;"><tr>
<td>mt_add_variables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add new variables to trajectory array.</h2>

<h3>Description</h3>

<p>Add new variables to the trajectory array (and remove potentially existing
variables of the same name). This is mostly a helper function used by other
functions in this package (e.g., mt_deviations). However, it
can also be helpful if the user has calculated new variables for each logged
coordinate and wants to add them to an existing trajectory array.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_add_variables(data, use = "trajectories", save_as = use, variables)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a mousetrap data object created using one of the mt_import
functions (see mt_example for details). Alternatively, a trajectory
array can be provided directly (in this case <code>use</code> will be ignored).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>a character string specifying which trajectory data should be
used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_as</code></td>
<td>
<p>a character string specifying where the resulting trajectory
data should be stored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>a list of matrices that each contain the data of
one of the to be added variables. In this case, the new variables with
their values are added as a new entry in the trajectory arrays third
dimension. Alternatively, a character vector specifying the name of the new
variables that should be added to the trajectory array. In this case, the
new variables are filled with <code>NA</code>s.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A mousetrap data object (see mt_example) where the new
variables have been added to the trajectory array.
Depending on the input to <code>variables</code>, the values for the added
variables are either <code>NA</code>s or their actual values. If columns of the
same name already existed, they have been removed. If the trajectory array
was provided directly as <code>data</code>, only the trajectory array will be
returned.
</p>


<h3>Author(s)</h3>

<p>Pascal J. Kieslich
</p>
<p>Felix Henninger
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Calculate new (arbitrary) variables for this example
# ... the sum of the x- and y-positions
xy_sum &lt;- mt_example$trajectories[,,"xpos"] + mt_example$trajectories[,,"ypos"]
# ... the product of the x- and y-positions
xy_prod &lt;- mt_example$trajectories[,,"xpos"] * mt_example$trajectories[,,"ypos"]

# Add the new variables to the trajectory array
mt_example &lt;- mt_add_variables(mt_example,
  variables=list(xy_sum=xy_sum, xy_prod=xy_prod))

</code></pre>


</div>