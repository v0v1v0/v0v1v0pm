<div class="container">

<table style="width: 100%;"><tr>
<td>mt_as_move2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a new move2 object</h2>

<h3>Description</h3>

<p>Create a new move2 object from a <code>data.frame</code>, <code>sf</code>, <code>telemetry</code>, <code>telemetry</code> list, <code>track_xyt</code>, <code>Move</code> or <code>MoveStack</code> object
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_as_move2(x, ...)

## S3 method for class 'sf'
mt_as_move2(x, time_column, track_id_column, track_attributes = "", ...)

## S3 method for class 'data.frame'
mt_as_move2(x, time_column, track_id_column, track_attributes = "", ...)

## S3 method for class 'track_xyt'
mt_as_move2(x, time_column, track_id_column, track_attributes = "", ...)

## S3 method for class 'telemetry'
mt_as_move2(x, time_column, track_id_column, track_attributes = "", ...)

## S3 method for class 'list'
mt_as_move2(x, time_column, track_id_column, track_attributes = "", ...)

## S3 method for class '.MoveTrack'
mt_as_move2(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>data.frame</code>, <code>sf</code>, <code>telemetry</code>, <code>telemetry</code> list, <code>track_xyt</code>, <code>Move</code> or <code>MoveStack</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed to <code>st_as_sf</code> if <code>x</code> is a <code>data.frame</code>, see the details below
for more information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_column</code></td>
<td>
<p>The name of the column in <code>x</code> containing timestamps</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track_id_column</code></td>
<td>
<p>The name of the column in <code>x</code> containing the track identities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>track_attributes</code></td>
<td>
<p>The name(s) of the column(s) that contain track level attributes</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Frequently used arguments to <code>st_as_sf</code> are:
</p>

<ul>
<li> <p><code>coords</code> a character vector indicating the columns used as coordinates, the length is generally two, for <code>x</code> and
<code>y</code>, but can also be more if <code>z</code> is included
</p>
</li>
<li> <p><code>sf_column_name</code> if a geometry column is present the name of the geometry column to use as coordinates as a
character scalar
</p>
</li>
<li> <p><code>crs</code> the coordinate reference system to use, either as character, number or a <code>crs</code> object for more details see
<code>st_crs</code>
</p>
</li>
<li> <p><code>na.fail</code> normally when the coordinate columns are converted to spatial points <code>NA</code> values cause an error, if set
to <code>FALSE</code> empty points are allowed
</p>
</li>
</ul>
<h3>Value</h3>

<p>A <code>move2</code> object
</p>


<h3>See Also</h3>

<p>Other move2-convert: 
<code>to_move()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## create a move2 object from a data.frame and defining projection
n &lt;- 5
data &lt;- data.frame(
  x = cumsum(rnorm(n)), y = cumsum(rnorm(n)),
  time = seq(n), track = "a"
)
mt_as_move2(data,
  coords = c("x", "y"), time_column = "time",
  track_id_column = "track"
) |&gt; sf::st_set_crs(4326L)

## Dealing with empty coordinates:
## If the data frame contains NA coordinates, the coords argument in sf
## will fail. An alternative is to first create an sfc column,
## or to use the na.fail argument
nn &lt;- 3
data &lt;- data.frame(
  x = c(cumsum(rnorm(n)), rep(NA, nn)), y = c(cumsum(rnorm(n)), rep(NA, nn)),
  time = seq(n + nn), track = "a",
  sensor = c(rep("sensor1", n), rep("sensor2", nn)),
  sensor2values = c(rep(NA, n), runif(nn))
)
mt_as_move2(data,
  coords = c("x", "y"),
  na.fail = FALSE,
  time_column = "time",
  track_id_column = "track"
)

## create a move2 object from a sf object
data$geometry &lt;- sf::st_sfc(apply(data[, c("x", "y")], 1, sf::st_point, simplify = FALSE))
mt_as_move2(data,
  sf_column_name = c("geometry"), time_column = "time",
  track_id_column = "track"
)

</code></pre>


</div>