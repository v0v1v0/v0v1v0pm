<div class="container">

<table style="width: 100%;"><tr>
<td>mt_read</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reading files downloaded from movebank</h2>

<h3>Description</h3>

<p>Reading files downloaded from movebank
</p>


<h3>Usage</h3>

<pre><code class="language-R">mt_read(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>The file path to read or a R connection (for details see <code>connections</code>).
Files can either be csv files from movebank or zip files that are created using Env-DATA.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed on to <code>vroom</code>, for example <code>col_select</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Files can be <code>gz</code> compressed and if the same columns are present multiple files can be read simultaneously.
Using the pipe command in R and some command line tools it is possible to select specific days or months.
</p>
<p>When using the <code>col_select</code> argument of <code>vroom</code> it is possible to speed up file reading
considerably while reducing memory consumption.
Especially columns containing acceleration values can become quite large.
</p>
<p>For files that contain both a <code>individual-local-identifier</code> and a <code>tag-local-identifier</code> column a
check is preformed if individuals have been wearing multiple tags over time. If this is the case tracks are
created based on the combination of both id's. A new column names <code>individual-tag-local-identifier</code> in created,
which will correspond to the track ids. This somewhat resembles the movebank logic however the track ids do
not necessarily correspond to the deployments in movebank as this information is not contained in exported csv's.
</p>


<h3>Value</h3>

<p>An object of the class <code>move2</code>
</p>


<h3>See Also</h3>


<ul><li> <p><code>mt_example()</code> for the path to an example file.
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">path_fishers &lt;- mt_example()

mt_read(path_fishers)

## Reduce the mount of data read this might provide memory advantages
## and speed up reading
mt_read(path_fishers, col_select = c(
  "location-long", "location-lat",
  "timestamp", "individual-local-identifier"
))
## Read Galapagos Albatross data that has been annotated
mt_read(mt_example("Galapagos_Albatrosses-1332012225316982996.zip"))
## Notice this produces a warning as some units are not recognized
## This can be prevented by installing the units
## Not run: 
units::install_unit("gC", "g", "Grams of carbon")

## End(Not run)

## Not run: 
## Reading can also be manipulted to speed up or reduce memory consumption
## Here we assume the Galapagos albatross data has been downloaded
mt_read("~/Downloads/Galapagos Albatrosses.csv")
## Exclude the column 'eobs:accelerations-raw'
mt_read("~/Downloads/Galapagos Albatrosses.csv",
  col_select = (!`eobs:accelerations-raw`)
)
## Only read records from July 2008 using a system pipe where the data
## is already filtered before reading into R
mt_read(pipe('cat "~/Downloads/Galapagos Albatrosses.csv" | grep "2008-07\\|time"'))

## End(Not run)

</code></pre>


</div>