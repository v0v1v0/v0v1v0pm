<div class="container">

<table style="width: 100%;"><tr>
<td>getWindEstimates</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate wind estimates for a trajectories or data frame with wind speeds</h2>

<h3>Description</h3>

<p>Generate wind estimates for a trajectories or data frame with wind speeds
</p>


<h3>Usage</h3>

<pre><code class="language-R">getWindEstimates(data, timestamps, ...)

## S4 method for signature 'MoveStack,missing'
getWindEstimates(data, timestamps, ...)

## S4 method for signature 'Move,missing'
getWindEstimates(data, timestamps, groundSpeedXY = NULL, ...)

## S4 method for signature 'data.frame,POSIXct'
getWindEstimates(
  data,
  timestamps,
  windowSize = 29,
  isFocalPoint = function(i, ts) {
     TRUE
 },
  isSamplingRegular = 1,
  focalSampleBefore = 0,
  returnSegmentList = F,
  referenceGroundSpeed = NULL,
  ...
)

## S4 method for signature 'list,ANY'
getWindEstimates(
  data,
  timestamps,
  phi = 0,
  isThermallingFunction = getDefaultIsThermallingFunction(360, 4),
  columnNamesWind = c("estimationSuccessful", "residualVarAirspeed", "windX", "windY",
    "windVarX", "windVarY", "windCovarXY", "windVarMax", "airX", "airY"),
  referenceGroundSpeed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Move object, MoveStack or data.frame containing wind speeds</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamps</code></td>
<td>
<p>timestamps of the speed observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other possible arguments currently nothing else is implemented</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groundSpeedXY</code></td>
<td>
<p>an character of length 2 containing column names from the move object that need to be used as the x and y component of the ground speed vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>windowSize</code></td>
<td>
<p>a numeric vector of length 1 or 2, if length 1 it is the size of the focal window data will be assigned to the central location. If length 2 the window size is <code>sum(windowSize)+1)</code> and the first element is the number of location before the focal locations, the second is the number of locations after the focal location.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isFocalPoint</code></td>
<td>
<p>an function that based on location number and timestamps returns a logical vector if location should be included. Or a numeric/logical vector indicating the location numbers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isSamplingRegular</code></td>
<td>
<p>either a function that determines based on a vector of timestamps if the sampling interval is regular or a numeric value that corresponds to the time interval between observations in the dataset that is regular</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>focalSampleBefore</code></td>
<td>
<p>The number of locations that occurred before the move object fed in the getWindEstimates function, used in case stacks are provided for example. This is most cases not useful for users.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnSegmentList</code></td>
<td>
<p>a logical value indicating if the list of segments to estimate wind over should be returned instead of the estimates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>referenceGroundSpeed</code></td>
<td>
<p>a number indicating which of the grounds speed vectors to take as a reference for air speed, by default the 0th/middle location of the window if that is specified by one number.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>phi</code></td>
<td>
<p>the auto correlation of air speed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isThermallingFunction</code></td>
<td>
<p>An function that based on a series of headings and speeds (wind corrected) decides if an segment should be considered thermalling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columnNamesWind</code></td>
<td>
<p>The column names used for storing the data in the returned objected after it has been calculated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a Move object, dataframe or a MoveStack depending on input
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("storks")
# run example for reduced dataset
windEst&lt;-getWindEstimates(storks[format(timestamps(storks),"%H")=="12",][[2:3]])
# Use evolution status 2 to avoid using rgdal (set using sp)
set_evolution_status(2L)
windEst&lt;-spTransform(windEst, center=TRUE)
plot(windEst)
# only plot few arrows of estimates
s&lt;-windEst$estimationSuccessful &amp; format(timestamps(windEst), "%S")=='00'
# enlarge arrows 30 times
arrows(coordinates(windEst)[s,1],coordinates(windEst)[s,2],
   coordinates(windEst)[s,1]+ windEst$windX[s]*30,
   coordinates(windEst)[s,2]+windEst$windY[s]*30)
</code></pre>


</div>