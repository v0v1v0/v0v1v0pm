<div class="container">

<table style="width: 100%;"><tr>
<td>movebound</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>R function for calculating slope-dependant walking cost boundary(ies) around point location(s)</h2>

<h3>Description</h3>

<p>The function provides the facility to calculate walking cost boundary(ies) around one or more point locations. Rationale: while <code>movecost</code>
can calculate and render an accumulated cost surface and corresponding isolines around a point location, the user(s) might want to
calculate and plot a boundary (or boundaries) corresponding to a specific walking cost limit around one or more locations,
either in terms of walking time or energy expenditure.<br>
Visit this <a href="https://drive.google.com/file/d/1gLDrkZFh1b_glzCEqKdkPrer72JJ9Ffa/view?usp=sharing">LINK</a> to access the package's vignette.<br></p>


<h3>Usage</h3>

<pre><code class="language-R">movebound(
  dtm = NULL,
  origin,
  studyplot = NULL,
  barrier = NULL,
  plot.barrier = FALSE,
  funct = "t",
  time = "h",
  move = 16,
  field = 0,
  cont.value = NULL,
  cogn.slp = FALSE,
  sl.crit = 10,
  W = 70,
  L = 0,
  N = 1,
  V = 1.2,
  z = 9,
  cont.lab = TRUE,
  transp = 0.5,
  add.geom = FALSE,
  export = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dtm</code></td>
<td>
<p>Digital Terrain Model (RasterLayer class); if not provided, elevation data will be acquired online for the area enclosed by the 'studyplot' parameter (see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>location(s) around which the boundary(ies) is calculated (SpatialPointsDataFrame class).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>studyplot</code></td>
<td>
<p>polygon (SpatialPolygonDataFrame class) representing the study area for which online elevation data are acquired (see <code>movecost</code>); NULL is default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>barrier</code></td>
<td>
<p>area where the movement is inhibited (SpatialLineDataFrame or SpatialPolygonDataFrame class) (see <code>movecost</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.barrier</code></td>
<td>
<p>TRUE or FALSE (default) if the user wants or does not want the barrier to be plotted (see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funct</code></td>
<td>
<p>cost function to be used (for details on each of the following, see <code>movecost</code>):<br></p>
<p><strong>-functions expressing cost as walking time-</strong><br><strong>t</strong> (default) uses the on-path Tobler's hiking function;<br><strong>tofp</strong> uses the off-path Tobler's hiking function;<br><strong>mp</strong> uses the Marquez-Perez et al.'s modified Tobler's function;<br><strong>icmonp</strong> uses the Irmischer-Clarke's hiking function (male, on-path);<br><strong>icmoffp</strong> uses the Irmischer-Clarke's hiking function (male, off-path);<br><strong>icfonp</strong> uses the Irmischer-Clarke's hiking function (female, on-path);<br><strong>icfoffp</strong> uses the Irmischer-Clarke's hiking function (female, off-path);<br><strong>ug</strong> uses the Uriarte Gonzalez's walking-time cost function;<br><strong>ma</strong> uses the Marin Arroyo's walking-time cost function;<br><strong>alb</strong> uses the Alberti's Tobler hiking function modified for pastoral foraging excursions;<br><strong>gkrs</strong> uses the Garmy, Kaddouri, Rozenblat, and Schneider's hiking function;<br><strong>r</strong> uses the Rees' hiking function;<br><strong>ks</strong> uses the Kondo-Seino's hiking function;<br><strong>trp</strong> uses the Tripcevich's hiking function;<br></p>
<p><strong>-functions for wheeled-vehicles-</strong><br><strong>wcs</strong> uses the wheeled-vehicle critical slope cost function;<br></p>
<p><strong>-functions expressing abstract cost-</strong><br><strong>ree</strong> uses the relative energetic expenditure cost function;<br><strong>b</strong> uses the Bellavia's cost function;<br><strong>e</strong> uses the Eastman's cost function;<br></p>
<p><strong>-functions expressing cost as metabolic energy expenditure-</strong><br><strong>p</strong> uses the Pandolf et al.'s metabolic energy expenditure cost function;<br><strong>pcf</strong> uses the Pandolf et al.'s cost function with correction factor for downhill movements;<br><strong>m</strong> uses the Minetti et al.'s metabolic energy expenditure cost function;<br><strong>hrz</strong> uses the Herzog's metabolic energy expenditure cost function;<br><strong>vl</strong> uses the Van Leusen's metabolic energy expenditure cost function;<br><strong>ls</strong> uses the Llobera-Sluckin's metabolic energy expenditure cost function;<br><strong>a</strong> uses the Ardigo et al.'s metabolic energy expenditure cost function (for all the mentioned cost functions;<br><strong>h</strong> uses the Hare's metabolic energy expenditure cost function (for all the mentioned cost functions, see <code>movecost</code>).<br></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>time-unit expressed by the isoline(s) if Tobler's and other time-related cost functions are used; h' for hour, 'm' for minutes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>move</code></td>
<td>
<p>number of directions in which cells are connected: 4 (rook's case), 8 (queen's case), 16 (knight and one-cell queen moves; default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field</code></td>
<td>
<p>value assigned to the cells coincidinng with the barrier (0 by default) (see <code>movecost</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont.value</code></td>
<td>
<p>cost value represented by the calculated isoline(s) (NULL by default); if no value is supplied, it is set to 1/10 of the range of values of the accumulated cost surface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cogn.slp</code></td>
<td>
<p>TRUE or FALSE (default) if the user wants or does not want the 'cognitive slope' to be used in place of the real slope (see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sl.crit</code></td>
<td>
<p>critical slope (in percent), typically in the range 8-16 (10 by default) (used by the wheeled-vehicle cost function; see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>walker's body weight (in Kg; 70 by default; used by the Pandolf's and Van Leusen's cost function; see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>L</code></td>
<td>
<p>carried load weight (in Kg; 0 by default; used by the Pandolf's and Van Leusen's cost function; see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>coefficient representing ease of movement (1 by default) (see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>speed in m/s (1.2 by default) (used by the Pandolf et al.'s, Pandolf et al.s with correction factor, Van Leusen's, and Ardigo et al.'s cost function; if set to 0, it is internally worked out on the basis of Tobler on-path hiking function (see <code>movecost</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>zoom level for the elevation data downloaded from online sources (from 0 to 15; 9 by default) (see <code>movecost</code> and <code>get_elev_raster</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont.lab</code></td>
<td>
<p>TRUE (default) or FALSE if the usuer wants or does not want labels to be attached to the isolines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transp</code></td>
<td>
<p>set the transparency of the slopeshade raster that is plotted over the DTM (0.5 by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.geom</code></td>
<td>
<p>TRUE or FALSE (default) if the user wants or does not want the area enclosed by each isolines to be calculated (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>export</code></td>
<td>
<p>TRUE or FALSE (default) if the user wants or does not want the isoline(s) and the copy of the input 'origin' dataset (storing boundaries' geometry information)
to be exported; if TRUE, they will be exported as a shapefile; the exported file will bear a suffix corresponding to the cost function selected by the user.
The DTM is exported only if it was not provided by the user and downloaded by the function from online sources.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function just requires an input DTM and a dataset ('SpatialPointsDataFrame' class) containing at least one point location.
If a DTM is not provided, <code>movebound()</code> will download elevation data from online sources (see <code>movecost</code> for more details).
Under the hood, <code>movebound()</code> relies on the <code>movecost()</code> function and implements the same
cost functions: see the help documentation of <code>movecost()</code> for further information.<br></p>
<p>The following example uses in-built datasets and calculates 45-minute boundaries around three locations close to Mt Etna (Sicily, Italy), using the
Tobler's off-path hiking function (note: elevation data are acquired online for the area enclosed by the polygon fed via the
'studyplot' parameter):<br></p>
<p>result &lt;- movebound(origin=Etna_end_location, cont.value=45, time="m", cont.lab = TRUE, funct="tofp", studyplot = Etna_boundary, add.geom=TRUE)<br></p>
<p>Note that by setting the parameter <code>add.geom</code> to <code>TRUE</code>, the function calculates the area enclosed by the boundary represented by each
calculated isoline. Needless to say, the unit of measure is the one used by the input layers' coordinate system. The value(s) of the area
will be appended as a new variables to a copy of the input 'origin' dataset. The area can only be calculated if the
isolines are "complete" and not truncated (i.e., if they do not meet the end of the study area for instance). Therefore, before using this option,
the user may want to be sure that all the isolines are actual loops.<br></p>
<p>With reference to the above example, the area of the three 45-minutes boundaries can be retrieved typing what follows:<br></p>
<p>result$origin_w_isolines_geom$area <br></p>
<p>It will return:<br>
17857994 20428575 9172688<br></p>
<p>that are the values of the area of each 45-minute boundary in square meter.<br>
Needless to say, if we want to convert to square km we can just:<br>
result$origin_w_isolines_geom$area/1000000 <br></p>
<p>which gives<br>
17.857994 20.428575  9.172688 <br></p>
<p><code>movebound()</code> produces a plot representing the input DTM overlaid by a slopeshade raster, whose transparency can be adjusted using
the 'transp' parameter. On the rendered plot, the calculated isoline(s) is displayed and the label(s) representing the cost limit can be
activated or deactivated using the 'cont.lab' parameter. The function also returns the isoline(s) ('SpatialLinesDataFrame' class) corresponding
to the selected accumulated cost limit and the copy of the 'origin' dataset (storing information about the boundaries' geometry) (see 'Value' below).
The isoline(s) and the copy of the 'origin' dataset can be exported as shapefile by setting the <code>export</code> parameter to <code>TRUE</code>. <br></p>


<h3>Value</h3>

<p>The function returns a list storing the following components
</p>

<ul>
<li>
<p> dtm: Digital Terrain Model ('RasterLayer' class)
</p>
</li>
<li>
<p> isolines: contour line(s) representing the selected cost limit ('SpatialLinesDataFrame' class)
</p>
</li>
<li>
<p> origin_w_isolines_geom: copy of the input origin location(s) dataset with a new variable ('area') storing the
area values of the boundary calculated around each location
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>movecost</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load a sample Digital Terrain Model
data(volc)


# load the sample destination locations on the above DTM
data(destin.loc)


# calculate the 5minute walking time boundary around a location
# using the Tobler's off-path hiking function

result &lt;- movebound(dtm=volc, origin=volc.loc, funct="tofp", move=8, time="m", cont.val=5)


# same as above, but around multiple locations; contours' labels are turned off

result &lt;- movebound(dtm=volc, origin=destin.loc, funct="tofp", move=8, time="m",
cont.val=2, cont.lab=FALSE)


</code></pre>


</div>