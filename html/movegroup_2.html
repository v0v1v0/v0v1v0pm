<div class="container">

<table style="width: 100%;"><tr>
<td>alignraster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combines region-specific group-level UD rasters into a single raster.</h2>

<h3>Description</h3>

<p>Extends the spatial extent of each area-specific group-level raster to the spatial extent shared by all rasters.
This will only be required if you have multiple individuals (e.g. different sharks) divided amongst a few discrete areas
(e.g. around different islands) and the effort (e.g. receiver coverage) is different among islands.
Not required for multiple individuals all within the same region or sampling regime.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alignraster(
  folderroots = c("/myfolder/H", "/myfolder/L", "/myfolder/M"),
  foldernames = c("H", "L", "M"),
  pattern = ".asc",
  scalefolder = "Scaled",
  scaledweightedname = "All_Rasters_Scaled_Weighted",
  savefolder = tempdir(),
  format = "ascii",
  datatype = "FLT4S",
  bylayer = TRUE,
  overwrite = TRUE,
  returnObj = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>folderroots</code></td>
<td>
<p>Character vector of locations of folder roots output by movegroup. Function
expects CRS.Rds file and a subfolder with the scaled raster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>foldernames</code></td>
<td>
<p>Character vector names of folders corresponding to files in folderroots, i.e.
the names of the objects, arrays, regions, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern</code></td>
<td>
<p>For input rasters from scaleraster. Default ".asc".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalefolder</code></td>
<td>
<p>For input rasters from scaleraster. Default "Scaled".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaledweightedname</code></td>
<td>
<p>For input rasters from scaleraster. Default "All_Rasters_Scaled".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>savefolder</code></td>
<td>
<p>E.g. "/myfolder/Aligned". Single character entry of folder to save outputs, no trailing slash.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Character. Output file type for raster::writeRaster param format. Default ascii,
other options have generally not worked well in SD's experience.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>datatype</code></td>
<td>
<p>Character. Data type for writing values to disk for raster::writeRaster param
datatype. Default FLT4S.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bylayer</code></td>
<td>
<p>For raster::writeRaster param bylayer. Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>For raster::writeRaster param overwrite. Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnObj</code></td>
<td>
<p>Logical. Return the scaled object to the parent environment to be assigned as an
object? Default FALSE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When used in a movegroup pipeline, the order would be: movegroup.R, scaleraster.R,
alignraster.R if required, plotraster.R.
</p>


<h3>Value</h3>

<p>Region-specific group-level UD rasters that share the same spatial extent.
</p>


<h3>Author(s)</h3>

<p>Simon Dedman, <a href="mailto:simondedman@gmail.com">simondedman@gmail.com</a>
</p>
<p>Maurits van Zinnicq Bergmann, <a href="mailto:mauritsvzb@gmail.com">mauritsvzb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# load data
data("TracksCleaned")
# loop movegroup and scaleraster through tide subsets
tide &lt;- c("H", "M", "L")
for (i in tide) {
dir.create(file.path(tempdir(), i))
  movegroup(
    data = TracksCleaned[TracksCleaned$T.Ph == i, ],
    ID = "Shark",
    Datetime = "Datetime",
    Lat = "Lat",
    Lon = "Lon",
    savedir = file.path(tempdir(), i, "/"))
  
  scaleraster(path = file.path(tempdir(), i),
              crsloc = file.path(tempdir(), i))
}

alignraster(folderroots = file.path(tempdir(), tide),
            foldernames = tide,
            savefolder = file.path(tempdir(), "Aligned"))


</code></pre>


</div>