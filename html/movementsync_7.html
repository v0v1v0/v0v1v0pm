<div class="container">

<table style="width: 100%;"><tr>
<td>autolayer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Autolayer methods</h2>

<h3>Description</h3>

<p>Layers of annotation data to add to ggplots in 'movementsync.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'OnsetsSelected'
autolayer(
  object,
  time_limits = c(-Inf, Inf),
  colour = "Inst.Name",
  fill = "Metre",
  alpha = 0.4,
  instrument_cols = NULL,
  ...
)

## S3 method for class 'Metre'
autolayer(
  object,
  time_limits = c(-Inf, Inf),
  colour = "hotpink",
  alpha = 0.5,
  tempo = FALSE,
  view = NULL,
  columns = NULL,
  ...
)

## S3 method for class 'Duration'
autolayer(
  object,
  time_limits = c(-Inf, Inf),
  expr = .data$Tier == "FORM",
  fill_column = "Comments",
  geom = "rect",
  vline_column = "In",
  ...
)

## S3 method for class 'Splice'
autolayer(object, geom = "rect", vline_column = "Start", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>S3 object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_limits</code></td>
<td>
<p>tuple of time limits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour</code></td>
<td>
<p>name of column for colouring.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>name of column for filling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>aesthetic</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>instrument_cols</code></td>
<td>
<p>instrument column names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed to geom.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tempo</code></td>
<td>
<p>do we plot tempo with a Metre layer? (Default is FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view</code></td>
<td>
<p>view object for a tempo Metre layer (Default is NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>columns for view for a tempo Metre layer (Default is NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expr</code></td>
<td>
<p>unquoted R expression for filtering data (default is Tier =='FORM').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill_column</code></td>
<td>
<p>data column used for fill.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geom</code></td>
<td>
<p>'rect' or 'vline'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vline_column</code></td>
<td>
<p>column name for position of vertical lines.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>ggplot geom object
</p>


<h3>Examples</h3>

<pre><code class="language-R">
r&lt;-get_recording("NIR_ABh_Puriya", fps=25)
o &lt;- get_onsets_selected_data(r)
v &lt;- get_raw_view(r, "Central", "", "Sitar")
autoplot(v, columns = c("LEar_x", "LEar_y"), maxpts=5000) + autolayer(o)

m &lt;- get_metre_data(r)
autoplot(v, columns = c("LEar_x", "LEar_y"), time_limits = c(1000, 2000)) +
  autolayer(m, time_limits = c(1000, 2000))
autoplot(v, columns = c("LEar_x", "LEar_y"), time_limits = c(1000, 2000)) +
  autolayer(m, tempo = TRUE, time_limits = c(1000, 2000), view = v,
            columns = c("LEar_x", "LEar_y"))

d &lt;- get_duration_annotation_data(r)
autoplot(m)
autoplot(m) + autolayer(d)
autoplot(m) + autolayer(d, fill_col = "Tier")

v &lt;- get_raw_view(r, "Central", "", "Sitar")
autoplot(v, columns = c("LEar_x", "LEar_y")) +
  autolayer(d)
autoplot(v, columns = c("LEar_x", "LEar_y")) +
  autolayer(d, expr = Tier == "FORM" &amp; substr(Comments, 1, 1) == "J")
autoplot(v, columns = c("LEar_x", "LEar_y")) +
  autolayer(d, geom = "vline", nudge_x = -60, size = 3, colour = "blue")

</code></pre>


</div>