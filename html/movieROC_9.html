<div class="container">

<table style="width: 100%;"><tr>
<td>movieROC</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create a video with the building procedure of the ROC curve
</h2>

<h3>Description</h3>

<p>Save a video as a GIF illustrating the construction of the ROC curve. Particularly, for each
element in vector <code>fpr</code> (optional input parameter), the function executed is
</p>
<p>- for ‘groc’ objects:
</p>
<p><code>plot_buildROC(obj, FPR = fpr[i], build.process = TRUE,...)</code>;
</p>
<p>- for ‘multiroc’ objects:
</p>
<p><code>plot_buildROC(obj, FPR = fpr[i], build.process = TRUE, display.method, displayOV,...)</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">movieROC(x, ...)
## S3 method for class 'groc'
movieROC(x, fpr = NULL, h = c(1,1), histogram = FALSE, breaks = 15,
  reduce = TRUE, completeROC = FALSE, videobar = TRUE, file = "animation1.gif",
  save = TRUE, legends = FALSE, speedcorrection = FALSE, tpause = 1, interval = 0.2,
  ani.width, ani.height, xlab = "Marker", main.density = "Density functions",
  cex.lab = 2.5, cex.axis = 1.75, cex.main = 2.25 + as.numeric(reduce),
  xlim = NULL, ylim = NULL, cex.point = 1.5, lwd.curve = 2, mar = NULL,
  lim.density = 0.01, col.controlscases = c("#485C99", "#8F3D52"),
  col.curve = "black", col.threshold = "#FCBA04", verbose = FALSE, ...)
## S3 method for class 'multiroc'
movieROC(x, fpr = NULL, display.method = c("PCA", "OV"),
  displayOV = c(1,2), border = TRUE, completeROC = FALSE, videobar = TRUE,
  file = "animation1.gif", save = TRUE, legends = FALSE, tpause = 1,
  interval = 0.2, ani.width, ani.height, xlab = NULL, ylab = NULL,
  cex = 0.8, cex.lab = 1.5, cex.axis = 1.5, cex.main = 2, alpha.points = 1,
  alpha.contour = 0.25, lwd.curve = 2, lty.curve = 1, lf = NULL,
  col.controlscases = c('#485C99','#8F3D52'), col.curve = 'black',
  col.threshold = '#FCBA04', verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>An ROC curve object from the <span class="pkg">movieROC</span> package. Possible classes are: ‘groc’ (output of <code>gROC()</code> function) and ‘multiroc’ (output of <code>multiROC()</code> function).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fpr</code></td>
<td>

<p>A vector of false-positive rates for which the building process of the ROC curve is displayed. Default: if length of <code>x$t</code> is lower than 150, such vector is taken as <code>fpr</code>; otherwise, an equally-space vector of length 100 covering the range of the marker is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h</code></td>
<td>

<p>A vector of length 2 with the bandwidth used to compute kernel density estimation for controls and cases, respectively. See <code>adjust</code> parameter in <code>density()</code> function from <span class="pkg">stats</span> package. Default: <code>h = c(1,1)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>histogram</code></td>
<td>

<p>If TRUE, histograms are displayed on the left instead of kernel density estimates. Default: FALSE. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>

<p>If <code>histogram = TRUE</code>, number of breaks used for the histograms. Default: 15.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduce</code></td>
<td>

<p>If FALSE, two extra graphics are displayed at the bottom (see Details for more information). Default: TRUE. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>completeROC</code></td>
<td>

<p>A logical value indicating if the whole ROC curve should be displayed in light gray or not. Default: FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>videobar</code></td>
<td>

<p>If TRUE, a text progress bar is shown in the R console. Default: TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>If TRUE, a progress bar is displayed for computationally intensive methods. Default: FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>

<p>File name of the movie (with the extension). Default: <code>"animation1.gif"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save</code></td>
<td>

<p>If TRUE, video is saved as a GIF by using the <code>saveGIF</code> function in <a href="https://CRAN.R-project.org/package=animation"><span class="pkg">animation</span></a> package. Default: TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legends</code></td>
<td>

<p>If TRUE, a legend with colors meaning is displayed on the left graphic and the AUC is shown on the right graphic. Default: FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speedcorrection</code></td>
<td>

<p>If TRUE, only some FPR in <code>fpr</code> vector are considered to make the video faster. Default: FALSE. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tpause</code></td>
<td>

<p>If <code>save = FALSE</code>, time interval to suspend execution for, in seconds. Default: 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>

<p>If <code>save = TRUE</code>, a positive number to set the time interval of the animation (unit in seconds) in <a href="https://CRAN.R-project.org/package=animation"><span class="pkg">animation</span></a> package. Default: 0.2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ani.width, ani.height</code></td>
<td>

<p>If <code>save = TRUE</code>, width and height of image frames (unit in px) in <a href="https://CRAN.R-project.org/package=animation"><span class="pkg">animation</span></a> package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab, ylab</code></td>
<td>

<p>Label for x- and y-axis on the left plot. <code>ylab</code> not available for object of class ‘groc’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main.density</code></td>
<td>

<p>Title for the left plot. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab, cex.axis, cex.main</code></td>
<td>

<p>The magnification to be used for labels, axis annotation and main titles, respectively, relative to the current setting of <code>cex</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>

<p>A numerical value giving the amount by which plotting text and symbols should be magnified relative to the default. Default: 0.8. Not available for object of class ‘groc’ (<code>cex=1</code> in this case).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.point</code></td>
<td>

<p>The magnification to be used for the particular point on the ROC curve and its text, relative to the current setting of <code>cex</code>. Default: <code>cex.point = 1.5</code>. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim, ylim</code></td>
<td>

<p>Range for x- and y-axis on the left plot. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lim.density</code></td>
<td>

<p>If <code>xlim</code> is <code>NULL</code>, lower limit for the density estimate to compute the range for the x-axis on the left plot. Default: 0.01. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty.curve, lwd.curve, col.curve</code></td>
<td>

<p>The line type, width and color for ROC curve. Default: <code>lty.curve = 1</code> (solid), <code>lwd.curve = 2</code> and <code>col.curve = "black"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>

<p>A numerical vector of the form c(bottom, left, top, right) which gives the number of lines of margin to be specified on the four sides of the plot. Only available for a ‘groc’ object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.controlscases</code></td>
<td>

<p>Vector of length 2 with the color used to control and case group, respectively. Default: <code>c('#485C99','#8F3D52')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.threshold</code></td>
<td>

<p>Color for the chosen point. Default: <code>"FCBA04"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>

<p>If TRUE, a border for the classification subsets is drawn. Default: TRUE. Not available for object of class ‘groc’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.points, alpha.contour</code></td>
<td>

<p>Number in [0,1] modifying the opacity alpha of the color for the points and classification region. The <code>adjustcolor</code> function in <span class="pkg">grDevices</span> package is used. Default: <code>alpha.points = 1, alpha.contour = 0.25</code>. Not available for object of class ‘groc’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lf</code></td>
<td>

<p>Epsilon value for steps. Not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display.method</code></td>
<td>

<p>Method to display the marker values from a ‘multiroc’ object on the left plot. Methods available: <code>"OV"</code> (projected over two selected components of the marker indicated in <code>displayOV</code>), or <code>"PCA"</code> (projected over the two principal components from a Principal Component Analysis). Default: <code>"PCA"</code>. Only available for object of class ‘multiroc’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displayOV</code></td>
<td>

<p>If <code>display.method = "OV"</code>, the two components of the marker used to project the marker values on the left plot. Default: <code>c(1,2)</code> (two first components). Only available for object of class ‘multiroc’.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Other parameters to be passed to the <code>saveGIF()</code> function in <a href="https://CRAN.R-project.org/package=animation"><span class="pkg">animation</span></a> package.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A video with the building procedure of the ROC curve estimate with the selected graphical parameters
</p>


<h3>Dependencies</h3>

<p>If <code>save = TRUE</code> (by default), the <code>saveGIF()</code> function in the <a href="https://CRAN.R-project.org/package=animation"><span class="pkg">animation</span></a> package is used.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(HCC)

# Standard ROC curve for gene 20202438
roc_cg20202438 &lt;- gROC(X = HCC$cg20202438, D = HCC$tumor, side = "right")

### The video will be saved as a GIF with the name "video_cg20202438"
movieROC(roc_cg20202438, file = "video_cg20202438.gif", save = FALSE)

# Multivariate ROC curve for genes 0202438, 18384097, and 03515901
multiroc_PT &lt;- multiROC(X = cbind(HCC$cg20202438, HCC$cg18384097, HCC$cg03515901),
    D = HCC$tumor, method = "fixedLinear", methodLinear = "PepeThompson")

# Two first components from PCA:
### The video will be saved as a GIF with the name "video_multiroc_pca"
movieROC(multiroc_PT, file = "video_multiroc_pca.gif", save = FALSE)


### The video will be saved as a GIF with the name "video_multiroc_orig"
movieROC(multiroc_PT, display.method = "OV", displayOV = c(1,3),
    file = "video_multiroc_orig.gif", cex = 1.2, xlab = "Gene 20202438",
    ylab = "Gene 03515901", lwd.curve = 4, save = FALSE)
  
</code></pre>


</div>