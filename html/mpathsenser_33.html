<div class="container">

<table style="width: 100%;"><tr>
<td>moving_average</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Moving average for values in an mpathsenser database</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">moving_average(
  db,
  sensor,
  cols,
  n,
  participant_id = NULL,
  start_date = NULL,
  end_date = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>db</code></td>
<td>
<p>A database connection to an m-Path Sense database.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensor</code></td>
<td>
<p>The name of a sensor. See sensors for a list of available
sensors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>Character vectors of the columns in the <code>sensor</code> table to average over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of seconds to average over. The index of the result will be centered compared
to the rolling window of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>participant_id</code></td>
<td>
<p>A character vector identifying one or multiple participants.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start_date</code></td>
<td>
<p>Optional search window specifying date where to begin search. Must be
convertible to date using as.Date. Use first_date to find the
date of the first entry for a participant.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_date</code></td>
<td>
<p>Optional search window specifying date where to end search. Must be convertible
to date using as.Date. Use last_date to find the date of the
last entry for a participant.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with the same columns as the input, modified to be a moving average.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
path &lt;- system.file("testdata", "test.db", package = "mpathsenser")
db &lt;- open_db(NULL, path)
moving_average(
  db = db,
  sensor = "Light",
  cols = c("mean_lux", "max_lux"),
  n = 5, # seconds
  participant_id = "12345"
)
close_db(db)

## End(Not run)
</code></pre>


</div>