<div class="container">

<table style="width: 100%;"><tr>
<td>define_deprivation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Define deprivation cutoffs</h2>

<h3>Description</h3>

<p>A deprivation cutoff must be set for each indicator defined in the MPI specifications. This step establishes the first cutoff in the methodology where every person/household (defined as the unit of analysis) can be identified as deprived or non-deprived with respect to each indicator. <br></p>
<p>For each indicator, <code>0</code> will be used to indicate "not deprived", <code>1</code> if deprived, and <code>NA</code> if missing or non-response. Additional column containing the product of the value of the indicator obtained and its corresponding weight will also be computed for convenience.
</p>


<h3>Usage</h3>

<pre><code class="language-R">define_deprivation(
  .data,
  .indicator,
  .cutoff,
  .mpi_specs = getOption("mpi_specs"),
  .collapse = FALSE,
  .set_na_equal_to = 0,
  .collapse_condition = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.data</code></td>
<td>
<p>A data frame or tibble</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.indicator</code></td>
<td>
<p>Name of indicator defined in MPI specs (must exactly match the specs).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.cutoff</code></td>
<td>
<p>A conditional logic that defines the poverty line to determine whether deprived or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.mpi_specs</code></td>
<td>
<p>MPI specifications defined in <code>define_mpi_specs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.collapse</code></td>
<td>
<p>A boolean indicating whether to collapse the data frame or not. This is useful, for instance, if the original data where the <code>.cutoff</code> argument above applies to an individual person but your unit of analysis in household.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.set_na_equal_to</code></td>
<td>
<p>Coerce value from NA to either <code>0</code> (not deprived) or <code>1</code> (deprived). Default is <code>0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.collapse_condition</code></td>
<td>
<p>NOT YET FULLY IMPLEMENTED. ONLY WORKS WITH DEFAULT. A condition when <code>.collapse</code> is set to <code>TRUE</code>. If <code>NULL</code>, <code>max()</code> will be used as default.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame of deprivation value for the indicator (<code>.*_unweighted</code>): <code>0</code> for "not deprived", <code>1</code> for deprived, and <code>NA</code> for missing and non-response; and product of <code>.*_unweighted</code> and its corresponding weight (<code>.*_weighted</code>).
</p>


<h3>References</h3>

<p><a href="https://ophi.org.uk/research/multidimensional-poverty/how-to-apply-alkire-foster/">How to Apply the Alkire-Foster Method</a>
</p>


<h3>See Also</h3>

<p>define_mpi_specs
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Use sample specs file included in the package
specs_file &lt;- system.file(
 "extdata",
 "global-mpi-specs.csv",
 package = "mpindex"
)
specs &lt;- define_mpi_specs(specs_file, .uid = 'uuid')

# Using built-in dataset
df_household |&gt;
  define_deprivation(
    .indicator = drinking_water,
    .cutoff = drinking_water == 2
  )

df_household_roster |&gt;
  define_deprivation(
    .indicator = school_attendance,
    .cutoff = attending_school == 2,
    .collapse = TRUE
  )

</code></pre>


</div>