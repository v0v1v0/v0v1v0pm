<div class="container">

<table style="width: 100%;"><tr>
<td>addterm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
All Possible Single-Term Additions to / Deletions from a Multi-Parameter Regression (MPR) Model
</h2>

<h3>Description</h3>

<p>Identifies all models which arise via single-term additions to / deletions from a
component (or, simultaneously, multiple components) of the supplied <code>mpr</code> model, fits all such
models and summarises these models in a table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">addterm(object, upper = ~ ., comp = 1:(object$ncomp),
        aic = TRUE, bestmodel = object, ...)

dropterm(object, lower = ~ 1, comp = 1:(object$ncomp),
         aic = TRUE, bestmodel = object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>an object of class “<code>mpr</code>” which is the result of a call to <code>mpr</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>

<p>a one-sided <code>formula</code> (used in <code>addterm</code>) specifying a maximal model which must
include the current one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>

<p>a one-sided <code>formula</code> (used in <code>dropterm</code>) specifying a minimal model which must
be within the current one.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>

<p>a numeric value (or vector) indicating the regression component (or components) where (simultaneous) 
additions / deletions occur. Note that “<code>1</code>” <code class="reqn"> = \lambda</code>, “<code>2</code>”
<code class="reqn"> = \gamma</code> and “<code>3</code>” <code class="reqn"> = \rho</code>.  For more information on the various components, 
see <code>mpr</code> and <code>distributions</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aic</code></td>
<td>

<p>logical. If <code>TRUE</code>, AIC is used as the basis for determining the best model among those
considered. If <code>FALSE</code>, BIC is used.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bestmodel</code></td>
<td>

<p>an initial best model which, by default, is the supplied current model. This argument is used within the
<code>stepmpr</code> function but is unlikely to be used directly by the end user.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>additional arguments to be passed to internal methods.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The hierarchy is respected when considering terms to be added or dropped, e.g., all main effects
contained in a second-order interaction must remain.
</p>
<p>When using <code>addterm</code>, the terms in the <code>upper</code> model formula must be a <em>superset</em>
of the terms for each regression component indicated by <code>comp</code>. For example, if component
1 is <code>~ a + b + c</code> and component 2 is <code>~ a + b</code> (and terms are to be added to both
simultaneously, i.e., <code>comp=1:2</code>),
then <code>upper = ~ a + b + c + d</code> is acceptable and means that the variable
<code>d</code> will be added simultaneously to components 1 and 2 (this can be written more compactly as
<code>upper = ~ . + d</code>). On the other hand, <code>~ a + b + d</code> is not acceptable since its terms do
not form a superset of the terms in component 1 (however, this would be acceptable if we were only
considering component 2, i.e., if <code>comp=2</code>).
</p>
<p>When using <code>dropterm</code>, the terms in the <code>lower</code> model formula must be a <em>subset</em>
of the terms for each regression component indicated by <code>comp</code>. Again, if component 1 is
<code>~ a + b + c</code> and component 2 is <code>~ a + b</code> (and terms are to be dropped from both
simultaneously, i.e., <code>comp=1:2</code>), then <code>lower = ~ a</code> is
acceptable and means that the variable <code>b</code> will be dropped simultaneously from components 1 and 2 
(this can be written more compactly as <code>lower = ~ . - b</code>). On the other hand, <code>~ c</code> is not
acceptable since its terms do not form a subset of the terms in component 2 (however, this would be
acceptable if we were only considering component 1, i.e., if <code>comp=1</code>).
</p>
<p>To summarise the above two paragraphs, the <code>upper</code> formula must <em>contain</em> each formula
corresponding to the components under consideration whereas the <code>lower</code> formula must <em>be
contained within</em> each of these formulae.
</p>






<h3>Value</h3>

<p>A <code>list</code> containing the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>modeltab</code></td>
<td>

<p>a table containing information about each of the fitted models. This information comes from the
“<code>model</code>” element of each of the <code>mpr</code> objects - see <code>mpr</code> for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bestmodel</code></td>
<td>

<p>the model with the lowest AIC (or BIC if <code>aic = FALSE</code>) among the fitted models including the
initial <code>bestmodel</code> passed to the <code>addterm</code> / <code>dropterm</code> function.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Kevin Burke.
</p>


<h3>See Also</h3>

<p><code>mpr</code>, <code>stepmpr</code>, <code>update.mpr</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Veterans' administration lung cancer data
veteran &lt;- survival::veteran
head(veteran)

# null model
mod1 &lt;- mpr(Surv(time, status) ~ list(~ 1, ~ 1), data=veteran)
mod1 # family = "Weibull" by default

# consider adding trt and celltype to component 1 
addterm(mod1, ~ trt + celltype, comp=1)

# consider adding trt and celltype to components 1 and 2 simultaneously
addterm(mod1, ~ trt + celltype, comp=1:2)$modeltab

# further examples
mod2 &lt;- mpr(Surv(time, status) ~ list(~ trt + celltype, ~ trt + karno),
            data=veteran)
dropterm(mod2, ~ 1, comp=1:2)$modeltab
dropterm(mod2, ~ 1, comp=1)$modeltab
dropterm(mod2, ~ 1, comp=2)$modeltab

# does nothing since celltype is only in component 1
dropterm(mod2, ~ . - celltype, comp=1:2)$modeltab 

# removes celltype from component 1
dropterm(mod2, ~ . - celltype, comp=1)$modeltab
</code></pre>


</div>