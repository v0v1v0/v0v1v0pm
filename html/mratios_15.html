<div class="container">

<table style="width: 100%;"><tr>
<td>n.ratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Sample size computation in simultaneous tests for ratios of means </h2>

<h3>Description</h3>

<p>Computes the sample sizes required in simultaneous tests for non-inferiority (or superiority)
based on relative margins in multiple comparisons with a control.  
</p>


<h3>Usage</h3>

<pre><code class="language-R">n.ratio(m, rho, Power, CV0, rho.star, alpha, Min.power = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>  number of comparisons with a control group </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p> relative non-inferiority (or superiority) margin </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Power</code></td>
<td>
<p> given power (1-beta) </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CV0</code></td>
<td>
<p> coefficient of variation of the control group </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho.star</code></td>
<td>
<p> the percentage (of the mean of the control group) to be detected </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p> familywise error rate </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Min.power</code></td>
<td>
<p> if set to TRUE (by default), the minimal power will be controlled,
otherwise complete power </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The sample sizes are computed at the least favourable configurations, based on the assumption
of no prior information regarding the true configuration of the ratios under the alternative
hypotheses. The formula is
</p>
<p><code class="reqn"> n = ((C_1 + C_2)^2) (1 + \rho^2)/((\rho - \rho^*)^2) CV0^2 </code>,
</p>
<p>where <code class="reqn">C_1</code> is the lower <code class="reqn">1-\alpha</code> equi-coordinate percentage point of an m-variate normal distribution 
and <code class="reqn">C_2</code> is the quantile of univariate (multivariate) normal distribution depending on the type of power 
controlled. In tests for non-inferiority (or superiority) with large response values indicating better
treatment benefit, <code class="reqn">\rho &lt; \rho^* </code>, where <code class="reqn">\rho &lt; 1</code> for non-inferiority and <code class="reqn">\rho &gt; 1</code> for superiority testing. 
Whereas, if small response values indicate better treatment benefit, <code class="reqn">\rho^* &lt; \rho</code>, where <code class="reqn">\rho &gt; 1</code> for non-inferiority 
and <code class="reqn">\rho &lt; 1</code> for superiority testing.                                                                                                  
</p>


<h3>Author(s)</h3>

<p> Gemechis Dilba Djira </p>


<h3>References</h3>

<p><em> Dilba, G., Bretz, F., Hothorn, L.A., and Guiard, V. (2006).</em>
Power and sample size computations in simultaneous tests for non-inferiority based on relative margins.
<em> Statistics in Medicine 25, 1131-1147.</em>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

  #
  #  Example 1: Sample size calculation in tests for non-inferiority
  #  (two-sample case)(Laster and Johnson (2003),
  #  Statistics in Medicine 22:187-200)

     n.ratio(m=1, rho=0.8, Power=0.8, CV0=0.75, rho.star=1,
     alpha=0.05)


  #
  #  Example 2: Sample size calculation in simultaneous tests for
  #  non-inferiority
  #  (Dilba et al. (2006), Statistics in Medicine 25:1131-1147)

     n.ratio(m=3, rho=0.7, Power=0.8, CV0=0.5, rho.star=0.95,
     alpha=0.05)


  #
  #  Example 3: Controlling complete power
  #

     n.ratio(m=5, rho=1.2, Power=0.8, CV0=0.2, rho.star=1.40,
         alpha=0.05, Min.power=FALSE)

</code></pre>


</div>