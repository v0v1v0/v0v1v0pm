<div class="container">

<table style="width: 100%;"><tr>
<td>stake78</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Wooden stake data from 1978 survey</h2>

<h3>Description</h3>

<p>Multiple surveys by different observers of a single 1km transect containing
150 wooden stakes placed based on expected uniform distribution throughout a
40 m strip (20m on either side).
</p>


<h3>Format</h3>

<p>A data frame with 150 observations on the following 13 variables.
</p>
 <dl>
<dt>StakeNo</dt>
<dd>
<p>unique number for each stake 1-150</p>
</dd>
<dt>PD</dt>
<dd>
<p>perpendicular distance at which the stake was placed
from the line</p>
</dd> <dt>Obs1</dt>
<dd>
<p>0/1 whether missed/seen by observer 1</p>
</dd>
<dt>Obs2</dt>
<dd>
<p>0/1 whether missed/seen by observer 2</p>
</dd>
<dt>Obs3</dt>
<dd>
<p>0/1 whether missed/seen by observer 3</p>
</dd>
<dt>Obs4</dt>
<dd>
<p>0/1 whether missed/seen by observer 4</p>
</dd>
<dt>Obs5</dt>
<dd>
<p>0/1 whether missed/seen by observer 5</p>
</dd>
<dt>Obs6</dt>
<dd>
<p>0/1 whether missed/seen by observer 6</p>
</dd>
<dt>Obs7</dt>
<dd>
<p>0/1 whether missed/seen by observer 7</p>
</dd>
<dt>Obs8</dt>
<dd>
<p>0/1 whether missed/seen by observer 8</p>
</dd>
<dt>Obs9</dt>
<dd>
<p>0/1 whether missed/seen by observer 9</p>
</dd>
<dt>Obs10</dt>
<dd>
<p>0/1 whether missed/seen by observer 10</p>
</dd>
<dt>Obs11</dt>
<dd>
<p>0/1 whether missed/seen by observer 11</p>
</dd> </dl>
<h3>Details</h3>

<p>The 1997 survey was based on a single realization of a uniform distribution.
Because it was a single transect and there was no randomization of the
distances for each survey, we repeated the experiment and used distances
that provided a uniform distribution but randomly sorted the positions along
the line so there was no pattern obvious to the observer.
</p>


<h3>Source</h3>

<p>Laake, J. 1978. Line transect estimators robust to animal movement.
M.S. Thesis. Utah State University, Logan, Utah. 55p.
</p>


<h3>References</h3>

<p>Burnham, K. P., D. R. Anderson, and J. L. Laake. 1980.
Estimation of Density from Line Transect Sampling of Biological
Populations. Wildlife Monographs:7-202.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(stake78)
data(stake77)
# compare distribution of distances for all stakes
hist(stake77$PD)
hist(stake78$PD)
# Extract stake data and put in the mrds format for model fitting.
extract.stake &lt;- function(stake,obs){
  extract.obs &lt;- function(obs){
    example &lt;- subset(stake,eval(parse(text=paste("Obs",obs,"==1",sep=""))),
                      select="PD")
    example$distance &lt;- example$PD
    example$object &lt;- 1:nrow(example)
    example$PD &lt;- NULL
    return(example)
  }
  if(obs!="all"){
     return(extract.obs(obs=obs))
  }else{
    example &lt;- NULL
    for(i in 1:(ncol(stake)-2)){
      df &lt;- extract.obs(obs=i)
      df$person &lt;- i
      example &lt;- rbind(example,df)
    }
    example$person &lt;- factor(example$person)
    example$object &lt;- 1:nrow(example)
    return(example)
  }
}
extract.stake.pairs &lt;- function(stake,obs1,obs2,removal=FALSE){
  obs1 &lt;- paste("Obs",obs1,sep="")
  obs2 &lt;- paste("Obs",obs2,sep="")
  example &lt;- subset(stake,eval(parse(text=paste(obs1,"==1 |",obs2,"==1 ",
                                     sep=""))), select=c("PD",obs1,obs2))
  names(example) &lt;- c("distance","obs1","obs2")
  detected &lt;- c(example$obs1,example$obs2)
  example &lt;- data.frame(object=rep(1:nrow(example),2),
                        distance=rep(example$distance,2),
                        detected = detected,
                        observer=c(rep(1,nrow(example)),
                                   rep(2,nrow(example))))
  if(removal) example$detected[example$observer==2] &lt;- 1
  return(example)
}

# extract data for observer 10 and fit a single observer model
stakes &lt;- extract.stake(stake78,10)
ds.model &lt;- ddf(dsmodel = ~mcds(key = "hn", formula = ~1), data = stakes,
                method = "ds", meta.data = list(width = 20))
plot(ds.model,breaks=seq(0,20,2),showpoints=TRUE)
ddf.gof(ds.model)

# extract data from observers 5 and 7 and fit an io model
stkpairs &lt;- extract.stake.pairs(stake78,5,7,removal=FALSE)
io.model &lt;- ddf(dsmodel = ~mcds(key = "hn", formula=~1),
                mrmodel=~glm(formula=~distance),
                data = stkpairs, method = "io")
summary(io.model)
par(mfrow=c(3,2))
plot(io.model,breaks=seq(0,20,2),showpoints=TRUE,new=FALSE)
ddf.gof(io.model)


</code></pre>


</div>