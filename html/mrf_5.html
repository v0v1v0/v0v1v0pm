<div class="container">

<table style="width: 100%;"><tr>
<td>mrf_model_selection</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model selection for Multiresolution Forecasts</h2>

<h3>Description</h3>

<p>Evaluates the best coefficient combination for a given aggregation scheme based
on a rolling forecasting origin  based on the manuscript [Stier et al., 2021]
which is currently in press.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mrf_model_selection(UnivariateData, Aggregation, Horizon = 1, Window = 2,
Method = "r", crit = "AIC", itermax = 1, lower_limit = 1, upper_limit = 2,
NumClusters = 1, Threshold="hard", Lambda=0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>UnivariateData</code></td>
<td>
<p>[1:n] Numerical vector with n values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Aggregation</code></td>
<td>
<p>[1:Scales] Numerical vector carrying numbers whose index is
associated with the wavelet level. The numbers indicate the number of time in
points used for aggregation from the original time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Horizon</code></td>
<td>
<p>Number indicating horizon for forecast from 1 to horizon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Window</code></td>
<td>
<p>Number indicating how many points are used for cross validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Method</code></td>
<td>
<p>String indicating which method to use. Available methods: 'r'  =
Autoregression. 'nn' = Neural Network. 'elm' = Extreme Learning Machine.
'nnetar' = forecast::nnetar. Default: Method="r".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crit</code></td>
<td>
<p>String with criterion. Available criterions: "AIC" = Akaikes Info.
Crit. "MAE" = Mean Abs. Error. "MRE" = Mean Root Error. Default: crit = "AIC".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>itermax</code></td>
<td>
<p>Number of iterations used in the differential evolutionary
optimization algorithm. Default: itermax = 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_limit</code></td>
<td>
<p>[1:Scales+1] Numeric vector: Lower limit for coefficients
selected for each level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper_limit</code></td>
<td>
<p>[1:Scales+1] Numeric vector: Higher limit for coefficients
selected for each level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NumClusters</code></td>
<td>
<p>Number of clusters used for parallel computing. Default:
NumClusters = 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Threshold</code></td>
<td>
<p>Character indicating if Thresholding is done on the wavelet
decomposition or not. Default: Threshold="hard".
Possible entries:
Threshold="hard" for hard thresholding.
Threshold="soft" for soft thresholding.
Any other input indicates no thresholding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lambda</code></td>
<td>
<p>Numeric value indicating the threshold for computing a hard or
soft threshold on the wavelet decomposition.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The evaluation function (optimization function) is built with a rolling
forecasting origin (rolling_window function), which computes a h-step ahead
forecast (for h = 1, ..., horizon) for 'Window' many steps.
The input space is searched with an evolutionary optimization method.
The search is restricted to one fixed aggregation scheme (parameter:
'Aggregation').
The deployed forecast method can be an autoregression or a neural network
(multilayer perceptron with one hidden layer).
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>CoefficientCombination</code></td>
<td>
<p>[1:Scales+1] Numerical vector with numbers which
are associated with wavelet levels. The last number is associated with the
smooth level. Each number determines the number of coefficient used per level.
The selection follows a specific scheme. Best combination of coefficients
found by the model selection algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Aggregation</code></td>
<td>
<p>[1:Scales] Numerical vector carrying numbers whose index is
associated with the wavelet level. The numbers indicate the number of time in
points used for aggregation from the original time series. Best Aggregation
scheme found by the model selection algorithm.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Quirin Stier
</p>


<h3>References</h3>

<p>[Stier et al., 2021] Stier, Q.,Gehlert, T. and Thrun, M. C.: Multiresolution Forecasting for
Industrial Applications, Processess, 2021.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(entsoe)
UnivariateData = entsoe$value
Aggregation = c(2,4)
res = mrf_model_selection(UnivariateData, Aggregation, Horizon = 1, Window = 2,
Method = "r", crit = "AIC", itermax = 1, lower_limit = 1, upper_limit = 2,
NumClusters = 1)
BestCoefficientCombination = res$CoefficientCombination

</code></pre>


</div>