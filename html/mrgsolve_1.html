<div class="container">

<table style="width: 100%;"><tr>
<td>mrgsolve-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>mrgsolve: Simulate from ODE-Based Models</h2>

<h3>Description</h3>

<p>mrgsolve is an R package maintained under the auspices of
Metrum Research Group that facilitates simulation from
models based on systems of ordinary differential equations (ODE)
that are typically employed for understanding pharmacokinetics,
pharmacodynamics, and systems biology and pharmacology. mrgsolve
consists of computer code written in the R and C++ languages,
providing an interface to a C++ translation of the lsoda differential
equation solver. See aboutsolver for more information.
</p>


<h3>Resources</h3>


<ul>
<li>
<p> Main mrgsolve resource page: <a href="https://mrgsolve.org">https://mrgsolve.org</a>
</p>
</li>
<li>
<p> User guide: <a href="https://mrgsolve.org/user_guide/">https://mrgsolve.org/user_guide/</a>
</p>
</li>
<li>
<p> Package documentation and vignettes: <a href="https://mrgsolve.org/docs/">https://mrgsolve.org/docs/</a>
</p>
</li>
</ul>
<h3>Package-wide options</h3>


<ul>
<li> <p><code>mrgolve.project</code>: sets the default project director (<code>mread()</code>)
</p>
</li>
<li> <p><code>mrgsolve.soloc</code>: sets the default package build directory (<code>mread()</code>)
</p>
</li>
<li> <p><code>mrgsolve_mread_quiet</code>: don't print messages during <code>mread()</code>
</p>
</li>
<li> <p><code>mrgsolve.update.strict</code>: this option has been deprecated; use the <code>strict</code>
argument to <code>update()</code> instead
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Kyle T Baron <a href="mailto:kyleb@metrumrg.com">kyleb@metrumrg.com</a> (<a href="https://orcid.org/0000-0001-7252-5656">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li>
<p> Bill Gillespie [contributor]
</p>
</li>
<li>
<p> Charles Margossian [contributor]
</p>
</li>
<li>
<p> Devin Pastoor [contributor]
</p>
</li>
<li>
<p> Bill Denney (<a href="https://orcid.org/0000-0002-5759-428X">ORCID</a>) [contributor]
</p>
</li>
<li>
<p> Dilawar Singh [contributor]
</p>
</li>
<li>
<p> Felicien Le Louedec (<a href="https://orcid.org/0000-0003-3699-2729">ORCID</a>) [contributor]
</p>
</li>
<li>
<p> Timothy Waterhouse (<a href="https://orcid.org/0000-0002-0954-9660">ORCID</a>) [contributor]
</p>
</li>
<li>
<p> Kyle Meyer [contributor]
</p>
</li>
<li>
<p> Metrum Research Group [copyright holder]
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/metrumresearchgroup/mrgsolve">https://github.com/metrumresearchgroup/mrgsolve</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/metrumresearchgroup/mrgsolve/issues">https://github.com/metrumresearchgroup/mrgsolve/issues</a>
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
## example("mrgsolve")

mod &lt;- mrgsolve::house(delta=0.1)  %&gt;% param(CL=0.5)

events &lt;-  ev(amt=1000, cmt=1, addl=5, ii=24)

events

mod

see(mod)

## Not run: 
stime(mod)

## End(Not run)
param(mod)

init(mod)

out &lt;- mod %&gt;% ev(events) %&gt;% mrgsim(end=168)

head(out)
tail(out)
dim(out)

plot(out, GUT+CP~.)

sims &lt;- as.data.frame(out)

t72 &lt;- dplyr::filter(sims, time==72)

str(t72)

idata &lt;- data.frame(ID=c(1,2,3), CL=c(0.5,1,2),VC=12)
out &lt;- mod %&gt;% ev(events) %&gt;% mrgsim(end=168, idata=idata, req="")
plot(out)

out &lt;- mod %&gt;% ev(events) %&gt;% mrgsim(carry_out="amt,evid,cmt,CL")
head(out)

ev1 &lt;- ev(amt=500, cmt=2,rate=10)
ev2 &lt;- ev(amt=100, cmt=1, time=54, ii=8, addl=10)
events &lt;- c(ev1+ev2)
events

out &lt;- mod %&gt;% ev(events) %&gt;% mrgsim(end=180, req="")
plot(out)


## "Condensed" data set
data(extran1)
extran1

out &lt;- mod %&gt;% data_set(extran1) %&gt;% mrgsim(end=200)

plot(out,CP~time|factor(ID))


## idata
data(exidata)

out &lt;- 
  mod %&gt;% 
  ev(amt=1000, cmt=1) %&gt;% 
  idata_set(exidata) %&gt;%  
  mrgsim(end=72)

plot(out, CP~., as="log10")


# Internal model library
## Not run: 
mod &lt;- mread("irm1", modlib())

mod

x &lt;- mod %&gt;% ev(amt=300, ii=12, addl=3) %&gt;% mrgsim


## End(Not run)

</code></pre>


</div>