<div class="container">

<table style="width: 100%;"><tr>
<td>ev</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Event objects for simulating PK and other interventions</h2>

<h3>Description</h3>

<p>An event object specifies dosing or other interventions that get implemented
during simulation. Event objects do similar things as data_set,
but simpler and easier to create.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ev(x, ...)

## S4 method for signature 'mrgmod'
ev(x, object = NULL, ...)

## S4 method for signature 'missing'
ev(
  time = 0,
  amt = 0,
  evid = 1,
  cmt = 1,
  ID = numeric(0),
  replicate = TRUE,
  until = NULL,
  tinf = NULL,
  realize_addl = FALSE,
  ...
)

## S4 method for signature 'ev'
ev(x, realize_addl = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other items to be incorporated into the event object; see
<strong>Details</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an event object to be added to a model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>event time.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>amt</code></td>
<td>
<p>dose amount.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evid</code></td>
<td>
<p>event ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmt</code></td>
<td>
<p>compartment number or name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ID</code></td>
<td>
<p>subject ID.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicate</code></td>
<td>
<p>logical; if <code>TRUE</code>, events will be replicated for
each individual in <code>ID</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>until</code></td>
<td>
<p>the expected maximum <strong>observation</strong> time for this regimen;
doses will be scheduled up to, but not including, the <code>until</code> time;
see <strong>Examples</strong>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tinf</code></td>
<td>
<p>infusion time; if greater than zero, then the <code>rate</code> item
will be derived as <code>amt/tinf</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>realize_addl</code></td>
<td>
<p>if <code>FALSE</code> (default), no change to <code>addl</code>
doses.  If <code>TRUE</code>, <code>addl</code> doses are made explicit with <code>realize_addl()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li>
<p> Required items in events objects include
<code>time</code>, <code>amt</code>, <code>evid</code> and <code>cmt</code>.
</p>
</li>
<li>
<p> If not supplied, <code>evid</code> is assumed to be 1.
</p>
</li>
<li>
<p> If not supplied, <code>cmt</code>  is assumed to be 1.
</p>
</li>
<li>
<p> If not supplied, <code>time</code> is assumed to be 0.
</p>
</li>
<li>
<p> If <code>amt</code> is not supplied, an error will be generated.
</p>
</li>
<li>
<p> If <code>total</code> is supplied, then <code>addl</code> will be set to <code>total-1</code>.
</p>
</li>
<li>
<p> Other items can include <code>ii</code>, <code>ss</code>, and <code>addl</code>
(see data_set for details on all of these items).
</p>
</li>
<li> <p><code>ID</code> may be specified as a vector.
</p>
</li>
<li>
<p> If replicate is <code>TRUE</code> (default), then the events
regimen is replicated for each <code>ID</code>; otherwise, the number of
event rows must match the number of <code>ID</code>s entered.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>ev()</code> returns an event object.
</p>


<h3>See Also</h3>

<p><code>evd()</code>, <code>ev_rep()</code>, <code>ev_days()</code>, <code>ev_repeat()</code>, <code>ev_assign()</code>,
<code>ev_seq()</code>, <code>mutate.ev()</code>, <code>as.ev()</code>, <code>as.evd()</code>, ev_methods.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mod &lt;- mrgsolve::house()

mod &lt;- mod %&gt;% ev(amt = 1000, time = 0, cmt = 1)

loading &lt;- ev(time = 0, cmt = 1, amt = 1000)

maint &lt;- ev(time = 12, cmt = 1, amt = 500, ii = 12, addl = 10)

c(loading, maint)

reduced_load &lt;- dplyr::mutate(loading, amt = 750)

# Three additional doses in this case
e &lt;- ev(amt = 100, ii = 4*7, until = 16*7)
e
# Last dose is given at 84
realize_addl(e)

# Four additional doses with last at 112 in this case
e &lt;- ev(amt = 100, ii = 4*7, until = 16*7 + 0.001)
realize_addl(e)

</code></pre>


</div>