<div class="container">

<table style="width: 100%;"><tr>
<td>mrgsim_q</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate from a model object with quicker turnaround</h2>

<h3>Description</h3>

<p>Use the function when you would usually use <code>mrgsim_d</code>, 
but you need a quicker turnaround time.  The timing differences 
might be difficult to detect for a single simulation run
but could become appreciable with repeated simulation.  See
<code>details</code> for important differences in how <code>mrgsim_q</code>
is invoked compared to <code>mrgsim</code> and <code>mrgsim_d</code>.  
This function should always be used for benchmarking simulation time with
mrgsolve.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mrgsim_q(
  x,
  data,
  recsort = 1,
  stime = numeric(0),
  output = "mrgsims",
  skip_init_calc = FALSE,
  simcall = 0,
  etasrc = "omega"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a model object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a simulation data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recsort</code></td>
<td>
<p>record sorting flag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stime</code></td>
<td>
<p>a numeric vector of observation times; these observation
times will only be added to the output if there are no observation
records in <code>data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>output data type; if <code>mrgsims</code>, then the default output
object is returned; if <code>"df"</code> then a data frame is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_init_calc</code></td>
<td>
<p>don't use <code>$MAIN</code> to calculate initial conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simcall</code></td>
<td>
<p>not used; only the default value of 0 is allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>etasrc</code></td>
<td>
<p>source for ETA() values in the model; values can include: 
"omega", '"data"', '"data.all"', '"idata"', or '"idata.all"'; see 
'Details' in [mrgsim()].</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function does not support the piped simulation workflow.  All
arguments must be passed into the function except for <code>x</code>.  
</p>
<p>A data set is required for this simulation workflow.  The 
data set can have only dosing records or doses with observations.
When the data set only includes doses, a single numeric vector of 
observation times should be passed in.  
</p>
<p>This simulation workflow does not support <code>Req</code> (request) 
functionality.  All compartments and captured variables will 
always be returned in the simulation output.
</p>
<p>This simulation workflow does not support carry-out functionality.
</p>
<p>This simulation workflow does not accept arguments to be passed
to <code>update</code>. This must be done by a separate
call to <code>update</code>.
</p>
<p>This simulation workflow does not support use of event objects.  If 
an event object is needed, it should be converted to a data set 
prior to the simulation run (see <code>as_data_set</code> or 
<code>as.data.frame.ev</code>.
</p>
<p>This simulation workflow does not support idata sets or any 
feature enabled by idata set use.  Individual level parameters
should be joined onto the data set prior to simulation.  Otherwise
<code>mrgsim_i</code> or <code>mrgsim_ei</code> should be used.
</p>
<p>By default, a mrgsims object is returned (as with <code>mrgsim</code>). 
Use the <code>output="df"</code> argument to request a plain 
data.frame of simulated data on return.
</p>


<h3>Value</h3>

<p>By default, an object of class 'mrgsims'. Use 'output = "df"' to return 
a data frame.
</p>


<h3>See Also</h3>

<p><code>mrgsim</code>, <code>mrgsim_variants</code>, <code>qsim</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
mod &lt;- mrgsolve::house()

data &lt;- expand.ev(amt = c(100, 300, 1000))

out &lt;- mrgsim_q(mod, data)

out

</code></pre>


</div>