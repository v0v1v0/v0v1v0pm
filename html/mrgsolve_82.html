<div class="container">

<table style="width: 100%;"><tr>
<td>design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set observation designs for the simulation</h2>

<h3>Description</h3>

<p>This function also allows you to assign different designs to different
groups or individuals in a population.
</p>


<h3>Usage</h3>

<pre><code class="language-R">design(x, deslist = list(), descol = character(0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>model object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deslist</code></td>
<td>
<p>a list of <code>tgrid</code> or <code>tgrids</code> objects or 
<code>numeric</code> vector to be used in place of ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>descol</code></td>
<td>
<p>the <code>idata</code> column name (<code>character</code>) for design 
assignment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This setup requires the use of an <code>idata_set</code>, with individual-level 
data passed in one <code>ID</code> per row.  For each <code>ID</code>, specify a 
grouping variable in <code>idata</code> (<code>descol</code>).  For each unique value 
of the grouping variable, make one <code>tgrid</code> object and pass them 
in order as <code>...</code> or form them into a list and pass as <code>deslist</code>.
</p>
<p>You must assign the <code>idata_set</code> before assigning the designs in the 
command chain (see the example below).
</p>


<h3>Examples</h3>

<pre><code class="language-R">
peak &lt;- tgrid(0,6,0.1)
sparse &lt;- tgrid(0,24,6)

des1 &lt;- c(peak,sparse)
des2 &lt;- tgrid(0,72,4)


data &lt;- expand.ev(ID = 1:10, amt=c(100,300))
data$GRP &lt;- data$amt/100

idata &lt;- data[,c("ID", "amt")]

mod &lt;- mrgsolve::house()

mod %&gt;%
  omat(dmat(1,1,1,1)) %&gt;%
  carry_out(GRP) %&gt;%
  idata_set(idata) %&gt;%
  design(list(des1, des2),"amt") %&gt;%
  data_set(data) %&gt;%
  mrgsim() %&gt;% 
  plot(RESP~time|GRP)

</code></pre>


</div>