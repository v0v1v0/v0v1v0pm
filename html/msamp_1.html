<div class="container">

<table style="width: 100%;"><tr>
<td>n</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the sample size necessary to detect contamination above
target level</h2>

<h3>Description</h3>

<p>The n() function calculates the sample size,n, necessary to detect contamination above
a target level, G, in a product lot, where the probability of a single sample unit being above
the target level is calculated by the msamp function p(). The total cost, cost_tot,
associated with sample size is also output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">n(
  C,
  w,
  G,
  Sens,
  D = c("homogeneous", "heterogeneous", "localized"),
  r = NULL,
  f = NULL,
  prob_det = 0.9,
  samp_dollar,
  lot_dollar
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>suspected lot contamination (CFU/g)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>weight of single sample unit (g)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>target value to detect (CFU/g)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sens</code></td>
<td>
<p>sensitivity of the analytical test (%)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>distribution of the bacteria in the product lot: "homogeneous", "heterogeneous", or "localized"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>for the heterogeneous case only, the degree of heterogeneity. r &gt; 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>for the localized case, r is further specified. 0 &lt; f &lt; 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob_det</code></td>
<td>
<p>desired probability of detecting bacterial contamination above the
target level in the product lot. Set to 0.9 by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>samp_dollar</code></td>
<td>
<p>cost per sample unit in $</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lot_dollar</code></td>
<td>
<p>fixed cost (if any) of sampling the lot in $</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Refer to vignette for details.
</p>


<h3>Value</h3>

<p>A list containing:
</p>

<ul>
<li>
<p><strong>n</strong>: The sample size
</p>
</li>
<li>
<p><strong>p</strong>: The probability of a single sample unit being contaminated above the
target level
</p>
</li>
<li>
<p><strong>cost_tot</strong>: The total cost associated with sampling of
<em>n</em> samples
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">
#A sample of 25 grams (w=25) is collected and analyzed using an analytical
#test with sensitivity of 90% (Sens=.9), to detect at least 5 CFU's/g (G=5).
#The suspected or postulated level of contamination in the lot is 4 CFU's/g (C=4).
#The desired probability of picking at least one sample unit contaminated above the target
#level is 0.9 (prob_det=0.9), the cost of a single sampling unit is $100 (samp_dollar=100),
#and the fixed cost for sampling the entire lot is $200 (lot_dollar=200).

#homogeneous case
n(C=4,w=25,G=5,Sens=.9,D="homogeneous",r=NULL,f=NULL,prob_det=0.9,samp_dollar=100,lot_dollar=200)
# n=376, total cost=$37,722
#heterogeneous case
n(C=4,w=25,G=5,Sens=.9,D="heterogeneous",r=10,f=NULL,prob_det=0.9,samp_dollar=100,lot_dollar=200)
# n=12, total cost=$1,319
#localized case
n(C=4,w=25,G=5,Sens=.9,D="localized",r=NULL,f=.3,prob_det=0.9,samp_dollar=100,lot_dollar=200)
# n=1,254 , total cost=$125,541

</code></pre>


</div>