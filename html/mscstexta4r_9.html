<div class="container">

<table style="width: 100%;"><tr>
<td>textaSentiment</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assesses the sentiment of sentences or documents.</h2>

<h3>Description</h3>

<p>This function returns a numeric score between 0 and 1 with
scores close to 1 indicating positive sentiment and scores close to 0
indicating negative sentiment.
</p>
<p>Sentiment score is generated using classification techniques. The input
features of the classifier include n-grams, features generated from
part-of-speech tags, and word embeddings. English, French, Spanish and
Portuguese text are supported.
</p>
<p>Internally, this function invokes the Microsoft Cognitive Services Text
Analytics REST API documented at <a href="https://www.microsoft.com/cognitive-services/en-us/text-analytics/documentation">https://www.microsoft.com/cognitive-services/en-us/text-analytics/documentation</a>.
</p>
<p>You MUST have a valid Microsoft Cognitive Services account and an API key for
this function to work properly. See <a href="https://www.microsoft.com/cognitive-services/en-us/pricing">https://www.microsoft.com/cognitive-services/en-us/pricing</a>
for details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">textaSentiment(documents, languages = rep("en", length(documents)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>documents</code></td>
<td>
<p>(character vector) Vector of sentences or documents for
which to assess sentiment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>languages</code></td>
<td>
<p>(character vector) Languages of the sentences or documents,
supported values: "en"(English, default), "es"(Spanish), "fr"(French),
"pt"(Portuguese)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An S3 object of the class <code>texta</code>. The results are stored
in the <code>results</code> dataframe inside this object. The dataframe contains
the original sentences or documents and their sentiment score. If an error
occurred during processing, the dataframe will also have an <code>error</code>
column that describes the error.
</p>


<h3>Author(s)</h3>

<p>Phil Ferriere <a href="mailto:pferriere@hotmail.com">pferriere@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

 docsText &lt;- c(
   "Loved the food, service and atmosphere! We'll definitely be back.",
   "Very good food, reasonable prices, excellent service.",
   "It was a great restaurant.",
   "If steak is what you want, this is the place.",
   "The atmosphere is pretty bad but the food is quite good.",
   "The food is quite good but the atmosphere is pretty bad.",
   "I'm not sure I would come back to this restaurant.",
   "The food wasn't very good.",
   "While the food was good the service was a disappointment.",
   "I was very disappointed with both the service and my entree."
 )
 docsLanguage &lt;- rep("en", length(docsText))

 tryCatch({

   # Perform sentiment analysis
   docsSentiment &lt;- textaSentiment(
     documents = docsText,    # Input sentences or documents
     languages = docsLanguage
     # "en"(English, default)|"es"(Spanish)|"fr"(French)|"pt"(Portuguese)
   )

   # Class and structure of docsSentiment
   class(docsSentiment)
   #&gt; [1] "texta"
   str(docsSentiment, max.level = 1)
   #&gt; List of 3
   #&gt;  $ results:'data.frame': 10 obs. of  2 variables:
   #&gt;  $ json   : chr "{\"documents\":[{\"score\":0.9903013,\"id\":\"hDgKc\", __truncated__ }]}
   #&gt;  $ request:List of 7
   #&gt;   ..- attr(*, "class")= chr "request"
   #&gt;  - attr(*, "class")= chr "texta"

   # Print results
   docsSentiment
   #&gt; texta [https://westus.api.cognitive.microsoft.com/text/analytics/v2.0/sentiment]
   #&gt;
   #&gt; --------------------------------------
   #&gt;              text               score
   #&gt; ------------------------------ -------
   #&gt;  Loved the food, service and    0.9847
   #&gt;  atmosphere! We'll definitely
   #&gt;            be back.
   #&gt;
   #&gt;  Very good food, reasonable     0.9831
   #&gt;  prices, excellent service.
   #&gt;
   #&gt;  It was a great restaurant.     0.9306
   #&gt;
   #&gt;  If steak is what you want,     0.8014
   #&gt;      this is the place.
   #&gt;
   #&gt; The atmosphere is pretty bad    0.4998
   #&gt;  but the food is quite good.
   #&gt;
   #&gt; The food is quite good but the   0.475
   #&gt;   atmosphere is pretty bad.
   #&gt;
   #&gt; I'm not sure I would come back  0.2857
   #&gt;      to this restaurant.
   #&gt;
   #&gt;   The food wasn't very good.    0.1877
   #&gt;
   #&gt;  While the food was good the   0.08727
   #&gt; service was a disappointment.
   #&gt;
   #&gt;  I was very disappointed with  0.01877
   #&gt;    both the service and my
   #&gt;            entree.
   #&gt; --------------------------------------

 }, error = function(err) {

   # Print error
   geterrmessage()

 })

## End(Not run)
</code></pre>


</div>