<div class="container">

<table style="width: 100%;"><tr>
<td>sde.prior</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SDE prior function.</h2>

<h3>Description</h3>

<p>Evaluates the SDE prior given data, parameter, and hyperparameter values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sde.prior(model, theta, x, hyper)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An <code>sde.model</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>A vector or matrix of parameters with <code>nparams</code> columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector or matrix of data with <code>ndims</code> columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hyper</code></td>
<td>
<p>The hyperparameters of the SDE prior.  See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The prior is constructed at the <code style="white-space: pre;">⁠C++⁠</code> level by defining a function (i.e., public member)</p>
<pre>double logPrior(double *theta, double *x)
</pre>
<p>within the <code>sdePrior</code> class.  At the <code>R</code> level, the <code>hyper.check</code> argument of <code>sde.make.model()</code> is a function with arguments <code>hyper</code>, <code>param.names</code>, <code>data.names</code> used to convert <code>hyper</code> into a list of <code>NULL</code> or double-vectors which get passed on to the <code style="white-space: pre;">⁠C++⁠</code> code.  This function can also be used to throw <code>R</code>-level errors to protect the <code style="white-space: pre;">⁠C++⁠</code> code from invalid inputs, as is done for the default prior in <code>mvn.hyper.check()</code>.  For a full example see the "Custom Prior" section in <code>vignette("msde-quicktut")</code>.
</p>


<h3>Value</h3>

<p>A vector of log-prior densities evaluated at the inputs.
</p>


<h3>Examples</h3>

<pre><code class="language-R">hmod &lt;- sde.examples("hest") # load Heston's model

# setting prior for 3 parameters
rv.names &lt;- c("alpha","gamma","rho")
mu &lt;- rnorm(3)
Sigma &lt;- crossprod(matrix(rnorm(9),3,3))
names(mu) &lt;- rv.names
colnames(Sigma) &lt;- rv.names
rownames(Sigma) &lt;- rv.names
hyper &lt;- list(mu = mu, Sigma = Sigma)

# Simulate data
nreps &lt;- 10
theta &lt;- c(alpha = 0.1, gamma = 1, beta = 0.8, sigma = 0.6, rho = -0.8)
x0 &lt;- c(X = log(1000), Z = 0.1)
Theta &lt;- apply(t(replicate(nreps,theta)),2,jitter)
X0 &lt;- apply(t(replicate(nreps,x0)),2,jitter)

sde.prior(model = hmod, x = X0, theta = Theta, hyper = hyper)
</code></pre>


</div>