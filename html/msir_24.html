<div class="container">

<table style="width: 100%;"><tr>
<td>spinplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rotating three-dimensional plot</h2>

<h3>Description</h3>

<p>General function to draw a rgl-based rotating 3D scatterplot.</p>


<h3>Usage</h3>

<pre><code class="language-R">spinplot(x, y, z, 
         scaling = c("abc", "aaa"), 
         rem.lin.trend = FALSE, 
         uncor.vars = FALSE, 
         fit.ols = FALSE, 
         fit.smooth = FALSE, 
         span = 0.75, 
         ngrid = 25, 
         markby, 
         pch.points = 1, 
         col.points = "black", 
         cex.points = 1,
         col.axis   = "gray50", 
         col.smooth = "limegreen", 
         col.ols    = "lightsteelblue",
         background = "white", 
         ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a vector of values for the variable in the horizontal (H) screen axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>a vector of values for the variable in the vertical (V) screen axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>a vector of values for the variable in the out-of-screen (O) axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaling</code></td>
<td>
<p>the scaling applied. Two possible values are <code>"abc"</code> and <code>"aaa"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rem.lin.trend</code></td>
<td>
<p>a logical specifying if the linear trend should be remove. If <code>TRUE</code> then the vertical axis is replaced by e(V|H,O), i.e. the residuals from a linear fit of the vertical axis variable on the others.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uncor.vars</code></td>
<td>
<p>a logical specifying if uncorrelated H and O variables should be used. If <code>TRUE</code> then the O variable is replaced by e(O|H), i.e. the residuals of the regression of O on H, hence obtaining a pair of uncorrelated variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.ols</code></td>
<td>
<p>a logical specifying if a fitted OLS plane should be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.smooth</code></td>
<td>
<p>a logical specifying if a nonparametric smoothing plane should be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>the span used by <code>loess</code> to fit the polynomial surface.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngrid</code></td>
<td>
<p>the number of grid points to use for displaing the fitted plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markby</code></td>
<td>
<p>a variable (usually a factor) to be used for marking the points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch.points</code></td>
<td>
<p>a vector of symbols for marking the points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.points</code></td>
<td>
<p>a vector of colors for marking the points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.points</code></td>
<td>
<p>the cex for points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.axis</code></td>
<td>
<p>the color of the axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.ols</code></td>
<td>
<p>the color to be used for drawing the OLS plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col.smooth</code></td>
<td>
<p>the color to be used for drawing the smoothing plane.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>the color of background space.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>catch further unused arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is mainly based on the functionality of the <code>spin-plot</code> function once available in XLisp-Stat software <a href="https://en.wikipedia.org/wiki/XLispStat">https://en.wikipedia.org/wiki/XLispStat</a>, and the adds-on introduced by the Arc software <a href="http://www.stat.umn.edu/arc/index.html">http://www.stat.umn.edu/arc/index.html</a>.</p>


<h3>Author(s)</h3>

<p>Luca Scrucca <a href="mailto:luca.scrucca@unipg.it">luca.scrucca@unipg.it</a></p>


<h3>References</h3>

<p>Cook R. D., Weisberg S. (1999) <em>Applied Regression Including Computing and Graphics</em>, Wiley, Chapter 8
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
x1 &lt;- rnorm(100)
x2 &lt;- rnorm(100)
y  &lt;- 2*x1 + x2^2 + 0.5*rnorm(100)
spinplot(x1, y, x2)
spinplot(x1, y, x2, scaling = "aaa")
spinplot(x1, y, x2, rem.lin.trend = "TRUE")
spinplot(x1, y, x2, fit.smooth = TRUE)
spinplot(x1, y, x2, fit.ols = TRUE)

x &lt;- iris[,1:3]
y &lt;- iris[,5]
spinplot(x)
spinplot(x, markby = y)
spinplot(x, markby = y, col.points = c("dodgerblue2", "orange", "green3"))
spinplot(x, markby = y, pch = c(0,3,1), col.points = c("dodgerblue2", "orange", "green3"))

# to save plots use 
# rgl.postscript("plot.pdf", fmt="pdf")
# or
# rgl.snapshot("plot.png")

## End(Not run)
</code></pre>


</div>