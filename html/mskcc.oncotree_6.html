<div class="container">

<table style="width: 100%;"><tr>
<td>map_ontology_code</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map tumor types across ontologies</h2>

<h3>Description</h3>

<p>This function maps codes (identifiers) across tumor classification systems.
Use the arguments <code>from</code> and <code>to</code> to choose the source and target ontologies.
Available options are: <code>'oncotree_code'</code>, <code>'nci_code'</code>, <code>'umls_code'</code>,
<code>'icdo_topography_code'</code>, <code>'icdo_morphology_code'</code>, and <code>'hemeonc_code'</code>.
</p>
<p>Note that you can also use the functions <code>oncotree_to_nci()</code>,
<code>nci_to_oncotree()</code>, <code>oncotree_to_umls()</code> and <code>umls_to_oncotree()</code> to map
between OncoTree and NCIt systems. The difference is that these functions use
the OncoTree API, and the output can be made to depend on older versions of
OncoTree. <code>map_ontology_code()</code> relies on a static file provided by the
OncoTree team that is not as up to date as the data provided by the web API.
Nevetheless, the scope of the mappings provided by <code>map_ontology_code()</code> is
broader. The file used by <code>map_ontology_code()</code> can be directly imported into
R using the function <code>read_ontology_mappings()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">map_ontology_code(code, from, to, collapse = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>A character vector with identifier codes of the <code>from</code> ontology that are meant to be mapped to the <code>to</code> ontology.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>The source ontology. One of: <code>'oncotree_code'</code>, <code>'nci_code'</code>, <code>'umls_code'</code>, <code>'icdo_topography_code'</code>, <code>'icdo_morphology_code'</code>, and <code>'hemeonc_code'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>The target ontology. One of: <code>'oncotree_code'</code>, <code>'nci_code'</code>, <code>'umls_code'</code>, <code>'icdo_topography_code'</code>, <code>'icdo_morphology_code'</code>, and <code>'hemeonc_code'</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>A function that expects one argument, it will be the character vector of codes in the <code>to</code> variable, that are to be "collapsed". When the mapping is one-to-many, passing a collapsing function will allow you to make the mapping one-to-one. See examples.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble of two variables: first column is
corresponds to the <code>from</code> variable and the second is the <code>to</code> variable.
</p>


<h3>Source</h3>

<p>The mappings here provided are based on the file <a href="https://github.com/cBioPortal/oncotree/blob/master/scripts/ontology_to_ontology_mapping_tool/ontology_mappings.txt">https://github.com/cBioPortal/oncotree/blob/master/scripts/ontology_to_ontology_mapping_tool/ontology_mappings.txt</a>.
</p>


<h3>See Also</h3>

<p><code>oncotree_to_nci()</code>, <code>nci_to_oncotree()</code>, <code>oncotree_to_umls()</code> and <code>umls_to_oncotree()</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Omit the `code` argument to get all possible mappings. Note that
# one-to-many mappings will generate more than one row per `from` code.
map_ontology_code(from = 'oncotree_code', to = 'nci_code')

# Simple example
map_ontology_code('MMB', from = 'oncotree_code', to = 'nci_code')

# Some mappings are one-to-many, e.g. "SRCCR", which means repeated rows for
# the same input code.
map_ontology_code('SRCCR', from = 'oncotree_code', to = 'nci_code')

# Using the `collapse` argument to "collapse" one-to-many mappings makes sure
# that the output has as many rows as the `from` vector.
map_ontology_code('SRCCR',
                  from = 'oncotree_code',
                  to = 'nci_code',
                  collapse = toString)

map_ontology_code('SRCCR',
                  from = 'oncotree_code',
                  to = 'nci_code',
                  collapse = list)

map_ontology_code(
  'SRCCR',
  from = 'oncotree_code',
  to = 'nci_code',
  collapse = \(x) paste(x, collapse = ' ')
)

# `map_ontology_code()` is vectorized over `code`
map_ontology_code(
  c('AASTR', 'MDEP'),
  from = 'oncotree_code',
  to = 'nci_code'
  )

# Map from ICDO topography to ICDO morphology codes
map_ontology_code(
  'C72.9',
  from = 'icdo_topography_code',
  to = 'icdo_morphology_code'
  )

## End(Not run)
</code></pre>


</div>