<div class="container">

<table style="width: 100%;"><tr>
<td>ncompsearch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search for Number of Components</h2>

<h3>Description</h3>

<p>Determination of the number of components based on cross-validated method or Bayesian information criterion (BIC)
</p>


<h3>Usage</h3>

<pre><code class="language-R">ncompsearch(
  X,
  Y = NULL,
  Z = NULL,
  comps = 1:3,
  lambdaX = NULL,
  lambdaY = NULL,
  lambdaXsup = NULL,
  lambdaYsup = NULL,
  eta = 1,
  type = "lasso",
  inX = NULL,
  inY = NULL,
  inXsup = NULL,
  inYsup = NULL,
  muX = 0,
  muY = 0,
  nfold = 5,
  regpara = FALSE,
  maxrep = 3,
  minpct = 0,
  maxpct = 1,
  criterion = c("CV", "BIC")[1],
  whichselect = NULL,
  intseed = 1
)

## S3 method for class 'ncompsearch'
print(x, ...)

## S3 method for class 'ncompsearch'
plot(x, cidx = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a matrix or list of matrices indicating the explanatory variable(s). This parameter is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a matrix or list of matrices indicating objective variable(s). This is optional. If there is no input for Y, then PCA is implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>a vector, response variable(s) for implementing the supervised version of (multiblock) PCA or PLS. This is optional. The length of Z is the number of subjects. If there is no input for Z, then unsupervised PLS/PCA is implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comps</code></td>
<td>
<p>numeric vector for the maximum numbers of componets to be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaX</code></td>
<td>
<p>numeric vector of regularized parameters for X, with a length equal to the number of blocks. If lambdaX is omitted, no regularization is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaY</code></td>
<td>
<p>numeric vector of regularized parameters for Y, with a length equal to the number of blocks. If lambdaY is omitted, no regularization is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaXsup</code></td>
<td>
<p>numeric vector of regularized parameters for the super weight of X with length equal to the number of blocks. If omitted, no regularization is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambdaYsup</code></td>
<td>
<p>numeric vector of regularized parameters for the super weight of Y with length equal to the number of blocks. If omitted, no regularization is conducted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>numeric scalar indicating the parameter indexing the penalty family. This version contains only choice 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character, indicating the penalty family. In this version, only one choice is available: "lasso."</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inX</code></td>
<td>
<p>a (list of) numeric vector to specify the variables of X which are always in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inY</code></td>
<td>
<p>a (list of) numeric vector to specify the variables of X which are always in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inXsup</code></td>
<td>
<p>a (list of) numeric vector to specify the blocks of X which are always in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inYsup</code></td>
<td>
<p>a (list of) numeric vector to specify the blocks of Y which are always in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muX</code></td>
<td>
<p>a numeric scalar for the weight of X for the supervised case. 0 &lt;= muX &lt;= 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muY</code></td>
<td>
<p>a numeric scalar for the weight of Y for the supervised case. 0 &lt;= muY &lt;= 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfold</code></td>
<td>
<p>number of folds - default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regpara</code></td>
<td>
<p>logical, If TRUE, the regularized parameters search is also conducted simultaneously.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrep</code></td>
<td>
<p>numeric scalar for the number of iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minpct</code></td>
<td>
<p>minimum candidate parameters defined as a percentile of automatically determined (possible) candidates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpct</code></td>
<td>
<p>maximum candidate parameters defined as a percentile of automatically determined (possible) candidates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>a character, the evaluation criterion, "CV" for cross-validation, based on a matrix element-wise error, and "BIC" for Bayesian information criteria. The "BIC" is the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichselect</code></td>
<td>
<p>which blocks selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intseed</code></td>
<td>
<p>seed number for the random number in the parameter estimation algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class "<code>ncompsearch</code>", usually, a result of a call to <code>ncompsearch</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cidx</code></td>
<td>
<p>Parameters used in the plot function to specify whether block or super is used. 1=block (default), 2=super.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function searches for the optimal number of components.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>comps</code></td>
<td>
<p>numbers of components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mincriterion</code></td>
<td>
<p>minimum criterion values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterions</code></td>
<td>
<p>criterion values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optncomp</code></td>
<td>
<p>optimal number of components based on minimum cross-validation error</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">##### data #####
tmpdata = simdata(n = 50, rho = 0.8, Yps = c(10, 12, 15), Xps = 20, seed=1)
X = tmpdata$X; Y = tmpdata$Y 

##### number of components search #####
ncomp1 = ncompsearch(X, Y, comps = c(1, 5, 10*(1:2)), nfold=5)
#plot(ncomp1)

</code></pre>


</div>