<div class="container">

<table style="width: 100%;"><tr>
<td>optparasearch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Parameters Search</h2>

<h3>Description</h3>

<p>Combined method for optimizing the number of components and regularized parameters for "msma".
</p>


<h3>Usage</h3>

<pre><code class="language-R">optparasearch(
  X,
  Y = NULL,
  Z = NULL,
  search.method = c("ncomp1st", "regpara1st", "regparaonly", "simultaneous")[1],
  eta = 1,
  type = "lasso",
  inX = NULL,
  inY = NULL,
  muX = 0,
  muY = 0,
  comp = 10,
  nfold = 5,
  maxrep = 3,
  minpct = 0,
  maxpct = 1,
  maxpct4ncomp = NULL,
  criterion = c("BIC", "CV")[1],
  criterion4ncomp = NULL,
  whichselect = NULL,
  homo = NULL,
  intseed = 1
)

## S3 method for class 'optparasearch'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a matrix or list of matrices indicating the explanatory variable(s). This parameter is required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a matrix or list of matrices indicating objective variable(s). This is optional. If there is no input for Y, then PCA is implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p>a vector, response variable(s) for implementing the supervised version of (multiblock) PCA or PLS. This is optional. The length of Z is the number of subjects. If there is no input for Z, then unsupervised PLS/PCA is implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search.method</code></td>
<td>
<p>a character indicationg search methods, see Details. Default is "ncomp1st" (this is version 3.0 or later).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eta</code></td>
<td>
<p>numeric scalar indicating the parameter indexing the penalty family. This version contains only choice 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character, indicating the penalty family. In this version, only one choice is available: "lasso."</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inX</code></td>
<td>
<p>a vector or list of numeric vectors specifying the variables in X, always included in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inY</code></td>
<td>
<p>a vector or list of numeric vectors specifying the variables in Y, always included in the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muX</code></td>
<td>
<p>a numeric scalar for the weight of X for the supervised case. 0 &lt;= muX &lt;= 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>muY</code></td>
<td>
<p>a numeric scalar for the weight of Y for the supervised case. 0 &lt;= muY &lt;= 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>
<p>numeric scalar for the number of components to be considered or the maximum canditate number of components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfold</code></td>
<td>
<p>number of folds - default is 5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxrep</code></td>
<td>
<p>numeric scalar for the number of iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minpct</code></td>
<td>
<p>minimum candidate parameters defined as a percentile of automatically determined (possible) candidates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpct</code></td>
<td>
<p>maximum candidate parameters defined as a percentile of automatically determined (possible) candidates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxpct4ncomp</code></td>
<td>
<p>maximum candidate parameters defined as a percentile of automatically determined (possible) candidates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>a character, the evaluation criterion, "CV" for cross-validation, based on a matrix element-wise error, and "BIC" for Bayesian information criteria. The "BIC" is the default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion4ncomp</code></td>
<td>
<p>a character, the evaluation criterion for the selection of the number of components, "CV" for cross-validation, based on a matrix element-wise error, and "BIC" for Bayesian information criteria.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichselect</code></td>
<td>
<p>which blocks selected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>homo</code></td>
<td>
<p>same parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intseed</code></td>
<td>
<p>seed number for the random number in the parameter estimation algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class "<code>optparasearch</code>", usually, a result of a call to <code>optparasearch</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A function for identifying the regularized sparseness parameters lambdaX and lambdaY and the number of components for <code>msma</code>. Four search methods are available. The "simultaneous" method identifies the number of components by searching the regularized parameters in each component. The "regpara1st" identifies the regularized parameters by fixing the number of components, then searching for the number of components with the selected regularized parameters. The "ncomp1st" method identifies the number of components with a regularized parameter of 0, then searches for the regularized parameters with the selected number of components. The "regparaonly" method searches for the regularized parameters with a fixed number of components.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>optncomp</code></td>
<td>
<p>Optimal number of components</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optlambdaX</code></td>
<td>
<p>Optimal parameters for X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optlambdaY</code></td>
<td>
<p>Optimal parameters for Y</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mincriterion</code></td>
<td>
<p>Minimum criterion value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criteria</code></td>
<td>
<p>All resulting criterion values in the process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pararange</code></td>
<td>
<p>Range of candidates parameters</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">##### data #####
tmpdata = simdata(n = 50, rho = 0.8, Yps = c(10, 12, 15), Xps = 20, seed=1)
X = tmpdata$X; Y = tmpdata$Y 

##### Regularized parameters search #####
opt1 = optparasearch(X, Y, search.method = "regparaonly", comp=1, nfold=5, maxrep=2)
opt1
fit4 = msma(X, Y, comp=opt1$optncomp, lambdaX=opt1$optlambdaX, lambdaY=opt1$optlambdaY)
fit4
summary(fit4)

##### Restrict search range #####
opt2 = optparasearch(X, Y, comp=3, nfold=5, maxrep=2, minpct=0.5)
opt2

</code></pre>


</div>