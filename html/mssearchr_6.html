<div class="container">

<table style="width: 100%;"><tr>
<td>WriteMsp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Write mass spectra in an msp-file (NIST format)</h2>

<h3>Description</h3>

<p>Write mass spectra in an msp-file (NIST format).
</p>


<h3>Usage</h3>

<pre><code class="language-R">WriteMsp(msp_objs, output_file, fields = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>msp_objs</code></td>
<td>
<p>A list of nested lists. Each nested list is a mass spectrum. Each nested
list must contain at least three elements: (1) <code>name</code> (a string) -
compound name (or short description); (2) <code>mz</code> (a numeric/integer
vector) - m/z values of mass spectral peaks; (3) <code>intst</code> (a
numeric/integer vector) - intensities of mass spectral peaks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_file</code></td>
<td>
<p>A string. The name of a file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fields</code></td>
<td>
<p>A character vector. Names of elements in an R list (not the original field
names from an msp-file) to be exported. For example, if only CAS number is
needed to be exported, the <code>'cas_no'</code> (not <code>'cas#'</code>) should be
passed. If <code>NULL</code>, all fields are exported. The output file always
contains the 'Name' field, the 'Num Peaks' field, and the mass/intensity
list.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Names of all fields are exported in lower case. It does not cause any
problem in the case of the MS Search (NIST) software (however correct
operation with other software products has not been tested). Only in a few
cases hash symbols and spaces are restored:
</p>

<ul>
<li>
<p> the <code>cas_no</code> element is exported as the 'cas#' field;
</p>
</li>
<li>
<p> the <code>nist_no</code> element is exported as the 'nist#' field;
</p>
</li>
<li>
<p> the <code>num_peaks</code> element is exported as the 'num peaks' field.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>NULL</code> is returned.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Exporting mass spectra
# Only 'Name', 'SMILES', 'Formula', and 'Num Peaks' fields are exported.
WriteMsp(massbank_alkanes[1:3], "test.msp", fields = c("smiles", "formula"))


</code></pre>


</div>