<div class="container">

<table style="width: 100%;"><tr>
<td>genPattern</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Random generation of item response patterns under dichotomous and polytomous IRT models</h2>

<h3>Description</h3>

<p>This command generates item responses patterns for a given matrix of item parameters of any specified dichotomous or polytomous IRT model and a given ability value. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">genPattern(th, it, model = NULL, D = 1, seed = NULL)
 </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>th</code></td>
<td>
<p>numeric: the ability value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>it</code></td>
<td>
<p>numeric: a suitable matrix of item parameters. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>either <code>NULL</code> (default) for dichotomous models, or any suitable acronym for polytomous models. Possible values are <code>"GRM"</code>, <code>"MGRM"</code>, <code>"PCM"</code>, <code>"GPCM"</code>, <code>"RSM"</code> and <code>"NRM"</code>. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>numeric: the metric constant. Default is <code>D=1</code> (for logistic metric); <code>D=1.702</code> yields approximately the normal metric (Haley, 1952). Ignored if <code>model</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>either the random seed value or <code>NULL</code> (default). See <b>Details</b>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function permits to randomly generate item responses for a given ability level, specified by the argument <code>thr</code>, and for a given matrix of item parameters, specified by the argument <code>it</code>. Both dichotomous and polytomous IRT models can be considered and item responses are generated accordingly.
</p>
<p>For dichotomous models, item responses are generated from Bernoulli draws, , using the <code>rbinom</code> function. For polytomous models they are generated from darws from a multinomial distribution, using the <code>rmultinom</code> function. In both cases, success probabilities are obtained from the <code>Pi</code> function.
</p>
<p>Note that for polytomous models, item responses are coded as 0 (for the first response category), 1 (for the second category), ..., until <code class="reqn">g_j</code> (for the last category), in agreement with the notations used in the help files of, e.g., the <code>genPolyMatrix</code> function.
</p>
<p>Dichotomous IRT models are considered whenever <code>model</code> is set to <code>NULL</code> (default value). In this case, <code>it</code> must be a matrix with one row per item and four columns, with the values of the discrimination, the difficulty, the pseudo-guessing and the inattention parameters (in this order). These are the parameters of the four-parameter logistic (4PL) model
(Barton and Lord, 1981). 
</p>
<p>Polytomous IRT models are specified by their respective acronym: <code>"GRM"</code> for Graded Response Model, <code>"MGRM"</code> for Modified Graded Response Model, <code>"PCM"</code> for Partical Credit Model, <code>"GPCM"</code> for Generalized Partial Credit Model, <code>"RSM"</code> for Rating Scale Model and <code>"NRM"</code> for Nominal Response Model. The <code>it</code> still holds one row per item, end the number of columns and their content depends on the model. See <code>genPolyMatrix</code> for further information and illustrative examples of suitable polytomous item banks.
</p>
<p>The random pattern generation can be fixed by setting <code>seed</code> to some numeric value. By default, <code>seed</code> is <code>NULL</code> and the random seed is not fixed.
</p>


<h3>Value</h3>

<p>A vector with the item responses in the order of appearance of the items in the <code>it</code> matrix.
</p>


<h3>Author(s)</h3>

<p>David Magis <br>
Department of Psychology, University of Liege, Belgium <br><a href="mailto:david.magis@uliege.be">david.magis@uliege.be</a>
</p>


<h3>References</h3>

<p>Barton, M.A., and Lord, F.M. (1981). <em>An upper asymptote for the three-parameter logistic item-response model</em>. Research Bulletin 81-20. Princeton, NJ: Educational Testing Service.
</p>
<p>Haley, D.C. (1952). <em>Estimation of the dosage mortality relationship when the dose is subject to error</em>. Technical report no 15. Palo Alto, CA: Applied Mathematics and Statistics Laboratory, Stanford University.
</p>
<p>Magis, D., and Raiche, G. (2012). Random Generation of Response Patterns under Computerized Adaptive Testing with the R 
Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>48 (8)</em>, 1-31. URL <a href="http://www.jstatsoft.org/v48/i08/">http://www.jstatsoft.org/v48/i08/</a>
</p>


<h3>See Also</h3>

<p><code>rbinom</code> and <code>rmultinom</code> for random draws; <code>genPolyMatrix</code>, <code>Pi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Dichotomous models ##
 
 # Generation of an item bank under 3PL with 100 items 
 m.3PL &lt;- genDichoMatrix(100, model = "3PL")
 m.3PL &lt;- as.matrix(m.3PL)
 
 # Generation of a response pattern for ability level 0
 genPattern(th = 0, m.3PL)

 # Generation of a single response for the first item only
 genPattern(th = 0, m.3PL[1,])

## Polytomous models ##

 # Generation of an item bank under GRM with 100 items and at most 4 categories
 m.GRM &lt;- genPolyMatrix(100, 4, "GRM")
 m.GRM &lt;- as.matrix(m.GRM)

 # Generation of a response pattern for ability level 0
 genPattern(0, m.GRM, model = "GRM")

 # Generation of a single response for the first item only
 genPattern(0, m.GRM[1,], model = "GRM")

 # Generation of a item bank under PCM with 20 items and at most 3 categories
 m.PCM &lt;- genPolyMatrix(20, 3, "PCM")
 m.PCM &lt;- as.matrix(m.PCM)

 # Generation of a response pattern for ability level 0
 genPattern(0, m.PCM, model = "PCM")

 # Generation of a single response for the first item only
 genPattern(0, m.PCM[1,], model = "PCM")
 </code></pre>


</div>