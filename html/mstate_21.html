<div class="container">

<table style="width: 100%;"><tr>
<td>expand.covs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Expand covariates in competing risks dataset in stacked format</h2>

<h3>Description</h3>

<p>Given a competing risks dataset in stacked format, and one or more
covariates, this function adds type-specific covariates to the dataset. The
original dataset with the type-specific covariates appended is returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">expand.covs(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>An object of class <code>"msdata"</code>, such as output by
<code>msprep</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments to be passed to or from other methods. They
are ignored in this function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Type-specific covariates can be used to analyse separate effects on all
event types in a single analysis based on a stacked data set (Putter, Fiocco
&amp; Geskus (2007) and Geskus (2016)). It is only unambiguously defined for
numeric covariates or for explicit codings. Rows that contain the data for
that specific event type have the value copied from the original covariate
in case it is numeric. In all other rows it has the value zero. If the
covariate is a factor, it will be expanded on the design matrix given by
<code>model.matrix</code>. For standard "treatment
contrasts" this means that dummy variables are created.  If the covariate is
a factor, the column name combines the name of the covariate with the
specific event type. If <code>longnames</code>=<code>TRUE</code>, both parts are
intersected by the specific labels in the coding. Missing values in the
basic covariates are allowed and result in missing values in the expanded
covariates.
</p>


<h3>Value</h3>

<p>An data frame object of the same class as the data argument,
containing the design matrix for the type-specific covariates, either on its
own (<code>append</code>=<code>FALSE</code>) or appended to the data
(<code>append</code>=<code>TRUE</code>).
</p>


<h3>Author(s)</h3>

<p>Ronald Geskus and Hein Putter <a href="mailto:H.Putter@lumc.nl">H.Putter@lumc.nl</a>
</p>


<h3>References</h3>

<p>Putter H, Fiocco M, Geskus RB (2007). Tutorial in biostatistics:
Competing risks and multi-state models. <em>Statistics in Medicine</em>
<b>26</b>, 2389â€“2430.
</p>
<p>Geskus, Ronald B. (2016). <em>Data Analysis with Competing Risks and
Intermediate States.</em> CRC Press, Boca Raton.
</p>


<h3>See Also</h3>

<p><code>expand.covs.msdata</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# small data set in stacked format
tg &lt;- data.frame(time=c(5,5,1,1,9,9),status=c(1,0,2,2,0,1),failcode=rep(c("I","II"),3),
        x1=c(1,1,2,2,2,2),x2=c(3,3,2,2,1,1))
tg$x1 &lt;- factor(tg$x1,labels=c("male","female"))
# expanded covariates
expand.covs(tg,covs=c("x1","x2"))
expand.covs(tg,covs=c("x1","x2"),longnames=TRUE)
expand.covs(tg,covs=c("x1","x2"),append=FALSE)

</code></pre>


</div>