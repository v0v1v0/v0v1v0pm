<div class="container">

<table style="width: 100%;"><tr>
<td>vis.mirror.pt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mirror plot comparing two probtrans objects</h2>

<h3>Description</h3>

<p>A mirror plot for comparing two different <code>"probtrans"</code> objects. Useful
for comparing predicted probabilities for different levels of a covariate,
or for different subgroups at some prediction time horizon.
</p>


<h3>Usage</h3>

<pre><code class="language-R">vis.mirror.pt(
  x,
  titles,
  size_titles = 5,
  horizon = NULL,
  breaks_x_left,
  breaks_x_right,
  from = 1,
  cols,
  ord,
  xlab = "Time",
  ylab = "Probability",
  legend.pos = "right"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A list of two <code>"probtrans"</code> objects. 
The first element will be on the left of the mirror plot, 
and the second on the right</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titles</code></td>
<td>
<p>A character vector c("Title for left", "Title for right")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_titles</code></td>
<td>
<p>Numeric, size of the title text</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizon</code></td>
<td>
<p>Numeric, position denoting (in time) where to symmetrically 
mirror the plots. Default is maximum follow-up of from both plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks_x_left</code></td>
<td>
<p>Numeric vector specifying axis breaks on the left plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks_x_right</code></td>
<td>
<p>Numeric vector specifying axis breaks on the right plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>The starting state from which the probabilities are used to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>A vector specifying colors for the different transitions;
default is a palette from green to red, when type=<code>"filled"</code> (reordered
according to <code>ord</code>, and 1 (black), otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ord</code></td>
<td>
<p>A vector of length equal to the number of states, specifying the
order of plotting in case type=<code>"stacked"</code> or <code>"filled"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A title for the x-axis, default is "Time"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>A title for the y-axis, default is "Probability"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.pos</code></td>
<td>
<p>Position of the legend, default is "right"</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Edouard F. Bonneville <a href="mailto:e.f.bonneville@lumc.nl">e.f.bonneville@lumc.nl</a>
</p>


<h3>See Also</h3>

<p><code>plot.probtrans</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(ggplot2)

data("aidssi")
head(aidssi)
si &lt;- aidssi

# Prepare transition matrix
tmat &lt;- trans.comprisk(2, names = c("event-free", "AIDS", "SI"))

# Run msprep
si$stat1 &lt;- as.numeric(si$status == 1)
si$stat2 &lt;- as.numeric(si$status == 2)

silong &lt;- msprep(
time = c(NA, "time", "time"), 
status = c(NA, "stat1", "stat2"), 
data = si, keep = "ccr5", trans = tmat
)

# Run cox model
silong &lt;- expand.covs(silong, "ccr5")
c1 &lt;- coxph(Surv(time, status) ~ ccr5WM.1 + ccr5WM.2 + strata(trans),
            data = silong)
            
# 1. Prepare reference patient data - both CCR5 genotypes
WW &lt;- data.frame(
ccr5WM.1 = c(0, 0), 
ccr5WM.2 = c(0, 0), 
trans = c(1, 2), 
strata = c(1, 2)
)

WM &lt;- data.frame(
ccr5WM.1 = c(1, 0), 
ccr5WM.2 = c(0, 1),
trans = c(1, 2), 
strata = c(1, 2)
)

# 2. Make msfit objects
msf.WW &lt;- msfit(c1, WW, trans = tmat)
msf.WM &lt;- msfit(c1, WM, trans = tmat)

# 3. Make probtrans objects
pt.WW &lt;- probtrans(msf.WW, predt = 0)
pt.WM &lt;- probtrans(msf.WM, predt = 0)           

# Mirror plot split at 10 years - see vignette for more details
vis.mirror.pt(
x = list(pt.WW, pt.WM),
titles = c("WW", "WM"),
horizon = 10
)

</code></pre>


</div>