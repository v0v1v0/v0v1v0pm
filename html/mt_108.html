<div class="container">

<table style="width: 100%;"><tr>
<td>preproc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Pre-process Data Set
</h2>

<h3>Description</h3>

<p>Pre-process a data frame or matrix by different methods.
</p>


<h3>Usage</h3>

<pre><code class="language-R">preproc (x, y=NULL,method="log",add=1)

preproc.sd(x, y=NULL, na.rm = FALSE)

preproc.const(x, y, tol = 1.0e-4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A numeric data frame or matrix to be pre-processed. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>A factor specifying the group. It is only used by the 
method <code>TICnorm</code> in <code>preproc</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>A method used to pre-process the data set. The following methods are supported:
</p>

<ul>
<li> <p><code>center:</code> Centering
</p>
</li>
<li> <p><code>auto:</code> Auto scaling
</p>
</li>
<li> <p><code>range:</code> Range scaling
</p>
</li>
<li> <p><code>pareto:</code> Pareto scaling
</p>
</li>
<li> <p><code>vast:</code> Vast scaling
</p>
</li>
<li> <p><code>level:</code> Level scaling
</p>
</li>
<li> <p><code>log:</code> Log transformation (default)
</p>
</li>
<li> <p><code>log10:</code> Log 10 transformation
</p>
</li>
<li> <p><code>sqrt:</code> Square root transformation
</p>
</li>
<li> <p><code>asinh:</code> Inverse hyperbolic sine transformation
</p>
</li>
<li> <p><code>TICnorm:</code> TIC normalisation
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical value indicating whether NA values should be stripped 
before the computation proceeds.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>

<p>A numeric value for addition used in the logarmath transformation <code>log</code>
and <code>log10</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>	A tolerance to decide if a matrix is singular; it will reject 
variables and linear combinations of unit-variance variables whose variance 
is less than tol^2.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>preproc</code> transforms data set by provided <code>method</code>.  
</p>
<p><code>preproc.sd</code> removes variables which have (near) zero S.D with or without 
respect to class/grouped information.
</p>
<p><code>preproc.const</code> removes variables appears to be constant within groups / classes.
</p>


<h3>Value</h3>

<p>A pre-processed data set.
</p>


<h3>Author(s)</h3>

<p>Wanchang Lin 
</p>


<h3>References</h3>

<p>Berg, R., Hoefsloot, H., Westerhuis, J., Smilde, A. and Werf, M. (2006),
Centering, scaling, and transformations: improving the biological
information content of metabolomics data, <em>BMC Genomics</em>, 7:142
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(abr1)
cl   &lt;- factor(abr1$fact$class)
dat  &lt;- abr1$pos

## normalise data set using "TICnorm"
z.1  &lt;- preproc(dat, y=cl, method="TICnorm")

## scale data set using "log10"
z.2 &lt;- preproc(dat,method="log10", add=1)

## or scale data set using "log" and "TICnorm" sequentially
z.3 &lt;- preproc(dat,method=c("log","TICnorm"), add=0.1)

</code></pre>


</div>