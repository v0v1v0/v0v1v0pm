<div class="container">

<table style="width: 100%;"><tr>
<td>tune.func</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Functions for Tuning Appropriate Number of Components</h2>

<h3>Description</h3>

<p>Tune appropriate number of components (<code>ncomp</code>) for <code>plsc</code>, 
<code>plslda</code> or <code>pcalda</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">tune.plsc(x,y, pls="simpls",ncomp=10, tune.pars,...)

tune.plslda(x,y, pls="simpls",ncomp=10, tune.pars,...)

tune.pcalda(x,y, ncomp=NULL, tune.pars,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A matrix or data frame containing the explanatory variables if no formula is
given as the principal argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>A factor specifying the class for each observation if no formula principal 
argument is given.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pls</code></td>
<td>

<p>A method for calculating PLS scores and loadings. The following methods are supported:
</p>

<ul>
<li> <p><code>simpls:</code> SIMPLS algorithm. 
</p>
</li>
<li> <p><code>kernelpls:</code> kernel algorithm.
</p>
</li>
<li> <p><code>oscorespls:</code> orthogonal scores algorithm. 
</p>
</li>
</ul>
<p>For details, see <code>simpls.fit</code>, <code>kernelpls.fit</code> and
<code>oscorespls.fit</code> in package <span class="pkg">pls</span>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>

<p>The number of components to be used in the classification.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tune.pars</code></td>
<td>

<p>A list of parameters using by the resampling method. 
See <code>valipars</code> for details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further parameters passed to <code>tune</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list including: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ncomp</code></td>
<td>
<p>The best number of components.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>acc.tune</code></td>
<td>
<p>Accuracy rate of components.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wanchang Lin 
</p>


<h3>See Also</h3>

<p><code>plsc</code>, <code>plslda</code>, <code>pcalda</code>,<code>valipars</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(abr1)
cl   &lt;- factor(abr1$fact$class)
dat  &lt;- preproc(abr1$pos , y=cl, method=c("log10"),add=1)[,110:500]

## divide data as training and test data
idx &lt;- sample(1:nrow(dat), round((2/3)*nrow(dat)), replace=FALSE) 

## construct train and test data 
train.dat  &lt;- dat[idx,]
train.t    &lt;- cl[idx]
test.dat   &lt;- dat[-idx,]        
test.t     &lt;- cl[-idx] 

## tune the best number of components
ncomp.plsc   &lt;- tune.plsc(dat,cl, pls="simpls",ncomp=20)
ncomp.plslda &lt;- tune.plslda(dat,cl, pls="simpls",ncomp=20)
ncomp.pcalda &lt;- tune.pcalda(dat,cl, ncomp=60)

## model fit
(z.plsc   &lt;- plsc(train.dat,train.t, ncomp=ncomp.plsc$ncomp))
(z.plslda &lt;- plslda(train.dat,train.t, ncomp=ncomp.plslda$ncomp))
(z.pcalda &lt;- pcalda(train.dat,train.t, ncomp=ncomp.pcalda$ncomp))

## or indirect use tune function in model fit
z.plsc   &lt;- plsc(train.dat,train.t, ncomp=20, tune=TRUE)
z.plslda &lt;- plslda(train.dat,train.t, ncomp=20, tune=TRUE)
z.pcalda &lt;- pcalda(train.dat,train.t, ncomp=60, tune=TRUE)

## predict test data
pred.plsc   &lt;- predict(z.plsc, test.dat)$class
pred.plslda &lt;- predict(z.plslda, test.dat)$class
pred.pcalda &lt;- predict(z.pcalda, test.dat)$class

## classification rate and confusion matrix
cl.rate(test.t, pred.plsc)
cl.rate(test.t, pred.plslda)
cl.rate(test.t, pred.pcalda)


## End(Not run)
</code></pre>


</div>