<div class="container">

<table style="width: 100%;"><tr>
<td>frank.err</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Feature Ranking and Validation on Feature Subset
</h2>

<h3>Description</h3>

<p>Get feature ranking on the training data and validate selected feature subsets by
estimating their classification error rate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">frank.err(dat.tr, cl.tr, dat.te, cl.te, cl.method="svm",
          fs.method="fs.auc", fs.order=NULL, fs.len="power2", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat.tr</code></td>
<td>

<p>A data frame or matrix of training data. Feature ranking and classification model 
are carried on this data set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl.tr</code></td>
<td>

<p>A factor or vector of training class.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat.te</code></td>
<td>

<p>A data frame or matrix of test data. Error rates are calculated on this data set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl.te</code></td>
<td>

<p>A factor or vector of test class.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl.method</code></td>
<td>

<p>Classification method to be used. Any classification methods can be employed 
if they have method <code>predict</code> (except <code>knn</code>) with output of predicted class
label or one component with name of <code>class</code> in the returned list, such as 
<code>randomForest</code>, <code>svm</code>, <code>knn</code> and <code>lda</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.method</code></td>
<td>

<p>Feature ranking method. If <code>fs.order</code> is not <code>NULL</code>, it is ignored.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.order</code></td>
<td>

<p>A vector of feature order. Default is <code>NULL</code> and then the feature selection will be 
performed on the training data. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.len</code></td>
<td>

<p>The lengths of feature subsets used for validation. For details, see <code>get.fs.len</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to <code>fs.method</code> or <code>cl.method</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>cl.method</code></td>
<td>
<p>Classification method used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.len</code></td>
<td>
<p>The lengths of feature subsets used for validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>Error rate for each feature length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.method</code></td>
<td>
<p>Feature ranking method used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.order</code></td>
<td>
<p>Feature order vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fs.rank</code></td>
<td>
<p>Feature ranking score vector.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wanchang Lin 
</p>


<h3>See Also</h3>

<p><code>frankvali</code>, <code>get.fs.len</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(abr1)
dat &lt;- abr1$pos
x   &lt;- preproc(dat[,110:500], method="log10")  
y   &lt;- factor(abr1$fact$class)        

dat &lt;- dat.sel(x, y, choices=c("1","6"))
x.1 &lt;- dat[[1]]$dat
y.1 &lt;- dat[[1]]$cls

idx &lt;- sample(1:nrow(x.1), round((2/3)*nrow(x.1)), replace=FALSE) 
## construct train and test data 
train.dat  &lt;- x.1[idx,]
train.cl   &lt;- y.1[idx]
test.dat   &lt;- x.1[-idx,]   
test.cl    &lt;- y.1[-idx] 

## validate feature selection on some feature subsets
res &lt;- frank.err(train.dat, train.cl, test.dat, test.cl, 
                 cl.method="knn", fs.method="fs.auc",  
                 fs.len="power2")
names(res)
## full feature order list
res$fs.order

## validation on subsets of feature order 
res$error

## or first apply feature selection
fs &lt;- fs.auc(train.dat,train.cl)
## then apply error estimation for each selected feature subset
res.1 &lt;- frank.err(train.dat, train.cl, test.dat, test.cl, 
                   cl.method="knn", fs.order=fs$fs.order,  
                   fs.len="power2")

res.1$error

</code></pre>


</div>