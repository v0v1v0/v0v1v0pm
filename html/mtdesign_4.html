<div class="container">

<table style="width: 100%;"><tr>
<td>obtainDesign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finds optimal and minimax designs for either Simon's 2-stage or Mander &amp;
Thompson studies</h2>

<h3>Description</h3>

<p><code>obtainDesign</code> is essentially a wrapper for calls to
<code>createGrid</code> and <code>augmentGrid</code> followed by some
simple filtering of the candidate designs to identify the optimal and
minimax designs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">obtainDesign(
  grid = NULL,
  p0 = NA,
  p1 = NA,
  alpha = ifelse(is.null(grid), 0.05, NA),
  beta = ifelse(is.null(grid), 0.1, NA),
  fullGrid = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>Optional. A tibble created by <code>createGrid</code>.  If <code>NULL</code>,
then <code>p0</code>, <code>p1</code>, <code>alpha</code> and <code>beta</code> must be specified
and <code>createGrid</code> is called to generate the required grid.  If not
<code>NULL</code> then <code>p0</code>, <code>p1</code>, <code>alpha</code> and <code>beta</code> are
ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0</code></td>
<td>
<p>the response rate under the null hypothesis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>the response rate under the alternate hypothesis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the desired (one-sided) type 1 error rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>the desired type 2 error rate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fullGrid</code></td>
<td>
<p>should the full grid of all possible designs be returned, or
simply the optimal and minimax solutions?  For a Mander and Thompson design,
optimal and minimax designs are returned for both the null and alternate
hypotheses.  See Usage Notes below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>passed to 'createGrid' or 'augmentGrid'.  In particular
<code>mander=TRUE</code> for a Mander &amp; Thompson design or <code>mander=FALSE</code> for
a Simon's 2-stage design.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tibble created by <code>createGrid</code>.  If
<code>fullGrid == FALSE</code> the table contains an additional column,
<code>Criterion</code> indicating the type of design.  Possible values for
<code>Criterion</code> are "optimal" and "minimax" for Simon's designs and
"optimalNull", "optimalAlt", "minimaxNull" and "minimaxAlt" for Mander &amp;
Thompson designs.
</p>


<h3>Usage notes</h3>

<p>If <code>grid</code> is not <code>NULL</code> it is possible that none of the candidate
designs are acceptable (that is, satisfy both the significance level and
power requirements).  If this is the case and <code>fullGrid == FALSE</code>, then
an empty tibble is returned.  If <code>versbose == TRUE</code> a warning message is
also printed.
If <code>fullGrid == TRUE</code> the full grid of all designs considered is
returned.  This can then be further interrogated to find optimal designs
under constraints - for example with fixed stage sizes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Standard use (Simon's 2-stage design)
createGrid(p0 = 0.05, p1 = 0.25, alpha = 0.05, beta = 0.2, mander = FALSE) %&gt;%
  augmentGrid(parallel = FALSE) %&gt;%
  obtainDesign()
# Constrained stage sizes
createGrid(p0 = 0.25, p1 = 0.45, alpha = 0.05, beta = 0.2) %&gt;%
  dplyr::filter(nStage1 == 8) %&gt;%
  augmentGrid(parallel = FALSE) %&gt;%
  obtainDesign()

</code></pre>


</div>