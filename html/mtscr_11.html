<div class="container">

<table style="width: 100%;"><tr>
<td>mtscr_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create MTS model</h2>

<h3>Description</h3>

<p>Create MTS model for creativity analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mtscr_model(
  df,
  id_column,
  item_column = NULL,
  score_column,
  top = 1,
  prepared = FALSE,
  ties_method = c("random", "average"),
  normalise = TRUE,
  self_ranking = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame in long format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_column</code></td>
<td>
<p>Name of the column containing participants' id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item_column</code></td>
<td>
<p>Optional, name of the column containing distinct trials
(e.g. names of items in AUT).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score_column</code></td>
<td>
<p>Name of the column containing divergent thinking scores
(e.g. semantic distance).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Integer or vector of integers (see examples), number of top answers
to include in the model. Default is 1, i.e. only the top answer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prepared</code></td>
<td>
<p>Logical, is the data already prepared with <code>mtscr_prepare()</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties_method</code></td>
<td>
<p>Character string specifying how ties are treated when
ordering. Can be <code>"average"</code> (better for continuous scores like semantic
distance) or <code>"random"</code> (default, better for ratings). See <code>rank()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalise</code></td>
<td>
<p>Logical, should the creativity score be normalised? Default is <code>TRUE</code> and
it's recommended to leave it as such.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>self_ranking</code></td>
<td>
<p>Name of the column containing answers' self-ranking.
Provide if model should be based on top answers self-chosen by the participant.
Every item should have its own ranks. The top answers should have a value of 1,
and the other answers should have a value of 0. In that case, the <code>top</code> argument
doesn't change anything and should be left as <code>top = 1</code>. <code>ties_method</code> is not used if <code>self_ranking</code>
was provided. See mtscr_self_rank for example.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The return value depends on length of the <code>top</code> argument. If <code>top</code> is a single
integer, a <code>glmmTMB</code> model is returned. If <code>top</code> is a vector of integers, a list
of <code>glmmTMB</code> models is returned, with names corresponding to the <code>top</code> values,
e.g. <code>top1</code>, <code>top2</code>, etc.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("mtscr_creativity", package = "mtscr")

mtscr_creativity &lt;- mtscr_creativity |&gt;
  dplyr::slice_sample(n = 300) # for performance, ignore

mtscr_model(mtscr_creativity, id, item, SemDis_MEAN) |&gt;
  summary()

# three models for top 1, 2, and 3 answers
mtscr_model(mtscr_creativity, id, item, SemDis_MEAN, top = 1:3) |&gt;
  mtscr_model_summary()

# you can prepare data first
data &lt;- mtscr_prepare(mtscr_creativity, id, item, SemDis_MEAN)
mtscr_model(data, id, item, SemDis_MEAN, prepared = TRUE)

# extract effects for creativity score by hand
model &lt;- mtscr_model(mtscr_creativity, id, item, SemDis_MEAN, top = 1)
creativity_score &lt;- glmmTMB::ranef(model)$cond$id[, 1]
</code></pre>


</div>