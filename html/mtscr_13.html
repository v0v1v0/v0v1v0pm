<div class="container">

<table style="width: 100%;"><tr>
<td>mtscr_prepare</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare database for MTS</h2>

<h3>Description</h3>

<p>Prepare database for MTS analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mtscr_prepare(
  df,
  id_column,
  item_column = NULL,
  score_column,
  top = 1,
  minimal = FALSE,
  ties_method = c("random", "average"),
  normalise = TRUE,
  self_ranking = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>Data frame in long format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_column</code></td>
<td>
<p>Name of the column containing participants' id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>item_column</code></td>
<td>
<p>Optional, name of the column containing distinct trials
(e.g. names of items in AUT).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>score_column</code></td>
<td>
<p>Name of the column containing divergent thinking scores
(e.g. semantic distance).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Integer or vector of integers (see examples), number of top answers
to prepare indicators for. Default is 1, i.e. only the top answer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimal</code></td>
<td>
<p>Logical, append columns to df (<code>FALSE</code>) or return only <code>id</code>, <code>item</code>,
and the new columns (<code>TRUE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties_method</code></td>
<td>
<p>Character string specifying how ties are treated when
ordering. Can be <code>"average"</code> (better for continuous scores like semantic
distance) or <code>"random"</code> (default, better for ratings). See <code>rank()</code> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalise</code></td>
<td>
<p>Logical, should the creativity score be normalised? Default is <code>TRUE</code> and
it's recommended to leave it as such.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>self_ranking</code></td>
<td>
<p>Name of the column containing answers' self-ranking.
Provide if model should be based on top answers self-chosen by the participant.
Every item should have its own ranks. The top answers should have a value of 1,
and the other answers should have a value of 0. In that case, the <code>top</code> argument
doesn't change anything and should be left as <code>top = 1</code>. <code>ties_method</code> is not used if <code>self_ranking</code>
was provided. See mtscr_self_rank for example.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The input data frame with additional columns:
</p>

<dl>
<dt><code>.z_score</code></dt>
<dd>
<p>Numerical, z-score of the creativity score</p>
</dd>
<dt><code>.ordering</code></dt>
<dd>
<p>Numerical, ranking of the answer relative to participant and item</p>
</dd>
<dt><code>.ordering_topX</code></dt>
<dd>
<p>Numerical, 0 for <em>X</em> top answers, otherwise value of <code>.ordering</code></p>
</dd>
</dl>
<p>Number of <code>.ordering_topX</code> columns depends on the <code>top</code> argument. If <code>minimal = TRUE</code>,
only the new columns and the item and id columns are returned. The values are
relative to the participant AND item, so the values for different
participants scored for different tasks (e.g. uses for "brick" and "can") are distinct.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("mtscr_creativity", package = "mtscr")
# Indicators for top 1 and top 2 answers
mtscr_prepare(mtscr_creativity, id, item, SemDis_MEAN, top = 1:2, minimal = TRUE)
</code></pre>


</div>