<div class="container">

<table style="width: 100%;"><tr>
<td>apsahtml2csv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read, parse, and write to a .csv file APSA eJobs html files</h2>

<h3>Description</h3>

<p>Reads American Political Science Association (APSA) “eJobs” html files, parses the content of these files into a format for muRL to read, and writes that content to a .csv file.</p>


<h3>Usage</h3>

<pre><code class="language-R">apsahtml2csv(directory, file.name, file.ext = ".htm", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>directory</code></td>
<td>
<p>a character string specifying the directory to which a set of APSA job announcement web pages have been downloaded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.name</code></td>
<td>
<p>a character string specifying the name of the file to which the data should be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file.ext</code></td>
<td>
<p>a character string specifying the extension of the files from which the data will be harvested.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a logical specifying whether the file name and current working directory should be printed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>After logging in to eJobs, the job announcement site of the American Political Science Association (APSA), the user can search for and find the APSA web page announcing a single job listing.  The user can download the html from several such pages (usually with a simple “Save As” command, depending on one's operating system).  <code>apsahtml2csv</code> then parses the html code from these pages, and sorts and stores the relevant content.  A <code>.csv</code> file is written containing this content.
</p>
<p>If the user downloads the APSA webpages using a different (or no) file extension, that extension (or "") should be specified using the <code>file.ext</code> argument.  Because <code>apsahtml2csv</code> uses the value of <code>file.ext</code> in a <code>grep</code> command, we strongly recommend that the directory specified by <code>directory</code> include only the downloaded webpages, and no other files or directories.
</p>
<p>Institutions are inconsistent in how they enter the names of their jobs' contact representatives.  Thus, some tweaking of the output of <code>apsahtml2csv</code> may be required in order to create a <code>.csv</code> file that can be seemlessly read by <code>read.murl</code>.  Specifically, the user may have to take the single column of the output of <code>apsahtml2csv</code> called <code>contact</code>, and create columns called <code>title</code>, <code>fname</code>, and <code>lname</code>.  Additionally, the user may have to adjust the <code>position</code> and <code>subfield</code> columns, and institutions may report these somewhat differently.  
</p>


<h3>Value</h3>

<p>An <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> dataframe is created and a <code>.csv</code> file is written.  These include columns containing the APSA job listing ID number, the date the job advertisement was posted, the type of institution, the title and subfield of the position, the start date, salary, and region, the name of the institution and department, the name, address, city, state, ZIP code, and phone number of the individual to contact, the department or institution's web address, and a full paragraph description of the position.
</p>
<p>The full paragraph description is stored in a column named <code>desc</code>.  Due to the current parsing strategy, this field may include some excess characters from the APSA html page.  
</p>


<h3>Author(s)</h3>

<p>Ryan T. Moore <a href="mailto:rtm@american.edu">rtm@american.edu</a> and Andrew Reeves <a href="mailto:reeves@wustl.edu">reeves@wustl.edu</a>
</p>


<h3>See Also</h3>

<p><code>read.murl</code></p>


</div>