<div class="container">

<table style="width: 100%;"><tr>
<td>reshape_results</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reshape Results</h2>

<h3>Description</h3>

<p>This function takes a model and model_results data, reshapes
them into a suitable format for plotting, and returns the resulting data
frame, which can be used for further analysis or visualization.
</p>


<h3>Usage</h3>

<pre><code class="language-R">reshape_results(
  model = NULL,
  model_results = NULL,
  model_ontology_col_name = "ontology_id",
  ontology_id_colname = "ontology_id",
  p_value_type_colname = "eFDR",
  p_value_max_threshold = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a mulea model, created by the
<code>ora</code> or the <code>gsea</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_results</code></td>
<td>
<p>Result <code>data.frame</code>
returned by the <code>run_test</code> function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_ontology_col_name</code></td>
<td>
<p>Character, specifies the column name in the
model that contains ontology IDs. It defines which column in the model
should be used for matching ontology IDs. Possible values are 'ontology_id'
and 'ontology_name'. The default value is 'ontology_id'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ontology_id_colname</code></td>
<td>
<p>Character, specifies the column name for ontology
IDs in the model results. It indicates which column in the model results
contains ontology IDs for merging. Possible values are 'ontology_id' and
'ontology_name'. The default value is 'ontology_id'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_value_type_colname</code></td>
<td>
<p>Character, specifies the column name
for the type or raw or adjusted <em>p</em>-value in the result
<code>data.frame</code> returned by the <code>run_test</code> function.
The default value is 'eFDR'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p_value_max_threshold</code></td>
<td>
<p>Logical, indicating whether to apply a
<em>p</em>-value threshold when filtering the resulting data. If TRUE,
the function filters the data based on a <em>p</em>-value threshold.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Return detailed and relaxed <code>data.table</code> where model and results are
merged for plotting purposes.
</p>


<h3>See Also</h3>

<p><code>plot_graph</code>, <code>plot_barplot</code>,
<code>plot_heatmap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(mulea)

# loading and filtering the example ontology from a GMT file
tf_gmt &lt;- read_gmt(file = system.file(package="mulea", "extdata", 
    "Transcription_factor_RegulonDB_Escherichia_coli_GeneSymbol.gmt"))
tf_gmt_filtered &lt;- filter_ontology(gmt = tf_gmt, min_nr_of_elements = 3, 
    max_nr_of_elements = 400)

# loading the example data
sign_genes &lt;- readLines(system.file(
    package = "mulea", "extdata", "target_set.txt"))
background_genes &lt;- readLines(
    system.file(package="mulea", "extdata", "background_set.txt"))

# creating the ORA model
ora_model &lt;- ora(gmt = tf_gmt_filtered,
    # the test set variable
    element_names = sign_genes, 
    # the background set variable
    background_element_names = background_genes, 
    # the p-value adjustment method
    p_value_adjustment_method = "eFDR", 
    # the number of permutations
    number_of_permutations = 10000,
    # the number of processor threads to use
    nthreads = 2)
# running the ORA
ora_results &lt;- run_test(ora_model)

# reshaping results for visualisation
ora_reshaped_results &lt;- reshape_results(model = ora_model,
    model_results = ora_results,
    # choosing which column to use for the indication of significance
    p_value_type_colname = "eFDR")
</code></pre>


</div>