<div class="container">

<table style="width: 100%;"><tr>
<td>nodeSpacer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Non-Uniform Finite Difference Node Spacer
</h2>

<h3>Description</h3>

<p><code>nodeSpacer</code> implements the spatial discretization scheme from Hout and Foulon (2010) with arbitrary left and right bounds. The function additionally includes logic for mesh shifting.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nodeSpacer(K, leftBound, rightBound, nodes, density, kShift)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>

<p>scalar; option strike.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leftBound</code></td>
<td>

<p>scalar; near spatial boundary of the underlying domain.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rightBound</code></td>
<td>

<p>scalar; far spatial boundary of the underlying domain.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodes</code></td>
<td>

<p>integer; number of nodes used in the spatial discretization.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>

<p>scalar; impacts the concentration of nodes around the option strike. At 0, nodes are uniformly distributed between the <code>leftBound</code> and <code>rightBound</code>. Increasing the parameter increases the node concentration around the strike.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kShift</code></td>
<td>

<p>case; if 0, no mesh shifting, if 1, adjusts the node spacing such that the strike falls exactly between two nodes, if 2, adjusts the node spacing such that the strike falls exactly on a node. See Tavella and Randall (2000).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Mesh shifting is accomplished by multiplying the vector of gridpoints by a scalar. For multi-asset options, this <code>nodeSpacer</code> is called iteratively to discretize each underlying's spatial domain.
</p>


<h3>Value</h3>

<p><code>nodeSpacer</code> returns a vector of gridpoints used in spatial discretization in the finite difference method. The <code>nodes</code> input determines the length of the output vector.
</p>


<h3>Author(s)</h3>

<p>Michael Eichenberger and Carlo Rosa
</p>


<h3>References</h3>

<p>Hout, K. J., Foulon, S., 2010. ADI finite difference schemes for option pricing in the Heston model with correlation. <em>International Journal of Numerical Analysis and Modeling</em>, <b>7</b> (2), 303â€“320.
<a href="http://www.math.ualberta.ca/ijnam/Volume-7-2010/No-2-10/2010-02-06.pdf">http://www.math.ualberta.ca/ijnam/Volume-7-2010/No-2-10/2010-02-06.pdf</a>
</p>
<p>Pooley, D. M., Vetzal, K. R., Forsyth, P. A., 2002. Convergence remedies for non-smooth payoffs in option pricing.
<a href="https://cs.uwaterloo.ca/~paforsyt/report.pdf">https://cs.uwaterloo.ca/~paforsyt/report.pdf</a>
</p>
<p>Tavella, D., Randall, C., 2000. Pricing Financial Instruments: The Finite Difference Method. John Wiley &amp; Sons, Inc., New York.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># sample mesh spacing
plot(nodeSpacer(100, 0, 500, 26, 5, 1), rep(0, times=26), main='Non-Uniform Mesh Spacing',
  xlab='Underlying Price (Strike = 100)', ylab='', yaxt='n', type='p', cex=0.5, pch=16)
</code></pre>


</div>