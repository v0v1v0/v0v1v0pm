<div class="container">

<table style="width: 100%;"><tr>
<td>adjust_em_om</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adust for exposure misclassification and outcome misclassification.</h2>

<h3>Description</h3>

<p><code>adjust_em_om</code> returns the exposure-outcome odds ratio and confidence
interval, adjusted for exposure misclassification and outcome
misclassification. Two different options for the bias parameters are
available here: 1) parameters from separate models of <em>X</em> and <em>Y</em>
(<code>x_model_coefs</code> and <code>y_model_coefs</code>) or 2) parameters from
a joint model of <em>X</em> and <em>Y</em> (<code>x1y0_model_coefs</code>,
<code>x0y1_model_coefs</code>, and <code>x1y1_model_coefs</code>).
</p>


<h3>Usage</h3>

<pre><code class="language-R">adjust_em_om(
  data,
  exposure,
  outcome,
  confounders = NULL,
  x_model_coefs = NULL,
  y_model_coefs = NULL,
  x1y0_model_coefs = NULL,
  x0y1_model_coefs = NULL,
  x1y1_model_coefs = NULL,
  level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Dataframe for analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>String name of the exposure variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>String name of the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confounders</code></td>
<td>
<p>String name(s) of the confounder(s).
A maximum of three confounders is allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_model_coefs</code></td>
<td>
<p>The regression coefficients corresponding to the model:
logit(P(X=1)) = δ<sub>0</sub> + δ<sub>1</sub>X* + δ<sub>2</sub>Y* + δ<sub>2+j</sub>C<sub>j</sub>, 
where <em>X</em> represents the binary true exposure, <em>X</em>* is the
binary misclassified exposure, <em>Y</em>* is the binary misclassified
outcome, <em>C</em> represents the vector of
measured confounders (if any), and <em>j</em> corresponds to the number
of measured confounders. The number of parameters is therefore 3 + <em>j</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_model_coefs</code></td>
<td>
<p>The regression coefficients corresponding to the model:
logit(P(Y=1)) = β<sub>0</sub> + β<sub>1</sub>X + β<sub>2</sub>Y* + β<sub>2+j</sub>C<sub>j</sub>, 
where <em>Y</em> represents the binary true exposure,
<em>X</em> is the binary exposure, <em>Y</em> is the binary
misclassified outcome, <em>C</em> represents the vector of measured
confounders (if any), and <em>j</em> corresponds to the number of measured
confounders. The number of parameters is therefore 3 + <em>j</em>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1y0_model_coefs</code></td>
<td>
<p>The regression coefficients corresponding to the
model:
log(P(X=1,Y=0) / P(X=0,Y=0)) = γ<sub>1,0</sub> + γ<sub>1,1</sub>X* + γ<sub>1,2</sub>Y* + γ<sub>1,2+j</sub>C<sub>j</sub>, 
where <em>X</em> is the binary true exposure, <em>Y</em> is the binary
true outcome, <em>X</em>* is the binary misclassified exposure, <em>Y</em>*
is the binary misclassified outcome, <em>C</em> represents the vector of
measured confounders (if any), and <em>j</em> corresponds to the
number of measured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x0y1_model_coefs</code></td>
<td>
<p>The regression coefficients corresponding to the
model:
log(P(X=0,Y=1) / P(X=0,Y=0)) = γ<sub>2,0</sub> + γ<sub>2,1</sub>X* + γ<sub>2,2</sub>Y* + γ<sub>2,2+j</sub>C<sub>j</sub>, 
where <em>X</em> is the binary true exposure, <em>Y</em> is the binary
true outcome, <em>X</em>* is the binary misclassified exposure, <em>Y</em>*
is the binary misclassified outcome, <em>C</em> represents the vector of
measured confounders (if any),
and <em>j</em> corresponds to the number of measured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x1y1_model_coefs</code></td>
<td>
<p>The regression coefficients corresponding to the
model:
log(P(X=1,Y=1) / P(X=0,Y=0)) = γ<sub>3,0</sub> + γ<sub>3,1</sub>X* + γ<sub>3,2</sub>Y* + γ<sub>3,2+j</sub>C<sub>j</sub>, 
where <em>X</em> is the binary true exposure, <em>Y</em> is the binary
true outcome, <em>X</em>* is the binary misclassified exposure, <em>Y</em>*
is the binary misclassified outcome, <em>C</em> represents the vector of
measured confounders (if any),
and <em>j</em> corresponds to the number of measured confounders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Value from 0-1 representing the full range of the confidence
interval. Default is 0.95.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Values for the regression coefficients can be applied as
fixed values or as single draws from a probability
distribution (ex: <code>rnorm(1, mean = 2, sd = 1)</code>). The latter has
the advantage of allowing the researcher to capture the uncertainty
in the bias parameter estimates. To incorporate this uncertainty in the
estimate and confidence interval, this function should be run in loop across
bootstrap samples of the dataframe for analysis. The estimate and
confidence interval would then be obtained from the median and quantiles
of the distribution of odds ratio estimates.
</p>


<h3>Value</h3>

<p>A list where the first item is the odds ratio estimate of the
effect of the exposure on the outcome and the second item is the
confidence interval as the vector: (lower bound, upper bound).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using x_model_coefs and y_model_coefs -------------------------------------
adjust_em_om(
  df_em_om,
  exposure = "Xstar",
  outcome = "Ystar",
  confounders = "C1",
  x_model_coefs = c(-2.15, 1.64, 0.35, 0.38),
  y_model_coefs = c(-3.10, 0.63, 1.60, 0.39)
)

# Using x1y0_model_coefs, x0y1_model_coefs, and x1y1_model_coefs ------------
adjust_em_om(
  df_em_om,
  exposure = "Xstar",
  outcome = "Ystar",
  confounders = "C1",
  x1y0_model_coefs = c(-2.18, 1.63, 0.23, 0.36),
  x0y1_model_coefs = c(-3.17, 0.22, 1.60, 0.40),
  x1y1_model_coefs = c(-4.76, 1.82, 1.83, 0.72)
)

</code></pre>


</div>