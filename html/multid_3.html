<div class="container">

<table style="width: 100%;"><tr>
<td>ddsc_ml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Deconstructing difference score correlation with multi-level modeling</h2>

<h3>Description</h3>

<p>Deconstructs a bivariate association between x and a difference score y1-y2 with multi-level modeling approach.
Within each upper-level unit (lvl2_unit) there can be multiple observations of y1 and y2.
Can be used for either pre-fitted lmer-models or to long format data.
A difference score correlation is indicative that slopes for y1 as function of x and y2 as function of x are non-parallel.
Deconstructing the bivariate association to these slopes allows for understanding the pattern and magnitude of this non-parallelism.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ddsc_ml(
  model = NULL,
  data = NULL,
  predictor,
  moderator,
  moderator_values,
  DV = NULL,
  lvl2_unit = NULL,
  re_cov_test = FALSE,
  var_boot_test = FALSE,
  boot_slopes = FALSE,
  nsim = NULL,
  level = 0.95,
  seed = NULL,
  covariates = NULL,
  scaling_sd = "observed"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Multilevel model fitted with lmerTest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictor</code></td>
<td>
<p>Character string. Variable name of independent variable predicting difference score (i.e., x).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator</code></td>
<td>
<p>Character string. Variable name indicative of difference score components (w).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>moderator_values</code></td>
<td>
<p>Vector. Values of the component score groups in moderator (i.e., y1 and y2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DV</code></td>
<td>
<p>Character string. Name of the dependent variable (if model is not supplied as input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lvl2_unit</code></td>
<td>
<p>Character string. Name of the level-2 clustering variable (if model is not supplied as input).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re_cov_test</code></td>
<td>
<p>Logical. Significance test for random effect covariation? (Default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var_boot_test</code></td>
<td>
<p>Logical. Compare variance by lower-level groups at the upper-level in a reduced model with bootstrap? (Default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_slopes</code></td>
<td>
<p>Logical. Are bootstrap estimates and percentile confidence intervals obtained for the estimates presented in results? (Default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Numeric. Number of bootstrap simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>Numeric. The confidence level required for the var_boot_test output (Default .95)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Numeric. Seed number for bootstrap simulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>Character string or vector. Variable names of covariates (Default NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaling_sd</code></td>
<td>
<p>Character string (either default "observed" or "model"). Are the simple slopes scaled with observed or model-based SDs?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>Summary of key results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>descriptives</code></td>
<td>
<p>Means, standard deviations, and intercorrelations at level 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vpc_at_moderator_values</code></td>
<td>
<p>Variance partition coefficients for moderator values in the model without the predictor and interactions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Fitted lmer object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduced_model</code></td>
<td>
<p>Fitted lmer object without the predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lvl2_data</code></td>
<td>
<p>Data summarized at level 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ddsc_sem_fit</code></td>
<td>
<p>ddsc_sem object fitted to level 2 data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>re_cov_test</code></td>
<td>
<p>Likelihood ratio significance test for random effect covariation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>boot_var_diffs</code></td>
<td>
<p>List of different variance bootstrap tests.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
set.seed(95332)
n1 &lt;- 10 # groups
n2 &lt;- 10 # observations per group
dat &lt;- data.frame(
  group = rep(c(LETTERS[1:n1]), each = n2),
  w = sample(c(-0.5, 0.5), n1 * n2, replace = TRUE),
  x = rep(sample(1:5, n1, replace = TRUE), each = n2),
  y = sample(1:5, n1 * n2, replace = TRUE)
)
library(lmerTest)
fit &lt;- lmerTest::lmer(y ~ x * w + (w | group),
                      data = dat
)
round(ddsc_ml(model=fit,
              predictor="x",
              moderator="w",
              moderator_values=c(0.5,-0.5))$results,3)

round(ddsc_ml(data=dat,
              DV="y",
              lvl2_unit="group",
              predictor="x",
              moderator="w",
              moderator_values=c(0.5,-0.5))$results,3)


## End(Not run)
</code></pre>


</div>