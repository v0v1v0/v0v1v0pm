<div class="container">

<table style="width: 100%;"><tr>
<td>D_regularized</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multivariate group difference estimation with regularized binomial regression</h2>

<h3>Description</h3>

<p>Multivariate group difference estimation with regularized binomial regression
</p>


<h3>Usage</h3>

<pre><code class="language-R">D_regularized(
  data,
  mv.vars,
  group.var,
  group.values,
  alpha = 0.5,
  nfolds = 10,
  s = "lambda.min",
  type.measure = "deviance",
  rename.output = TRUE,
  out = FALSE,
  size = NULL,
  fold = FALSE,
  fold.var = NULL,
  pcc = FALSE,
  auc = FALSE,
  pred.prob = FALSE,
  prob.cutoffs = seq(0, 1, 0.2),
  append.data = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame or list containing two data frames (regularization and estimation data, in that order).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mv.vars</code></td>
<td>
<p>Character vector. Variable names in the multivariate variable set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.var</code></td>
<td>
<p>The name of the group variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.values</code></td>
<td>
<p>Vector of length 2, group values (e.g. c("male", "female) or c(0,1)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Alpha-value for penalizing function ranging from 0 to 1: 0 = ridge regression, 1 = lasso, 0.5 = elastic net (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nfolds</code></td>
<td>
<p>Number of folds used for obtaining lambda (range from 3 to n-1, default 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Which lambda value is used for predicted values? Either "lambda.min" (default) or "lambda.1se".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type.measure</code></td>
<td>
<p>Which measure is used during cross-validation. Default "deviance".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename.output</code></td>
<td>
<p>Logical. Should the output values be renamed according to the group.values? Default TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>out</code></td>
<td>
<p>Logical. Should results and predictions be calculated on out-of-bag data set? (Default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Integer. Number of cases in regularization data per each group. Default 1/4 of cases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold</code></td>
<td>
<p>Logical. Is regularization applied across sample folds with separate predictions for each fold? (Default FALSE, see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fold.var</code></td>
<td>
<p>Character string. Name of the fold variable. (default NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcc</code></td>
<td>
<p>Logical. Include probabilities of correct classification? Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auc</code></td>
<td>
<p>Logical. Include area under the receiver operating characteristics? Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.prob</code></td>
<td>
<p>Logical. Include table of predicted probabilities? Default FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prob.cutoffs</code></td>
<td>
<p>Vector. Cutoffs for table of predicted probabilities. Default seq(0,1,0.20).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append.data</code></td>
<td>
<p>Logical. If TRUE, the data is appended to the predicted variables.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>fold = TRUE</code> will apply manually defined data folds (supplied with fold.var) for regularization
and obtain estimates for each separately. This can be a good solution, for example, when the data are clustered
within countries. In such case, the cross-validation procedure is applied across countries.
</p>
<p><code>out = TRUE</code> will use separate data partition for regularization and estimation. That is, the first
cross-validation procedure is applied within the regularization set and the weights obtained are
then used in the estimation data partition. The size of regularization set is defined with <code>size</code>.
When used with <code>fold = TRUE</code>, size means size within a fold."
</p>
<p>For more details on these options, please refer to the <a href="https://CRAN.R-project.org/package=multid/vignettes/multivariate_sex_differences_in_personality.html">vignette</a> and <a href="https://CRAN.R-project.org/package=multid/readme/README.html">README</a> of the multid package.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>Multivariate descriptive statistics and differences.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred.dat</code></td>
<td>
<p>A data.frame with predicted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.mod</code></td>
<td>
<p>Regularized regression model from cv.glmnet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>P.table</code></td>
<td>
<p>Table of predicted probabilities by cutoffs.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Lönnqvist, J. E., &amp; Ilmarinen, V. J. (2021). Using a continuous measure of genderedness to assess sex differences in the attitudes of the political elite. Political Behavior, 43, 1779–1800. <a href="https://doi.org/10.1007/s11109-021-09681-2">doi:10.1007/s11109-021-09681-2</a>
</p>
<p>Ilmarinen, V. J., Vainikainen, M. P., &amp; Lönnqvist, J. E. (2023). Is there a g-factor of genderedness? Using a continuous measure of genderedness to assess sex differences in personality, values, cognitive ability, school grades, and educational track. European Journal of Personality, 37, 313-337. <a href="https://doi.org/10.1177/08902070221088155">doi:10.1177/08902070221088155</a>
</p>


<h3>See Also</h3>

<p><code>cv.glmnet</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">D_regularized(
  data = iris[iris$Species == "setosa" | iris$Species == "versicolor", ],
  mv.vars = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
  group.var = "Species", group.values = c("setosa", "versicolor")
)$D

# out-of-bag predictions
D_regularized(
  data = iris[iris$Species == "setosa" | iris$Species == "versicolor", ],
  mv.vars = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
  group.var = "Species", group.values = c("setosa", "versicolor"),
  out = TRUE, size = 15, pcc = TRUE, auc = TRUE
)$D

# separate sample folds
# generate data for 10 groups
set.seed(34246)
n1 &lt;- 100
n2 &lt;- 10
d &lt;-
  data.frame(
    sex = sample(c("male", "female"), n1 * n2, replace = TRUE),
    fold = sample(x = LETTERS[1:n2], size = n1 * n2, replace = TRUE),
    x1 = rnorm(n1 * n2),
    x2 = rnorm(n1 * n2),
    x3 = rnorm(n1 * n2)
  )

# Fit and predict with same data
D_regularized(
  data = d,
  mv.vars = c("x1", "x2", "x3"),
  group.var = "sex",
  group.values = c("female", "male"),
  fold.var = "fold",
  fold = TRUE,
  rename.output = TRUE
)$D

# Out-of-bag data for each fold
D_regularized(
  data = d,
  mv.vars = c("x1", "x2", "x3"),
  group.var = "sex",
  group.values = c("female", "male"),
  fold.var = "fold",
  size = 17,
  out = TRUE,
  fold = TRUE,
  rename.output = TRUE
)$D
</code></pre>


</div>