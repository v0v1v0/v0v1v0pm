<div class="container">

<table style="width: 100%;"><tr>
<td>loess.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Loess plot with density distributions for propensity scores and outcomes on
top and right, respectively.</h2>

<h3>Description</h3>

<p>Loess plot with density distributions for propensity scores and outcomes on
top and right, respectively.
</p>


<h3>Usage</h3>

<pre><code class="language-R">loess.plot(x, response, treatment, responseTitle = "",
  treatmentTitle = "Treatment", percentPoints.treat = 0.1,
  percentPoints.control = 0.01, points.treat.alpha = 0.1,
  points.control.alpha = 0.1, plot.strata, plot.strata.alpha = 0.2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of propensity scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>the response variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment</code></td>
<td>
<p>the treatment variable as a logical type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>responseTitle</code></td>
<td>
<p>the label to use for the y-axis (i.e. the name of the response variable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatmentTitle</code></td>
<td>
<p>the label to use for the treatment legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentPoints.treat</code></td>
<td>
<p>the percentage of treatment points to randomly plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentPoints.control</code></td>
<td>
<p>the percentage of control points to randomly plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points.treat.alpha</code></td>
<td>
<p>the transparency level for treatment points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>points.control.alpha</code></td>
<td>
<p>the transparency level for control points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.strata</code></td>
<td>
<p>an integer value greater than 2 indicating the number of vertical lines to 
plot corresponding to quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.strata.alpha</code></td>
<td>
<p>the alpha level for the vertical lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters passed to <code>geom_smooth</code> and
<code>stat_smooth</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a ggplot2 figure
</p>


<h3>See Also</h3>

<p>plot.mlpsa
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
require(multilevelPSA)
require(party)
data(pisana)
data(pisa.psa.cols)
cnt = 'USA' #Can change this to USA, MEX, or CAN
pisana2 = pisana[pisana$CNT == cnt,]
pisana2$treat &lt;- as.integer(pisana2$PUBPRIV) %% 2
lr.results &lt;- glm(treat ~ ., data=pisana2[,c('treat',pisa.psa.cols)], family='binomial')
st = data.frame(ps=fitted(lr.results), 
				math=apply(pisana2[,paste('PV', 1:5, 'MATH', sep='')], 1, mean), 
				pubpriv=pisana2$treat)
				st$treat = as.logical(st$pubpriv)
loess.plot(st$ps, response=st$math, treatment=st$treat, percentPoints.control = 0.4, 
           percentPoints.treat=0.4)

## End(Not run)
</code></pre>


</div>