<div class="container">

<table style="width: 100%;"><tr>
<td>mlpsa.circ.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots the results of a multilevel propensity score model.</h2>

<h3>Description</h3>

<p>The plot created uses the <code>ggplot2</code> framework. As such, additional modifications
can be made. This plot is an extension of the <code>circ.psa</code> function in the
<code>PSAgraphics</code> package for multilevel models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mlpsa.circ.plot(x, xlab = names(multilevelPSA$level2.summary)[4],
  ylab = names(multilevelPSA$level2.summary)[5], legendlab = "Level 2",
  title = NULL, overall.col = "blue", overall.ci.col = "green",
  level1.plot = FALSE, level1.point.size = NULL, level1.rug.plot = NULL,
  level1.projection.lines = FALSE, level2.plot = TRUE,
  level2.point.size = NULL, level2.rug.plot = "tr",
  level2.projection.lines = TRUE, level2.label = FALSE,
  unweighted.means = FALSE, weighted.means = FALSE, fill.colors = NULL,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the results of <code>mlpsa</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label for the x-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendlab</code></td>
<td>
<p>the label for the legend, or NULL to exclude.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>title for the figure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall.col</code></td>
<td>
<p>the color used for the overall results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overall.ci.col</code></td>
<td>
<p>the color used for the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level1.plot</code></td>
<td>
<p>logical value indicating whether level 1 points should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level1.point.size</code></td>
<td>
<p>the size of level 1 points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level1.rug.plot</code></td>
<td>
<p>the placement for plotting a level 2 rug. Possible values
are <code>bl</code> (for left and bottom), <code>tr</code> (for top and right), or
NULL (to exclude).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level1.projection.lines</code></td>
<td>
<p>logical value indicating whether level 1 project lines
(parallel to the unit line) are drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level2.plot</code></td>
<td>
<p>logical value indicating whether level 2 points should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level2.point.size</code></td>
<td>
<p>the size of level 2 points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level2.rug.plot</code></td>
<td>
<p>the placement for plotting a level 2 rug. Possible values
are <code>bl</code> (for left and bottom), <code>tr</code> (for top and right), or
NULL (to exclude).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level2.projection.lines</code></td>
<td>
<p>logical value indicating whether level 2 project lines
(parallel to the unit line) are drawn.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level2.label</code></td>
<td>
<p>logical value indicating whether level 2 points should be labeled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unweighted.means</code></td>
<td>
<p>logical value indicating whether horizontal and vertical
lines are drawn representing the unweighted (i.e. unadjusted from phase I
of PSA) means for each level 2, or cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted.means</code></td>
<td>
<p>logical value indicating whether horizontal and vertical
lines are drawn representing the weighted means for each level 2, or cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill.colors</code></td>
<td>
<p>if specified, the colors to use for level 2 points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>currently unused.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>plot.mlpsa
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(pisana)
data(pisa.colnames)
data(pisa.psa.cols)
mlctree = mlpsa.ctree(pisana[,c('CNT','PUBPRIV',pisa.psa.cols)], 
                      formula=PUBPRIV ~ ., level2='CNT')
student.party = getStrata(mlctree, pisana, level2='CNT')
student.party$mathscore = apply(student.party[,paste0('PV', 1:5, 'MATH')], 1, sum) / 5
results.psa.math = mlpsa(response=student.party$mathscore, 
       treatment=student.party$PUBPRIV, 
       strata=student.party$strata, 
       level2=student.party$CNT, minN=5)
mlpsa.circ.plot(results.psa.math, legendlab=FALSE)

## End(Not run)
</code></pre>


</div>