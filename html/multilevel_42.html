<div class="container">

<table style="width: 100%;"><tr>
<td>sim.mlcor</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate a multilevel correlation</h2>

<h3>Description</h3>

<p>In multilevel or hierarchical nested data, correlations at the within
and between levels often differ in magnitude and/or sign. For instance, Bliese
and Halverson (1996) showed that the within correlation between individual reports of work
hours and individual well-being was -.11. When these same data were mean-aggregated to
the group-level, the between correlation based on group means was -.71. A necessary, but not
sufficient, condition for differences across levels is a non-zero ICC1 value for
both variables (Bliese, 2000). This simulation creates a dataset with a group ID and an X and Y
variable for any combination of group size, number of groups, within and between correlations,
ICC1 values and reliability (alpha).  
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim.mlcor(gsize,ngrp,gcor,wcor,icc1x,icc1y,alphax=1,alphay=1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>gsize</code></td>
<td>
<p>The simulated group size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngrp</code></td>
<td>
<p>The simulated number of groups.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gcor</code></td>
<td>
<p>The simulated between group correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wcor</code></td>
<td>
<p>The simulated within group correlation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>icc1x</code></td>
<td>
<p>The simulated ICC1 value for X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>icc1y</code></td>
<td>
<p>The simulated ICC1 value for Y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphax</code></td>
<td>
<p>The reliability (alpha) of X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphay</code></td>
<td>
<p>The reliability (alpha) of Y.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>GRP</code></td>
<td>
<p>The grouping designator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>The simulated X value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>The simulated Y value.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Paul Bliese
<a href="mailto:pdbliese@gmail.com">pdbliese@gmail.com</a>
</p>


<h3>References</h3>

<p>Bliese, P. D. (2000).  Within-group agreement, non-independence, and reliability:
Implications for data aggregation and analysis.  In K. J. Klein &amp; S. W. Kozlowski (Eds.),
Multilevel Theory, Research, and Methods in Organizations (pp. 349-381). San
Francisco, CA:  Jossey-Bass, Inc.
</p>
<p>Bliese, P. D. &amp; Halverson, R. R. (1996).  Individual and nomothetic models of job
stress:  An examination of work hours, cohesion, and well-being.  Journal of 
Applied Social Psychology, 26, 1171-1189.
</p>
<p>Bliese, P. D., Maltarich, M. A., Hendricks, J. L., Hofmann, D. A., &amp; Adler, A. B. (2019).
Improving the measurement of group-level constructs by optimizing between-group
differentiation. Journal of Applied Psychology, 104, 293-302.
</p>


<h3>See Also</h3>

<p><code>ICC1</code>
<code>sim.icc</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
#
# Examine the multilevel properties of work hours and well-being
# in the bh1996 data
#
data(bh1996)
with(bh1996,waba(HRS,WBEING,GRP))
mult.icc(bh1996[,c("HRS","WBEING")],bh1996$GRP)
#
#Estimate true group-mean correlation by adding ICC2 adjusted incremental
#correlation back to within correlation. For value of -.8256
#
-0.110703+(-0.7121729--0.110703)/(sqrt(0.9171286*0.771756))
#
# Simulate data with same properties assuming no measurement error
#
set.seed(578323)
SIM.ML.COR&lt;-sim.mlcor(gsize=75,ngrp=99,gcor=-.8256,wcor=-.1107,
                 icc1x=0.04338,icc1y=0.12924,alphax=1,alphay=1)
#
# Compare Simulated results to results (above) from bh1996
#
with(SIM.ML.COR,waba(X,Y,GRP))
mult.icc(SIM.ML.COR[,c("X","Y")],SIM.ML.COR$GRP)

## End(Not run)
</code></pre>


</div>