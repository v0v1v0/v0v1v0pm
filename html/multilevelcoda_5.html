<div class="container">

<table style="width: 100%;"><tr>
<td>brmcoda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Bayesian generalised (non-)linear multilevel compositional model
via full Bayesian inference</h2>

<h3>Description</h3>

<p>Fit a <code>brm</code> model with multilevel ILR coordinates
</p>


<h3>Usage</h3>

<pre><code class="language-R">brmcoda(complr, formula, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>complr</code></td>
<td>
<p>A <code>complr</code> object containing data of composition,
ILR coordinates, and other variables used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A object of class <code>formula</code>, <code>brmsformula</code>:
A symbolic description of the model to be fitted.
Details of the model specification can be found in <code>brmsformula</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>brm</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>brmcoda</code> with two elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>complr</code></td>
<td>
<p> An object of class <code>complr</code> used in the <code>brm</code> model. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p> An object of class <code>brmsfit</code>, which contains the posterior draws
along with many other useful information about the model.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
if(requireNamespace("cmdstanr")){
  cilr &lt;- complr(data = mcompd, sbp = sbp,
                 parts = c("TST", "WAKE", "MVPA", "LPA", "SB"), idvar = "ID")
  
  # inspects ILRs before passing to brmcoda
  names(cilr$between_logratio)
  names(cilr$within_logratio)
  names(cilr$logratio)
  
  # model with compositional predictor at between and within-person levels
  m1 &lt;- brmcoda(complr = cilr,
                formula = Stress ~ bilr1 + bilr2 + bilr3 + bilr4 +
                                   wilr1 + wilr2 + wilr3 + wilr4 + (1 | ID),
                chain = 1, iter = 500,
                backend = "cmdstanr")
  
  # model with compositional outcome
  m2 &lt;- brmcoda(complr = cilr,
                formula = mvbind(ilr1, ilr2, ilr3, ilr4) ~ Stress + Female + (1 | ID),
                chain = 1, iter = 500,
                backend = "cmdstanr")
  }
</code></pre>


</div>