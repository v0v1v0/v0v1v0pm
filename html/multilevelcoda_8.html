<div class="container">

<table style="width: 100%;"><tr>
<td>build.rg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reference Grid for <code>substitution</code> model.</h2>

<h3>Description</h3>

<p>Build a dataset for <code>fitted.brmcoda</code> used in <code>substitution</code> model
</p>


<h3>Usage</h3>

<pre><code class="language-R">build.rg(object, ref, level, weight, fill = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>A fitted <code>brmcoda</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>Either a character value or vector or a dataset.
Can be <code>"grandmean"</code> and/or <code>"clustermean"</code>, or
a <code>data.frame</code> or <code>data.table</code> of user's specified reference grid consisting
of combinations of covariates over which predictions are made.
User's specified reference grid is only possible for simple substitution.
Single level models are default to <code>"grandmean"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>A character string or vector.
Should the estimate of multilevel models focus on the <code>"between"</code> and/or <code>"within"</code> or <code>"aggregate"</code> variance?
Single-level models are default to <code>"aggregate"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>A character value specifying the weight to use in calculation of the reference composition.
If <code>"equal"</code>, give equal weight to units (e.g., individuals).
If <code>"proportional"</code>, weights in proportion to the frequencies of units being averaged
(e.g., observations across individuals).
Default to <code>"equal"</code> for <code>ref = "grandmean"</code> and <code>"proportional"</code> for <code>ref = "clustermean"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fill</code></td>
<td>
<p>Logical value only relevant when <code>ref</code> is an user's specified reference grid
in which information about some, but not all covariates is provided
(e.g., models including age and sex as covariate but only age was provided in the reference grid).
If <code>TRUE</code>, the unspecified covariates are filled with the default reference grid.
If <code>FALSE</code>, users will be asked to provide a full reference grid.
Currently only support the default to <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A reference grid consisting of a combination of covariates in <code>brmcoda</code>
</p>


</div>