<div class="container">

<table style="width: 100%;"><tr>
<td>multisensi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
A function with multiple options to perform multivariate sensitivity analysis
</h2>

<h3>Description</h3>

<p>The <code>multisensi</code> function can conduct the different steps of a multivariate sensitivity analysis (design, simulation, dimension reduction, analysis, plots). It includes different options for each of these steps. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">multisensi(design = expand.grid, model, reduction = basis.ACP, 
           dimension = 0.95, center = TRUE, scale = TRUE, 
           analysis = analysis.anoasg, cumul = FALSE, 
           simulonly = FALSE, Name.File = NULL, 
           design.args = list(), basis.args = list(), 
           analysis.args = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>EITHER a function such as expand.grid to generate the design OR a data.frame of size <code>N x P</code> containing <code>N</code> combinations of levels of the <code>P</code> input factors OR a function from the <span class="pkg">sensitivity</span> package such as fast99 OR an object generated by a function from the <span class="pkg">sensitivity</span> package. The first and third cases require additional information to be given in the <code>design.args</code> argument. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>EITHER a function to run the model simulations OR a data.frame of size <code>N x T</code> containing <code>N</code> realizations of <code>T</code> output variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reduction</code></td>
<td>
<p>EITHER a function to decompose the multivariate output on a basis of smaller dimension OR <code>NULL</code>. The first case requires additional information to be given in the <code>basis.args</code> argument. In the second case, sensitivity analyses are performed on the raw output variables.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimension</code></td>
<td>
<p>EITHER the number of variables to analyse, specified by an integer or by the minimal proportion of inertia (a scalar &lt; 1) to keep in the output decomposition OR a vector specifying a subset of columns in the output data.frame OR NULL if all variables must be analysed. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>logical value. If TRUE (default value) the output variables are centred.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical value. If TRUE (default value) the output variables are normalized before applying the reduction function.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis</code></td>
<td>
<p>a function to run the sensitivity analysis. Additional information can be given in the <code>analysis.args</code> argument. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cumul</code></td>
<td>
<p>logical value. If TRUE the output variables are replaced by their cumulative sums.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simulonly</code></td>
<td>
<p>logical value.  If TRUE the program stops after the model simulations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Name.File</code></td>
<td>
<p>Name of file containing the R-function model.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design.args</code></td>
<td>
<p>a list of arguments for the function possibly given in the <code>design</code> argument.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basis.args</code></td>
<td>
<p>a list of arguments for the function given in the <code>reduction</code> argument. See the function help for more precision.





</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysis.args</code></td>
<td>
<p>a list of arguments for the function possibly given in the <code>analysis</code> argument. See the function help for more precision.


</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional parameters of the function possibly given in the <code>model</code> argument.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class <code>dynsi</code> if <code>reduction=NULL</code>, otherwise an object of class <code>gsi</code>. See the functions <code>dynsi</code>  and <code>gsi</code> for more information.






























</p>


<h3>See Also</h3>

<p><code>dynsi</code>, <code>gsi</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Test case : the Winter Wheat Dynamic Models (WWDM)
#  input factors design
 data(biomasseX)
# input climate variable
 data(Climat)
# output variables (precalculated to speed up the example)
 data(biomasseY)

# to do dynsi process
# argument reduction=NULL
resD &lt;- multisensi(design=biomasseX, model=biomasseY, reduction=NULL,
                 dimension=NULL, analysis=analysis.anoasg,
                 analysis.args=list(formula=2,keep.outputs = FALSE))
summary(resD)


# to do gsi process
#------------
# with dimension reduction by PCA
# argument reduction=basis.ACP
resG1 &lt;- multisensi(design=biomasseX, model=biomasseY, reduction=basis.ACP,
                   dimension=0.95, analysis=analysis.anoasg,
                   analysis.args=list(formula=2,keep.outputs = FALSE))
summary(resG1)

plot(x=resG1, beside=FALSE)

#------------
# with dimension reduction by o-splines basis
# arguments reduction=basis.osplines
# and basis.args=list(knots= ... , mdegree= ... )

resG2 &lt;- multisensi(design=biomasseX, model=biomasseY, reduction=basis.osplines,
                   dimension=NULL, center=FALSE, scale=FALSE,
                   basis.args=list(knots=11, mdegree=3), analysis=analysis.anoasg, 
                   analysis.args=list(formula=2,keep.outputs = FALSE))
summary(resG2)

#------------
library(sensitivity) # to use fast99

# with dimension reduction by o-splines basis
# and sensitivity analysis with sensitivity:fast99
resG3 &lt;- multisensi(design=fast99, model=biomasse,
                   analysis=analysis.sensitivity, 
                   design.args=list(factors = names(biomasseX), n = 100,
                   q = "qunif", q.arg = list(list(min = 0.9, max = 2.8),
                   list(min = 0.9, max = 0.99), list(min = 0.6, max = 0.8), 
                   list(min = 3, max = 12), list(min = 0.0035, max = 0.01),
                   list(min = 0.0011, max = 0.0025),
                   list(min = 700, max = 1100))), climdata=Climat,
                   reduction=basis.osplines,
                   basis.args=list(knots=7, mdegree=3),
                   center=FALSE,scale=FALSE,dimension=NULL)
summary(resG3)

</code></pre>


</div>