<div class="container">

<table style="width: 100%;"><tr>
<td>inside</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pass code into the multiverse</h2>

<h3>Description</h3>

<p>Add code to the multiverse using the function using a function call, or an assignment operator, which is
a wrapper around the function
</p>


<h3>Usage</h3>

<pre><code class="language-R">inside(multiverse, .expr, .label = NULL, .execute_default = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>multiverse</code></td>
<td>
<p>A multiverse object. A multiverse object is an S3 object which can be defined using <code>multiverse()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.expr</code></td>
<td>
<p>R syntax. All the operations that the user wants to perform within the multiverse can be passed.
Since it accepts a single argument, chunks of code can be passed using '{}'. See example for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.label</code></td>
<td>
<p>It is extracted automatically from the code block of type <code>multiverse</code>
when run in an RMarkdown document. This should be used only within an RMarkdown document. 
Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.execute_default</code></td>
<td>
<p>Should the default multiverse be executed as part of this call?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The inside function can only access variables which can be accessed at the same environment 
where the multiverse object was declared in.
</p>
<p>To perform a multiverse analysis, we will need to write code to be executed within the multiverse.
The <code>inside()</code> functions allows us to do this. Use <code>inside()</code> to pass any code to the specified multiverse,
which is captured as an expression. To define multiple analysis options in the code passed to the multiverse,
use the <code>branch()</code> function.
</p>


<h3>Value</h3>

<p>a multiverse object
</p>


<h3>See Also</h3>

<p><code>branch()</code> for more details on how to declare multiple analysis options.
</p>
<p>The <code>inside</code> function only stores the code, and does not execute any code at this step. To execute, we
provide separate functions. See <code>execute()</code> for executing the code.
</p>
<p>Instead of using the <code>inside()</code> function, an alternate implementation of the multiverse is using
the assignment operator, '&lt;-' (please refer to examples below).
</p>
<p><em>Note</em>: the <code>inside()</code> function can only access variables which can be accessed at the same level as the multiverse
object. Since <code>inside()</code> is merely an interface to add analysis to the multiverse object, even if it is being called 
by another function, it is actually manipulating the multiverse object, which will have a different parent environment
from where <code>inside()</code> is called, and hence not have access to variables which might be accessible in the environment 
within the function from where <code>inside()</code> is called.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
M.1 &lt;- multiverse()

# using `inside` to declare multiverse code
inside(M.1, {
  data &lt;- rnorm(100, 50, 20)

  x.mean &lt;- mean(data, trim = branch(
    trim_values,
    "trim_none" ~ 0,
    "trim_1pc" ~ 0.05,
    "trim_5pc" ~ 0.025,
    "trim_10pc" ~ 0.05
  ))
})

# declaring multiple options for a data processing step (calculating a new variable)
data(durante)
df &lt;- durante

inside(M.1, {
  df &lt;- df  %&gt;%
    mutate( ComputedCycleLength = StartDateofLastPeriod - StartDateofPeriodBeforeLast ) %&gt;%
    mutate( NextMenstrualOnset = branch(menstrual_calculation,
                                   "mc_option1" ~ StartDateofLastPeriod + ComputedCycleLength,
                                   "mc_option2" ~ StartDateofLastPeriod + ReportedCycleLength,
                                   "mc_option3" ~ StartDateNext
  ))
})



</code></pre>


</div>