<div class="container">

<table style="width: 100%;"><tr>
<td>ncenter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Center n-th Dimension of Array
</h2>

<h3>Description</h3>

<p>Fiber-center across the levels of the specified mode. Can input 2-way, 3-way, and 4-way arrays, or input a list containing array elements.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ncenter(X, mode = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>Array (2-way, 3-way, or 4-way) or a list containing array elements.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>

<p>Mode to center across.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>With <code>X</code> a matrix (I-by-J) there are two options:
</p>

<table>
<tr>
<td style="text-align: right;">
 <code> mode=1: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j] - mean(x[,j]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=2: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j] - mean(x[i,]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
</tr>
</table>
<p>With <code>X</code> a 3-way array (I-by-J-by-K) there are three options:
</p>

<table>
<tr>
<td style="text-align: right;">
 <code> mode=1: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k] - mean(x[,j,k]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=2: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k] - mean(x[i,,k]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=3: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k] - mean(x[i,j,]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
</tr>
</table>
<p>With <code>X</code> a 4-way array (I-by-J-by-K-by-L) there are four options:
</p>

<table>
<tr>
<td style="text-align: right;">
 <code> mode=1: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k,l] - mean(x[,j,k,l]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=2: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k,l] - mean(x[i,,k,l]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=3: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k,l] - mean(x[i,j,,l]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 <code> mode=4: </code> </td>
<td style="text-align: center;"> </td>
<td style="text-align: left;"> <code> x[i,j,k,l] - mean(x[i,j,k,]) </code> </td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
</tr>
</table>
<h3>Value</h3>

<p>Returns centered version of <code>X</code>.
</p>


<h3>Note</h3>

<p>When entering a list with array elements, each element must be an array (2-way, 3-way, or 4-way) that contains the specified <code>mode</code> to center across.
</p>


<h3>Author(s)</h3>

<p>Nathaniel E. Helwig &lt;helwig@umn.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">##########   EXAMPLE 1   ##########
X &lt;- matrix(rnorm(2000),100,20)
Xc &lt;- ncenter(X)          # center across rows
sum(colSums(Xc))
Xc &lt;- ncenter(Xc,mode=2) # recenter across columns
sum(colSums(Xc)) 
sum(rowSums(Xc))


##########   EXAMPLE 2   ##########
X &lt;- array(rnorm(20000),dim=c(100,20,10))
Xc &lt;- ncenter(X,mode=2)   # center across columns
sum(rowSums(Xc))


##########   EXAMPLE 3   ##########
X &lt;- array(rnorm(100000),dim=c(100,20,10,5))
Xc &lt;- ncenter(X,mode=4)   # center across 4-th mode
sum(rowSums(Xc))


##########   EXAMPLE 4   ##########
X &lt;- replicate(5,array(rnorm(20000),dim=c(100,20,10)),simplify=FALSE)
Xc &lt;- ncenter(X)
sum(colSums(Xc[[1]]))

</code></pre>


</div>