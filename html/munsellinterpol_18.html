<div class="container">

<table style="width: 100%;"><tr>
<td>MunsellToRGB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a Munsell specification to RGB coordinates</h2>

<h3>Description</h3>

<p><code>MunsellToRGB</code> Converts a 
Munsell specification to RGB coordinates, by interpolating over the 
extrapolated Munsell renotation data
</p>


<h3>Usage</h3>

<pre><code class="language-R">MunsellToRGB( MunsellSpec, space='sRGB', which='scene', maxSignal=255, 
    adapt='Bradford', ... ) </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>MunsellSpec</code></td>
<td>
<p> a numeric Nx3 matrix with HVC values in the rows, or a vector that can be converted to such a matrix, by row.<br><code>MunsellSpec</code> can also be a character vector with Munsell Notations,
which is converted to an Nx3 matrix using <code>HVCfromMunsellName()</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>the name of an installed RGB space.
Spaces <code>'sRGB'</code> and <code>'AdobeRGB'</code> are pre-installed,
and others can be installed with <code>spacesRGB::installRGB()</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>either <code>'scene'</code> or <code>'display'</code>; passed to <code>spacesRGB::RGBfromXYZ()</code> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxSignal</code></td>
<td>
<p>maximum of the non-linear signal RGB; Other popular values are 1, 100, 1023, and 65535</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adapt</code></td>
<td>
<p>method for chromatic adaptation, see <code>spacesXYZ::CAT()</code> for valid values.
Also see <b>Details</b>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other parameters passed to <code>MunsellToxyY()</code> </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The conversion is done with these steps:
</p>

<ul>
<li>
<p> HVC    →   xyY using <code>MunsellToxyY()</code> with <code>...</code>. This xyY is for Illuminant C.
</p>
</li>
<li>
<p> xyY    →   XYZ using <code>spacesXYZ::XYZfromxyY()</code> 
</p>
</li>
<li>
<p> XYZ is adapted from Illuminant C to the white-point (with <code>which</code>) of the RGB <code>space</code>,
using <code>spacesXYZ::adaptXYZ()</code>, with the given chromatic adaptation method <code>adapt</code>
</p>
</li>
<li>
<p> XYZ    →   RGB using <code>spacesRGB::RGBfromXYZ()</code> with the given <code>space</code>,
<code>which</code>, and <code>maxSignal</code>
</p>
</li>
</ul>
<h3>Value</h3>

<p>a <code>data.frame</code> with these columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>SAMPLE_NAME</code></td>
<td>
<p>a character N-vector equal to the original <code>MunsellSpec</code> if that was a character vector.
Or the Munsell notation string converted from the input matrix HVC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xyY</code></td>
<td>
<p> an Nx3 matrix with xyY values in the rows, that are adapted to Illuminant C.
This is an intermediate result that is sometimes useful, e.g. it can be passed
to <code>IsWithinMacAdamLimits()</code>.
The rownames of xyY are copied from those of HVC, unless the rownames of HVC are <code>NULL</code>
when they are set to <code>SAMPLE_NAME</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RGB</code></td>
<td>
<p>an Nx3 matrix with non-linear RGB signal values in the rows. 
All values are clamped to the appropriate cube, e.g. <code class="reqn">[0,255]^3</code>.
The rownames of RGB are copied from those of xyY. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OutOfGamut</code></td>
<td>
<p>logical vector, TRUE means the result was out of gamut (the cube) before clamping it</p>
</td>
</tr>
</table>
<p>In case of error, it returns <code>NULL</code>.
</p>


<h3>Author(s)</h3>

<p>Jose Gama and Glenn Davis</p>


<h3>References</h3>

<p>Paul Centore 2014
The Munsell and Kubelka-Munk Toolbox
<a href="https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html">https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html</a>
</p>


<h3>See Also</h3>

<p><code>MunsellToXYZ()</code>,
<code>IsWithinMacAdamLimits()</code>,
<code>spacesRGB::installRGB()</code>,
<code>spacesRGB::RGBfromXYZ()</code>,
<code>spacesXYZ::XYZfromxyY()</code>,
<code>spacesXYZ::CAT()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">MunsellToRGB( c('7.6P 8.9/2.2', 'N 3/'), space='AdobeRGB' )
##     SAMPLE_NAME      xyY.x      xyY.y      xyY.Y     RGB.R     RGB.G     RGB.B OutOfGamut
##  1 7.6P 8.9/2.2  0.3109520  0.3068719 74.6134498 227.72419 220.18659 229.23297      FALSE
##  2         N 3/  0.3101000  0.3163000  6.3911778  73.01793  73.01793  73.01793      FALSE

</code></pre>


</div>