<div class="container">

<table style="width: 100%;"><tr>
<td>xyYtoMunsell</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert xyY coordinates to Munsell HVC</h2>

<h3>Description</h3>

<p><code>xyYtoMunsell</code> Convert xyY coordinates to Munsell HVC,
by interpolating over the extrapolated Munsell renotation data
</p>


<h3>Usage</h3>

<pre><code class="language-R">xyYtoMunsell( xyY, xyC='NBS', hcinterp='bicubic', vinterp='cubic',
                     VfromY='ASTM', warn=TRUE, perf=FALSE ) </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xyY</code></td>
<td>
<p>a numeric Nx3 matrix with CIE xyY coordinates in the rows,
or a vector that can be converted to such a matrix, by row.  
These are for viewing in an environment with Illuminant C, with Y=100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xyC</code></td>
<td>
<p> a numeric 2-vector with xy chromaticity of Illuminant C.
It can also be one of the strings given in <code>MunsellToxyY()</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hcinterp</code></td>
<td>
<p>either <code>'bicubic'</code> or <code>'bilinear'</code> (partial matching enabled).
See <code>MunsellToxyY()</code> for details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vinterp</code></td>
<td>
<p>either <code>'cubic'</code> or <code>'linear'</code> (partial matching enabled).
See <code>MunsellToxyY()</code> for details. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>VfromY</code></td>
<td>
<p>passed as the parameter <code>which</code> to the function <code>VfromY()</code>.
See <code>VfromY()</code> for details.
Option <code>'MGO'</code> is not allowed because then Y&gt;100 when V=10.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn</code></td>
<td>
<p>if an xyY cannot be mapped
(usually because the root finder has wandered afar),
its H and V are set to <code>NA</code> in the returned <code>data.frame</code>.
Just before returning, if any rows in HVC have an <code>NA</code>, and <code>warn == TRUE</code>,
then a warning is logged.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perf</code></td>
<td>
<p>if <code>perf</code> is <code>TRUE</code>, then extra performance related metrics
are appended to the returned <code>data.frame</code>, see <b>Value</b>.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See <code>MunsellToxyY()</code> and the <b>User Guide - Appendix C</b>.
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> with N rows and these columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>xyY</code></td>
<td>
<p>The input xyY</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HVC</code></td>
<td>
<p>the computed HVC. H is automatically wrapped to (0,100].  In case of failure, H and C are set to <code>NA</code>.
The rownames of HVC are set to those of xyY, unless they are <code>NULL</code> when they are set to <code>SAMPLE_NAME</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SAMPLE_NAME</code></td>
<td>
<p>the Munsell notation for HVC, a character vector</p>
</td>
</tr>
</table>
<p>If <code>perf</code> is <code>TRUE</code> then there are these additional columns:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>time.elapsed</code></td>
<td>
<p>elapsed time in seconds. If available, the function <code>microbenchmark::get_nanotime()</code> is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>the number of iterations of <code>rootSolve::multiroot()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evalations</code></td>
<td>
<p>the number of forward (HVC    →   xyY) function evaluations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estim.precis</code></td>
<td>
<p>the estimated precision from <code>rootSolve::multiroot()</code>.
This is in the HC plane for the Munsell Value computed from Y.</p>
</td>
</tr>
</table>
<h3>Warning</h3>

<p>Even when <code>vinterp='cubic'</code> the function xyY    →  HVC is not <code class="reqn">C^1</code>
on the plane V=1.
This is because of a change in Value spacing:
when V<code class="reqn">\ge</code>1 the Value spacing is 1, but when V<code class="reqn">\le</code>1 the Value spacing is 0.2.
</p>


<h3>Author(s)</h3>

<p>Jose Gama and Glenn Davis</p>


<h3>Source</h3>

<p>Paul Centore 2014
The Munsell and Kubelka-Munk Toolbox
<a href="https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html">https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html</a><br><a href="https://www.rit.edu/science/munsell-color-lab">https://www.rit.edu/science/munsell-color-lab</a><br><a href="https://www.rit-mcsl.org/MunsellRenotation/all.dat">https://www.rit-mcsl.org/MunsellRenotation/all.dat</a><br><a href="https://www.rit-mcsl.org/MunsellRenotation/real.dat">https://www.rit-mcsl.org/MunsellRenotation/real.dat</a>
</p>


<h3>References</h3>

<p>Judd, Deane B.
<b>The 1931 I.C.I. Standard Observer and Coordinate System for Colorimetry</b>.
Journal of the Optical Society of America.
Vol. 23. pp. 359-374.
October 1933.
</p>
<p>Newhall, Sidney M.,
Dorothy Nickerson,
Deane B. Judd.
<b>Final Report of the O.S.A. Subcommitte on the Spacing of the Munsell Colors</b>.
Journal of the Optical Society of America.
Vol. 33.  No. 7.  pp. 385-418.
July 1943.
</p>
<p>Kelly, Kenneth L.
Kasson S. Gibson.
Dorothy Nickerson.
<b>Tristimulus Specification of the Munsell Book of Color from Spectrophometric
Measurements</b>
National Bureau of Standards RP1549
Volume 31. August 1943.
</p>
<p>Judd, Deane B. and Günther Wyszecki.
<b>Extension of the Munsell Renotation System to Very Dark Colors</b>.
Journal of the Optical Society of America.
Vol. 46.  No. 4.  pp. 281-284.
April 1956.
</p>
<p>Paul Centore 2014
The Munsell and Kubelka-Munk Toolbox
<a href="https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html">https://www.munsellcolourscienceforpainters.com/MunsellAndKubelkaMunkToolbox/MunsellAndKubelkaMunkToolbox.html</a>
</p>


<h3>See Also</h3>

<p><code>MunsellToxyY()</code>,
<code>rootSolve::multiroot()</code>,
<code>microbenchmark::get_nanotime()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">xyYtoMunsell(c(0.310897, 0.306510, 74.613450))
##       xyY.1     xyY.2     xyY.3     HVC.H     HVC.V     HVC.C    SAMPLE_NAME
## 1  0.310897  0.306510 74.613450 87.541720  8.900000  2.247428   7.5P 8.9/2.2
</code></pre>


</div>