<div class="container">

<table style="width: 100%;"><tr>
<td>msTrans_dif</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multiscale delta method</h2>

<h3>Description</h3>

<p>Transforms observed data such that the changes in summary statistics of variables at custom time scales are similar to those obtained from climate model simulation. Number of functions can be used to summarize the variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">msTrans_dif(dta, model = "const", model_par = list(NULL), agg_by = month,
  wet_int_thr = 0.1, maxiter = 10, tol = 1e-04, period = c("G1", "Y1",
  "M1", "D1"), qstep = 0.001)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dta</code></td>
<td>
<p>List with components <code>FROM</code> (simulated data for the control period), <code>TO</code> (simulated data for the scenario period) and <code>NEWDATA</code> (observed data to be transformed). Each component is a <code>data.table</code> with columns <code>DTM</code> (date) and the climate variables (typically <code>PR</code> - precipitation and <code>TAS</code> - temperature)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>One of <code>loess</code>, <code>const</code>, <code>identity</code>, <code>lm</code>, <code>smooth</code>, <code>runmed</code>, <code>smooth.spline</code>. The model is used to provide statistical summary of the empirical cumulative distribution function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_par</code></td>
<td>
<p>optional parameters of the <code>model</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>agg_by</code></td>
<td>
<p>Function for specification of the period (season, month) to be additionaly included in output, see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wet_int_thr</code></td>
<td>
<p>Numeric value specifying the minimum depth to be considered wet</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>Maximum number of iterations, see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Stoping criterion of the iteration cycle, see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>period</code></td>
<td>
<p>Specification of the aggregation lengths the correction is applied at with 'D' - day(s), 'M' - month(s), 'Y' - year(s) and 'G1' - the overall mean</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>qstep</code></td>
<td>
<p>A numeric value between 0 and 1. The ecdf is calculated only for the quantiles defined by quantile(0, 1, probs = seq(0, 1, by = qstep).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>transformed data.table
</p>


<h3>References</h3>

<p>Hanel, M., Kozin, R., 2016. Bias and projected changes in climate model simulations at multiple time scales: consequences for hydrological impact assessment. Environmental Modelling and Software, submitted.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("basin_PT")
scen = basin_PT$sim_scen
ctrl = basin_PT$sim_ctrl
obs = basin_PT$obs_ctrl
dta = list(TO = scen, FROM = ctrl, NEWDATA = obs)
## Not run: 
msTrans_dif(dta,  maxiter = 10, period = 'D1')

## End(Not run)
</code></pre>


</div>