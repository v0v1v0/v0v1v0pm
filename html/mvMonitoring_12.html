<div class="container">

<table style="width: 100%;"><tr>
<td>mspSPEPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Squared Prediction Error Contribution Plots</h2>

<h3>Description</h3>

<p>Plots a variation of the squared prediction error (SPE)
statistic to visualize the contribution of each variable to a fault.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mspSPEPlot(
  trainData,
  trainLabel,
  trainSPE,
  newData,
  newLabel,
  newSPE,
  trainObs,
  var.amnt
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>trainData</code></td>
<td>
<p>an xts data matrix containing the training observations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainLabel</code></td>
<td>
<p>Class labels for the training data as a logical (two states
only) or finite numeric (two or more states) vector or matrix column (not from
a data frame) with length equal to the number of rows in â€œdata." For data with
only one state, this will be a vector of 1s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainSPE</code></td>
<td>
<p>the SPE values corresponding to the
newLabel state calculated by mspTrain using the full training data with
all variables included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newData</code></td>
<td>
<p>an xts data matrix containing the new observation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newLabel</code></td>
<td>
<p>the class label for the new observation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newSPE</code></td>
<td>
<p>the SPE value returned by mspMonitor using
the full new observation with all variables included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainObs</code></td>
<td>
<p>the number of observations upon which to train the algorithm.
This will be split based on class information by a priori class membership
proportions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.amnt</code></td>
<td>
<p>the energy proportion to preserve in the projection, which
dictates the number of principal components to keep</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Create some data
dataA1 &lt;- mspProcessData(faults = "B1")
traindataA1 &lt;- dataA1[1:8567,]

# Train on the data that should be in control
trainResults &lt;- mspTrain(traindataA1[,-1], traindataA1[,1], trainObs = 4320)


# Lag an out of control observation
testdataA1 &lt;- dataA1[8567:8568,-1]
testdataA1 &lt;- lag.xts(testdataA1,0:1)
testdataA1 &lt;- testdataA1[-1,]
testdataA1 &lt;- cbind(dataA1[8568,1],testdataA1)

# Monitor this observation
monitorResults &lt;- mspMonitor(observations = testdataA1[,-1],
                             labelVector = testdataA1[,1],
                             trainingSummary = trainResults$TrainingSpecs)


tD &lt;- traindataA1[,-1]
tL &lt;- traindataA1[,1]
nD &lt;- testdataA1[,-1]
nL &lt;- testdataA1[,1]
tO &lt;- trainObs
vA &lt;- 0.95
nSPE &lt;- monitorResults$SPE
tSPE &lt;- trainResults$TrainingSpecs[[nL]]$SPE

mspSPEPlot(tD,tL,tSPE,nD,nL,nSPE,tO,vA)

## End(Not run)
</code></pre>


</div>