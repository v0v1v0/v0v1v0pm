<div class="container">

<table style="width: 100%;"><tr>
<td>dataStateSwitch</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Alternate Observations in a Data Frame over States</h2>

<h3>Description</h3>

<p>Split single-state process observations, apply multiple state
projections, and combine these observations into a single data frame,
arranged by process time or index.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dataStateSwitch(
  df,
  angles2 = list(yaw = 0, pitch = 90, roll = 30),
  scales2 = c(1, 0.5, 2),
  angles3 = list(yaw = 90, pitch = 0, roll = -30),
  scales3 = c(0.25, 0.1, 0.75)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame returned by processNOCdata() or faultSwitch().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angles2</code></td>
<td>
<p>Change the principal angles for State 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales2</code></td>
<td>
<p>Change the principal scales for State 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angles3</code></td>
<td>
<p>Change the principal angles for State 3.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales3</code></td>
<td>
<p>Change the principal scales for State 3.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function splits a process data frame by state, and rotates and
scales the observations from states 2 and 3 by the scales and angles
specified in the function arguments. After state-specific rotation and
scaling, this function combines the observations back together and orders
them by process time index. This function takes in data frame returned by
processNOCdata() or faultSwitch(). This function calls rotateScale3D() and
is called internally by mspProcessData().
</p>


<h3>Value</h3>

<p>A data frame containing the time index, state, and feature values
after state-specific rotation and scaling; this data frame also contains
the other columns of df that aren't the feature values. This data frame has
</p>

<dl>
<dt>dateTime - </dt>
<dd>
<p>a POSIX column of the time stamps for each
observation</p>
</dd>
<dt>state - </dt>
<dd>
<p>column of state membership (1, 2, or 3)</p>
</dd>
<dt>x - </dt>
<dd>
<p>the process values for the first feature, corresponding to
t + random error</p>
</dd>
<dt>y - </dt>
<dd>
<p>the process values for the second feature, corresponding to
t ^ 2 - 3 * t + random error</p>
</dd>
<dt>z - </dt>
<dd>
<p>the process values for the third feature, corresponding to
-t ^ 3 + 3 * t ^ 2 + random error</p>
</dd>
<dt>t - </dt>
<dd>
<p>the non-stationary and autocorrelated latent feature</p>
</dd>
<dt>err1 - </dt>
<dd>
<p>a Gaussian white noise vector</p>
</dd>
<dt>err2 - </dt>
<dd>
<p>a Gaussian white noise vector</p>
</dd>
<dt>err3 - </dt>
<dd>
<p>a Gaussian white noise vector</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Calls: <code>processNOCdata</code>, <code>faultSwitch</code>,
<code>rotateScale3D</code>. Called by: <code>mspProcessData</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">nrml &lt;- processNOCdata()
dataStateSwitch(nrml)
</code></pre>


</div>