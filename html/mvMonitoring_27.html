<div class="container">

<table style="width: 100%;"><tr>
<td>threshold</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Non-parametric Threshold Estimation</h2>

<h3>Description</h3>

<p>Calculate the non-parametric critical value threshold estimates
for the SPE and T2 monitoring test statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">threshold(pca_object, alpha = 0.001, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pca_object</code></td>
<td>
<p>A list with class "pca" from the internal pca() function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The upper 1 - alpha quantile of the SPE and T2 densities from
the training data passed to this function. Defaults to 0.001.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Lazy dots for additional internal arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes in a pca object returned by the pca() function
and a threshold level defaulting to alpha = 0.1 percent of the
observations. This critical quantile is set this low to reduce false
alarms, as described in Kazor et al (2016). The function then returns a
calculated SPE threshold corresponding to the 1 - alpha critical value, a
similar T2 threshold, and the projection and Lambda Inverse (1 /
eigenvalues) matrices passed through from the pca() function call.
</p>
<p>This internal function is called by faultFilter().
</p>


<h3>Value</h3>

<p>A list with classes "threshold" and "pca" containing:
</p>

<dl>
<dt>SPE_threshold – </dt>
<dd>
<p>the 1 - alpha quantile of the estimated SPE
density</p>
</dd>
<dt>T2_threshold – </dt>
<dd>
<p>the 1 - alpha quantile of the estimated Hotelling's
T2 density</p>
</dd>
<dt>projectionMatrix – </dt>
<dd>
<p>a projection matrix from the data feature space
to the feature subspace which preserves some pre-specified proportion
of the energy of the data scatter matrix. This pre-specified energy
proportion is user supplied as the var.amnt argument in the pca()
function. See the pca() function's help file for more details.</p>
</dd>
<dt>LambdaInv – </dt>
<dd>
<p>a diagonal matrix of the reciprocal eigenvalues of the
data scatter matrix</p>
</dd>
<dt>T2 – </dt>
<dd>
<p>the vector of Hotelling's T2 test statistic values for each of the n
observations in "data"</p>
</dd>
<dt>SPE – </dt>
<dd>
<p>the vector of SPE test statistic values for each of the n
observations in "data"</p>
</dd>
</dl>
<h3>See Also</h3>

<p>Called by: <code>faultFilter</code>. This function uses a port of
the <code>quantile.density()</code> function from the now-orphaned BMS package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">nrml &lt;- mspProcessData(faults = "NOC")
scaledData &lt;- scale(nrml[,-1])
pca_obj &lt;- pca(scaledData)
threshold(pca_object = pca_obj)

</code></pre>


</div>