<div class="container">

<table style="width: 100%;"><tr>
<td>dochelp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Documentation (informal help)</h2>

<h3>Description</h3>

<p><code>dochelp(topic)</code> will be invoked by the replacement <code>help</code> if conventional <code>help</code> fails to find documentation for topic <code>topic</code>. If <code>topic</code> is an object with a <code>doc</code> attribute (or failing that if <code>&lt;&lt;topic&gt;&gt;</code> or <code>&lt;&lt;topic&gt;&gt;.doc</code> is a character vector), then the attribute (or the character object) will be formatted and displayed by the pager or browser. <code>dochelp</code> is not usually called directly.
</p>


<h3>Usage</h3>

<pre><code class="language-R"># Not usually called directly
# If it is, then normal usage is: dochelp( topic)
dochelp( topic, doc, help_type=c( "text", "html"))
# Set options( mvb_help_type="text") if the browser gives you grief
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code> topic</code></td>
<td>
<p>(character) name of the object to look for help on, or name of "...doc" character object– e.g. either <code>thing</code> or <code>thing.doc</code> if the character object is <code>thing.doc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> doc</code></td>
<td>
<p>(character or list)– normally not set, but deduced by default from <code>topic</code>; see <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code> help_type</code></td>
<td>
<p>as per <code>help</code>. Defaults to <code>getOption( "mvb_help_type")</code> in normal usage, which in turn defaults to <code>getOption( "help_type")</code> as for standard <code>help</code>. Only <code>"text"</code> and <code>"html"</code> are supported by <code>dochelp</code>; anything else maps to <code>"text"</code>, which invokes R's internal pager.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>dochelp</code> will only be called if the original <code>help</code> call was a simple <code>help( topic=X, ...)</code> form, with X not a call and with no <code>try.all.packages</code> or <code>type</code> or <code>lib.loc</code> arguments (the other <code>help</code> options are OK).
</p>
<p>The <code>doc</code> argument defaults to the <code>doc</code> attribute of <code>get("topic")</code>. The only reason to supply a non-default argument would be to use <code>dochelp</code> as a pager; this might have some value, since <code>dochelp</code> does reformat character vectors to fit nicely in the system pager window, one paragraph per element, using <code>strwrap</code>. Elements starting with a "%" symbol are not displayed.
</p>
<p>To work with <code>dochelp</code>, a <code>doc</code> attribute should be either:
</p>

<ul>
<li>
<p> a character vector, of length &gt;=1. New elements get line breaks in the pager. Or:
</p>
</li>
<li>
<p> a length-one list, containing the name of another object with a <code>doc</code> attribute. <code>dochelp</code> will then use the <code>doc</code> attribute of that object instead. This referencing can be iterated.
</p>
</li>
</ul>
<p>If the documentation is very informal, start it with a blank line to prevent <code>find.documented( ..., doctype="Rd")</code> from finding it.
</p>
<p>With <code>help_type="text"</code>, the doco will be re-formatted to fit the pager; each paragraph should be a single element in the character vector. Elements starting with a % will be dropped (but may still be useful for <code>doc2Rd</code>).
</p>
<p>With <code>help_type="html"</code>, the doco will be passed thru <code>doc2Rd</code> and then turned into HTML. <code>doc2Rd</code> is pretty forgiving and has a fair crack at converting even very informal documentation, but does have its limits. If there is an error in the <code>doc2Rd</code> conversion then <code>help_type</code> will be reset to <code>"text"</code>.
</p>
<p><code>flatdoc</code> offers an easy way to incorporate plain-text (flat-format) documentation– formal or informal– in the same text file as a function definition, allowing easy maintenance. The closer you get to the displayed appearance of formal R-style help, the nicer the results will look in a browser (assuming <code>help_type="html"</code>), but the main thing is to just write <em>some</em> documentation– the perfect is the enemy of the good in this case!
</p>


<h3>Author(s)</h3>

<p>Mark Bravington</p>


<h3>See Also</h3>

<p><code>flatdoc</code>, <code>doc2Rd</code>, <code>find.documented</code>, <code>strwrap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#
myfun &lt;- structure( function() 1,
  doc="Here is some informal documentation for myfun\n")
dochelp( "myfun")
help( "myfun") # calls dochelp
</code></pre>


</div>