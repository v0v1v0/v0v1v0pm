<div class="container">

<table style="width: 100%;"><tr>
<td>spec_curve</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Display a specification curve across the multiverse.</h2>

<h3>Description</h3>

<p><code>spec_curve</code> returns the specification curve  as
proposed by Simonsohn, Simmons, and Nelson
(2020) &lt;doi:10.1038/s41562-020-0912-z&gt;.
<code>spec_curve</code> are available for <code>mverse</code> objects fitted with
<code>lm_mverse()</code>, <code>glm_mverse()</code>, and <code>glm.nb_mverse()</code>.
Notice that the order of universes may not correspond to the order
in the summary table.
</p>


<h3>Usage</h3>

<pre><code class="language-R">spec_curve(.object, var, ...)

## S3 method for class 'lm_mverse'
spec_curve(
  .object,
  var,
  conf.int = TRUE,
  conf.level = 0.95,
  option = names(multiverse::parameters(.object)),
  universe_order = FALSE,
  color_order = FALSE,
  color = NULL,
  branch_order = NULL,
  point_size = 0.25,
  grid_size = 2,
  point_alpha = 1,
  brewer_palette = "Set2",
  yaxis_text_size = 8,
  ...
)

## S3 method for class 'glm_mverse'
spec_curve(
  .object,
  var,
  conf.int = TRUE,
  conf.level = 0.95,
  option = names(multiverse::parameters(.object)),
  universe_order = FALSE,
  color_order = FALSE,
  color = NULL,
  branch_order = NULL,
  point_size = 0.25,
  grid_size = 2,
  point_alpha = 1,
  brewer_palette = "Set2",
  yaxis_text_size = 8,
  ...
)

## S3 method for class 'glm.nb_mverse'
spec_curve(
  .object,
  var,
  conf.int = TRUE,
  conf.level = 0.95,
  option = names(multiverse::parameters(.object)),
  universe_order = FALSE,
  color_order = FALSE,
  color = NULL,
  branch_order = NULL,
  point_size = 0.25,
  grid_size = 2,
  point_alpha = 1,
  brewer_palette = "Set2",
  yaxis_text_size = 8,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.object</code></td>
<td>
<p>a <code>glm.nb_mverse</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>name for the variable to show.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>when <code>TRUE</code> (default), the estimate output
includes the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>the confidence level of the confidence interval
returned using <code>conf.int = TRUE</code>. Default value is 0.95.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>option</code></td>
<td>
<p>a vector of branches to show the options included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>universe_order</code></td>
<td>
<p>when <code>TRUE</code>, order the universes according to
the order in the summary table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_order</code></td>
<td>
<p>when <code>TRUE</code>, the estimated value will be ordered
according to the color.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>an expression to indicate how colors are assigned to markers.
By default, colors are assigned based on 'p.value &lt;= 0.05'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>branch_order</code></td>
<td>
<p>name for the branch to order.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_size</code></td>
<td>
<p>size of points on the top plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid_size</code></td>
<td>
<p>size of points on the bottom plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point_alpha</code></td>
<td>
<p>alpha level of points and point ranges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brewer_palette</code></td>
<td>
<p>name of colorbrewer palette for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yaxis_text_size</code></td>
<td>
<p>text size of y-axis label</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a specification curve plot for the estimates
</p>


<h3>Source</h3>

<p>Uri Simonsohn, Joseph P. Simmons, and Leif D. Nelson. (2020).
“Specification curve analysis” <em>Nature Human Behaviour</em>,
4, 1208–14. doi: <a href="https://doi.org/10.1038/s41562-020-0912-z">10.1038/s41562-020-0912-z</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Display a specification curve for \code{lm} models
# fitted across the multiverse.
femininity &lt;- mutate_branch(
  MasFem &gt; 6, MasFem &gt; mean(MasFem)
)
model &lt;- formula_branch(
  alldeaths ~ femininity,
  alldeaths ~ femininity + HighestWindSpeed
)
mv &lt;- mverse(hurricane) %&gt;%
  add_mutate_branch(femininity) %&gt;%
  add_formula_branch(model) %&gt;%
  lm_mverse()
spec_curve(mv, var = "femininityTRUE")
# plot based on 90% confidence interval
spec_curve(mv, var = "femininityTRUE", color = p.value &lt; .1)



# Display a specification curve for \code{glm} models
# fitted across the multiverse.
femininity &lt;- mutate_branch(
  MasFem &gt; 6, MasFem &gt; mean(MasFem)
)
model &lt;- formula_branch(
  alldeaths ~ femininity,
  alldeaths ~ femininity + HighestWindSpeed
)
fam &lt;- family_branch(gaussian)
mv &lt;- mverse(hurricane) %&gt;%
  add_mutate_branch(femininity) %&gt;%
  add_formula_branch(model) %&gt;%
  add_family_branch(fam) %&gt;%
  glm_mverse()
spec_curve(mv, var = "femininityTRUE")
# plot based on 90% confidence interval
spec_curve(mv, var = "femininityTRUE", color = p.value &lt; .1)



# Display a specification curve for \code{glm.nb} models
# fitted across the multiverse.
femininity &lt;- mutate_branch(
  MasFem &gt; 6, MasFem &gt; mean(MasFem)
)
model &lt;- formula_branch(
  alldeaths ~ femininity,
  alldeaths ~ femininity + HighestWindSpeed
)
mv &lt;- mverse(hurricane) %&gt;%
  add_mutate_branch(femininity) %&gt;%
  add_formula_branch(model) %&gt;%
  glm.nb_mverse()
spec_curve(mv, var = "femininityTRUE")
# plot based on 90% confidence interval
spec_curve(mv, var = "femininityTRUE", color = p.value &lt; .1)

</code></pre>


</div>