<div class="container">

<table style="width: 100%;"><tr>
<td>plot_mvgam_forecasts</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot mvgam posterior predictions for a specified series</h2>

<h3>Description</h3>

<p>Plot mvgam posterior predictions for a specified series
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_mvgam_fc(
  object,
  series = 1,
  newdata,
  data_test,
  realisations = FALSE,
  n_realisations = 15,
  hide_xlabels = FALSE,
  xlab,
  ylab,
  ylim,
  n_cores = 1,
  return_forecasts = FALSE,
  return_score = FALSE,
  ...
)

## S3 method for class 'mvgam_forecast'
plot(
  x,
  series = 1,
  realisations = FALSE,
  n_realisations = 15,
  hide_xlabels = FALSE,
  xlab,
  ylab,
  ylim,
  return_score = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p><code>list</code> object returned from <code>mvgam</code>. See <code>mvgam()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>series</code></td>
<td>
<p><code>integer</code> specifying which series in the set is to be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Optional <code>dataframe</code> or <code>list</code> of test data containing at least 'series' and 'time'
in addition to any other variables included in the linear predictor of the original <code>formula</code>. If included, the
covariate information in <code>newdata</code> will be used to generate forecasts from the fitted model equations. If
this same <code>newdata</code> was originally included in the call to <code>mvgam</code>, then forecasts have already been
produced by the generative model and these will simply be extracted and plotted. However if no <code>newdata</code> was
supplied to the original model call, an assumption is made that the <code>newdata</code> supplied here comes sequentially
after the data supplied as <code>data</code> in the original model (i.e. we assume there is no time gap between the last
observation of series 1 in <code>data</code> and the first observation for series 1 in <code>newdata</code>). If
<code>newdata</code> contains observations in column <code>y</code>, these observations will be used to compute a Discrete Rank
Probability Score for the forecast distribution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_test</code></td>
<td>
<p>Deprecated. Still works in place of <code>newdata</code> but users are recommended to use
<code>newdata</code> instead for more seamless integration into <code>R</code> workflows</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>realisations</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, forecast realisations are shown as a spaghetti plot,
making it easier to visualise the diversity of possible forecasts. If <code>FALSE</code>, the default,
empirical quantiles of the forecast distribution are shown</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_realisations</code></td>
<td>
<p><code>integer</code> specifying the number of posterior realisations to plot, if
<code>realisations = TRUE</code>. Ignored otherwise</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hide_xlabels</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, no xlabels are printed to allow the user to add custom labels using
<code>axis</code> from base <code>R</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label for x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label for y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Optional <code>vector</code> of y-axis limits (min, max)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_cores</code></td>
<td>
<p><code>integer</code> specifying number of cores for generating forecasts in parallel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_forecasts</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, the function will plot the forecast
as well as returning the forecast object (as a <code>matrix</code> of dimension <code>n_samples</code> x <code>horizon</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_score</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> and out of sample test data is provided as
<code>newdata</code>, a probabilistic score will be calculated and returned. The score used will depend on the
observation family from the fitted model. Discrete families (<code>poisson</code>, <code>negative binomial</code>, <code>tweedie</code>)
use the Discrete Rank Probability Score. Other families use the Continuous Rank Probability Score. The value
returned is the <code>sum</code> of all scores within the out of sample forecast horizon</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further <code>par</code> graphical parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class <code>mvgam_forecast</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>plot_mvgam_fc</code> generates posterior predictions from an object of class <code>mvgam</code>, calculates posterior
empirical quantiles and plots them against the observed data. If <code>realisations = FALSE</code>, the returned plot shows
90, 60, 40 and 20 percent posterior quantiles (as ribbons of increasingly darker shades or red)
as well as the posterior median (as a dark red line). If <code>realisations = FALSE</code>, a set of <code>n_realisations</code> posterior
draws are shown.
</p>
<p><code>plot.mvgam_forecast</code> takes an object of class <code>mvgam_forecast</code>, in which forecasts have already
been computed, and plots the resulting forecast distribution.
</p>
<p>If <code>realisations = FALSE</code>, these posterior quantiles are plotted along
with the true observed data that was used to train the model. Otherwise, a spaghetti plot is returned
to show possible forecast paths.
</p>


<h3>Value</h3>

<p>A base <code>R</code> graphics plot and an optional <code>list</code> containing the forecast distribution
and the out of sample probabilistic forecast score
</p>


</div>