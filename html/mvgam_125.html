<div class="container">

<table style="width: 100%;"><tr>
<td>pp_check.mvgam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Posterior Predictive Checks for <code>mvgam</code> Objects</h2>

<h3>Description</h3>

<p>Perform posterior predictive checks with the help
of the <span class="pkg">bayesplot</span> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mvgam'
pp_check(
  object,
  type,
  ndraws = NULL,
  prefix = c("ppc", "ppd"),
  group = NULL,
  x = NULL,
  newdata = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>mvgam</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of the ppc plot as given by a character string.
See <code>PPC</code> for an overview
of currently supported types. You may also use an invalid
type (e.g. <code>type = "xyz"</code>) to get a list of supported
types in the resulting error message.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ndraws</code></td>
<td>
<p>Positive integer indicating how many
posterior draws should be used.
If <code>NULL</code> all draws are used. If not specified,
the number of posterior draws is chosen automatically.
Ignored if <code>draw_ids</code> is not <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prefix</code></td>
<td>
<p>The prefix of the <span class="pkg">bayesplot</span> function to be applied. 
Either '"ppc"' (posterior predictive check; the default)
or '"ppd"' (posterior predictive distribution), the latter being the same
as the former except that the observed data is not shown for '"ppd"'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Optional name of a factor variable in the model
by which to stratify the ppc plot. This argument is required for
ppc <code>*_grouped</code> types and ignored otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Optional name of a variable in the model.
Only used for ppc types having an <code>x</code> argument
and ignored otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Optional <code>dataframe</code> or <code>list</code> of test data containing the
variables included in the linear predictor of <code>formula</code>. If not supplied,
predictions are generated for the original observations used for the model fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>predict.mvgam</code>
as well as to the PPC function specified in <code>type</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For a detailed explanation of each of the ppc functions,
see the <code>PPC</code>
documentation of the <span class="pkg">bayesplot</span>
package.
</p>


<h3>Value</h3>

<p>A ggplot object that can be further
customized using the <span class="pkg">ggplot2</span> package.
</p>


<h3>Author(s)</h3>

<p>Nicholas J Clark
</p>


<h3>See Also</h3>

<p><code>ppc</code> <code>predict.mvgam</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
simdat &lt;- sim_mvgam(seasonality = 'hierarchical')
mod &lt;- mvgam(y ~ series +
              s(season, bs = 'cc', k = 6) +
              s(season, series, bs = 'fs', k = 4),
            data = simdat$data_train,
            burnin = 300,
            samples = 300)

# Use pp_check(mod, type = "xyz") for a list of available plot types

# Default is a density overlay for all observations
pp_check(mod)

# Rootograms particularly useful for count data
pp_check(mod, type = "rootogram")

# Grouping plots by series is useful
pp_check(mod, type = "bars_grouped",
        group = "series", ndraws = 50)
pp_check(mod, type = "ecdf_overlay_grouped",
        group = "series", ndraws = 50)
pp_check(mod, type = "stat_freqpoly_grouped",
        group = "series", ndraws = 50)

# Custom functions accepted
prop_zero &lt;- function(x) mean(x == 0)
pp_check(mod, type = "stat", stat = "prop_zero")
pp_check(mod, type = "stat_grouped",
        stat = "prop_zero",
        group = "series")

# Some functions accept covariates to set the x-axes
pp_check(mod, x = "season",
        type = "ribbon_grouped",
        prob = 0.5,
        prob_outer = 0.8,
        group = "series")

# Many plots can be made without the observed data
pp_check(mod, prefix = "ppd")

## End(Not run)

</code></pre>


</div>