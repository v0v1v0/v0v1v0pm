<div class="container">

<table style="width: 100%;"><tr>
<td>residuals.mvgam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Posterior draws of <code>mvgam</code> residuals</h2>

<h3>Description</h3>

<p>This method extracts posterior draws of Dunn-Smyth (randomized quantile)
residuals in the order in which the data were supplied to the model. It included
additional arguments for obtaining summaries of the computed residuals
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mvgam'
residuals(object, summary = TRUE, robust = FALSE, probs = c(0.025, 0.975), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>An object of class <code>mvgam</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>Should summary statistics be returned
instead of the raw values? Default is <code>TRUE</code>..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robust</code></td>
<td>
<p>If <code>FALSE</code> (the default) the mean is used as
the measure of central tendency and the standard deviation as
the measure of variability. If <code>TRUE</code>, the median and the
median absolute deviation (MAD) are applied instead.
Only used if <code>summary</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>The percentiles to be computed by the <code>quantile</code>
function. Only used if <code>summary</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passed to <code>prepare_predictions</code>
that control several aspects of data validation and prediction.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This method gives residuals as Dunn-Smyth (randomized quantile) residuals. Any
observations that were missing (i.e. <code>NA</code>) in the original data will have missing values
in the residuals
</p>


<h3>Value</h3>

<p>An <code>array</code> of randomized quantile residual values.
If <code>summary = FALSE</code> the output resembles those of
<code>posterior_epred.mvgam</code> and <code>predict.mvgam</code>.
</p>
<p>If <code>summary = TRUE</code> the output is an <code>n_observations</code> x <code>E</code>
matrix. The number of summary statistics <code>E</code> is equal to <code>2 +
  length(probs)</code>: The <code>Estimate</code> column contains point estimates (either
mean or median depending on argument <code>robust</code>), while the
<code>Est.Error</code> column contains uncertainty estimates (either standard
deviation or median absolute deviation depending on argument
<code>robust</code>). The remaining columns starting with <code>Q</code> contain
quantile estimates as specified via argument <code>probs</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Simulate some data and fit a model
simdat &lt;- sim_mvgam(n_series = 1, trend_model = 'AR1')
mod &lt;- mvgam(y ~ s(season, bs = 'cc'),
             trend_model = AR(),
             noncentred = TRUE,
             data = simdat$data_train,
             chains = 2)

# Extract posterior residuals
resids &lt;- residuals(mod)
str(resids)

</code></pre>


</div>