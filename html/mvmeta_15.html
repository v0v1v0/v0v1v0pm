<div class="container">

<table style="width: 100%;"><tr>
<td>model.frame.mvmeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Extract Model Frame and Design Matrix from mvmeta Objects </h2>

<h3>Description</h3>

<p>These method functions return the model frame and design matrix for univariate or multivariate meta-analytical models represented in objects of class <code>"mvmeta"</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'mvmeta'
model.frame(formula, ...)

## S3 method for class 'mvmeta'
model.matrix(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object, formula </code></td>
<td>
<p> an object of class <code>"mvmeta"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>
<p> further arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The model frame is produced by <code>mvmeta</code> when fitting the meta-analytical model, and stored in the <code>mvmeta</code> object if argument <code>model=TRUE</code>. Alternatively, the model frame is directly returned by <code>mvmeta</code> with argument <code>method="model.frame"</code>. The method function <code>model.frame</code> simply extracts the saved model frame if available, or otherwise evaluates a call to <code>mvmeta</code> when <code>method="model.frame"</code>.
</p>
<p>The method function <code>model.matrix</code> extracts the design matrix from a fitted meta-analytical model. It first extract the model frame by calling <code>model.frame</code>, and then passes the call to the default method.
</p>
<p>These methods functions are similar to those provided for regression objects <code>lm</code> and <code>lm</code>.
</p>


<h3>Value</h3>

<p>For <code>model.frame</code>, a data.frame with special attributes (see the default method <code>model.frame</code>) and the additional class <code>"data.frame.mvmeta"</code>.
</p>
<p>For <code>model.matrix</code>, the design matrix used to fit the model.
</p>


<h3>Note</h3>

<p>The reason why these specific method functions are made available for class <code>mvmeta</code>, and in particular why a new class <code>"data.frame.mvmeta"</code> has been defined for model frames, lies in the special handling of missing values in multivariate meta-analysis models fitted with <code>mvmeta</code>. Methods <code>na.omit</code> and <code>na.exclude</code> for class <code>"data.frame.mvmeta"</code> are useful for properly accounting for missing values when fitting these models.
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini, <a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a></p>


<h3>See Also</h3>

<p>See the default methods <code>model.frame</code> and <code>model.matrix</code>. See <code>na.omit</code> and <code>na.exclude</code> on the handling of missing values.
See <code>mvmeta-package</code> for an overview of the package and modelling framework.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># RUN THE MODEL AND SUMMARIZE THE RESULTS
model &lt;- mvmeta(cbind(PD,AL)~pubyear,S=berkey98[5:7],data=berkey98,method="ml")

# MODEL FRAME
model$model
model.frame(model)
update(model,method="model.frame")
class(model.frame(model))

# MODEL MATRIX
model.matrix(model)
</code></pre>


</div>