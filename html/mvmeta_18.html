<div class="container">

<table style="width: 100%;"><tr>
<td>mvmeta.control</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Ancillary Parameters for Controlling the Fit in mvmeta Models </h2>

<h3>Description</h3>

<p>This internal function sets the parameter options used for fitting meta-analytical models, commonly to pre-specified default values. It is usually internally called by <code>mvmeta.fit</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mvmeta.control(optim=list(), showiter=FALSE, maxiter=100, initPsi=NULL,
  Psifix=NULL,Psicor=0, Scor=0, inputna=FALSE, inputvar=10^4, igls.iter=10, 
  hessian=FALSE, vc.adj=TRUE,reltol=sqrt(.Machine$double.eps),
  set.negeigen=sqrt(.Machine$double.eps))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>optim </code></td>
<td>
<p> list of parameters passed to the <code>control</code> argument of the function <code>optim</code>, which performs the quasi-Newton optimization in likelihood-based random-effects models. See <code>optim</code> for the list of arguments. See Details for additional info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showiter </code></td>
<td>
<p> logical. If <code>TRUE</code>, the progress of iterative optimization is shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter </code></td>
<td>
<p> positive interger value. Maximum number of iterations in methods involving optimization procedures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initPsi </code></td>
<td>
<p> either a matrix or a vector of its lower triangular elements (with diagonal, taken by column) from which starting values of the parameters of the between-study (co)variance matrix are derived, used in the optimization procedure for likelihood-based random-effects models. If <code>NULL</code> (the default, and recommended), the starting value is created internally through an iterative generalized least square algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Psifix </code></td>
<td>
<p> either a matrix or a vector of its lower triangular elements (with diagonal, taken by column) equal or proportional to the between-study (co)variance. Only used when <code>bscov="fixed"</code> or <code>bscov="prop"</code> in <code>mvmeta</code>, and, if not provided, it set internally to a 0 or identity matrix, respectively.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Psicor </code></td>
<td>
<p>  either a scalar, vector or matrix representing the between-study correlation(s) (see <code>inputcov</code>). Only used when <code>bscov="cor"</code> in <code>mvmeta</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Scor </code></td>
<td>
<p> either a scalar, vector or matrix representing the within-study correlation(s) to be inputted when the covariances are not provided, and ignored if they are (see <code>inputcov</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputna </code></td>
<td>
<p> logical. If missing values must be internally inputted. To be used with caution, see <code>inputna</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputvar </code></td>
<td>
<p> multiplier for inputting the missing variances, to be passed as an argument to <code>inputna</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>igls.iter </code></td>
<td>
<p> number of iteration of the iterative generalized least square algorithm to be run in the hybrid optimization procedure of linkelihood-based models to provide the starting value. See <code>iter.igls</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hessian </code></td>
<td>
<p> logical. If <code>TRUE</code>, the Hessian matrix of the parameters estimated in the optimization process is computed and returned. Only applicable to likelihood-based estimation methods. For details, see the info provided in the help pages of the <code>optimizations algorithms</code> and <code>(co)variance structure</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vc.adj </code></td>
<td>
<p> logical. If <code>TRUE</code>, an adjustement to the way the marginal variance part is computed in the variance components estimator is applied. See <code>mvmeta.vc</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reltol </code></td>
<td>
<p> relative convergence tolerance in methods involving optimization procedures. The algorithm stops if it is unable to reduce the value by a factor of <code>reltol * (abs(val) + reltol)</code> at a step.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>set.negeigen </code></td>
<td>
<p> positive value. Value to which negative eigenvalues are to be set in estimators where such method is used to force positive semi-definiteness of the estimated between-study (co)variance matrix.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The control argument of <code>mvmeta</code> is by default passed to <code>mvmeta.fit</code>, which uses its elements as arguments of <code>mvmeta.control</code>.
</p>
<p>Many arguments refer to specific fitting procedures. Refer to the help page of the related estimator for details.
</p>
<p>The function automatically sets non-default values for some control arguments for <code>optim</code>, unless explicitly set in the list passed to it. Specifically, the function selects <code>fnscale=-1</code>, <code>maxit=maxiter</code> and <code>reltol=reltol</code>, where the latter two are specified by other arguments of this function.
</p>
<p>The function is expected to be extended and/or modified at every release of the package <span class="pkg">mvmeta</span>.
</p>


<h3>Value</h3>

<p>A list with components named as the arguments.
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini, <a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a></p>


<h3>References</h3>

<p>Sera F, Armstrong B, Blangiardo M, Gasparrini A (2019). An extended mixed-effects framework for meta-analysis.<em>Statistics in Medicine</em>. 2019;38(29):5429-5444. [Freely available <a href="http://www.ag-myresearch.com/2019_sera_statmed.html"><b>here</b></a>].
</p>
<p>Gasparrini A, Armstrong B, Kenward MG (2012). Multivariate meta-analysis for non-linear and other multi-parameter associations. <em>Statistics in Medicine</em>. <b>31</b>(29):3821â€“3839. [Freely available <a href="http://www.ag-myresearch.com/2012_gasparrini_statmed.html"><b>here</b></a>].
</p>


<h3>See Also</h3>

 
<p>See <code>mvmeta</code>. See also <code>glm.control</code>. See the help pages of the related fitting functions for details on each parameter. See <code>mvmeta-package</code> for an overview of this modelling framework.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># PRINT THE ITERATIONS (SEE ?optim) AND CHANGE THE DEFAULT FOR STARTING VALUES
model &lt;- mvmeta(cbind(PD,AL)~pubyear,S=berkey98[5:7],data=berkey98,
  control=list(showiter=TRUE,igls.iter=20))
  
# INPUT THE CORRELATION
model &lt;- mvmeta(cbind(y1,y2),S=cbind(V1,V2),data=p53,control=list(Scor=0.5))
</code></pre>


</div>