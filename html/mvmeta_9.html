<div class="container">

<table style="width: 100%;"><tr>
<td>inputcov</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Input (Co)Variance Matrices </h2>

<h3>Description</h3>

<p>This function inputs (co)variance matrices of a set of outcomes given the corresponding standard deviation and correlation values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">inputcov(sd, cor=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sd </code></td>
<td>
<p> a <code class="reqn">m \times k</code> matrix of standard deviations for <code class="reqn">k</code> outcomes in <code class="reqn">m</code> matrices, or a vector for <code class="reqn">k</code> outcomes in a single matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor </code></td>
<td>
<p> either a vector of length 1, <code class="reqn">m</code> or <code class="reqn">k(k-1)/2</code>, or alternatively a <code class="reqn">k \times k</code> or <code class="reqn">m \times k(k-1)/2</code> matrix. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Depending the number of outcomes <code class="reqn">k</code> and matrices <code class="reqn">m</code>, the argument <code>cor</code> is interpreted as:
</p>

<ul>
<li>
<p> if a vector of length 1 (a scalar), the same correlation for all the <code class="reqn">k</code> outcomes for all the <code class="reqn">m</code> matrices;
</p>
</li>
<li>
<p> if a vector of length <code class="reqn">m</code>, the same correlation for all the <code class="reqn">k</code> outcomes for each of the <code class="reqn">m</code> matrices;
</p>
</li>
<li>
<p> if a vector of length <code class="reqn">k(k-1)/2</code>, the lower triangular elements (without diagonal, taken by column) of the correlation matrix of the <code class="reqn">k</code> outcomes, the same for all the <code class="reqn">m</code> matrices;
</p>
</li>
<li>
<p> if a <code class="reqn">k \times k</code> matrix, the correlation matrix for the single matrix (only when <code class="reqn">m</code>=1);
</p>
</li>
<li>
<p> if a <code class="reqn">m \times k(k-1)/2</code> matrix, each row represents the lower triangular elements (without diagonal, taken by column) of the correlation matrix of the <code class="reqn">k</code> outcomes for each of the <code class="reqn">m</code> matrices.
</p>
</li>
</ul>
<h3>Value</h3>

<p>For a single matrix, the (co)variance matrix itself. For multiple matrices, a <code class="reqn">m \times k(k+1)/2</code> matrix, where each row represents the vectorized entries of the lower triangle (with diagonal, taken by column) of the related (co)variance matrix (see <code>vechMat</code>).
</p>


<h3>Note</h3>

<p>This function is imported from the package <span class="pkg">mixmeta</span>. It is called internally by <code>mvmeta</code> for multivariate models to input the correlation(s) when only the within-unit variances are provided through the argument <code>S</code>. In this case, the correlation values are set through the argument <code>Scor</code> in the control list (see <code>mvmeta.control</code>).
</p>


<h3>Author(s)</h3>

<p>Antonio Gasparrini &lt;<a href="mailto:antonio.gasparrini@lshtm.ac.uk">antonio.gasparrini@lshtm.ac.uk</a>&gt;</p>


<h3>See Also</h3>

<p>See <code>xpndMat</code>. See <code>mvmeta.control</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># SOME RANDOM SD FOR A SINGLE MATRIX, WITH CONSTANT CORRELATION
(M &lt;- inputcov(runif(4, 0.1, 3), 0.7))
# CHECK CORRELATION
cov2cor(M)

# NOW WITH A MORE COMPLEX CORRELATION STRUCTURE
(M &lt;- inputcov(runif(3, 0.1, 3), c(0.7,0.2,0.4)))
cov2cor(M)

# MULTIPLE MATRICES
(V &lt;- matrix(runif(5*3, 0.1, 3), 5, 3,
  dimnames=list(1:5, paste("V", 1:3, sep=""))))
inputcov(V, 0.6)

# WITH REAL DATA WHEN CORRELATIONS AVAILABLE
hyp
(S &lt;- inputcov(hyp[c("sbp_se","dbp_se")], cor=hyp$rho))
# CHECK FIRST STUDY
cov2cor(xpndMat(S[1,]))

# USED INTERNALLY IN mvmeta
p53
inputcov(sqrt(p53[c("V1","V2")]), 0.5)
model &lt;- mvmeta(cbind(y1,y2), S=cbind(V1,V2), data=p53, control=list(Scor=0.5))
model$S
</code></pre>


</div>