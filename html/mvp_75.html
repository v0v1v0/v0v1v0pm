<div class="container">

<table style="width: 100%;"><tr>
<td>subs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Substitution</h2>

<h3>Description</h3>

<p>Substitute symbols in an <code>mvp</code> object for numbers or other
multivariate polynomials
</p>


<h3>Usage</h3>

<pre><code class="language-R">subs(S, ..., lose = TRUE)
subsy(S, ..., lose = TRUE)
subvec(S, ...)
subsmvp(S,v,X)
varchange(S,...)
varchange_formal(S,old,new)
namechanger(x,old,new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>S,X</code></td>
<td>
<p>Multivariate polynomials</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>named arguments corresponding to variables to substitute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lose</code></td>
<td>
<p>Boolean with default <code>TRUE</code> meaning to return a
scalar (the constant) in place of a constant <code>mvp</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>v</code></td>
<td>
<p>A string corresponding to the variable to substitute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>old,new,x</code></td>
<td>
<p>The old and new variable names respectively; <code>x</code>
is a character vector</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function <code>subs()</code> substitutes variables for <code>mvp</code> objects,
using a natural R idiom.  Observe that this type of substitution is
sensitive to order:
</p>
<pre>
&gt; p &lt;- as.mvp("a b^2")
&gt; subs(p,a="b",b="x")
mvp object algebraically equal to
x^3
&gt; subs(p,b="x",a="b")  # same arguments, different order
mvp object algebraically equal to
b x^2
</pre>
<p>Functions <code>subsy()</code> and <code>subsmvp()</code> are lower-level functions,
not really intended for the end-user.  Function <code>subsy()</code>
substitutes variables for numeric values (order matters if a variable is
substituted more than once).  Function <code>subsmpv()</code> takes a
<code>mvp</code> object and substitutes another <code>mvp</code> object for a
specific symbol.
</p>
<p>Function <code>subvec()</code> substitutes the symbols of <code>S</code> with
numerical values.  It is vectorised in its ellipsis arguments with
recycling rules and names behaviour inherited from <code>cbind()</code>.
However, if the first element of <code>...</code> is a matrix, then this is
interpreted by rows, with symbol names given by the matrix column names;
further arguments are ignored.  Unlike <code>subs()</code>, this function is
generally only useful if all symbols are given a value; unassigned
symbols take a value of zero.
</p>
<p>Function <code>varchange()</code> makes a <em>formal</em> variable substitution.
It is useful because it can take non-standard variable names such as
“<code>(a-b)</code>” or “<code>?</code>”, and is used in
<code>taylor()</code>.  Function <code>varchange_formal()</code> does the same task,
but takes two character vectors, <code>old</code> and <code>new</code>, which might
be more convenient than passing named arguments.  Remember that
non-standard names might need to be quoted; also you might need to
escape some characters, see the examples.  Function <code>namechanger()</code>
is a low-level helper function that uses regular expression idiom to
substitute variable names.
</p>


<h3>Value</h3>

<p>Functions <code>subs()</code>, <code>subsy()</code> and <code>subsmvp()</code> return a
multivariate polynomial unless <code>lose</code> is <code>TRUE</code> in which
case a length one numeric vector is returned.  Function
<code>subvec()</code> returns a numeric vector (sic! the output inherits its
order from the arguments).
</p>


<h3>Author(s)</h3>

<p>Robin K. S. Hankin</p>


<h3>See Also</h3>

<p><code>lose</code></p>


<h3>Examples</h3>

<pre><code class="language-R">p &lt;- rmvp(6,2,2,letters[1:3])
p
subs(p,a=1)
subs(p,a=1,b=2)

subs(p,a="1+b x^3",b="1-y")
subs(p,a=1,b=2,c=3,lose=FALSE)

do.call(subs,c(list(as.mvp("z")),rep(c(z="C+z^2"),5)))

subvec(p,a=1,b=2,c=1:5)   # supply a named list of vectors

M &lt;- matrix(sample(1:3,26*3,replace=TRUE),ncol=26)
colnames(M) &lt;- letters
rownames(M) &lt;- c("Huey", "Dewie", "Louie")
subvec(kahle(r=3,p=1:3),M)  # supply a matrix

varchange(as.mvp("1+x+xy + x*y"),x="newx") # variable xy unchanged

kahle(5,3,1:3) %&gt;% subs(a="a + delta")

varchange(p,a="]")  # nonstandard variable names OK

varchange_formal(p,"\\]","a")

</code></pre>


</div>