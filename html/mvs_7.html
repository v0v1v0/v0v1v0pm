<div class="container">

<table style="width: 100%;"><tr>
<td>MVS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multi-View Stacking</h2>

<h3>Description</h3>

<p>Fit a multi-view stacking model with two or more levels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">MVS(
  x,
  y,
  views,
  type = "StaPLR",
  levels = 2,
  alphas = c(0, 1),
  nnc = c(0, 1),
  parallel = FALSE,
  seeds = NULL,
  progress = TRUE,
  relax = FALSE,
  adaptive = FALSE,
  na.action = "fail",
  na.arguments = NULL,
  ...
)

mvs(
  x,
  y,
  views,
  type = "StaPLR",
  levels = 2,
  alphas = c(0, 1),
  nnc = c(0, 1),
  parallel = FALSE,
  seeds = NULL,
  progress = TRUE,
  relax = FALSE,
  adaptive = FALSE,
  na.action = "fail",
  na.arguments = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>input matrix of dimension nobs x nvars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>outcome vector of length nobs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>views</code></td>
<td>
<p>a matrix of dimension nvars x (levels - 1), where each entry is an integer describing to which view each feature corresponds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>the type of MVS model to be fitted. Currently only type "StaPLR" is supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>an integer &gt;= 2, specifying the number of levels in the MVS procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphas</code></td>
<td>
<p>a numeric vector of length <code>levels</code> specifying the value of the alpha parameter to use at each level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nnc</code></td>
<td>
<p>a binary vector specifying whether to apply nonnegativity constraints or not (1/0) at each level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>whether to use foreach to fit the learners and obtain the cross-validated predictions at each level in parallel. Executes sequentially unless a parallel back-end is registered beforehand.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seeds</code></td>
<td>
<p>(optional) a vector specifying the seed to use at each level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>progress</code></td>
<td>
<p>whether to show a progress bar (only supported when parallel = FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>relax</code></td>
<td>
<p>either a logical vector of length <code>levels</code> specifying whether model relaxation (e.g. the relaxed lasso) should be employed at each level, or a single TRUE or FALSE to enable or disable relaxing across all levels. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adaptive</code></td>
<td>
<p>either a logical vector of length <code>levels</code> specifying whether adaptive weights (e.g. the adaptive lasso) should be employed at each level, or a single TRUE or FALSE to enable or disable adaptive weights across all levels. Note that using adaptive weights is generally only sensible if alpha &gt; 0. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.action</code></td>
<td>
<p>character specifying what to do with missing values (NA). Options are "pass", "fail", "mean", "mice", and "missForest". Options "mice" and "missForest" requires the respective R package to be installed. Defaults to "fail".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.arguments</code></td>
<td>
<p>(optional) a named list of arguments to pass to the imputation function (e.g. to <code>mice</code> or <code>missForest</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to pass to the learning algorithm. See e.g. ?StaPLR. Note that these arguments are passed to the the learner at every level of the MVS procedure.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of S3 class "MVS".
</p>


<h3>Author(s)</h3>

<p>Wouter van Loon &lt;w.s.van.loon@fsw.leidenuniv.nl&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"> 
set.seed(012)
n &lt;- 1000
X &lt;- matrix(rnorm(8500), nrow=n, ncol=85)
beta &lt;- c(rep(10, 55), rep(0, 30)) * ((rbinom(85, 1, 0.5)*2)-1)
eta &lt;- X %*% beta
p &lt;- 1 /(1 + exp(-eta))
y &lt;- rbinom(n, 1, p)

## 2-level MVS
views &lt;- c(rep(1,45), rep(2,20), rep(3,20))
fit &lt;- MVS(x=X, y=y, views=views)

## 3-level MVS
bottom_level &lt;- c(rep(1:3, each=15), rep(4:5, each=10), rep(6:9, each=5))
top_level &lt;- c(rep(1,45), rep(2,20), rep(3,20))
views &lt;- cbind(bottom_level, top_level)
fit &lt;- MVS(x=X, y=y, views=views, levels=3, alphas=c(0,1,1), nnc=c(0,1,1))
coefficients &lt;- coef(fit)

new_X &lt;- matrix(rnorm(2*85), nrow=2)
predict(fit, new_X)
</code></pre>


</div>