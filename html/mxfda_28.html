<div class="container">

<table style="width: 100%;"><tr>
<td>make_mxfda</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make mxFDA class object</h2>

<h3>Description</h3>

<p>Used to create an object of class <code>mxFDA</code> that can be used with the mxfda package for functional data analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">make_mxfda(metadata, spatial = NULL, subject_key, sample_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>metadata</code></td>
<td>
<p>metadata with columns <code>subject_key</code> and <code>sample_key</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spatial</code></td>
<td>
<p>spatial information, either list or df, with column <code>sample_key</code>. <code>Spatial</code> can be empty if inputting data already derived. See <code>add_summary_function()</code> for more details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subject_key</code></td>
<td>
<p>column name in <code>Metadata</code> for subject ID</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_key</code></td>
<td>
<p>column linking <code>Metadata</code> to <code>Spatial</code> data</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt="[Stable]"></a>
</p>


<h3>Value</h3>

<p>S4 object of class <code>mxFDA</code>
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Metadata</code></td>
<td>
<p>slot of class <code>data.frame</code> that contains sample and subject level information</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Spatial</code></td>
<td>
<p>slot of class <code>data.frame</code> that contains point level information within samples. An example would be cells belonging to TMA cores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subject_key</code></td>
<td>
<p>slot of class <code>character</code> that corresponds to a column in the <code>Metadata</code> slot that groups samples at a subject level. An example would be "<em>patient_id</em>"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_key</code></td>
<td>
<p>slot of class <code>character</code> that corresponds to a column both in the <code>Metadata</code> and <code>Spatial</code> slots that links samples to characteristics</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>univariate_summaries</code></td>
<td>
<p>slot of class <code>list</code> where univariate summary functions calculated on <code>Spatial</code> would be stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bivariate_summaries</code></td>
<td>
<p>slot of class <code>list</code> where bivariate summary functions calculated on <code>Spatial</code> would be stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiivariate_summaries</code></td>
<td>
<p>slot of class <code>list</code> where entropy summary functions calculated on <code>Spatial</code> would be stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functional_pca</code></td>
<td>
<p>slot of class <code>list</code> where FPCA results are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functional_mpca</code></td>
<td>
<p>slot of class <code>list</code> where MFPCA results are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functional_cox</code></td>
<td>
<p>slot of class <code>list</code> where functional cox model results are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functional_mcox</code></td>
<td>
<p>slot of class <code>list</code> where mixed functional cox model results are stored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalar_on_function</code></td>
<td>
<p>slot of class <code>list</code> where functional models are fit to scalar responses</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Alex Soupir <a href="mailto:alex.soupir@moffitt.org">alex.soupir@moffitt.org</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#select sample metadata
clinical = lung_df %&gt;%
  dplyr::select(image_id, patient_id, patientImage_id,
                gender, age, survival_days, survival_status, stage) %&gt;%
  dplyr::distinct()
#select the spatial information
spatial = lung_df %&gt;%
  dplyr::select(-image_id, -gender, -age, -survival_days, -survival_status, -stage)
sample_id_column = "patientImage_id"
#create the mxFDA object
mxFDAobject = make_mxfda(metadata = clinical,
                         spatial = spatial,
                         subject_key = "patient_id",
                         sample_key = sample_id_column)

</code></pre>


</div>