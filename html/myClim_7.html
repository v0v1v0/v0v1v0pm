<div class="container">

<table style="width: 100%;"><tr>
<td>mc_calc_snow</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Snow detection from temperature</h2>

<h3>Description</h3>

<p>This function creates a new virtual sensor on locality within the myClim data object.
Virtual sensor hosts values of snow cover presence/absence detected from temperature time-series.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc_calc_snow(
  data,
  sensor,
  output_sensor = "snow",
  localities = NULL,
  range = 1,
  tmax = 1.25,
  days = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>cleaned myClim object see myClim-package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sensor</code></td>
<td>
<p>name of temperature sensor used for snow estimation. (e.g. TMS_T2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_sensor</code></td>
<td>
<p>name of output snow sensor (default "snow")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>localities</code></td>
<td>
<p>list of locality_ids where snow will be calculated; if NULL then all (default NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>maximum temperature range threshold for snow-covered sensor (default 1°C)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>
<p>maximum temperature threshold for snow-covered sensor  (default 1.25°C)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>days</code></td>
<td>
<p>number of days to be used for moving-window for snow detection algorithm (default 3 days)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function detects snow cover from temperature time-series. Temperature sensor is considered as covered by snow
when the maximal temperature in the preceding or subsequent time-window (specified by <code>days</code> param)
does not exceed specific <code>tmax</code> threshold value (default 1.25°C) and the temperature range remain below specified
<code>range</code> threshold (default 1°C). This function rely on insulating effect of a of snow layer,
significantly reducing diurnal temperature variation and restricting the maximal temperature near the ground
close to freezing point. Temperature sensor near the ground (<code>TMS_T2</code>) is default choice for snow-cover detection from Tomst TMS loggers.
Snow detection with default values accurately detects snow of depth &gt; 15cm (unpublished data).
For detection of thin snow, range parameter should be set to 3-4 °C.
The function returns vector of snow cover (TRUE/FLASE) with same time-step as input data. To get number of days with snow cover
and more snow summary characteristics use mc_calc_snow_agg after snow detection.
</p>


<h3>Value</h3>

<p>myClim object with added virtual sensor 'snow' (logical) indicating snow presence/absence (TRUE/FALSE).
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- mc_calc_snow(mc_data_example_agg, "TMS_T2", output_sensor="TMS_T2_snow",
                     localities = c("A2E32", "A6W79"))
</code></pre>


</div>