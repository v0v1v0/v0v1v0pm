<div class="container">

<table style="width: 100%;"><tr>
<td>mc_prep_crop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Crop datetime</h2>

<h3>Description</h3>

<p>This function crop data by datetime
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc_prep_crop(
  data,
  start = NULL,
  end = NULL,
  localities = NULL,
  end_included = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>myClim object see myClim-package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>optional; POSIXct datetime <strong>in UTC</strong>; single value or vector; start datetime is included (default NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end</code></td>
<td>
<p>optional, POSIXct datetime <strong>in UTC</strong>; single value or vector (default NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>localities</code></td>
<td>
<p>vector of locality_ids to be cropped; if NULL then all localities are cropped (default NULL)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>end_included</code></td>
<td>
<p>if TRUE then end datetime is included (default TRUE), see details</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Function is able to crop data from <code>start</code> to <code>end</code> but works also
with <code>start</code> only and <code>end</code> only. When only <code>start</code> is provided, then function crops only
the beginning of the tim-series and vice versa with end.
</p>
<p>If <code>start</code> or <code>end</code> is a single POSIXct value, it is used for all or selected localities (regular crop).
However, if <code>start</code> and <code>end</code> are vectors of POSIXct values with the same length as the localities vector,
each locality is cropped by its own time window (irregular crop).
</p>
<p>The <code>end_included</code> parameter is used for selecting, whether to return data which contains <code>end</code>
time or not. For example when cropping the data to rounded days, typically users use midnight.
2023-06-15 00:00:00 UTC. But midnight is the last date of ending day and the same
time first date of the next day. Thus, there will be the last day with single record.
This can be confusing in aggregation (e.g. daily mean of single record per day, typically NA) so
sometimes it is better to exclude end and crop on 2023-06-14 23:45:00 UTC (15 minutes records).
</p>


<h3>Value</h3>

<p>cropped data in the same myClim format as input.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cropped_data &lt;- mc_prep_crop(mc_data_example_clean, end=as.POSIXct("2020-02-01", tz="UTC"))
</code></pre>


</div>