<div class="container">

<table style="width: 100%;"><tr>
<td>mc_prep_meta_locality</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set metadata of localities</h2>

<h3>Description</h3>

<p>This function allows you to add or modify locality metadata including
locality names. See mc_LocalityMetadata.
You can import metadata from named list or from data frame. See details.
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc_prep_meta_locality(data, values, param_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>myClim object see myClim-package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>for localities can be named list or table
</p>

<ul>
<li>
<p> named list: <code>metadata &lt;- list(locality_id=value)</code>; <code>param_name</code> must be set
</p>
</li>
<li>
<p> table with column <code>locality_id</code> and another columns named by metadata parameter name;
to rename locality use <code>new_locality_id</code>. Parameter <code>param_name</code> must be NULL.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>param_name</code></td>
<td>
<p>name of locality metadata parameter; Default names are <code>locality_id</code>, <code>elevation</code>, <code>lat_wgs84</code>, <code>lon_wgs84</code>, <code>tz_offset</code>.
Another names are inserted to <code>user_data</code> list. see mc_LocalityMetadata</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Locality metadata is critical e.g. for correctly handling time zones.
By providing geographic coordinates in locality metadata, the user can later harmonize all data to the local solar time (midday) #' with <code>mc_prep_solar_tz()</code> or calculate temporal offset to the UTC base on local time-zone.
Alternatively, the user can directly provide the offset (in minutes) for individual localities. This can be useful especially
for heterogeneous data sets containing various localities with loggers recording in local time. By providing temporal offset for #' each locality separately, you can unify the whole dataset to UTC.
Note that when tz_offset is set manually, than tz_type is set to <code style="white-space: pre;">⁠user defined⁠</code>.
</p>
<p>For minor metadata modification it is practical to use named list in combination
with <code>param_name</code> specification. E.g. when you wish to modify only time zone offset,
then set <code>param_name="tz_offset"</code> and provide named list with locality name and
offset value <code>list(A1E05=60)</code>.
Similarly, you can modify other metadata slots mc_LocalityMetadata.
</p>
<p>For batch or generally more complex metadata modification you can provide data.frame
with columns specifying <code>locality_id</code> and one of <code style="white-space: pre;">⁠new_locality_id, elevation, lat_wgs84, lon_wgs84, tz_offset⁠</code>.
Provide locality_id (name) and the value in column of metadata you wish to update.
In case of using data.frame use <code>param_name = NULL</code>
</p>


<h3>Value</h3>

<p>myClim object in the same format as input, with updated metadata
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- mc_prep_meta_locality(mc_data_example_raw, list(A1E05=60), param_name="tz_offset")
</code></pre>


</div>