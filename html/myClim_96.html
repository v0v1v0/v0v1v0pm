<div class="container">

<table style="width: 100%;"><tr>
<td>mc_read_files</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reading files or directories</h2>

<h3>Description</h3>

<p>This function read one or more CSV/TXT files or directories of identical,
pre-defined logger type (format) see mc_DataFormat and mc_data_formats.
This function does not support loading locality or sensor metadata while reading.
Metadata can be loaded through <code>mc_read_data()</code> or
can be provided later with function <code>mc_prep_meta_locality()</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">mc_read_files(
  paths,
  dataformat_name,
  logger_type = NA_character_,
  recursive = TRUE,
  date_format = NA_character_,
  tz_offset = NA_integer_,
  step = NA_integer_,
  clean = TRUE,
  silent = FALSE,
  user_data_formats = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>paths</code></td>
<td>
<p>vector of paths to files or directories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataformat_name</code></td>
<td>
<p>data format of logger; one of <code>names(mc_data_formats)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logger_type</code></td>
<td>
<p>type of logger (default NA), can be one of
pre-defined see <code>mc_read_data()</code> or any custom string</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>recursive search in sub-directories (default TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_format</code></td>
<td>
<p>format of date in your hobo files e.g. "%d.%m.%y %H:%M:%S" (default NA).
Required for HOBO files. For TMS files ignored, there is known, stable date format. see mc_data_formats</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tz_offset</code></td>
<td>
<p>timezone offset in minutes; It is required only for non-UTC data
(custom settings in HOBO). Not used in TMS (default NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>step</code></td>
<td>
<p>time step of microclimatic time-series in seconds. When provided, then is used in
mc_prep_clean instead of automatic step detection. See details.
If not provided (NA), is automatically detected in mc_prep_clean. (default NA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean</code></td>
<td>
<p>if TRUE, then mc_prep_clean is called automatically while reading (default TRUE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>
<p>if TRUE, then any information is not printed in console (default FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user_data_formats</code></td>
<td>
<p>custom data formats; use in case you have your own logger
files not pre-defined in myClim  - list(key=mc_DataFormat) mc_DataFormat (default NULL)
</p>
<p>If custom data format is defined the key can be used in data_format parameter in <code>mc_read_files()</code>
and <code>mc_read_data()</code>. Custom data format must be defined first, and then an be used for reading.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If file is not in expected format, then file is skipped and warning printed in console.
CSV/TXT files (loggers raw data) are in resulting myClim object placed to separate
localities with empty metadata. Localities are named after serial_number of logger.
Pre-defined logger types are ("Dendro","HOBO","Thermo","TMS","TMS_L45")
</p>
<p>By default, data are cleaned with the function mc_prep_clean see function description.
mc_prep_clean detects gaps in time-series data,
duplicated records, or records in the wrong order. Importantly, mc_prep_clean
also applies a <strong>step parameter</strong> if provided. The step parameter can be used either
instead of automatic step detection which can sometime failed, or to prune
microclimatic data. For example, if you have a 15-minute time series but you wish to
keep only one record per hour (without aggregating), you can use step parameter.
However, if a step is provided and <code>clean = FALSE</code>, then the step is only stored in the
metadata of myClim, and the time-series data is not cleaned, and the step is not applied.
</p>


<h3>Value</h3>

<p>myClim object in Raw-format see myClim-package
</p>


<h3>See Also</h3>

<p>mc_DataFormat, <code>mc_prep_clean()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">files &lt;- c(system.file("extdata", "data_91184101_0.csv", package = "myClim"),
           system.file("extdata", "data_94184102_0.csv", package = "myClim"))
tomst_data &lt;- mc_read_files(files, "TOMST")
# user_data_formats
files &lt;- system.file("extdata", "TMS94184102.csv", package = "myClim")
user_data_formats &lt;- list(my_logger=new("mc_DataFormat"))
user_data_formats$my_logger@date_column &lt;- 2
user_data_formats$my_logger@date_format &lt;- "%Y-%m-%d %H:%M:%S"
user_data_formats$my_logger@tz_offset &lt;- 0
user_data_formats$my_logger@columns[[mc_const_SENSOR_T_C]] &lt;- c(3, 4, 5)
user_data_formats$my_logger@columns[[mc_const_SENSOR_real]] &lt;- 6
my_data &lt;- mc_read_files(files, "my_logger", silent=TRUE, user_data_formats=user_data_formats)
</code></pre>


</div>