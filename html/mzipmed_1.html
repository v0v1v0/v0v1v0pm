<div class="container">

<table style="width: 100%;"><tr>
<td>binoutzimed</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mediation Analysis for Zero-Inflated Count Mediators using MZIP (Binary or Count Outcome)</h2>

<h3>Description</h3>

<p>This function incorporates the MZIP model into the counterfactual approach to mediation analysis
as proposed by Vanderweele when the mediator is a Zero-Inflated count variable for cases with
binary or count outcome using a Poisson regression with robust standard errors. Standard Errors for
direct and indirect effects are computed using delta method or bootstrapping. Note: This function
assumes that the outcome is continuous and all exposure, mediator, outcome, and confounder variables
have the same sample size. Binary variables must be dummy coded prior.
A Poisson regression with robust standard errors were used to obtain direct and indirect
effect estimates on a risk ratio scale because odds ratios are a non-collapsible measure which
can cause issues in a mediation framework (see Vanderweele 2016). A logistic-regression can be
specified for rare outcomes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">binoutzimed(
  outcome,
  mediator,
  exposure,
  confounder = NULL,
  C = NULL,
  n = 1000,
  X = 1,
  Xstar = 0,
  error = "Delta",
  robust = FALSE,
  zioff = NULL,
  rare = FALSE,
  OFF = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>is the binary or count outcome variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mediator</code></td>
<td>
<p>is the zero-inflated mediator variable, currently only 1 mediator variable is allowed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure</code></td>
<td>
<p>is the primary exposure being considered, only 1 is allowed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confounder</code></td>
<td>
<p>is a vector of confounder variables. If no confounder variables are needed then confounder is set to NULL. If more than 1 confounder is being considered then use the cbind function, e.g. cbind(var1,var2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>C</code></td>
<td>
<p>is a vector for theoretical values of each confounder. By default each each value of C will be the mean value of each confounder.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>is the number of repetition if bootstrapped errors are used. Default is 1000</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>is the theoretical value for the exposure variable to be set at. The default is to 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xstar</code></td>
<td>
<p>is the theoretical value for the exposure variable to be compared to X. The default is 0, so direct, indirect, and proportion mediated values will be for a 1 unit increase in the exposure variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>='Delta' for delta method standard errors and ='Boot' for bootstrap. Default is delta method</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robust</code></td>
<td>
<p>indicates if a robust covariance matrix should be used for MZIP in delta method derivations. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zioff</code></td>
<td>
<p>(optional) use to specify an offset variable within the MZIP mediator model. Note: Mediator/Offset is used in the outcome model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rare</code></td>
<td>
<p>set to TRUE of the outcome is rare and a logistic-regression should be used instead. Default is FALSE using robust Poisson model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>OFF</code></td>
<td>
<p>is an offset is specified a fixed value of the offset variable is required for computation of effects. By default the mean is used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The function will return a list of 12 elements.
GLM is the results of regressing the mediator+exposure+confounder on the outcome using a Poisson model with robust standard errors <br>
MZIP is the results of regressing the exposure and confounders on the mediator using the MZIP model <br>
RRNDE is the risk ratio of the direct effect <br>
RRNIE is the risk ratio of the indirect effect. <br>
logRRNDEse is the standard error for the log risk ratio of NDE <br>
RRNDEci is the 95% confidence interval for the direct effect risk ratio<br>
logRRNIEse is the standard error for  the indirect effect log risk ratio <br>
RRNIEci is the 95% confidence interval for the indirect effect risk ratio <br>
RRTE is the total effect risk ratio <br>
logRRTEse is the standard error for the total effect log risk ratio<br>
RRTECI is the confidence interval for the total effect risk ratio <br>
PM is the proportion mediated
</p>


<h3>Examples</h3>

<pre><code class="language-R">    #Example with delta method
    zimed=binoutzimed(outcome=mzipmed_data$binY,mediator=mzipmed_data$ziM,
                     exposure=mzipmed_data$X,confounder=cbind(mzipmed_data$C1,
                     mzipmed_data$C2),error="Delta",robust=FALSE,X=1,Xstar=0,
                     zioff=NULL,OFF=NULL,rare=FALSE)

    #Example using bootstrapping, 10 iterations are used for succinctness
    zimed2=binoutzimed(outcome=mzipmed_data$binY,mediator=mzipmed_data$ziM,
                   exposure=mzipmed_data$X,confounder=cbind(mzipmed_data$C1,
                   mzipmed_data$C2),error="Boot",n=10,C=c(0,0.5))
</code></pre>


</div>